function $W(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var zW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function WW(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var F2={exports:{}},tm={},B2={exports:{}},$r={};var oE;function qW(){if(oE)return $r;oE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(ae){return ae===null||typeof ae!="object"?null:(ae=h&&ae[h]||ae["@@iterator"],typeof ae=="function"?ae:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function y(ae,L,Y){this.props=ae,this.context=L,this.refs=v,this.updater=Y||g}y.prototype.isReactComponent={},y.prototype.setState=function(ae,L){if(typeof ae!="object"&&typeof ae!="function"&&ae!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ae,L,"setState")},y.prototype.forceUpdate=function(ae){this.updater.enqueueForceUpdate(this,ae,"forceUpdate")};function w(){}w.prototype=y.prototype;function _(ae,L,Y){this.props=ae,this.context=L,this.refs=v,this.updater=Y||g}var S=_.prototype=new w;S.constructor=_,x(S,y.prototype),S.isPureReactComponent=!0;var E=Array.isArray,T=Object.prototype.hasOwnProperty,D={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function O(ae,L,Y){var K,J={},pe=null,Ae=null;if(L!=null)for(K in L.ref!==void 0&&(Ae=L.ref),L.key!==void 0&&(pe=""+L.key),L)T.call(L,K)&&!C.hasOwnProperty(K)&&(J[K]=L[K]);var Ne=arguments.length-2;if(Ne===1)J.children=Y;else if(1<Ne){for(var fe=Array(Ne),ke=0;ke<Ne;ke++)fe[ke]=arguments[ke+2];J.children=fe}if(ae&&ae.defaultProps)for(K in Ne=ae.defaultProps,Ne)J[K]===void 0&&(J[K]=Ne[K]);return{$$typeof:e,type:ae,key:pe,ref:Ae,props:J,_owner:D.current}}function R(ae,L){return{$$typeof:e,type:ae.type,key:L,ref:ae.ref,props:ae.props,_owner:ae._owner}}function H(ae){return typeof ae=="object"&&ae!==null&&ae.$$typeof===e}function F(ae){var L={"=":"=0",":":"=2"};return"$"+ae.replace(/[=:]/g,function(Y){return L[Y]})}var U=/\/+/g;function M(ae,L){return typeof ae=="object"&&ae!==null&&ae.key!=null?F(""+ae.key):L.toString(36)}function q(ae,L,Y,K,J){var pe=typeof ae;(pe==="undefined"||pe==="boolean")&&(ae=null);var Ae=!1;if(ae===null)Ae=!0;else switch(pe){case"string":case"number":Ae=!0;break;case"object":switch(ae.$$typeof){case e:case t:Ae=!0}}if(Ae)return Ae=ae,J=J(Ae),ae=K===""?"."+M(Ae,0):K,E(J)?(Y="",ae!=null&&(Y=ae.replace(U,"$&/")+"/"),q(J,L,Y,"",function(ke){return ke})):J!=null&&(H(J)&&(J=R(J,Y+(!J.key||Ae&&Ae.key===J.key?"":(""+J.key).replace(U,"$&/")+"/")+ae)),L.push(J)),1;if(Ae=0,K=K===""?".":K+":",E(ae))for(var Ne=0;Ne<ae.length;Ne++){pe=ae[Ne];var fe=K+M(pe,Ne);Ae+=q(pe,L,Y,fe,J)}else if(fe=m(ae),typeof fe=="function")for(ae=fe.call(ae),Ne=0;!(pe=ae.next()).done;)pe=pe.value,fe=K+M(pe,Ne++),Ae+=q(pe,L,Y,fe,J);else if(pe==="object")throw L=String(ae),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Ae}function ee(ae,L,Y){if(ae==null)return ae;var K=[],J=0;return q(ae,K,"","",function(pe){return L.call(Y,pe,J++)}),K}function ve(ae){if(ae._status===-1){var L=ae._result;L=L(),L.then(function(Y){(ae._status===0||ae._status===-1)&&(ae._status=1,ae._result=Y)},function(Y){(ae._status===0||ae._status===-1)&&(ae._status=2,ae._result=Y)}),ae._status===-1&&(ae._status=0,ae._result=L)}if(ae._status===1)return ae._result.default;throw ae._result}var he={current:null},ce={transition:null},be={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:ce,ReactCurrentOwner:D};function Oe(){throw Error("act(...) is not supported in production builds of React.")}return $r.Children={map:ee,forEach:function(ae,L,Y){ee(ae,function(){L.apply(this,arguments)},Y)},count:function(ae){var L=0;return ee(ae,function(){L++}),L},toArray:function(ae){return ee(ae,function(L){return L})||[]},only:function(ae){if(!H(ae))throw Error("React.Children.only expected to receive a single React element child.");return ae}},$r.Component=y,$r.Fragment=r,$r.Profiler=i,$r.PureComponent=_,$r.StrictMode=n,$r.Suspense=c,$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=be,$r.act=Oe,$r.cloneElement=function(ae,L,Y){if(ae==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ae+".");var K=x({},ae.props),J=ae.key,pe=ae.ref,Ae=ae._owner;if(L!=null){if(L.ref!==void 0&&(pe=L.ref,Ae=D.current),L.key!==void 0&&(J=""+L.key),ae.type&&ae.type.defaultProps)var Ne=ae.type.defaultProps;for(fe in L)T.call(L,fe)&&!C.hasOwnProperty(fe)&&(K[fe]=L[fe]===void 0&&Ne!==void 0?Ne[fe]:L[fe])}var fe=arguments.length-2;if(fe===1)K.children=Y;else if(1<fe){Ne=Array(fe);for(var ke=0;ke<fe;ke++)Ne[ke]=arguments[ke+2];K.children=Ne}return{$$typeof:e,type:ae.type,key:J,ref:pe,props:K,_owner:Ae}},$r.createContext=function(ae){return ae={$$typeof:s,_currentValue:ae,_currentValue2:ae,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ae.Provider={$$typeof:a,_context:ae},ae.Consumer=ae},$r.createElement=O,$r.createFactory=function(ae){var L=O.bind(null,ae);return L.type=ae,L},$r.createRef=function(){return{current:null}},$r.forwardRef=function(ae){return{$$typeof:o,render:ae}},$r.isValidElement=H,$r.lazy=function(ae){return{$$typeof:d,_payload:{_status:-1,_result:ae},_init:ve}},$r.memo=function(ae,L){return{$$typeof:u,type:ae,compare:L===void 0?null:L}},$r.startTransition=function(ae){var L=ce.transition;ce.transition={};try{ae()}finally{ce.transition=L}},$r.unstable_act=Oe,$r.useCallback=function(ae,L){return he.current.useCallback(ae,L)},$r.useContext=function(ae){return he.current.useContext(ae)},$r.useDebugValue=function(){},$r.useDeferredValue=function(ae){return he.current.useDeferredValue(ae)},$r.useEffect=function(ae,L){return he.current.useEffect(ae,L)},$r.useId=function(){return he.current.useId()},$r.useImperativeHandle=function(ae,L,Y){return he.current.useImperativeHandle(ae,L,Y)},$r.useInsertionEffect=function(ae,L){return he.current.useInsertionEffect(ae,L)},$r.useLayoutEffect=function(ae,L){return he.current.useLayoutEffect(ae,L)},$r.useMemo=function(ae,L){return he.current.useMemo(ae,L)},$r.useReducer=function(ae,L,Y){return he.current.useReducer(ae,L,Y)},$r.useRef=function(ae){return he.current.useRef(ae)},$r.useState=function(ae){return he.current.useState(ae)},$r.useSyncExternalStore=function(ae,L,Y){return he.current.useSyncExternalStore(ae,L,Y)},$r.useTransition=function(){return he.current.useTransition()},$r.version="18.3.1",$r}var lE;function u0(){return lE||(lE=1,B2.exports=qW()),B2.exports}var cE;function HW(){if(cE)return tm;cE=1;var e=u0(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(o,c,u){var d,h={},m=null,g=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(d in c)n.call(c,d)&&!a.hasOwnProperty(d)&&(h[d]=c[d]);if(o&&o.defaultProps)for(d in c=o.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:t,type:o,key:m,ref:g,props:h,_owner:i.current}}return tm.Fragment=r,tm.jsx=s,tm.jsxs=s,tm}var uE;function VW(){return uE||(uE=1,F2.exports=HW()),F2.exports}var l=VW(),A=u0();const jg=wc(A),KW=$W({__proto__:null,default:jg},[A]);var Kv={},U2={exports:{}},ho={},$2={exports:{}},z2={};var dE;function GW(){return dE||(dE=1,(function(e){function t(ce,be){var Oe=ce.length;ce.push(be);e:for(;0<Oe;){var ae=Oe-1>>>1,L=ce[ae];if(0<i(L,be))ce[ae]=be,ce[Oe]=L,Oe=ae;else break e}}function r(ce){return ce.length===0?null:ce[0]}function n(ce){if(ce.length===0)return null;var be=ce[0],Oe=ce.pop();if(Oe!==be){ce[0]=Oe;e:for(var ae=0,L=ce.length,Y=L>>>1;ae<Y;){var K=2*(ae+1)-1,J=ce[K],pe=K+1,Ae=ce[pe];if(0>i(J,Oe))pe<L&&0>i(Ae,J)?(ce[ae]=Ae,ce[pe]=Oe,ae=pe):(ce[ae]=J,ce[K]=Oe,ae=K);else if(pe<L&&0>i(Ae,Oe))ce[ae]=Ae,ce[pe]=Oe,ae=pe;else break e}}return be}function i(ce,be){var Oe=ce.sortIndex-be.sortIndex;return Oe!==0?Oe:ce.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,h=null,m=3,g=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ce){for(var be=r(u);be!==null;){if(be.callback===null)n(u);else if(be.startTime<=ce)n(u),be.sortIndex=be.expirationTime,t(c,be);else break;be=r(u)}}function E(ce){if(v=!1,S(ce),!x)if(r(c)!==null)x=!0,ve(T);else{var be=r(u);be!==null&&he(E,be.startTime-ce)}}function T(ce,be){x=!1,v&&(v=!1,w(O),O=-1),g=!0;var Oe=m;try{for(S(be),h=r(c);h!==null&&(!(h.expirationTime>be)||ce&&!F());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,m=h.priorityLevel;var L=ae(h.expirationTime<=be);be=e.unstable_now(),typeof L=="function"?h.callback=L:h===r(c)&&n(c),S(be)}else n(c);h=r(c)}if(h!==null)var Y=!0;else{var K=r(u);K!==null&&he(E,K.startTime-be),Y=!1}return Y}finally{h=null,m=Oe,g=!1}}var D=!1,C=null,O=-1,R=5,H=-1;function F(){return!(e.unstable_now()-H<R)}function U(){if(C!==null){var ce=e.unstable_now();H=ce;var be=!0;try{be=C(!0,ce)}finally{be?M():(D=!1,C=null)}}else D=!1}var M;if(typeof _=="function")M=function(){_(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ee=q.port2;q.port1.onmessage=U,M=function(){ee.postMessage(null)}}else M=function(){y(U,0)};function ve(ce){C=ce,D||(D=!0,M())}function he(ce,be){O=y(function(){ce(e.unstable_now())},be)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,ve(T))},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ce){switch(m){case 1:case 2:case 3:var be=3;break;default:be=m}var Oe=m;m=be;try{return ce()}finally{m=Oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ce,be){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Oe=m;m=ce;try{return be()}finally{m=Oe}},e.unstable_scheduleCallback=function(ce,be,Oe){var ae=e.unstable_now();switch(typeof Oe=="object"&&Oe!==null?(Oe=Oe.delay,Oe=typeof Oe=="number"&&0<Oe?ae+Oe:ae):Oe=ae,ce){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Oe+L,ce={id:d++,callback:be,priorityLevel:ce,startTime:Oe,expirationTime:L,sortIndex:-1},Oe>ae?(ce.sortIndex=Oe,t(u,ce),r(c)===null&&ce===r(u)&&(v?(w(O),O=-1):v=!0,he(E,Oe-ae))):(ce.sortIndex=L,t(c,ce),x||g||(x=!0,ve(T))),ce},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(ce){var be=m;return function(){var Oe=m;m=be;try{return ce.apply(this,arguments)}finally{m=Oe}}}})(z2)),z2}var fE;function YW(){return fE||(fE=1,$2.exports=GW()),$2.exports}var hE;function XW(){if(hE)return ho;hE=1;var e=u0(),t=YW();function r(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(f,p){s(f,p),s(f+"Capture",p)}function s(f,p){for(i[f]=p,f=0;f<p.length;f++)n.add(p[f])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(f){return c.call(h,f)?!0:c.call(d,f)?!1:u.test(f)?h[f]=!0:(d[f]=!0,!1)}function g(f,p,b,j){if(b!==null&&b.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return j?!1:b!==null?!b.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function x(f,p,b,j){if(p===null||typeof p>"u"||g(f,p,b,j))return!0;if(j)return!1;if(b!==null)switch(b.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function v(f,p,b,j,I,z,ie){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=j,this.attributeNamespace=I,this.mustUseProperty=b,this.propertyName=f,this.type=p,this.sanitizeURL=z,this.removeEmptyString=ie}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){y[f]=new v(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var p=f[0];y[p]=new v(p,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){y[f]=new v(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){y[f]=new v(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){y[f]=new v(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){y[f]=new v(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){y[f]=new v(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){y[f]=new v(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){y[f]=new v(f,5,!1,f.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function _(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var p=f.replace(w,_);y[p]=new v(p,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var p=f.replace(w,_);y[p]=new v(p,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var p=f.replace(w,_);y[p]=new v(p,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){y[f]=new v(f,1,!1,f.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){y[f]=new v(f,1,!1,f.toLowerCase(),null,!0,!0)});function S(f,p,b,j){var I=y.hasOwnProperty(p)?y[p]:null;(I!==null?I.type!==0:j||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(x(p,b,I,j)&&(b=null),j||I===null?m(p)&&(b===null?f.removeAttribute(p):f.setAttribute(p,""+b)):I.mustUseProperty?f[I.propertyName]=b===null?I.type===3?!1:"":b:(p=I.attributeName,j=I.attributeNamespace,b===null?f.removeAttribute(p):(I=I.type,b=I===3||I===4&&b===!0?"":""+b,j?f.setAttributeNS(j,p,b):f.setAttribute(p,b))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),D=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),F=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),ce=Symbol.iterator;function be(f){return f===null||typeof f!="object"?null:(f=ce&&f[ce]||f["@@iterator"],typeof f=="function"?f:null)}var Oe=Object.assign,ae;function L(f){if(ae===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);ae=p&&p[1]||""}return`
`+ae+f}var Y=!1;function K(f,p){if(!f||Y)return"";Y=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ot){var j=ot}Reflect.construct(f,[],p)}else{try{p.call()}catch(ot){j=ot}f.call(p.prototype)}else{try{throw Error()}catch(ot){j=ot}f()}}catch(ot){if(ot&&j&&typeof ot.stack=="string"){for(var I=ot.stack.split(`
`),z=j.stack.split(`
`),ie=I.length-1,Ie=z.length-1;1<=ie&&0<=Ie&&I[ie]!==z[Ie];)Ie--;for(;1<=ie&&0<=Ie;ie--,Ie--)if(I[ie]!==z[Ie]){if(ie!==1||Ie!==1)do if(ie--,Ie--,0>Ie||I[ie]!==z[Ie]){var Be=`
`+I[ie].replace(" at new "," at ");return f.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",f.displayName)),Be}while(1<=ie&&0<=Ie);break}}}finally{Y=!1,Error.prepareStackTrace=b}return(f=f?f.displayName||f.name:"")?L(f):""}function J(f){switch(f.tag){case 5:return L(f.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return f=K(f.type,!1),f;case 11:return f=K(f.type.render,!1),f;case 1:return f=K(f.type,!0),f;default:return""}}function pe(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case C:return"Fragment";case D:return"Portal";case R:return"Profiler";case O:return"StrictMode";case M:return"Suspense";case q:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case F:return(f.displayName||"Context")+".Consumer";case H:return(f._context.displayName||"Context")+".Provider";case U:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case ee:return p=f.displayName||null,p!==null?p:pe(f.type)||"Memo";case ve:p=f._payload,f=f._init;try{return pe(f(p))}catch{}}return null}function Ae(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(p);case 8:return p===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function Ne(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function fe(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function ke(f){var p=fe(f)?"checked":"value",b=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),j=""+f[p];if(!f.hasOwnProperty(p)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var I=b.get,z=b.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return I.call(this)},set:function(ie){j=""+ie,z.call(this,ie)}}),Object.defineProperty(f,p,{enumerable:b.enumerable}),{getValue:function(){return j},setValue:function(ie){j=""+ie},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function Te(f){f._valueTracker||(f._valueTracker=ke(f))}function je(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var b=p.getValue(),j="";return f&&(j=fe(f)?f.checked?"true":"false":f.value),f=j,f!==b?(p.setValue(f),!0):!1}function Le(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function $e(f,p){var b=p.checked;return Oe({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??f._wrapperState.initialChecked})}function oe(f,p){var b=p.defaultValue==null?"":p.defaultValue,j=p.checked!=null?p.checked:p.defaultChecked;b=Ne(p.value!=null?p.value:b),f._wrapperState={initialChecked:j,initialValue:b,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function at(f,p){p=p.checked,p!=null&&S(f,"checked",p,!1)}function lt(f,p){at(f,p);var b=Ne(p.value),j=p.type;if(b!=null)j==="number"?(b===0&&f.value===""||f.value!=b)&&(f.value=""+b):f.value!==""+b&&(f.value=""+b);else if(j==="submit"||j==="reset"){f.removeAttribute("value");return}p.hasOwnProperty("value")?ct(f,p.type,b):p.hasOwnProperty("defaultValue")&&ct(f,p.type,Ne(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(f.defaultChecked=!!p.defaultChecked)}function Pt(f,p,b){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var j=p.type;if(!(j!=="submit"&&j!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+f._wrapperState.initialValue,b||p===f.value||(f.value=p),f.defaultValue=p}b=f.name,b!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,b!==""&&(f.name=b)}function ct(f,p,b){(p!=="number"||Le(f.ownerDocument)!==f)&&(b==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+b&&(f.defaultValue=""+b))}var $t=Array.isArray;function Dt(f,p,b,j){if(f=f.options,p){p={};for(var I=0;I<b.length;I++)p["$"+b[I]]=!0;for(b=0;b<f.length;b++)I=p.hasOwnProperty("$"+f[b].value),f[b].selected!==I&&(f[b].selected=I),I&&j&&(f[b].defaultSelected=!0)}else{for(b=""+Ne(b),p=null,I=0;I<f.length;I++){if(f[I].value===b){f[I].selected=!0,j&&(f[I].defaultSelected=!0);return}p!==null||f[I].disabled||(p=f[I])}p!==null&&(p.selected=!0)}}function Xt(f,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return Oe({},p,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function Ht(f,p){var b=p.value;if(b==null){if(b=p.children,p=p.defaultValue,b!=null){if(p!=null)throw Error(r(92));if($t(b)){if(1<b.length)throw Error(r(93));b=b[0]}p=b}p==null&&(p=""),b=p}f._wrapperState={initialValue:Ne(b)}}function xr(f,p){var b=Ne(p.value),j=Ne(p.defaultValue);b!=null&&(b=""+b,b!==f.value&&(f.value=b),p.defaultValue==null&&f.defaultValue!==b&&(f.defaultValue=b)),j!=null&&(f.defaultValue=""+j)}function Nr(f){var p=f.textContent;p===f._wrapperState.initialValue&&p!==""&&p!==null&&(f.value=p)}function ze(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(f,p){return f==null||f==="http://www.w3.org/1999/xhtml"?ze(p):f==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var fr,zt=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,b,j,I){MSApp.execUnsafeLocalFunction(function(){return f(p,b,j,I)})}:f})(function(f,p){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=p;else{for(fr=fr||document.createElement("div"),fr.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=fr.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;p.firstChild;)f.appendChild(p.firstChild)}});function dr(f,p){if(p){var b=f.firstChild;if(b&&b===f.lastChild&&b.nodeType===3){b.nodeValue=p;return}}f.textContent=p}var Bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jr=["Webkit","ms","Moz","O"];Object.keys(Bt).forEach(function(f){Jr.forEach(function(p){p=p+f.charAt(0).toUpperCase()+f.substring(1),Bt[p]=Bt[f]})});function Tr(f,p,b){return p==null||typeof p=="boolean"||p===""?"":b||typeof p!="number"||p===0||Bt.hasOwnProperty(f)&&Bt[f]?(""+p).trim():p+"px"}function mr(f,p){f=f.style;for(var b in p)if(p.hasOwnProperty(b)){var j=b.indexOf("--")===0,I=Tr(b,p[b],j);b==="float"&&(b="cssFloat"),j?f.setProperty(b,I):f[b]=I}}var yr=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fr(f,p){if(p){if(yr[f]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,f));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function it(f,p){if(f.indexOf("-")===-1)return typeof p.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ut=null;function Mt(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Ft=null,br=null,hr=null;function Gt(f){if(f=jd(f)){if(typeof Ft!="function")throw Error(r(280));var p=f.stateNode;p&&(p=Pf(p),Ft(f.stateNode,f.type,p))}}function Cr(f){br?hr?hr.push(f):hr=[f]:br=f}function xa(){if(br){var f=br,p=hr;if(hr=br=null,Gt(f),p)for(f=0;f<p.length;f++)Gt(p[f])}}function on(f,p){return f(p)}function aa(){}var Si=!1;function nr(f,p,b){if(Si)return f(p,b);Si=!0;try{return on(f,p,b)}finally{Si=!1,(br!==null||hr!==null)&&(aa(),xa())}}function _i(f,p){var b=f.stateNode;if(b===null)return null;var j=Pf(b);if(j===null)return null;b=j[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(f=f.type,j=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!j;break e;default:f=!1}if(f)return null;if(b&&typeof b!="function")throw Error(r(231,p,typeof b));return b}var ya=!1;if(o)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){ya=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{ya=!1}function sa(f,p,b,j,I,z,ie,Ie,Be){var ot=Array.prototype.slice.call(arguments,3);try{p.apply(b,ot)}catch(Et){this.onError(Et)}}var Zr=!1,Pe=null,V=!1,Q=null,X={onError:function(f){Zr=!0,Pe=f}};function se(f,p,b,j,I,z,ie,Ie,Be){Zr=!1,Pe=null,sa.apply(X,arguments)}function te(f,p,b,j,I,z,ie,Ie,Be){if(se.apply(this,arguments),Zr){if(Zr){var ot=Pe;Zr=!1,Pe=null}else throw Error(r(198));V||(V=!0,Q=ot)}}function me(f){var p=f,b=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(b=p.return),f=p.return;while(f)}return p.tag===3?b:null}function Ce(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function qe(f){if(me(f)!==f)throw Error(r(188))}function Ue(f){var p=f.alternate;if(!p){if(p=me(f),p===null)throw Error(r(188));return p!==f?null:f}for(var b=f,j=p;;){var I=b.return;if(I===null)break;var z=I.alternate;if(z===null){if(j=I.return,j!==null){b=j;continue}break}if(I.child===z.child){for(z=I.child;z;){if(z===b)return qe(I),f;if(z===j)return qe(I),p;z=z.sibling}throw Error(r(188))}if(b.return!==j.return)b=I,j=z;else{for(var ie=!1,Ie=I.child;Ie;){if(Ie===b){ie=!0,b=I,j=z;break}if(Ie===j){ie=!0,j=I,b=z;break}Ie=Ie.sibling}if(!ie){for(Ie=z.child;Ie;){if(Ie===b){ie=!0,b=z,j=I;break}if(Ie===j){ie=!0,j=z,b=I;break}Ie=Ie.sibling}if(!ie)throw Error(r(189))}}if(b.alternate!==j)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?f:p}function Me(f){return f=Ue(f),f!==null?Ve(f):null}function Ve(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=Ve(f);if(p!==null)return p;f=f.sibling}return null}var rt=t.unstable_scheduleCallback,xt=t.unstable_cancelCallback,yt=t.unstable_shouldYield,bt=t.unstable_requestPaint,St=t.unstable_now,or=t.unstable_getCurrentPriorityLevel,Rr=t.unstable_ImmediatePriority,It=t.unstable_UserBlockingPriority,Ye=t.unstable_NormalPriority,Ua=t.unstable_LowPriority,Zn=t.unstable_IdlePriority,ba=null,qn=null;function Qo(f){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(ba,f,void 0,(f.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:Hn,So=Math.log,fd=Math.LN2;function Hn(f){return f>>>=0,f===0?32:31-(So(f)/fd|0)|0}var Ol=64,$a=4194304;function Js(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Il(f,p){var b=f.pendingLanes;if(b===0)return 0;var j=0,I=f.suspendedLanes,z=f.pingedLanes,ie=b&268435455;if(ie!==0){var Ie=ie&~I;Ie!==0?j=Js(Ie):(z&=ie,z!==0&&(j=Js(z)))}else ie=b&~I,ie!==0?j=Js(ie):z!==0&&(j=Js(z));if(j===0)return 0;if(p!==0&&p!==j&&(p&I)===0&&(I=j&-j,z=p&-p,I>=z||I===16&&(z&4194240)!==0))return p;if((j&4)!==0&&(j|=b&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=j;0<p;)b=31-Kr(p),I=1<<b,j|=f[b],p&=~I;return j}function za(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qn(f,p){for(var b=f.suspendedLanes,j=f.pingedLanes,I=f.expirationTimes,z=f.pendingLanes;0<z;){var ie=31-Kr(z),Ie=1<<ie,Be=I[ie];Be===-1?((Ie&b)===0||(Ie&j)!==0)&&(I[ie]=za(Ie,p)):Be<=p&&(f.expiredLanes|=Ie),z&=~Ie}}function Li(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function jc(){var f=Ol;return Ol<<=1,(Ol&4194240)===0&&(Ol=64),f}function hd(f){for(var p=[],b=0;31>b;b++)p.push(f);return p}function Rl(f,p,b){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-Kr(p),f[p]=b}function _o(f,p){var b=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var j=f.eventTimes;for(f=f.expirationTimes;0<b;){var I=31-Kr(b),z=1<<I;p[I]=0,j[I]=-1,f[I]=-1,b&=~z}}function Ac(f,p){var b=f.entangledLanes|=p;for(f=f.entanglements;b;){var j=31-Kr(b),I=1<<j;I&p|f[j]&p&&(f[j]|=p),b&=~I}}var Hr=0;function Ll(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var el,Ec,lu,Ml,Pc,Fl=!1,oa=[],Ds=null,wa=null,ss=null,tl=new Map,pr=new Map,Os=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pd(f,p){switch(f){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":tl.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":pr.delete(p.pointerId)}}function Sa(f,p,b,j,I,z){return f===null||f.nativeEvent!==z?(f={blockedOn:p,domEventName:b,eventSystemFlags:j,nativeEvent:z,targetContainers:[I]},p!==null&&(p=jd(p),p!==null&&Ec(p)),f):(f.eventSystemFlags|=j,p=f.targetContainers,I!==null&&p.indexOf(I)===-1&&p.push(I),f)}function Is(f,p,b,j,I){switch(p){case"focusin":return Ds=Sa(Ds,f,p,b,j,I),!0;case"dragenter":return wa=Sa(wa,f,p,b,j,I),!0;case"mouseover":return ss=Sa(ss,f,p,b,j,I),!0;case"pointerover":var z=I.pointerId;return tl.set(z,Sa(tl.get(z)||null,f,p,b,j,I)),!0;case"gotpointercapture":return z=I.pointerId,pr.set(z,Sa(pr.get(z)||null,f,p,b,j,I)),!0}return!1}function cu(f){var p=Mc(f.target);if(p!==null){var b=me(p);if(b!==null){if(p=b.tag,p===13){if(p=Ce(b),p!==null){f.blockedOn=p,Pc(f.priority,function(){lu(b)});return}}else if(p===3&&b.stateNode.current.memoizedState.isDehydrated){f.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Bl(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var b=$l(f.domEventName,f.eventSystemFlags,p[0],f.nativeEvent);if(b===null){b=f.nativeEvent;var j=new b.constructor(b.type,b);Ut=j,b.target.dispatchEvent(j),Ut=null}else return p=jd(b),p!==null&&Ec(p),f.blockedOn=b,!1;p.shift()}return!0}function Zs(f,p,b){Bl(f)&&b.delete(p)}function Tc(){Fl=!1,Ds!==null&&Bl(Ds)&&(Ds=null),wa!==null&&Bl(wa)&&(wa=null),ss!==null&&Bl(ss)&&(ss=null),tl.forEach(Zs),pr.forEach(Zs)}function Rs(f,p){f.blockedOn===p&&(f.blockedOn=null,Fl||(Fl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Tc)))}function Qs(f){function p(I){return Rs(I,f)}if(0<oa.length){Rs(oa[0],f);for(var b=1;b<oa.length;b++){var j=oa[b];j.blockedOn===f&&(j.blockedOn=null)}}for(Ds!==null&&Rs(Ds,f),wa!==null&&Rs(wa,f),ss!==null&&Rs(ss,f),tl.forEach(p),pr.forEach(p),b=0;b<Os.length;b++)j=Os[b],j.blockedOn===f&&(j.blockedOn=null);for(;0<Os.length&&(b=Os[0],b.blockedOn===null);)cu(b),b.blockedOn===null&&Os.shift()}var Cn=E.ReactCurrentBatchConfig,No=!0;function rl(f,p,b,j){var I=Hr,z=Cn.transition;Cn.transition=null;try{Hr=1,kc(f,p,b,j)}finally{Hr=I,Cn.transition=z}}function Ul(f,p,b,j){var I=Hr,z=Cn.transition;Cn.transition=null;try{Hr=4,kc(f,p,b,j)}finally{Hr=I,Cn.transition=z}}function kc(f,p,b,j){if(No){var I=$l(f,p,b,j);if(I===null)jf(f,p,j,os,b),pd(f,j);else if(Is(I,f,p,b,j))j.stopPropagation();else if(pd(f,j),p&4&&-1<xf.indexOf(f)){for(;I!==null;){var z=jd(I);if(z!==null&&el(z),z=$l(f,p,b,j),z===null&&jf(f,p,j,os,b),z===I)break;I=z}I!==null&&j.stopPropagation()}else jf(f,p,j,null,b)}}var os=null;function $l(f,p,b,j){if(os=null,f=Mt(j),f=Mc(f),f!==null)if(p=me(f),p===null)f=null;else if(b=p.tag,b===13){if(f=Ce(p),f!==null)return f;f=null}else if(b===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null);return os=f,null}function jo(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(or()){case Rr:return 1;case It:return 4;case Ye:case Ua:return 16;case Zn:return 536870912;default:return 16}default:return 16}}var ls=null,eo=null,ln=null;function Z(){if(ln)return ln;var f,p=eo,b=p.length,j,I="value"in ls?ls.value:ls.textContent,z=I.length;for(f=0;f<b&&p[f]===I[f];f++);var ie=b-f;for(j=1;j<=ie&&p[b-j]===I[z-j];j++);return ln=I.slice(f,1<j?1-j:void 0)}function ne(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function xe(){return!0}function Se(){return!1}function De(f){function p(b,j,I,z,ie){this._reactName=b,this._targetInst=I,this.type=j,this.nativeEvent=z,this.target=ie,this.currentTarget=null;for(var Ie in f)f.hasOwnProperty(Ie)&&(b=f[Ie],this[Ie]=b?b(z):z[Ie]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?xe:Se,this.isPropagationStopped=Se,this}return Oe(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=xe)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=xe)},persist:function(){},isPersistent:xe}),p}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ke=De(Ge),k=Oe({},Ge,{view:0,detail:0}),G=De(k),ue,we,Re,nt=Oe({},k,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Re&&(Re&&f.type==="mousemove"?(ue=f.screenX-Re.screenX,we=f.screenY-Re.screenY):we=ue=0,Re=f),ue)},movementY:function(f){return"movementY"in f?f.movementY:we}}),pt=De(nt),st=Oe({},nt,{dataTransfer:0}),wt=De(st),_t=Oe({},k,{relatedTarget:0}),Jt=De(_t),Ar=Oe({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Dr=De(Ar),zr=Oe({},Ge,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Lr=De(zr),mn=Oe({},Ge,{data:0}),Vr=De(mn),ci={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},us={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function to(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=us[f])?!!p[f]:!1}function ro(){return to}var no=Oe({},k,{key:function(f){if(f.key){var p=ci[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=ne(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?cs[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(f){return f.type==="keypress"?ne(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?ne(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),_a=De(no),nl=Oe({},nt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=De(nl),Ao=Oe({},k,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),An=De(Ao),il=Oe({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),zl=De(il),ds=Oe({},nt,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),io=De(ds),Fi=[9,13,27,32],Na=o&&"CompositionEvent"in window,Ls=null;o&&"documentMode"in document&&(Ls=document.documentMode);var Uh=o&&"TextEvent"in window&&!Ls,Ms=o&&(!Na||Ls&&8<Ls&&11>=Ls),Cc=" ",md=!1;function gd(f,p){switch(f){case"keyup":return Fi.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wl(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ao=!1;function Fs(f,p){switch(f){case"compositionend":return Wl(p);case"keypress":return p.which!==32?null:(md=!0,Cc);case"textInput":return f=p.data,f===Cc&&md?null:f;default:return null}}function Bs(f,p){if(ao)return f==="compositionend"||!Na&&gd(f,p)?(f=Z(),ln=eo=ls=null,ao=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Ms&&p.locale!=="ko"?null:p.data;default:return null}}var Dc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function al(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!Dc[f.type]:p==="textarea"}function ql(f,p,b,j){Cr(j),p=Hh(p,"onChange"),0<p.length&&(b=new Ke("onChange","change",null,b,j),f.push({event:b,listeners:p}))}var Hl=null,sl=null;function ui(f){_f(f,0)}function uu(f){var p=bu(f);if(je(p))return f}function ol(f,p){if(f==="change")return p}var Eo=!1;if(o){var du;if(o){var fu="oninput"in document;if(!fu){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),fu=typeof vd.oninput=="function"}du=fu}else du=!1;Eo=du&&(!document.documentMode||9<document.documentMode)}function xd(){Hl&&(Hl.detachEvent("onpropertychange",Vl),sl=Hl=null)}function Vl(f){if(f.propertyName==="value"&&uu(sl)){var p=[];ql(p,sl,f,Mt(f)),nr(ui,p)}}function Oc(f,p,b){f==="focusin"?(xd(),Hl=p,sl=b,Hl.attachEvent("onpropertychange",Vl)):f==="focusout"&&xd()}function Ic(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return uu(sl)}function hu(f,p){if(f==="click")return uu(p)}function Rc(f,p){if(f==="input"||f==="change")return uu(p)}function pu(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var ei=typeof Object.is=="function"?Object.is:pu;function fs(f,p){if(ei(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var b=Object.keys(f),j=Object.keys(p);if(b.length!==j.length)return!1;for(j=0;j<b.length;j++){var I=b[j];if(!c.call(p,I)||!ei(f[I],p[I]))return!1}return!0}function Qr(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function dn(f,p){var b=Qr(f);f=0;for(var j;b;){if(b.nodeType===3){if(j=f+b.textContent.length,f<=p&&j>=p)return{node:b,offset:p-f};f=j}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=Qr(b)}}function ti(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?ti(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function Ni(){for(var f=window,p=Le();p instanceof f.HTMLIFrameElement;){try{var b=typeof p.contentWindow.location.href=="string"}catch{b=!1}if(b)f=p.contentWindow;else break;p=Le(f.document)}return p}function Po(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}function yf(f){var p=Ni(),b=f.focusedElem,j=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&ti(b.ownerDocument.documentElement,b)){if(j!==null&&Po(b)){if(p=j.start,f=j.end,f===void 0&&(f=p),"selectionStart"in b)b.selectionStart=p,b.selectionEnd=Math.min(f,b.value.length);else if(f=(p=b.ownerDocument||document)&&p.defaultView||window,f.getSelection){f=f.getSelection();var I=b.textContent.length,z=Math.min(j.start,I);j=j.end===void 0?z:Math.min(j.end,I),!f.extend&&z>j&&(I=j,j=z,z=I),I=dn(b,z);var ie=dn(b,j);I&&ie&&(f.rangeCount!==1||f.anchorNode!==I.node||f.anchorOffset!==I.offset||f.focusNode!==ie.node||f.focusOffset!==ie.offset)&&(p=p.createRange(),p.setStart(I.node,I.offset),f.removeAllRanges(),z>j?(f.addRange(p),f.extend(ie.node,ie.offset)):(p.setEnd(ie.node,ie.offset),f.addRange(p)))}}for(p=[],f=b;f=f.parentNode;)f.nodeType===1&&p.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<p.length;b++)f=p[b],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var yd=o&&"documentMode"in document&&11>=document.documentMode,Kl=null,$h=null,bd=null,zh=!1;function C0(f,p,b){var j=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;zh||Kl==null||Kl!==Le(j)||(j=Kl,"selectionStart"in j&&Po(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),bd&&fs(bd,j)||(bd=j,j=Hh($h,"onSelect"),0<j.length&&(p=new Ke("onSelect","select",null,p,b),f.push({event:p,listeners:j}),p.target=Kl)))}function bf(f,p){var b={};return b[f.toLowerCase()]=p.toLowerCase(),b["Webkit"+f]="webkit"+p,b["Moz"+f]="moz"+p,b}var mu={animationend:bf("Animation","AnimationEnd"),animationiteration:bf("Animation","AnimationIteration"),animationstart:bf("Animation","AnimationStart"),transitionend:bf("Transition","TransitionEnd")},gu={},D0={};o&&(D0=document.createElement("div").style,"AnimationEvent"in window||(delete mu.animationend.animation,delete mu.animationiteration.animation,delete mu.animationstart.animation),"TransitionEvent"in window||delete mu.transitionend.transition);function wf(f){if(gu[f])return gu[f];if(!mu[f])return f;var p=mu[f],b;for(b in p)if(p.hasOwnProperty(b)&&b in D0)return gu[f]=p[b];return f}var O0=wf("animationend"),I0=wf("animationiteration"),R0=wf("animationstart"),L0=wf("transitionend"),M0=new Map,F0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ll(f,p){M0.set(f,p),a(p,[f])}for(var wd=0;wd<F0.length;wd++){var Wa=F0[wd],so=Wa.toLowerCase(),Wh=Wa[0].toUpperCase()+Wa.slice(1);ll(so,"on"+Wh)}ll(O0,"onAnimationEnd"),ll(I0,"onAnimationIteration"),ll(R0,"onAnimationStart"),ll("dblclick","onDoubleClick"),ll("focusin","onFocus"),ll("focusout","onBlur"),ll(L0,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lc));function Sf(f,p,b){var j=f.type||"unknown-event";f.currentTarget=b,te(j,p,void 0,f),f.currentTarget=null}function _f(f,p){p=(p&4)!==0;for(var b=0;b<f.length;b++){var j=f[b],I=j.event;j=j.listeners;e:{var z=void 0;if(p)for(var ie=j.length-1;0<=ie;ie--){var Ie=j[ie],Be=Ie.instance,ot=Ie.currentTarget;if(Ie=Ie.listener,Be!==z&&I.isPropagationStopped())break e;Sf(I,Ie,ot),z=Be}else for(ie=0;ie<j.length;ie++){if(Ie=j[ie],Be=Ie.instance,ot=Ie.currentTarget,Ie=Ie.listener,Be!==z&&I.isPropagationStopped())break e;Sf(I,Ie,ot),z=Be}}}if(V)throw f=Q,V=!1,Q=null,f}function gn(f,p){var b=p[ps];b===void 0&&(b=p[ps]=new Set);var j=f+"__bubble";b.has(j)||(Nf(p,f,2,!1),b.add(j))}function qh(f,p,b){var j=0;p&&(j|=4),Nf(b,f,j,p)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function vu(f){if(!f[Sd]){f[Sd]=!0,n.forEach(function(b){b!=="selectionchange"&&(hv.has(b)||qh(b,!1,f),qh(b,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[Sd]||(p[Sd]=!0,qh("selectionchange",!1,p))}}function Nf(f,p,b,j){switch(jo(p)){case 1:var I=rl;break;case 4:I=Ul;break;default:I=kc}b=I.bind(null,p,b,f),I=void 0,!ya||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(I=!0),j?I!==void 0?f.addEventListener(p,b,{capture:!0,passive:I}):f.addEventListener(p,b,!0):I!==void 0?f.addEventListener(p,b,{passive:I}):f.addEventListener(p,b,!1)}function jf(f,p,b,j,I){var z=j;if((p&1)===0&&(p&2)===0&&j!==null)e:for(;;){if(j===null)return;var ie=j.tag;if(ie===3||ie===4){var Ie=j.stateNode.containerInfo;if(Ie===I||Ie.nodeType===8&&Ie.parentNode===I)break;if(ie===4)for(ie=j.return;ie!==null;){var Be=ie.tag;if((Be===3||Be===4)&&(Be=ie.stateNode.containerInfo,Be===I||Be.nodeType===8&&Be.parentNode===I))return;ie=ie.return}for(;Ie!==null;){if(ie=Mc(Ie),ie===null)return;if(Be=ie.tag,Be===5||Be===6){j=z=ie;continue e}Ie=Ie.parentNode}}j=j.return}nr(function(){var ot=z,Et=Mt(b),Tt=[];e:{var At=M0.get(f);if(At!==void 0){var qt=Ke,tr=f;switch(f){case"keypress":if(ne(b)===0)break e;case"keydown":case"keyup":qt=_a;break;case"focusin":tr="focus",qt=Jt;break;case"focusout":tr="blur",qt=Jt;break;case"beforeblur":case"afterblur":qt=Jt;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qt=pt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qt=wt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qt=An;break;case O0:case I0:case R0:qt=Dr;break;case L0:qt=zl;break;case"scroll":qt=G;break;case"wheel":qt=io;break;case"copy":case"cut":case"paste":qt=Lr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qt=Mi}var ir=(p&4)!==0,$i=!ir&&f==="scroll",Ze=ir?At!==null?At+"Capture":null:At;ir=[];for(var He=ot,tt;He!==null;){tt=He;var Ct=tt.stateNode;if(tt.tag===5&&Ct!==null&&(tt=Ct,Ze!==null&&(Ct=_i(He,Ze),Ct!=null&&ir.push(Af(He,Ct,tt)))),$i)break;He=He.return}0<ir.length&&(At=new qt(At,tr,null,b,Et),Tt.push({event:At,listeners:ir}))}}if((p&7)===0){e:{if(At=f==="mouseover"||f==="pointerover",qt=f==="mouseout"||f==="pointerout",At&&b!==Ut&&(tr=b.relatedTarget||b.fromElement)&&(Mc(tr)||tr[ja]))break e;if((qt||At)&&(At=Et.window===Et?Et:(At=Et.ownerDocument)?At.defaultView||At.parentWindow:window,qt?(tr=b.relatedTarget||b.toElement,qt=ot,tr=tr?Mc(tr):null,tr!==null&&($i=me(tr),tr!==$i||tr.tag!==5&&tr.tag!==6)&&(tr=null)):(qt=null,tr=ot),qt!==tr)){if(ir=pt,Ct="onMouseLeave",Ze="onMouseEnter",He="mouse",(f==="pointerout"||f==="pointerover")&&(ir=Mi,Ct="onPointerLeave",Ze="onPointerEnter",He="pointer"),$i=qt==null?At:bu(qt),tt=tr==null?At:bu(tr),At=new ir(Ct,He+"leave",qt,b,Et),At.target=$i,At.relatedTarget=tt,Ct=null,Mc(Et)===ot&&(ir=new ir(Ze,He+"enter",tr,b,Et),ir.target=tt,ir.relatedTarget=$i,Ct=ir),$i=Ct,qt&&tr)t:{for(ir=qt,Ze=tr,He=0,tt=ir;tt;tt=xu(tt))He++;for(tt=0,Ct=Ze;Ct;Ct=xu(Ct))tt++;for(;0<He-tt;)ir=xu(ir),He--;for(;0<tt-He;)Ze=xu(Ze),tt--;for(;He--;){if(ir===Ze||Ze!==null&&ir===Ze.alternate)break t;ir=xu(ir),Ze=xu(Ze)}ir=null}else ir=null;qt!==null&&pv(Tt,At,qt,ir,!1),tr!==null&&$i!==null&&pv(Tt,$i,tr,ir,!0)}}e:{if(At=ot?bu(ot):window,qt=At.nodeName&&At.nodeName.toLowerCase(),qt==="select"||qt==="input"&&At.type==="file")var lr=ol;else if(al(At))if(Eo)lr=Rc;else{lr=Ic;var gr=Oc}else(qt=At.nodeName)&&qt.toLowerCase()==="input"&&(At.type==="checkbox"||At.type==="radio")&&(lr=hu);if(lr&&(lr=lr(f,ot))){ql(Tt,lr,b,Et);break e}gr&&gr(f,At,ot),f==="focusout"&&(gr=At._wrapperState)&&gr.controlled&&At.type==="number"&&ct(At,"number",At.value)}switch(gr=ot?bu(ot):window,f){case"focusin":(al(gr)||gr.contentEditable==="true")&&(Kl=gr,$h=ot,bd=null);break;case"focusout":bd=$h=Kl=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,C0(Tt,b,Et);break;case"selectionchange":if(yd)break;case"keydown":case"keyup":C0(Tt,b,Et)}var vr;if(Na)e:{switch(f){case"compositionstart":var Er="onCompositionStart";break e;case"compositionend":Er="onCompositionEnd";break e;case"compositionupdate":Er="onCompositionUpdate";break e}Er=void 0}else ao?gd(f,b)&&(Er="onCompositionEnd"):f==="keydown"&&b.keyCode===229&&(Er="onCompositionStart");Er&&(Ms&&b.locale!=="ko"&&(ao||Er!=="onCompositionStart"?Er==="onCompositionEnd"&&ao&&(vr=Z()):(ls=Et,eo="value"in ls?ls.value:ls.textContent,ao=!0)),gr=Hh(ot,Er),0<gr.length&&(Er=new Vr(Er,f,null,b,Et),Tt.push({event:Er,listeners:gr}),vr?Er.data=vr:(vr=Wl(b),vr!==null&&(Er.data=vr)))),(vr=Uh?Fs(f,b):Bs(f,b))&&(ot=Hh(ot,"onBeforeInput"),0<ot.length&&(Et=new Vr("onBeforeInput","beforeinput",null,b,Et),Tt.push({event:Et,listeners:ot}),Et.data=vr))}_f(Tt,p)})}function Af(f,p,b){return{instance:f,listener:p,currentTarget:b}}function Hh(f,p){for(var b=p+"Capture",j=[];f!==null;){var I=f,z=I.stateNode;I.tag===5&&z!==null&&(I=z,z=_i(f,b),z!=null&&j.unshift(Af(f,z,I)),z=_i(f,p),z!=null&&j.push(Af(f,z,I))),f=f.return}return j}function xu(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function pv(f,p,b,j,I){for(var z=p._reactName,ie=[];b!==null&&b!==j;){var Ie=b,Be=Ie.alternate,ot=Ie.stateNode;if(Be!==null&&Be===j)break;Ie.tag===5&&ot!==null&&(Ie=ot,I?(Be=_i(b,z),Be!=null&&ie.unshift(Af(b,Be,Ie))):I||(Be=_i(b,z),Be!=null&&ie.push(Af(b,Be,Ie)))),b=b.return}ie.length!==0&&f.push({event:p,listeners:ie})}var Zb=/\r\n?/g,Qb=/\u0000|\uFFFD/g;function mv(f){return(typeof f=="string"?f:""+f).replace(Zb,`
`).replace(Qb,"")}function Vh(f,p,b){if(p=mv(p),mv(f)!==p&&b)throw Error(r(425))}function _d(){}var Ef=null,yu=null;function B0(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var U0=typeof setTimeout=="function"?setTimeout:void 0,gv=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(f){return vv.resolve(null).then(f).catch(t2)}:U0;function t2(f){setTimeout(function(){throw f})}function $0(f,p){var b=p,j=0;do{var I=b.nextSibling;if(f.removeChild(b),I&&I.nodeType===8)if(b=I.data,b==="/$"){if(j===0){f.removeChild(I),Qs(p);return}j--}else b!=="$"&&b!=="$?"&&b!=="$!"||j++;b=I}while(b);Qs(p)}function qa(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return f}function oo(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var b=f.data;if(b==="$"||b==="$!"||b==="$?"){if(p===0)return f;p--}else b==="/$"&&p++}f=f.previousSibling}return null}var hs=Math.random().toString(36).slice(2),cl="__reactFiber$"+hs,Nd="__reactProps$"+hs,ja="__reactContainer$"+hs,ps="__reactEvents$"+hs,r2="__reactListeners$"+hs,n2="__reactHandles$"+hs;function Mc(f){var p=f[cl];if(p)return p;for(var b=f.parentNode;b;){if(p=b[ja]||b[cl]){if(b=p.alternate,p.child!==null||b!==null&&b.child!==null)for(f=oo(f);f!==null;){if(b=f[cl])return b;f=oo(f)}return p}f=b,b=f.parentNode}return null}function jd(f){return f=f[cl]||f[ja],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function bu(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(r(33))}function Pf(f){return f[Nd]||null}var z0=[],Gl=-1;function To(f){return{current:f}}function cn(f){0>Gl||(f.current=z0[Gl],z0[Gl]=null,Gl--)}function fn(f,p){Gl++,z0[Gl]=f.current,f.current=p}var Fc={},la=To(Fc),ms=To(!1),wu=Fc;function Ad(f,p){var b=f.type.contextTypes;if(!b)return Fc;var j=f.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===p)return j.__reactInternalMemoizedMaskedChildContext;var I={},z;for(z in b)I[z]=p[z];return j&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=I),I}function gs(f){return f=f.childContextTypes,f!=null}function Kh(){cn(ms),cn(la)}function xv(f,p,b){if(la.current!==Fc)throw Error(r(168));fn(la,p),fn(ms,b)}function W0(f,p,b){var j=f.stateNode;if(p=p.childContextTypes,typeof j.getChildContext!="function")return b;j=j.getChildContext();for(var I in j)if(!(I in p))throw Error(r(108,Ae(f)||"Unknown",I));return Oe({},b,j)}function Su(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Fc,wu=la.current,fn(la,f),fn(ms,ms.current),!0}function yv(f,p,b){var j=f.stateNode;if(!j)throw Error(r(169));b?(f=W0(f,p,wu),j.__reactInternalMemoizedMergedChildContext=f,cn(ms),cn(la),fn(la,f)):cn(ms),fn(ms,b)}var Yl=null,Tf=!1,N=!1;function P(f){Yl===null?Yl=[f]:Yl.push(f)}function B(f){Tf=!0,P(f)}function W(){if(!N&&Yl!==null){N=!0;var f=0,p=Hr;try{var b=Yl;for(Hr=1;f<b.length;f++){var j=b[f];do j=j(!0);while(j!==null)}Yl=null,Tf=!1}catch(I){throw Yl!==null&&(Yl=Yl.slice(f+1)),rt(Rr,W),I}finally{Hr=p,N=!1}}return null}var re=[],le=0,de=null,ge=0,ye=[],_e=0,Fe=null,Je=1,Ee="";function We(f,p){re[le++]=ge,re[le++]=de,de=f,ge=p}function Xe(f,p,b){ye[_e++]=Je,ye[_e++]=Ee,ye[_e++]=Fe,Fe=f;var j=Je;f=Ee;var I=32-Kr(j)-1;j&=~(1<<I),b+=1;var z=32-Kr(p)+I;if(30<z){var ie=I-I%5;z=(j&(1<<ie)-1).toString(32),j>>=ie,I-=ie,Je=1<<32-Kr(p)+I|b<<I|j,Ee=z+f}else Je=1<<z|b<<I|j,Ee=f}function ft(f){f.return!==null&&(We(f,1),Xe(f,1,0))}function Qe(f){for(;f===de;)de=re[--le],re[le]=null,ge=re[--le],re[le]=null;for(;f===Fe;)Fe=ye[--_e],ye[_e]=null,Ee=ye[--_e],ye[_e]=null,Je=ye[--_e],ye[_e]=null}var ut=null,dt=null,mt=!1,vt=null;function ar(f,p){var b=pl(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=f,p=f.deletions,p===null?(f.deletions=[b],f.flags|=16):p.push(b)}function Vt(f,p){switch(f.tag){case 5:var b=f.type;return p=p.nodeType!==1||b.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(f.stateNode=p,ut=f,dt=qa(p.firstChild),!0):!1;case 6:return p=f.pendingProps===""||p.nodeType!==3?null:p,p!==null?(f.stateNode=p,ut=f,dt=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(b=Fe!==null?{id:Je,overflow:Ee}:null,f.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=pl(18,null,null,0),b.stateNode=p,b.return=f,f.child=b,ut=f,dt=null,!0):!1;default:return!1}}function kr(f){return(f.mode&1)!==0&&(f.flags&128)===0}function er(f){if(mt){var p=dt;if(p){var b=p;if(!Vt(f,p)){if(kr(f))throw Error(r(418));p=qa(b.nextSibling);var j=ut;p&&Vt(f,p)?ar(j,b):(f.flags=f.flags&-4097|2,mt=!1,ut=f)}}else{if(kr(f))throw Error(r(418));f.flags=f.flags&-4097|2,mt=!1,ut=f}}}function Ur(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;ut=f}function ri(f){if(f!==ut)return!1;if(!mt)return Ur(f),mt=!0,!1;var p;if((p=f.tag!==3)&&!(p=f.tag!==5)&&(p=f.type,p=p!=="head"&&p!=="body"&&!B0(f.type,f.memoizedProps)),p&&(p=dt)){if(kr(f))throw Or(),Error(r(418));for(;p;)ar(f,p),p=qa(p.nextSibling)}if(Ur(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8){var b=f.data;if(b==="/$"){if(p===0){dt=qa(f.nextSibling);break e}p--}else b!=="$"&&b!=="$!"&&b!=="$?"||p++}f=f.nextSibling}dt=null}}else dt=ut?qa(f.stateNode.nextSibling):null;return!0}function Or(){for(var f=dt;f;)f=qa(f.nextSibling)}function Kt(){dt=ut=null,mt=!1}function Lt(f){vt===null?vt=[f]:vt.push(f)}var di=E.ReactCurrentBatchConfig;function jr(f,p,b){if(f=b.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(r(309));var j=b.stateNode}if(!j)throw Error(r(147,f));var I=j,z=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===z?p.ref:(p=function(ie){var Ie=I.refs;ie===null?delete Ie[z]:Ie[z]=ie},p._stringRef=z,p)}if(typeof f!="string")throw Error(r(284));if(!b._owner)throw Error(r(290,f))}return f}function Br(f,p){throw f=Object.prototype.toString.call(p),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function En(f){var p=f._init;return p(f._payload)}function Ki(f){function p(Ze,He){if(f){var tt=Ze.deletions;tt===null?(Ze.deletions=[He],Ze.flags|=16):tt.push(He)}}function b(Ze,He){if(!f)return null;for(;He!==null;)p(Ze,He),He=He.sibling;return null}function j(Ze,He){for(Ze=new Map;He!==null;)He.key!==null?Ze.set(He.key,He):Ze.set(He.index,He),He=He.sibling;return Ze}function I(Ze,He){return Ze=Ld(Ze,He),Ze.index=0,Ze.sibling=null,Ze}function z(Ze,He,tt){return Ze.index=tt,f?(tt=Ze.alternate,tt!==null?(tt=tt.index,tt<He?(Ze.flags|=2,He):tt):(Ze.flags|=2,He)):(Ze.flags|=1048576,He)}function ie(Ze){return f&&Ze.alternate===null&&(Ze.flags|=2),Ze}function Ie(Ze,He,tt,Ct){return He===null||He.tag!==6?(He=D2(tt,Ze.mode,Ct),He.return=Ze,He):(He=I(He,tt),He.return=Ze,He)}function Be(Ze,He,tt,Ct){var lr=tt.type;return lr===C?Et(Ze,He,tt.props.children,Ct,tt.key):He!==null&&(He.elementType===lr||typeof lr=="object"&&lr!==null&&lr.$$typeof===ve&&En(lr)===He.type)?(Ct=I(He,tt.props),Ct.ref=jr(Ze,He,tt),Ct.return=Ze,Ct):(Ct=Bv(tt.type,tt.key,tt.props,null,Ze.mode,Ct),Ct.ref=jr(Ze,He,tt),Ct.return=Ze,Ct)}function ot(Ze,He,tt,Ct){return He===null||He.tag!==4||He.stateNode.containerInfo!==tt.containerInfo||He.stateNode.implementation!==tt.implementation?(He=O2(tt,Ze.mode,Ct),He.return=Ze,He):(He=I(He,tt.children||[]),He.return=Ze,He)}function Et(Ze,He,tt,Ct,lr){return He===null||He.tag!==7?(He=Mf(tt,Ze.mode,Ct,lr),He.return=Ze,He):(He=I(He,tt),He.return=Ze,He)}function Tt(Ze,He,tt){if(typeof He=="string"&&He!==""||typeof He=="number")return He=D2(""+He,Ze.mode,tt),He.return=Ze,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case T:return tt=Bv(He.type,He.key,He.props,null,Ze.mode,tt),tt.ref=jr(Ze,null,He),tt.return=Ze,tt;case D:return He=O2(He,Ze.mode,tt),He.return=Ze,He;case ve:var Ct=He._init;return Tt(Ze,Ct(He._payload),tt)}if($t(He)||be(He))return He=Mf(He,Ze.mode,tt,null),He.return=Ze,He;Br(Ze,He)}return null}function At(Ze,He,tt,Ct){var lr=He!==null?He.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number")return lr!==null?null:Ie(Ze,He,""+tt,Ct);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case T:return tt.key===lr?Be(Ze,He,tt,Ct):null;case D:return tt.key===lr?ot(Ze,He,tt,Ct):null;case ve:return lr=tt._init,At(Ze,He,lr(tt._payload),Ct)}if($t(tt)||be(tt))return lr!==null?null:Et(Ze,He,tt,Ct,null);Br(Ze,tt)}return null}function qt(Ze,He,tt,Ct,lr){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return Ze=Ze.get(tt)||null,Ie(He,Ze,""+Ct,lr);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case T:return Ze=Ze.get(Ct.key===null?tt:Ct.key)||null,Be(He,Ze,Ct,lr);case D:return Ze=Ze.get(Ct.key===null?tt:Ct.key)||null,ot(He,Ze,Ct,lr);case ve:var gr=Ct._init;return qt(Ze,He,tt,gr(Ct._payload),lr)}if($t(Ct)||be(Ct))return Ze=Ze.get(tt)||null,Et(He,Ze,Ct,lr,null);Br(He,Ct)}return null}function tr(Ze,He,tt,Ct){for(var lr=null,gr=null,vr=He,Er=He=0,ka=null;vr!==null&&Er<tt.length;Er++){vr.index>Er?(ka=vr,vr=null):ka=vr.sibling;var nn=At(Ze,vr,tt[Er],Ct);if(nn===null){vr===null&&(vr=ka);break}f&&vr&&nn.alternate===null&&p(Ze,vr),He=z(nn,He,Er),gr===null?lr=nn:gr.sibling=nn,gr=nn,vr=ka}if(Er===tt.length)return b(Ze,vr),mt&&We(Ze,Er),lr;if(vr===null){for(;Er<tt.length;Er++)vr=Tt(Ze,tt[Er],Ct),vr!==null&&(He=z(vr,He,Er),gr===null?lr=vr:gr.sibling=vr,gr=vr);return mt&&We(Ze,Er),lr}for(vr=j(Ze,vr);Er<tt.length;Er++)ka=qt(vr,Ze,Er,tt[Er],Ct),ka!==null&&(f&&ka.alternate!==null&&vr.delete(ka.key===null?Er:ka.key),He=z(ka,He,Er),gr===null?lr=ka:gr.sibling=ka,gr=ka);return f&&vr.forEach(function(Md){return p(Ze,Md)}),mt&&We(Ze,Er),lr}function ir(Ze,He,tt,Ct){var lr=be(tt);if(typeof lr!="function")throw Error(r(150));if(tt=lr.call(tt),tt==null)throw Error(r(151));for(var gr=lr=null,vr=He,Er=He=0,ka=null,nn=tt.next();vr!==null&&!nn.done;Er++,nn=tt.next()){vr.index>Er?(ka=vr,vr=null):ka=vr.sibling;var Md=At(Ze,vr,nn.value,Ct);if(Md===null){vr===null&&(vr=ka);break}f&&vr&&Md.alternate===null&&p(Ze,vr),He=z(Md,He,Er),gr===null?lr=Md:gr.sibling=Md,gr=Md,vr=ka}if(nn.done)return b(Ze,vr),mt&&We(Ze,Er),lr;if(vr===null){for(;!nn.done;Er++,nn=tt.next())nn=Tt(Ze,nn.value,Ct),nn!==null&&(He=z(nn,He,Er),gr===null?lr=nn:gr.sibling=nn,gr=nn);return mt&&We(Ze,Er),lr}for(vr=j(Ze,vr);!nn.done;Er++,nn=tt.next())nn=qt(vr,Ze,Er,nn.value,Ct),nn!==null&&(f&&nn.alternate!==null&&vr.delete(nn.key===null?Er:nn.key),He=z(nn,He,Er),gr===null?lr=nn:gr.sibling=nn,gr=nn);return f&&vr.forEach(function(UW){return p(Ze,UW)}),mt&&We(Ze,Er),lr}function $i(Ze,He,tt,Ct){if(typeof tt=="object"&&tt!==null&&tt.type===C&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case T:e:{for(var lr=tt.key,gr=He;gr!==null;){if(gr.key===lr){if(lr=tt.type,lr===C){if(gr.tag===7){b(Ze,gr.sibling),He=I(gr,tt.props.children),He.return=Ze,Ze=He;break e}}else if(gr.elementType===lr||typeof lr=="object"&&lr!==null&&lr.$$typeof===ve&&En(lr)===gr.type){b(Ze,gr.sibling),He=I(gr,tt.props),He.ref=jr(Ze,gr,tt),He.return=Ze,Ze=He;break e}b(Ze,gr);break}else p(Ze,gr);gr=gr.sibling}tt.type===C?(He=Mf(tt.props.children,Ze.mode,Ct,tt.key),He.return=Ze,Ze=He):(Ct=Bv(tt.type,tt.key,tt.props,null,Ze.mode,Ct),Ct.ref=jr(Ze,He,tt),Ct.return=Ze,Ze=Ct)}return ie(Ze);case D:e:{for(gr=tt.key;He!==null;){if(He.key===gr)if(He.tag===4&&He.stateNode.containerInfo===tt.containerInfo&&He.stateNode.implementation===tt.implementation){b(Ze,He.sibling),He=I(He,tt.children||[]),He.return=Ze,Ze=He;break e}else{b(Ze,He);break}else p(Ze,He);He=He.sibling}He=O2(tt,Ze.mode,Ct),He.return=Ze,Ze=He}return ie(Ze);case ve:return gr=tt._init,$i(Ze,He,gr(tt._payload),Ct)}if($t(tt))return tr(Ze,He,tt,Ct);if(be(tt))return ir(Ze,He,tt,Ct);Br(Ze,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"?(tt=""+tt,He!==null&&He.tag===6?(b(Ze,He.sibling),He=I(He,tt),He.return=Ze,Ze=He):(b(Ze,He),He=D2(tt,Ze.mode,Ct),He.return=Ze,Ze=He),ie(Ze)):b(Ze,He)}return $i}var ji=Ki(!0),Vn=Ki(!1),Bi=To(null),Gi=null,Fn=null,Wr=null;function en(){Wr=Fn=Gi=null}function Bn(f){var p=Bi.current;cn(Bi),f._currentValue=p}function tn(f,p,b){for(;f!==null;){var j=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,j!==null&&(j.childLanes|=p)):j!==null&&(j.childLanes&p)!==p&&(j.childLanes|=p),f===b)break;f=f.return}}function ni(f,p){Gi=f,Wr=Fn=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&p)!==0&&(co=!0),f.firstContext=null)}function ii(f){var p=f._currentValue;if(Wr!==f)if(f={context:f,memoizedValue:p,next:null},Fn===null){if(Gi===null)throw Error(r(308));Fn=f,Gi.dependencies={lanes:0,firstContext:f}}else Fn=Fn.next=f;return p}var vn=null;function Aa(f){vn===null?vn=[f]:vn.push(f)}function hn(f,p,b,j){var I=p.interleaved;return I===null?(b.next=b,Aa(p)):(b.next=I.next,I.next=b),p.interleaved=b,xn(f,j)}function xn(f,p){f.lanes|=p;var b=f.alternate;for(b!==null&&(b.lanes|=p),b=f,f=f.return;f!==null;)f.childLanes|=p,b=f.alternate,b!==null&&(b.childLanes|=p),b=f,f=f.return;return b.tag===3?b.stateNode:null}var Ai=!1;function ca(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vs(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function fi(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function hi(f,p,b){var j=f.updateQueue;if(j===null)return null;if(j=j.shared,(rn&2)!==0){var I=j.pending;return I===null?p.next=p:(p.next=I.next,I.next=p),j.pending=p,xn(f,b)}return I=j.interleaved,I===null?(p.next=p,Aa(j)):(p.next=I.next,I.next=p),j.interleaved=p,xn(f,b)}function Ea(f,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var j=p.lanes;j&=f.pendingLanes,b|=j,p.lanes=b,Ac(f,b)}}function yn(f,p){var b=f.updateQueue,j=f.alternate;if(j!==null&&(j=j.updateQueue,b===j)){var I=null,z=null;if(b=b.firstBaseUpdate,b!==null){do{var ie={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};z===null?I=z=ie:z=z.next=ie,b=b.next}while(b!==null);z===null?I=z=p:z=z.next=p}else I=z=p;b={baseState:j.baseState,firstBaseUpdate:I,lastBaseUpdate:z,shared:j.shared,effects:j.effects},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=p:f.next=p,b.lastBaseUpdate=p}function Pa(f,p,b,j){var I=f.updateQueue;Ai=!1;var z=I.firstBaseUpdate,ie=I.lastBaseUpdate,Ie=I.shared.pending;if(Ie!==null){I.shared.pending=null;var Be=Ie,ot=Be.next;Be.next=null,ie===null?z=ot:ie.next=ot,ie=Be;var Et=f.alternate;Et!==null&&(Et=Et.updateQueue,Ie=Et.lastBaseUpdate,Ie!==ie&&(Ie===null?Et.firstBaseUpdate=ot:Ie.next=ot,Et.lastBaseUpdate=Be))}if(z!==null){var Tt=I.baseState;ie=0,Et=ot=Be=null,Ie=z;do{var At=Ie.lane,qt=Ie.eventTime;if((j&At)===At){Et!==null&&(Et=Et.next={eventTime:qt,lane:0,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null});e:{var tr=f,ir=Ie;switch(At=p,qt=b,ir.tag){case 1:if(tr=ir.payload,typeof tr=="function"){Tt=tr.call(qt,Tt,At);break e}Tt=tr;break e;case 3:tr.flags=tr.flags&-65537|128;case 0:if(tr=ir.payload,At=typeof tr=="function"?tr.call(qt,Tt,At):tr,At==null)break e;Tt=Oe({},Tt,At);break e;case 2:Ai=!0}}Ie.callback!==null&&Ie.lane!==0&&(f.flags|=64,At=I.effects,At===null?I.effects=[Ie]:At.push(Ie))}else qt={eventTime:qt,lane:At,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null},Et===null?(ot=Et=qt,Be=Tt):Et=Et.next=qt,ie|=At;if(Ie=Ie.next,Ie===null){if(Ie=I.shared.pending,Ie===null)break;At=Ie,Ie=At.next,At.next=null,I.lastBaseUpdate=At,I.shared.pending=null}}while(!0);if(Et===null&&(Be=Tt),I.baseState=Be,I.firstBaseUpdate=ot,I.lastBaseUpdate=Et,p=I.shared.interleaved,p!==null){I=p;do ie|=I.lane,I=I.next;while(I!==p)}else z===null&&(I.shared.lanes=0);Of|=ie,f.lanes=ie,f.memoizedState=Tt}}function lo(f,p,b){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var j=f[p],I=j.callback;if(I!==null){if(j.callback=null,j=b,typeof I!="function")throw Error(r(191,I));I.call(j)}}}var ko={},Yi=To(ko),pi=To(ko),Bc=To(ko);function Xl(f){if(f===ko)throw Error(r(174));return f}function Ed(f,p){switch(fn(Bc,p),fn(pi,f),fn(Yi,ko),f=p.nodeType,f){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:kt(null,"");break;default:f=f===8?p.parentNode:p,p=f.namespaceURI||null,f=f.tagName,p=kt(p,f)}cn(Yi),fn(Yi,p)}function ul(){cn(Yi),cn(pi),cn(Bc)}function bv(f){Xl(Bc.current);var p=Xl(Yi.current),b=kt(p,f.type);p!==b&&(fn(pi,f),fn(Yi,b))}function q0(f){pi.current===f&&(cn(Yi),cn(pi))}var Dn=To(0);function Co(f){for(var p=f;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var H0=[];function V0(){for(var f=0;f<H0.length;f++)H0[f]._workInProgressVersionPrimary=null;H0.length=0}var Gh=E.ReactCurrentDispatcher,Yh=E.ReactCurrentBatchConfig,dl=0,Un=null,Ei=null,mi=null,Pd=!1,Jl=!1,Td=0,i2=0;function Ui(){throw Error(r(321))}function Xh(f,p){if(p===null)return!1;for(var b=0;b<p.length&&b<f.length;b++)if(!ei(f[b],p[b]))return!1;return!0}function kf(f,p,b,j,I,z){if(dl=z,Un=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Gh.current=f===null||f.memoizedState===null?fW:hW,f=b(j,I),Jl){z=0;do{if(Jl=!1,Td=0,25<=z)throw Error(r(301));z+=1,mi=Ei=null,p.updateQueue=null,Gh.current=pW,f=b(j,I)}while(Jl)}if(Gh.current=jv,p=Ei!==null&&Ei.next!==null,dl=0,mi=Ei=Un=null,Pd=!1,p)throw Error(r(300));return f}function fl(){var f=Td!==0;return Td=0,f}function Do(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?Un.memoizedState=mi=f:mi=mi.next=f,mi}function Us(){if(Ei===null){var f=Un.alternate;f=f!==null?f.memoizedState:null}else f=Ei.next;var p=mi===null?Un.memoizedState:mi.next;if(p!==null)mi=p,Ei=f;else{if(f===null)throw Error(r(310));Ei=f,f={memoizedState:Ei.memoizedState,baseState:Ei.baseState,baseQueue:Ei.baseQueue,queue:Ei.queue,next:null},mi===null?Un.memoizedState=mi=f:mi=mi.next=f}return mi}function Cf(f,p){return typeof p=="function"?p(f):p}function Jh(f){var p=Us(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=f;var j=Ei,I=j.baseQueue,z=b.pending;if(z!==null){if(I!==null){var ie=I.next;I.next=z.next,z.next=ie}j.baseQueue=I=z,b.pending=null}if(I!==null){z=I.next,j=j.baseState;var Ie=ie=null,Be=null,ot=z;do{var Et=ot.lane;if((dl&Et)===Et)Be!==null&&(Be=Be.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),j=ot.hasEagerState?ot.eagerState:f(j,ot.action);else{var Tt={lane:Et,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};Be===null?(Ie=Be=Tt,ie=j):Be=Be.next=Tt,Un.lanes|=Et,Of|=Et}ot=ot.next}while(ot!==null&&ot!==z);Be===null?ie=j:Be.next=Ie,ei(j,p.memoizedState)||(co=!0),p.memoizedState=j,p.baseState=ie,p.baseQueue=Be,b.lastRenderedState=j}if(f=b.interleaved,f!==null){I=f;do z=I.lane,Un.lanes|=z,Of|=z,I=I.next;while(I!==f)}else I===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function Uc(f){var p=Us(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=f;var j=b.dispatch,I=b.pending,z=p.memoizedState;if(I!==null){b.pending=null;var ie=I=I.next;do z=f(z,ie.action),ie=ie.next;while(ie!==I);ei(z,p.memoizedState)||(co=!0),p.memoizedState=z,p.baseQueue===null&&(p.baseState=z),b.lastRenderedState=z}return[z,j]}function wv(){}function K0(f,p){var b=Un,j=Us(),I=p(),z=!ei(j.memoizedState,I);if(z&&(j.memoizedState=I,co=!0),j=j.queue,ep(_v.bind(null,b,j,f),[f]),j.getSnapshot!==p||z||mi!==null&&mi.memoizedState.tag&1){if(b.flags|=2048,$s(9,G0.bind(null,b,j,I,p),void 0,null),Ta===null)throw Error(r(349));(dl&30)!==0||Sv(b,p,I)}return I}function Sv(f,p,b){f.flags|=16384,f={getSnapshot:p,value:b},p=Un.updateQueue,p===null?(p={lastEffect:null,stores:null},Un.updateQueue=p,p.stores=[f]):(b=p.stores,b===null?p.stores=[f]:b.push(f))}function G0(f,p,b,j){p.value=b,p.getSnapshot=j,kd(p)&&Zh(f)}function _v(f,p,b){return b(function(){kd(p)&&Zh(f)})}function kd(f){var p=f.getSnapshot;f=f.value;try{var b=p();return!ei(f,b)}catch{return!0}}function Zh(f){var p=xn(f,1);p!==null&&rc(p,f,1,-1)}function Df(f){var p=Do();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:f},p.queue=f,f=f.dispatch=dW.bind(null,Un,f),[p.memoizedState,f]}function $s(f,p,b,j){return f={tag:f,create:p,destroy:b,deps:j,next:null},p=Un.updateQueue,p===null?(p={lastEffect:null,stores:null},Un.updateQueue=p,p.lastEffect=f.next=f):(b=p.lastEffect,b===null?p.lastEffect=f.next=f:(j=b.next,b.next=f,f.next=j,p.lastEffect=f)),f}function Zl(){return Us().memoizedState}function Oo(f,p,b,j){var I=Do();Un.flags|=f,I.memoizedState=$s(1|p,b,void 0,j===void 0?null:j)}function _u(f,p,b,j){var I=Us();j=j===void 0?null:j;var z=void 0;if(Ei!==null){var ie=Ei.memoizedState;if(z=ie.destroy,j!==null&&Xh(j,ie.deps)){I.memoizedState=$s(p,b,z,j);return}}Un.flags|=f,I.memoizedState=$s(1|p,b,z,j)}function Qh(f,p){return Oo(8390656,8,f,p)}function ep(f,p){return _u(2048,8,f,p)}function Nv(f,p){return _u(4,2,f,p)}function tp(f,p){return _u(4,4,f,p)}function rp(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function a3(f,p,b){return b=b!=null?b.concat([f]):null,_u(4,4,rp.bind(null,p,f),b)}function a2(){}function s3(f,p){var b=Us();p=p===void 0?null:p;var j=b.memoizedState;return j!==null&&p!==null&&Xh(p,j[1])?j[0]:(b.memoizedState=[f,p],f)}function o3(f,p){var b=Us();p=p===void 0?null:p;var j=b.memoizedState;return j!==null&&p!==null&&Xh(p,j[1])?j[0]:(f=f(),b.memoizedState=[f,p],f)}function l3(f,p,b){return(dl&21)===0?(f.baseState&&(f.baseState=!1,co=!0),f.memoizedState=b):(ei(b,p)||(b=jc(),Un.lanes|=b,Of|=b,f.baseState=!0),p)}function cW(f,p){var b=Hr;Hr=b!==0&&4>b?b:4,f(!0);var j=Yh.transition;Yh.transition={};try{f(!1),p()}finally{Hr=b,Yh.transition=j}}function c3(){return Us().memoizedState}function uW(f,p,b){var j=Id(f);if(b={lane:j,action:b,hasEagerState:!1,eagerState:null,next:null},u3(f))d3(p,b);else if(b=hn(f,p,b,j),b!==null){var I=Ws();rc(b,f,j,I),f3(b,p,j)}}function dW(f,p,b){var j=Id(f),I={lane:j,action:b,hasEagerState:!1,eagerState:null,next:null};if(u3(f))d3(p,I);else{var z=f.alternate;if(f.lanes===0&&(z===null||z.lanes===0)&&(z=p.lastRenderedReducer,z!==null))try{var ie=p.lastRenderedState,Ie=z(ie,b);if(I.hasEagerState=!0,I.eagerState=Ie,ei(Ie,ie)){var Be=p.interleaved;Be===null?(I.next=I,Aa(p)):(I.next=Be.next,Be.next=I),p.interleaved=I;return}}catch{}b=hn(f,p,I,j),b!==null&&(I=Ws(),rc(b,f,j,I),f3(b,p,j))}}function u3(f){var p=f.alternate;return f===Un||p!==null&&p===Un}function d3(f,p){Jl=Pd=!0;var b=f.pending;b===null?p.next=p:(p.next=b.next,b.next=p),f.pending=p}function f3(f,p,b){if((b&4194240)!==0){var j=p.lanes;j&=f.pendingLanes,b|=j,p.lanes=b,Ac(f,b)}}var jv={readContext:ii,useCallback:Ui,useContext:Ui,useEffect:Ui,useImperativeHandle:Ui,useInsertionEffect:Ui,useLayoutEffect:Ui,useMemo:Ui,useReducer:Ui,useRef:Ui,useState:Ui,useDebugValue:Ui,useDeferredValue:Ui,useTransition:Ui,useMutableSource:Ui,useSyncExternalStore:Ui,useId:Ui,unstable_isNewReconciler:!1},fW={readContext:ii,useCallback:function(f,p){return Do().memoizedState=[f,p===void 0?null:p],f},useContext:ii,useEffect:Qh,useImperativeHandle:function(f,p,b){return b=b!=null?b.concat([f]):null,Oo(4194308,4,rp.bind(null,p,f),b)},useLayoutEffect:function(f,p){return Oo(4194308,4,f,p)},useInsertionEffect:function(f,p){return Oo(4,2,f,p)},useMemo:function(f,p){var b=Do();return p=p===void 0?null:p,f=f(),b.memoizedState=[f,p],f},useReducer:function(f,p,b){var j=Do();return p=b!==void 0?b(p):p,j.memoizedState=j.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},j.queue=f,f=f.dispatch=uW.bind(null,Un,f),[j.memoizedState,f]},useRef:function(f){var p=Do();return f={current:f},p.memoizedState=f},useState:Df,useDebugValue:a2,useDeferredValue:function(f){return Do().memoizedState=f},useTransition:function(){var f=Df(!1),p=f[0];return f=cW.bind(null,f[1]),Do().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,b){var j=Un,I=Do();if(mt){if(b===void 0)throw Error(r(407));b=b()}else{if(b=p(),Ta===null)throw Error(r(349));(dl&30)!==0||Sv(j,p,b)}I.memoizedState=b;var z={value:b,getSnapshot:p};return I.queue=z,Qh(_v.bind(null,j,z,f),[f]),j.flags|=2048,$s(9,G0.bind(null,j,z,b,p),void 0,null),b},useId:function(){var f=Do(),p=Ta.identifierPrefix;if(mt){var b=Ee,j=Je;b=(j&~(1<<32-Kr(j)-1)).toString(32)+b,p=":"+p+"R"+b,b=Td++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=i2++,p=":"+p+"r"+b.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},hW={readContext:ii,useCallback:s3,useContext:ii,useEffect:ep,useImperativeHandle:a3,useInsertionEffect:Nv,useLayoutEffect:tp,useMemo:o3,useReducer:Jh,useRef:Zl,useState:function(){return Jh(Cf)},useDebugValue:a2,useDeferredValue:function(f){var p=Us();return l3(p,Ei.memoizedState,f)},useTransition:function(){var f=Jh(Cf)[0],p=Us().memoizedState;return[f,p]},useMutableSource:wv,useSyncExternalStore:K0,useId:c3,unstable_isNewReconciler:!1},pW={readContext:ii,useCallback:s3,useContext:ii,useEffect:ep,useImperativeHandle:a3,useInsertionEffect:Nv,useLayoutEffect:tp,useMemo:o3,useReducer:Uc,useRef:Zl,useState:function(){return Uc(Cf)},useDebugValue:a2,useDeferredValue:function(f){var p=Us();return Ei===null?p.memoizedState=f:l3(p,Ei.memoizedState,f)},useTransition:function(){var f=Uc(Cf)[0],p=Us().memoizedState;return[f,p]},useMutableSource:wv,useSyncExternalStore:K0,useId:c3,unstable_isNewReconciler:!1};function Ql(f,p){if(f&&f.defaultProps){p=Oe({},p),f=f.defaultProps;for(var b in f)p[b]===void 0&&(p[b]=f[b]);return p}return p}function s2(f,p,b,j){p=f.memoizedState,b=b(j,p),b=b==null?p:Oe({},p,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}var Av={isMounted:function(f){return(f=f._reactInternals)?me(f)===f:!1},enqueueSetState:function(f,p,b){f=f._reactInternals;var j=Ws(),I=Id(f),z=fi(j,I);z.payload=p,b!=null&&(z.callback=b),p=hi(f,z,I),p!==null&&(rc(p,f,I,j),Ea(p,f,I))},enqueueReplaceState:function(f,p,b){f=f._reactInternals;var j=Ws(),I=Id(f),z=fi(j,I);z.tag=1,z.payload=p,b!=null&&(z.callback=b),p=hi(f,z,I),p!==null&&(rc(p,f,I,j),Ea(p,f,I))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var b=Ws(),j=Id(f),I=fi(b,j);I.tag=2,p!=null&&(I.callback=p),p=hi(f,I,j),p!==null&&(rc(p,f,j,b),Ea(p,f,j))}};function h3(f,p,b,j,I,z,ie){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(j,z,ie):p.prototype&&p.prototype.isPureReactComponent?!fs(b,j)||!fs(I,z):!0}function p3(f,p,b){var j=!1,I=Fc,z=p.contextType;return typeof z=="object"&&z!==null?z=ii(z):(I=gs(p)?wu:la.current,j=p.contextTypes,z=(j=j!=null)?Ad(f,I):Fc),p=new p(b,z),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Av,f.stateNode=p,p._reactInternals=f,j&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=I,f.__reactInternalMemoizedMaskedChildContext=z),p}function m3(f,p,b,j){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,j),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,j),p.state!==f&&Av.enqueueReplaceState(p,p.state,null)}function o2(f,p,b,j){var I=f.stateNode;I.props=b,I.state=f.memoizedState,I.refs={},ca(f);var z=p.contextType;typeof z=="object"&&z!==null?I.context=ii(z):(z=gs(p)?wu:la.current,I.context=Ad(f,z)),I.state=f.memoizedState,z=p.getDerivedStateFromProps,typeof z=="function"&&(s2(f,p,z,b),I.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(p=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),p!==I.state&&Av.enqueueReplaceState(I,I.state,null),Pa(f,b,I,j),I.state=f.memoizedState),typeof I.componentDidMount=="function"&&(f.flags|=4194308)}function np(f,p){try{var b="",j=p;do b+=J(j),j=j.return;while(j);var I=b}catch(z){I=`
Error generating stack: `+z.message+`
`+z.stack}return{value:f,source:p,stack:I,digest:null}}function l2(f,p,b){return{value:f,source:null,stack:b??null,digest:p??null}}function c2(f,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var mW=typeof WeakMap=="function"?WeakMap:Map;function g3(f,p,b){b=fi(-1,b),b.tag=3,b.payload={element:null};var j=p.value;return b.callback=function(){Ov||(Ov=!0,N2=j),c2(f,p)},b}function v3(f,p,b){b=fi(-1,b),b.tag=3;var j=f.type.getDerivedStateFromError;if(typeof j=="function"){var I=p.value;b.payload=function(){return j(I)},b.callback=function(){c2(f,p)}}var z=f.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(b.callback=function(){c2(f,p),typeof j!="function"&&(Dd===null?Dd=new Set([this]):Dd.add(this));var ie=p.stack;this.componentDidCatch(p.value,{componentStack:ie!==null?ie:""})}),b}function x3(f,p,b){var j=f.pingCache;if(j===null){j=f.pingCache=new mW;var I=new Set;j.set(p,I)}else I=j.get(p),I===void 0&&(I=new Set,j.set(p,I));I.has(b)||(I.add(b),f=TW.bind(null,f,p,b),p.then(f,f))}function y3(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function b3(f,p,b,j,I){return(f.mode&1)===0?(f===p?f.flags|=65536:(f.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=fi(-1,1),p.tag=2,hi(b,p,1))),b.lanes|=1),f):(f.flags|=65536,f.lanes=I,f)}var gW=E.ReactCurrentOwner,co=!1;function zs(f,p,b,j){p.child=f===null?Vn(p,null,b,j):ji(p,f.child,b,j)}function w3(f,p,b,j,I){b=b.render;var z=p.ref;return ni(p,I),j=kf(f,p,b,j,z,I),b=fl(),f!==null&&!co?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~I,Nu(f,p,I)):(mt&&b&&ft(p),p.flags|=1,zs(f,p,j,I),p.child)}function S3(f,p,b,j,I){if(f===null){var z=b.type;return typeof z=="function"&&!C2(z)&&z.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=z,_3(f,p,z,j,I)):(f=Bv(b.type,null,j,p,p.mode,I),f.ref=p.ref,f.return=p,p.child=f)}if(z=f.child,(f.lanes&I)===0){var ie=z.memoizedProps;if(b=b.compare,b=b!==null?b:fs,b(ie,j)&&f.ref===p.ref)return Nu(f,p,I)}return p.flags|=1,f=Ld(z,j),f.ref=p.ref,f.return=p,p.child=f}function _3(f,p,b,j,I){if(f!==null){var z=f.memoizedProps;if(fs(z,j)&&f.ref===p.ref)if(co=!1,p.pendingProps=j=z,(f.lanes&I)!==0)(f.flags&131072)!==0&&(co=!0);else return p.lanes=f.lanes,Nu(f,p,I)}return u2(f,p,b,j,I)}function N3(f,p,b){var j=p.pendingProps,I=j.children,z=f!==null?f.memoizedState:null;if(j.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},fn(ap,Io),Io|=b;else{if((b&1073741824)===0)return f=z!==null?z.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null,transitions:null},p.updateQueue=null,fn(ap,Io),Io|=f,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=z!==null?z.baseLanes:b,fn(ap,Io),Io|=j}else z!==null?(j=z.baseLanes|b,p.memoizedState=null):j=b,fn(ap,Io),Io|=j;return zs(f,p,I,b),p.child}function j3(f,p){var b=p.ref;(f===null&&b!==null||f!==null&&f.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function u2(f,p,b,j,I){var z=gs(b)?wu:la.current;return z=Ad(p,z),ni(p,I),b=kf(f,p,b,j,z,I),j=fl(),f!==null&&!co?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~I,Nu(f,p,I)):(mt&&j&&ft(p),p.flags|=1,zs(f,p,b,I),p.child)}function A3(f,p,b,j,I){if(gs(b)){var z=!0;Su(p)}else z=!1;if(ni(p,I),p.stateNode===null)Pv(f,p),p3(p,b,j),o2(p,b,j,I),j=!0;else if(f===null){var ie=p.stateNode,Ie=p.memoizedProps;ie.props=Ie;var Be=ie.context,ot=b.contextType;typeof ot=="object"&&ot!==null?ot=ii(ot):(ot=gs(b)?wu:la.current,ot=Ad(p,ot));var Et=b.getDerivedStateFromProps,Tt=typeof Et=="function"||typeof ie.getSnapshotBeforeUpdate=="function";Tt||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(Ie!==j||Be!==ot)&&m3(p,ie,j,ot),Ai=!1;var At=p.memoizedState;ie.state=At,Pa(p,j,ie,I),Be=p.memoizedState,Ie!==j||At!==Be||ms.current||Ai?(typeof Et=="function"&&(s2(p,b,Et,j),Be=p.memoizedState),(Ie=Ai||h3(p,b,Ie,j,At,Be,ot))?(Tt||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount()),typeof ie.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ie.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=j,p.memoizedState=Be),ie.props=j,ie.state=Be,ie.context=ot,j=Ie):(typeof ie.componentDidMount=="function"&&(p.flags|=4194308),j=!1)}else{ie=p.stateNode,vs(f,p),Ie=p.memoizedProps,ot=p.type===p.elementType?Ie:Ql(p.type,Ie),ie.props=ot,Tt=p.pendingProps,At=ie.context,Be=b.contextType,typeof Be=="object"&&Be!==null?Be=ii(Be):(Be=gs(b)?wu:la.current,Be=Ad(p,Be));var qt=b.getDerivedStateFromProps;(Et=typeof qt=="function"||typeof ie.getSnapshotBeforeUpdate=="function")||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(Ie!==Tt||At!==Be)&&m3(p,ie,j,Be),Ai=!1,At=p.memoizedState,ie.state=At,Pa(p,j,ie,I);var tr=p.memoizedState;Ie!==Tt||At!==tr||ms.current||Ai?(typeof qt=="function"&&(s2(p,b,qt,j),tr=p.memoizedState),(ot=Ai||h3(p,b,ot,j,At,tr,Be)||!1)?(Et||typeof ie.UNSAFE_componentWillUpdate!="function"&&typeof ie.componentWillUpdate!="function"||(typeof ie.componentWillUpdate=="function"&&ie.componentWillUpdate(j,tr,Be),typeof ie.UNSAFE_componentWillUpdate=="function"&&ie.UNSAFE_componentWillUpdate(j,tr,Be)),typeof ie.componentDidUpdate=="function"&&(p.flags|=4),typeof ie.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ie.componentDidUpdate!="function"||Ie===f.memoizedProps&&At===f.memoizedState||(p.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||Ie===f.memoizedProps&&At===f.memoizedState||(p.flags|=1024),p.memoizedProps=j,p.memoizedState=tr),ie.props=j,ie.state=tr,ie.context=Be,j=ot):(typeof ie.componentDidUpdate!="function"||Ie===f.memoizedProps&&At===f.memoizedState||(p.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||Ie===f.memoizedProps&&At===f.memoizedState||(p.flags|=1024),j=!1)}return d2(f,p,b,j,z,I)}function d2(f,p,b,j,I,z){j3(f,p);var ie=(p.flags&128)!==0;if(!j&&!ie)return I&&yv(p,b,!1),Nu(f,p,z);j=p.stateNode,gW.current=p;var Ie=ie&&typeof b.getDerivedStateFromError!="function"?null:j.render();return p.flags|=1,f!==null&&ie?(p.child=ji(p,f.child,null,z),p.child=ji(p,null,Ie,z)):zs(f,p,Ie,z),p.memoizedState=j.state,I&&yv(p,b,!0),p.child}function E3(f){var p=f.stateNode;p.pendingContext?xv(f,p.pendingContext,p.pendingContext!==p.context):p.context&&xv(f,p.context,!1),Ed(f,p.containerInfo)}function P3(f,p,b,j,I){return Kt(),Lt(I),p.flags|=256,zs(f,p,b,j),p.child}var f2={dehydrated:null,treeContext:null,retryLane:0};function h2(f){return{baseLanes:f,cachePool:null,transitions:null}}function T3(f,p,b){var j=p.pendingProps,I=Dn.current,z=!1,ie=(p.flags&128)!==0,Ie;if((Ie=ie)||(Ie=f!==null&&f.memoizedState===null?!1:(I&2)!==0),Ie?(z=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(I|=1),fn(Dn,I&1),f===null)return er(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((p.mode&1)===0?p.lanes=1:f.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(ie=j.children,f=j.fallback,z?(j=p.mode,z=p.child,ie={mode:"hidden",children:ie},(j&1)===0&&z!==null?(z.childLanes=0,z.pendingProps=ie):z=Uv(ie,j,0,null),f=Mf(f,j,b,null),z.return=p,f.return=p,z.sibling=f,p.child=z,p.child.memoizedState=h2(b),p.memoizedState=f2,f):p2(p,ie));if(I=f.memoizedState,I!==null&&(Ie=I.dehydrated,Ie!==null))return vW(f,p,ie,j,Ie,I,b);if(z){z=j.fallback,ie=p.mode,I=f.child,Ie=I.sibling;var Be={mode:"hidden",children:j.children};return(ie&1)===0&&p.child!==I?(j=p.child,j.childLanes=0,j.pendingProps=Be,p.deletions=null):(j=Ld(I,Be),j.subtreeFlags=I.subtreeFlags&14680064),Ie!==null?z=Ld(Ie,z):(z=Mf(z,ie,b,null),z.flags|=2),z.return=p,j.return=p,j.sibling=z,p.child=j,j=z,z=p.child,ie=f.child.memoizedState,ie=ie===null?h2(b):{baseLanes:ie.baseLanes|b,cachePool:null,transitions:ie.transitions},z.memoizedState=ie,z.childLanes=f.childLanes&~b,p.memoizedState=f2,j}return z=f.child,f=z.sibling,j=Ld(z,{mode:"visible",children:j.children}),(p.mode&1)===0&&(j.lanes=b),j.return=p,j.sibling=null,f!==null&&(b=p.deletions,b===null?(p.deletions=[f],p.flags|=16):b.push(f)),p.child=j,p.memoizedState=null,j}function p2(f,p){return p=Uv({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function Ev(f,p,b,j){return j!==null&&Lt(j),ji(p,f.child,null,b),f=p2(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function vW(f,p,b,j,I,z,ie){if(b)return p.flags&256?(p.flags&=-257,j=l2(Error(r(422))),Ev(f,p,ie,j)):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(z=j.fallback,I=p.mode,j=Uv({mode:"visible",children:j.children},I,0,null),z=Mf(z,I,ie,null),z.flags|=2,j.return=p,z.return=p,j.sibling=z,p.child=j,(p.mode&1)!==0&&ji(p,f.child,null,ie),p.child.memoizedState=h2(ie),p.memoizedState=f2,z);if((p.mode&1)===0)return Ev(f,p,ie,null);if(I.data==="$!"){if(j=I.nextSibling&&I.nextSibling.dataset,j)var Ie=j.dgst;return j=Ie,z=Error(r(419)),j=l2(z,j,void 0),Ev(f,p,ie,j)}if(Ie=(ie&f.childLanes)!==0,co||Ie){if(j=Ta,j!==null){switch(ie&-ie){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=(I&(j.suspendedLanes|ie))!==0?0:I,I!==0&&I!==z.retryLane&&(z.retryLane=I,xn(f,I),rc(j,f,I,-1))}return k2(),j=l2(Error(r(421))),Ev(f,p,ie,j)}return I.data==="$?"?(p.flags|=128,p.child=f.child,p=kW.bind(null,f),I._reactRetry=p,null):(f=z.treeContext,dt=qa(I.nextSibling),ut=p,mt=!0,vt=null,f!==null&&(ye[_e++]=Je,ye[_e++]=Ee,ye[_e++]=Fe,Je=f.id,Ee=f.overflow,Fe=p),p=p2(p,j.children),p.flags|=4096,p)}function k3(f,p,b){f.lanes|=p;var j=f.alternate;j!==null&&(j.lanes|=p),tn(f.return,p,b)}function m2(f,p,b,j,I){var z=f.memoizedState;z===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:j,tail:b,tailMode:I}:(z.isBackwards=p,z.rendering=null,z.renderingStartTime=0,z.last=j,z.tail=b,z.tailMode=I)}function C3(f,p,b){var j=p.pendingProps,I=j.revealOrder,z=j.tail;if(zs(f,p,j.children,b),j=Dn.current,(j&2)!==0)j=j&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&k3(f,b,p);else if(f.tag===19)k3(f,b,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}j&=1}if(fn(Dn,j),(p.mode&1)===0)p.memoizedState=null;else switch(I){case"forwards":for(b=p.child,I=null;b!==null;)f=b.alternate,f!==null&&Co(f)===null&&(I=b),b=b.sibling;b=I,b===null?(I=p.child,p.child=null):(I=b.sibling,b.sibling=null),m2(p,!1,I,b,z);break;case"backwards":for(b=null,I=p.child,p.child=null;I!==null;){if(f=I.alternate,f!==null&&Co(f)===null){p.child=I;break}f=I.sibling,I.sibling=b,b=I,I=f}m2(p,!0,b,null,z);break;case"together":m2(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Pv(f,p){(p.mode&1)===0&&f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2)}function Nu(f,p,b){if(f!==null&&(p.dependencies=f.dependencies),Of|=p.lanes,(b&p.childLanes)===0)return null;if(f!==null&&p.child!==f.child)throw Error(r(153));if(p.child!==null){for(f=p.child,b=Ld(f,f.pendingProps),p.child=b,b.return=p;f.sibling!==null;)f=f.sibling,b=b.sibling=Ld(f,f.pendingProps),b.return=p;b.sibling=null}return p.child}function xW(f,p,b){switch(p.tag){case 3:E3(p),Kt();break;case 5:bv(p);break;case 1:gs(p.type)&&Su(p);break;case 4:Ed(p,p.stateNode.containerInfo);break;case 10:var j=p.type._context,I=p.memoizedProps.value;fn(Bi,j._currentValue),j._currentValue=I;break;case 13:if(j=p.memoizedState,j!==null)return j.dehydrated!==null?(fn(Dn,Dn.current&1),p.flags|=128,null):(b&p.child.childLanes)!==0?T3(f,p,b):(fn(Dn,Dn.current&1),f=Nu(f,p,b),f!==null?f.sibling:null);fn(Dn,Dn.current&1);break;case 19:if(j=(b&p.childLanes)!==0,(f.flags&128)!==0){if(j)return C3(f,p,b);p.flags|=128}if(I=p.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),fn(Dn,Dn.current),j)break;return null;case 22:case 23:return p.lanes=0,N3(f,p,b)}return Nu(f,p,b)}var D3,g2,O3,I3;D3=function(f,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},g2=function(){},O3=function(f,p,b,j){var I=f.memoizedProps;if(I!==j){f=p.stateNode,Xl(Yi.current);var z=null;switch(b){case"input":I=$e(f,I),j=$e(f,j),z=[];break;case"select":I=Oe({},I,{value:void 0}),j=Oe({},j,{value:void 0}),z=[];break;case"textarea":I=Xt(f,I),j=Xt(f,j),z=[];break;default:typeof I.onClick!="function"&&typeof j.onClick=="function"&&(f.onclick=_d)}Fr(b,j);var ie;b=null;for(ot in I)if(!j.hasOwnProperty(ot)&&I.hasOwnProperty(ot)&&I[ot]!=null)if(ot==="style"){var Ie=I[ot];for(ie in Ie)Ie.hasOwnProperty(ie)&&(b||(b={}),b[ie]="")}else ot!=="dangerouslySetInnerHTML"&&ot!=="children"&&ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(i.hasOwnProperty(ot)?z||(z=[]):(z=z||[]).push(ot,null));for(ot in j){var Be=j[ot];if(Ie=I?.[ot],j.hasOwnProperty(ot)&&Be!==Ie&&(Be!=null||Ie!=null))if(ot==="style")if(Ie){for(ie in Ie)!Ie.hasOwnProperty(ie)||Be&&Be.hasOwnProperty(ie)||(b||(b={}),b[ie]="");for(ie in Be)Be.hasOwnProperty(ie)&&Ie[ie]!==Be[ie]&&(b||(b={}),b[ie]=Be[ie])}else b||(z||(z=[]),z.push(ot,b)),b=Be;else ot==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Ie=Ie?Ie.__html:void 0,Be!=null&&Ie!==Be&&(z=z||[]).push(ot,Be)):ot==="children"?typeof Be!="string"&&typeof Be!="number"||(z=z||[]).push(ot,""+Be):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&(i.hasOwnProperty(ot)?(Be!=null&&ot==="onScroll"&&gn("scroll",f),z||Ie===Be||(z=[])):(z=z||[]).push(ot,Be))}b&&(z=z||[]).push("style",b);var ot=z;(p.updateQueue=ot)&&(p.flags|=4)}},I3=function(f,p,b,j){b!==j&&(p.flags|=4)};function Y0(f,p){if(!mt)switch(f.tailMode){case"hidden":p=f.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var j=null;b!==null;)b.alternate!==null&&(j=b),b=b.sibling;j===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:j.sibling=null}}function xs(f){var p=f.alternate!==null&&f.alternate.child===f.child,b=0,j=0;if(p)for(var I=f.child;I!==null;)b|=I.lanes|I.childLanes,j|=I.subtreeFlags&14680064,j|=I.flags&14680064,I.return=f,I=I.sibling;else for(I=f.child;I!==null;)b|=I.lanes|I.childLanes,j|=I.subtreeFlags,j|=I.flags,I.return=f,I=I.sibling;return f.subtreeFlags|=j,f.childLanes=b,p}function yW(f,p,b){var j=p.pendingProps;switch(Qe(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xs(p),null;case 1:return gs(p.type)&&Kh(),xs(p),null;case 3:return j=p.stateNode,ul(),cn(ms),cn(la),V0(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(f===null||f.child===null)&&(ri(p)?p.flags|=4:f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,vt!==null&&(E2(vt),vt=null))),g2(f,p),xs(p),null;case 5:q0(p);var I=Xl(Bc.current);if(b=p.type,f!==null&&p.stateNode!=null)O3(f,p,b,j,I),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!j){if(p.stateNode===null)throw Error(r(166));return xs(p),null}if(f=Xl(Yi.current),ri(p)){j=p.stateNode,b=p.type;var z=p.memoizedProps;switch(j[cl]=p,j[Nd]=z,f=(p.mode&1)!==0,b){case"dialog":gn("cancel",j),gn("close",j);break;case"iframe":case"object":case"embed":gn("load",j);break;case"video":case"audio":for(I=0;I<Lc.length;I++)gn(Lc[I],j);break;case"source":gn("error",j);break;case"img":case"image":case"link":gn("error",j),gn("load",j);break;case"details":gn("toggle",j);break;case"input":oe(j,z),gn("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!z.multiple},gn("invalid",j);break;case"textarea":Ht(j,z),gn("invalid",j)}Fr(b,z),I=null;for(var ie in z)if(z.hasOwnProperty(ie)){var Ie=z[ie];ie==="children"?typeof Ie=="string"?j.textContent!==Ie&&(z.suppressHydrationWarning!==!0&&Vh(j.textContent,Ie,f),I=["children",Ie]):typeof Ie=="number"&&j.textContent!==""+Ie&&(z.suppressHydrationWarning!==!0&&Vh(j.textContent,Ie,f),I=["children",""+Ie]):i.hasOwnProperty(ie)&&Ie!=null&&ie==="onScroll"&&gn("scroll",j)}switch(b){case"input":Te(j),Pt(j,z,!0);break;case"textarea":Te(j),Nr(j);break;case"select":case"option":break;default:typeof z.onClick=="function"&&(j.onclick=_d)}j=I,p.updateQueue=j,j!==null&&(p.flags|=4)}else{ie=I.nodeType===9?I:I.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=ze(b)),f==="http://www.w3.org/1999/xhtml"?b==="script"?(f=ie.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof j.is=="string"?f=ie.createElement(b,{is:j.is}):(f=ie.createElement(b),b==="select"&&(ie=f,j.multiple?ie.multiple=!0:j.size&&(ie.size=j.size))):f=ie.createElementNS(f,b),f[cl]=p,f[Nd]=j,D3(f,p,!1,!1),p.stateNode=f;e:{switch(ie=it(b,j),b){case"dialog":gn("cancel",f),gn("close",f),I=j;break;case"iframe":case"object":case"embed":gn("load",f),I=j;break;case"video":case"audio":for(I=0;I<Lc.length;I++)gn(Lc[I],f);I=j;break;case"source":gn("error",f),I=j;break;case"img":case"image":case"link":gn("error",f),gn("load",f),I=j;break;case"details":gn("toggle",f),I=j;break;case"input":oe(f,j),I=$e(f,j),gn("invalid",f);break;case"option":I=j;break;case"select":f._wrapperState={wasMultiple:!!j.multiple},I=Oe({},j,{value:void 0}),gn("invalid",f);break;case"textarea":Ht(f,j),I=Xt(f,j),gn("invalid",f);break;default:I=j}Fr(b,I),Ie=I;for(z in Ie)if(Ie.hasOwnProperty(z)){var Be=Ie[z];z==="style"?mr(f,Be):z==="dangerouslySetInnerHTML"?(Be=Be?Be.__html:void 0,Be!=null&&zt(f,Be)):z==="children"?typeof Be=="string"?(b!=="textarea"||Be!=="")&&dr(f,Be):typeof Be=="number"&&dr(f,""+Be):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(i.hasOwnProperty(z)?Be!=null&&z==="onScroll"&&gn("scroll",f):Be!=null&&S(f,z,Be,ie))}switch(b){case"input":Te(f),Pt(f,j,!1);break;case"textarea":Te(f),Nr(f);break;case"option":j.value!=null&&f.setAttribute("value",""+Ne(j.value));break;case"select":f.multiple=!!j.multiple,z=j.value,z!=null?Dt(f,!!j.multiple,z,!1):j.defaultValue!=null&&Dt(f,!!j.multiple,j.defaultValue,!0);break;default:typeof I.onClick=="function"&&(f.onclick=_d)}switch(b){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return xs(p),null;case 6:if(f&&p.stateNode!=null)I3(f,p,f.memoizedProps,j);else{if(typeof j!="string"&&p.stateNode===null)throw Error(r(166));if(b=Xl(Bc.current),Xl(Yi.current),ri(p)){if(j=p.stateNode,b=p.memoizedProps,j[cl]=p,(z=j.nodeValue!==b)&&(f=ut,f!==null))switch(f.tag){case 3:Vh(j.nodeValue,b,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&Vh(j.nodeValue,b,(f.mode&1)!==0)}z&&(p.flags|=4)}else j=(b.nodeType===9?b:b.ownerDocument).createTextNode(j),j[cl]=p,p.stateNode=j}return xs(p),null;case 13:if(cn(Dn),j=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(mt&&dt!==null&&(p.mode&1)!==0&&(p.flags&128)===0)Or(),Kt(),p.flags|=98560,z=!1;else if(z=ri(p),j!==null&&j.dehydrated!==null){if(f===null){if(!z)throw Error(r(318));if(z=p.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(r(317));z[cl]=p}else Kt(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;xs(p),z=!1}else vt!==null&&(E2(vt),vt=null),z=!0;if(!z)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=b,p):(j=j!==null,j!==(f!==null&&f.memoizedState!==null)&&j&&(p.child.flags|=8192,(p.mode&1)!==0&&(f===null||(Dn.current&1)!==0?ua===0&&(ua=3):k2())),p.updateQueue!==null&&(p.flags|=4),xs(p),null);case 4:return ul(),g2(f,p),f===null&&vu(p.stateNode.containerInfo),xs(p),null;case 10:return Bn(p.type._context),xs(p),null;case 17:return gs(p.type)&&Kh(),xs(p),null;case 19:if(cn(Dn),z=p.memoizedState,z===null)return xs(p),null;if(j=(p.flags&128)!==0,ie=z.rendering,ie===null)if(j)Y0(z,!1);else{if(ua!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(ie=Co(f),ie!==null){for(p.flags|=128,Y0(z,!1),j=ie.updateQueue,j!==null&&(p.updateQueue=j,p.flags|=4),p.subtreeFlags=0,j=b,b=p.child;b!==null;)z=b,f=j,z.flags&=14680066,ie=z.alternate,ie===null?(z.childLanes=0,z.lanes=f,z.child=null,z.subtreeFlags=0,z.memoizedProps=null,z.memoizedState=null,z.updateQueue=null,z.dependencies=null,z.stateNode=null):(z.childLanes=ie.childLanes,z.lanes=ie.lanes,z.child=ie.child,z.subtreeFlags=0,z.deletions=null,z.memoizedProps=ie.memoizedProps,z.memoizedState=ie.memoizedState,z.updateQueue=ie.updateQueue,z.type=ie.type,f=ie.dependencies,z.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),b=b.sibling;return fn(Dn,Dn.current&1|2),p.child}f=f.sibling}z.tail!==null&&St()>sp&&(p.flags|=128,j=!0,Y0(z,!1),p.lanes=4194304)}else{if(!j)if(f=Co(ie),f!==null){if(p.flags|=128,j=!0,b=f.updateQueue,b!==null&&(p.updateQueue=b,p.flags|=4),Y0(z,!0),z.tail===null&&z.tailMode==="hidden"&&!ie.alternate&&!mt)return xs(p),null}else 2*St()-z.renderingStartTime>sp&&b!==1073741824&&(p.flags|=128,j=!0,Y0(z,!1),p.lanes=4194304);z.isBackwards?(ie.sibling=p.child,p.child=ie):(b=z.last,b!==null?b.sibling=ie:p.child=ie,z.last=ie)}return z.tail!==null?(p=z.tail,z.rendering=p,z.tail=p.sibling,z.renderingStartTime=St(),p.sibling=null,b=Dn.current,fn(Dn,j?b&1|2:b&1),p):(xs(p),null);case 22:case 23:return T2(),j=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==j&&(p.flags|=8192),j&&(p.mode&1)!==0?(Io&1073741824)!==0&&(xs(p),p.subtreeFlags&6&&(p.flags|=8192)):xs(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function bW(f,p){switch(Qe(p),p.tag){case 1:return gs(p.type)&&Kh(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return ul(),cn(ms),cn(la),V0(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 5:return q0(p),null;case 13:if(cn(Dn),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Kt()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return cn(Dn),null;case 4:return ul(),null;case 10:return Bn(p.type._context),null;case 22:case 23:return T2(),null;case 24:return null;default:return null}}var Tv=!1,ys=!1,wW=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function ip(f,p){var b=f.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(j){Pi(f,p,j)}else b.current=null}function v2(f,p,b){try{b()}catch(j){Pi(f,p,j)}}var R3=!1;function SW(f,p){if(Ef=No,f=Ni(),Po(f)){if("selectionStart"in f)var b={start:f.selectionStart,end:f.selectionEnd};else e:{b=(b=f.ownerDocument)&&b.defaultView||window;var j=b.getSelection&&b.getSelection();if(j&&j.rangeCount!==0){b=j.anchorNode;var I=j.anchorOffset,z=j.focusNode;j=j.focusOffset;try{b.nodeType,z.nodeType}catch{b=null;break e}var ie=0,Ie=-1,Be=-1,ot=0,Et=0,Tt=f,At=null;t:for(;;){for(var qt;Tt!==b||I!==0&&Tt.nodeType!==3||(Ie=ie+I),Tt!==z||j!==0&&Tt.nodeType!==3||(Be=ie+j),Tt.nodeType===3&&(ie+=Tt.nodeValue.length),(qt=Tt.firstChild)!==null;)At=Tt,Tt=qt;for(;;){if(Tt===f)break t;if(At===b&&++ot===I&&(Ie=ie),At===z&&++Et===j&&(Be=ie),(qt=Tt.nextSibling)!==null)break;Tt=At,At=Tt.parentNode}Tt=qt}b=Ie===-1||Be===-1?null:{start:Ie,end:Be}}else b=null}b=b||{start:0,end:0}}else b=null;for(yu={focusedElem:f,selectionRange:b},No=!1,Zt=p;Zt!==null;)if(p=Zt,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,Zt=f;else for(;Zt!==null;){p=Zt;try{var tr=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(tr!==null){var ir=tr.memoizedProps,$i=tr.memoizedState,Ze=p.stateNode,He=Ze.getSnapshotBeforeUpdate(p.elementType===p.type?ir:Ql(p.type,ir),$i);Ze.__reactInternalSnapshotBeforeUpdate=He}break;case 3:var tt=p.stateNode.containerInfo;tt.nodeType===1?tt.textContent="":tt.nodeType===9&&tt.documentElement&&tt.removeChild(tt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ct){Pi(p,p.return,Ct)}if(f=p.sibling,f!==null){f.return=p.return,Zt=f;break}Zt=p.return}return tr=R3,R3=!1,tr}function X0(f,p,b){var j=p.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var I=j=j.next;do{if((I.tag&f)===f){var z=I.destroy;I.destroy=void 0,z!==void 0&&v2(p,b,z)}I=I.next}while(I!==j)}}function kv(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&f)===f){var j=b.create;b.destroy=j()}b=b.next}while(b!==p)}}function x2(f){var p=f.ref;if(p!==null){var b=f.stateNode;f.tag,f=b,typeof p=="function"?p(f):p.current=f}}function L3(f){var p=f.alternate;p!==null&&(f.alternate=null,L3(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&(delete p[cl],delete p[Nd],delete p[ps],delete p[r2],delete p[n2])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function M3(f){return f.tag===5||f.tag===3||f.tag===4}function F3(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||M3(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function y2(f,p,b){var j=f.tag;if(j===5||j===6)f=f.stateNode,p?b.nodeType===8?b.parentNode.insertBefore(f,p):b.insertBefore(f,p):(b.nodeType===8?(p=b.parentNode,p.insertBefore(f,b)):(p=b,p.appendChild(f)),b=b._reactRootContainer,b!=null||p.onclick!==null||(p.onclick=_d));else if(j!==4&&(f=f.child,f!==null))for(y2(f,p,b),f=f.sibling;f!==null;)y2(f,p,b),f=f.sibling}function b2(f,p,b){var j=f.tag;if(j===5||j===6)f=f.stateNode,p?b.insertBefore(f,p):b.appendChild(f);else if(j!==4&&(f=f.child,f!==null))for(b2(f,p,b),f=f.sibling;f!==null;)b2(f,p,b),f=f.sibling}var Ha=null,ec=!1;function Cd(f,p,b){for(b=b.child;b!==null;)B3(f,p,b),b=b.sibling}function B3(f,p,b){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(ba,b)}catch{}switch(b.tag){case 5:ys||ip(b,p);case 6:var j=Ha,I=ec;Ha=null,Cd(f,p,b),Ha=j,ec=I,Ha!==null&&(ec?(f=Ha,b=b.stateNode,f.nodeType===8?f.parentNode.removeChild(b):f.removeChild(b)):Ha.removeChild(b.stateNode));break;case 18:Ha!==null&&(ec?(f=Ha,b=b.stateNode,f.nodeType===8?$0(f.parentNode,b):f.nodeType===1&&$0(f,b),Qs(f)):$0(Ha,b.stateNode));break;case 4:j=Ha,I=ec,Ha=b.stateNode.containerInfo,ec=!0,Cd(f,p,b),Ha=j,ec=I;break;case 0:case 11:case 14:case 15:if(!ys&&(j=b.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){I=j=j.next;do{var z=I,ie=z.destroy;z=z.tag,ie!==void 0&&((z&2)!==0||(z&4)!==0)&&v2(b,p,ie),I=I.next}while(I!==j)}Cd(f,p,b);break;case 1:if(!ys&&(ip(b,p),j=b.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=b.memoizedProps,j.state=b.memoizedState,j.componentWillUnmount()}catch(Ie){Pi(b,p,Ie)}Cd(f,p,b);break;case 21:Cd(f,p,b);break;case 22:b.mode&1?(ys=(j=ys)||b.memoizedState!==null,Cd(f,p,b),ys=j):Cd(f,p,b);break;default:Cd(f,p,b)}}function U3(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var b=f.stateNode;b===null&&(b=f.stateNode=new wW),p.forEach(function(j){var I=CW.bind(null,f,j);b.has(j)||(b.add(j),j.then(I,I))})}}function tc(f,p){var b=p.deletions;if(b!==null)for(var j=0;j<b.length;j++){var I=b[j];try{var z=f,ie=p,Ie=ie;e:for(;Ie!==null;){switch(Ie.tag){case 5:Ha=Ie.stateNode,ec=!1;break e;case 3:Ha=Ie.stateNode.containerInfo,ec=!0;break e;case 4:Ha=Ie.stateNode.containerInfo,ec=!0;break e}Ie=Ie.return}if(Ha===null)throw Error(r(160));B3(z,ie,I),Ha=null,ec=!1;var Be=I.alternate;Be!==null&&(Be.return=null),I.return=null}catch(ot){Pi(I,p,ot)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)$3(p,f),p=p.sibling}function $3(f,p){var b=f.alternate,j=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(tc(p,f),$c(f),j&4){try{X0(3,f,f.return),kv(3,f)}catch(ir){Pi(f,f.return,ir)}try{X0(5,f,f.return)}catch(ir){Pi(f,f.return,ir)}}break;case 1:tc(p,f),$c(f),j&512&&b!==null&&ip(b,b.return);break;case 5:if(tc(p,f),$c(f),j&512&&b!==null&&ip(b,b.return),f.flags&32){var I=f.stateNode;try{dr(I,"")}catch(ir){Pi(f,f.return,ir)}}if(j&4&&(I=f.stateNode,I!=null)){var z=f.memoizedProps,ie=b!==null?b.memoizedProps:z,Ie=f.type,Be=f.updateQueue;if(f.updateQueue=null,Be!==null)try{Ie==="input"&&z.type==="radio"&&z.name!=null&&at(I,z),it(Ie,ie);var ot=it(Ie,z);for(ie=0;ie<Be.length;ie+=2){var Et=Be[ie],Tt=Be[ie+1];Et==="style"?mr(I,Tt):Et==="dangerouslySetInnerHTML"?zt(I,Tt):Et==="children"?dr(I,Tt):S(I,Et,Tt,ot)}switch(Ie){case"input":lt(I,z);break;case"textarea":xr(I,z);break;case"select":var At=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!z.multiple;var qt=z.value;qt!=null?Dt(I,!!z.multiple,qt,!1):At!==!!z.multiple&&(z.defaultValue!=null?Dt(I,!!z.multiple,z.defaultValue,!0):Dt(I,!!z.multiple,z.multiple?[]:"",!1))}I[Nd]=z}catch(ir){Pi(f,f.return,ir)}}break;case 6:if(tc(p,f),$c(f),j&4){if(f.stateNode===null)throw Error(r(162));I=f.stateNode,z=f.memoizedProps;try{I.nodeValue=z}catch(ir){Pi(f,f.return,ir)}}break;case 3:if(tc(p,f),$c(f),j&4&&b!==null&&b.memoizedState.isDehydrated)try{Qs(p.containerInfo)}catch(ir){Pi(f,f.return,ir)}break;case 4:tc(p,f),$c(f);break;case 13:tc(p,f),$c(f),I=f.child,I.flags&8192&&(z=I.memoizedState!==null,I.stateNode.isHidden=z,!z||I.alternate!==null&&I.alternate.memoizedState!==null||(_2=St())),j&4&&U3(f);break;case 22:if(Et=b!==null&&b.memoizedState!==null,f.mode&1?(ys=(ot=ys)||Et,tc(p,f),ys=ot):tc(p,f),$c(f),j&8192){if(ot=f.memoizedState!==null,(f.stateNode.isHidden=ot)&&!Et&&(f.mode&1)!==0)for(Zt=f,Et=f.child;Et!==null;){for(Tt=Zt=Et;Zt!==null;){switch(At=Zt,qt=At.child,At.tag){case 0:case 11:case 14:case 15:X0(4,At,At.return);break;case 1:ip(At,At.return);var tr=At.stateNode;if(typeof tr.componentWillUnmount=="function"){j=At,b=At.return;try{p=j,tr.props=p.memoizedProps,tr.state=p.memoizedState,tr.componentWillUnmount()}catch(ir){Pi(j,b,ir)}}break;case 5:ip(At,At.return);break;case 22:if(At.memoizedState!==null){q3(Tt);continue}}qt!==null?(qt.return=At,Zt=qt):q3(Tt)}Et=Et.sibling}e:for(Et=null,Tt=f;;){if(Tt.tag===5){if(Et===null){Et=Tt;try{I=Tt.stateNode,ot?(z=I.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none"):(Ie=Tt.stateNode,Be=Tt.memoizedProps.style,ie=Be!=null&&Be.hasOwnProperty("display")?Be.display:null,Ie.style.display=Tr("display",ie))}catch(ir){Pi(f,f.return,ir)}}}else if(Tt.tag===6){if(Et===null)try{Tt.stateNode.nodeValue=ot?"":Tt.memoizedProps}catch(ir){Pi(f,f.return,ir)}}else if((Tt.tag!==22&&Tt.tag!==23||Tt.memoizedState===null||Tt===f)&&Tt.child!==null){Tt.child.return=Tt,Tt=Tt.child;continue}if(Tt===f)break e;for(;Tt.sibling===null;){if(Tt.return===null||Tt.return===f)break e;Et===Tt&&(Et=null),Tt=Tt.return}Et===Tt&&(Et=null),Tt.sibling.return=Tt.return,Tt=Tt.sibling}}break;case 19:tc(p,f),$c(f),j&4&&U3(f);break;case 21:break;default:tc(p,f),$c(f)}}function $c(f){var p=f.flags;if(p&2){try{e:{for(var b=f.return;b!==null;){if(M3(b)){var j=b;break e}b=b.return}throw Error(r(160))}switch(j.tag){case 5:var I=j.stateNode;j.flags&32&&(dr(I,""),j.flags&=-33);var z=F3(f);b2(f,z,I);break;case 3:case 4:var ie=j.stateNode.containerInfo,Ie=F3(f);y2(f,Ie,ie);break;default:throw Error(r(161))}}catch(Be){Pi(f,f.return,Be)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function _W(f,p,b){Zt=f,z3(f)}function z3(f,p,b){for(var j=(f.mode&1)!==0;Zt!==null;){var I=Zt,z=I.child;if(I.tag===22&&j){var ie=I.memoizedState!==null||Tv;if(!ie){var Ie=I.alternate,Be=Ie!==null&&Ie.memoizedState!==null||ys;Ie=Tv;var ot=ys;if(Tv=ie,(ys=Be)&&!ot)for(Zt=I;Zt!==null;)ie=Zt,Be=ie.child,ie.tag===22&&ie.memoizedState!==null?H3(I):Be!==null?(Be.return=ie,Zt=Be):H3(I);for(;z!==null;)Zt=z,z3(z),z=z.sibling;Zt=I,Tv=Ie,ys=ot}W3(f)}else(I.subtreeFlags&8772)!==0&&z!==null?(z.return=I,Zt=z):W3(f)}}function W3(f){for(;Zt!==null;){var p=Zt;if((p.flags&8772)!==0){var b=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:ys||kv(5,p);break;case 1:var j=p.stateNode;if(p.flags&4&&!ys)if(b===null)j.componentDidMount();else{var I=p.elementType===p.type?b.memoizedProps:Ql(p.type,b.memoizedProps);j.componentDidUpdate(I,b.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var z=p.updateQueue;z!==null&&lo(p,z,j);break;case 3:var ie=p.updateQueue;if(ie!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=p.child.stateNode;break;case 1:b=p.child.stateNode}lo(p,ie,b)}break;case 5:var Ie=p.stateNode;if(b===null&&p.flags&4){b=Ie;var Be=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Be.autoFocus&&b.focus();break;case"img":Be.src&&(b.src=Be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var ot=p.alternate;if(ot!==null){var Et=ot.memoizedState;if(Et!==null){var Tt=Et.dehydrated;Tt!==null&&Qs(Tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ys||p.flags&512&&x2(p)}catch(At){Pi(p,p.return,At)}}if(p===f){Zt=null;break}if(b=p.sibling,b!==null){b.return=p.return,Zt=b;break}Zt=p.return}}function q3(f){for(;Zt!==null;){var p=Zt;if(p===f){Zt=null;break}var b=p.sibling;if(b!==null){b.return=p.return,Zt=b;break}Zt=p.return}}function H3(f){for(;Zt!==null;){var p=Zt;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{kv(4,p)}catch(Be){Pi(p,b,Be)}break;case 1:var j=p.stateNode;if(typeof j.componentDidMount=="function"){var I=p.return;try{j.componentDidMount()}catch(Be){Pi(p,I,Be)}}var z=p.return;try{x2(p)}catch(Be){Pi(p,z,Be)}break;case 5:var ie=p.return;try{x2(p)}catch(Be){Pi(p,ie,Be)}}}catch(Be){Pi(p,p.return,Be)}if(p===f){Zt=null;break}var Ie=p.sibling;if(Ie!==null){Ie.return=p.return,Zt=Ie;break}Zt=p.return}}var NW=Math.ceil,Cv=E.ReactCurrentDispatcher,w2=E.ReactCurrentOwner,hl=E.ReactCurrentBatchConfig,rn=0,Ta=null,Xi=null,Va=0,Io=0,ap=To(0),ua=0,J0=null,Of=0,Dv=0,S2=0,Z0=null,uo=null,_2=0,sp=1/0,ju=null,Ov=!1,N2=null,Dd=null,Iv=!1,Od=null,Rv=0,Q0=0,j2=null,Lv=-1,Mv=0;function Ws(){return(rn&6)!==0?St():Lv!==-1?Lv:Lv=St()}function Id(f){return(f.mode&1)===0?1:(rn&2)!==0&&Va!==0?Va&-Va:di.transition!==null?(Mv===0&&(Mv=jc()),Mv):(f=Hr,f!==0||(f=window.event,f=f===void 0?16:jo(f.type)),f)}function rc(f,p,b,j){if(50<Q0)throw Q0=0,j2=null,Error(r(185));Rl(f,b,j),((rn&2)===0||f!==Ta)&&(f===Ta&&((rn&2)===0&&(Dv|=b),ua===4&&Rd(f,Va)),fo(f,j),b===1&&rn===0&&(p.mode&1)===0&&(sp=St()+500,Tf&&W()))}function fo(f,p){var b=f.callbackNode;Qn(f,p);var j=Il(f,f===Ta?Va:0);if(j===0)b!==null&&xt(b),f.callbackNode=null,f.callbackPriority=0;else if(p=j&-j,f.callbackPriority!==p){if(b!=null&&xt(b),p===1)f.tag===0?B(K3.bind(null,f)):P(K3.bind(null,f)),e2(function(){(rn&6)===0&&W()}),b=null;else{switch(Ll(j)){case 1:b=Rr;break;case 4:b=It;break;case 16:b=Ye;break;case 536870912:b=Zn;break;default:b=Ye}b=tE(b,V3.bind(null,f))}f.callbackPriority=p,f.callbackNode=b}}function V3(f,p){if(Lv=-1,Mv=0,(rn&6)!==0)throw Error(r(327));var b=f.callbackNode;if(op()&&f.callbackNode!==b)return null;var j=Il(f,f===Ta?Va:0);if(j===0)return null;if((j&30)!==0||(j&f.expiredLanes)!==0||p)p=Fv(f,j);else{p=j;var I=rn;rn|=2;var z=Y3();(Ta!==f||Va!==p)&&(ju=null,sp=St()+500,Rf(f,p));do try{EW();break}catch(Ie){G3(f,Ie)}while(!0);en(),Cv.current=z,rn=I,Xi!==null?p=0:(Ta=null,Va=0,p=ua)}if(p!==0){if(p===2&&(I=Li(f),I!==0&&(j=I,p=A2(f,I))),p===1)throw b=J0,Rf(f,0),Rd(f,j),fo(f,St()),b;if(p===6)Rd(f,j);else{if(I=f.current.alternate,(j&30)===0&&!jW(I)&&(p=Fv(f,j),p===2&&(z=Li(f),z!==0&&(j=z,p=A2(f,z))),p===1))throw b=J0,Rf(f,0),Rd(f,j),fo(f,St()),b;switch(f.finishedWork=I,f.finishedLanes=j,p){case 0:case 1:throw Error(r(345));case 2:Lf(f,uo,ju);break;case 3:if(Rd(f,j),(j&130023424)===j&&(p=_2+500-St(),10<p)){if(Il(f,0)!==0)break;if(I=f.suspendedLanes,(I&j)!==j){Ws(),f.pingedLanes|=f.suspendedLanes&I;break}f.timeoutHandle=U0(Lf.bind(null,f,uo,ju),p);break}Lf(f,uo,ju);break;case 4:if(Rd(f,j),(j&4194240)===j)break;for(p=f.eventTimes,I=-1;0<j;){var ie=31-Kr(j);z=1<<ie,ie=p[ie],ie>I&&(I=ie),j&=~z}if(j=I,j=St()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*NW(j/1960))-j,10<j){f.timeoutHandle=U0(Lf.bind(null,f,uo,ju),j);break}Lf(f,uo,ju);break;case 5:Lf(f,uo,ju);break;default:throw Error(r(329))}}}return fo(f,St()),f.callbackNode===b?V3.bind(null,f):null}function A2(f,p){var b=Z0;return f.current.memoizedState.isDehydrated&&(Rf(f,p).flags|=256),f=Fv(f,p),f!==2&&(p=uo,uo=b,p!==null&&E2(p)),f}function E2(f){uo===null?uo=f:uo.push.apply(uo,f)}function jW(f){for(var p=f;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var j=0;j<b.length;j++){var I=b[j],z=I.getSnapshot;I=I.value;try{if(!ei(z(),I))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Rd(f,p){for(p&=~S2,p&=~Dv,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var b=31-Kr(p),j=1<<b;f[b]=-1,p&=~j}}function K3(f){if((rn&6)!==0)throw Error(r(327));op();var p=Il(f,0);if((p&1)===0)return fo(f,St()),null;var b=Fv(f,p);if(f.tag!==0&&b===2){var j=Li(f);j!==0&&(p=j,b=A2(f,j))}if(b===1)throw b=J0,Rf(f,0),Rd(f,p),fo(f,St()),b;if(b===6)throw Error(r(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,Lf(f,uo,ju),fo(f,St()),null}function P2(f,p){var b=rn;rn|=1;try{return f(p)}finally{rn=b,rn===0&&(sp=St()+500,Tf&&W())}}function If(f){Od!==null&&Od.tag===0&&(rn&6)===0&&op();var p=rn;rn|=1;var b=hl.transition,j=Hr;try{if(hl.transition=null,Hr=1,f)return f()}finally{Hr=j,hl.transition=b,rn=p,(rn&6)===0&&W()}}function T2(){Io=ap.current,cn(ap)}function Rf(f,p){f.finishedWork=null,f.finishedLanes=0;var b=f.timeoutHandle;if(b!==-1&&(f.timeoutHandle=-1,gv(b)),Xi!==null)for(b=Xi.return;b!==null;){var j=b;switch(Qe(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&Kh();break;case 3:ul(),cn(ms),cn(la),V0();break;case 5:q0(j);break;case 4:ul();break;case 13:cn(Dn);break;case 19:cn(Dn);break;case 10:Bn(j.type._context);break;case 22:case 23:T2()}b=b.return}if(Ta=f,Xi=f=Ld(f.current,null),Va=Io=p,ua=0,J0=null,S2=Dv=Of=0,uo=Z0=null,vn!==null){for(p=0;p<vn.length;p++)if(b=vn[p],j=b.interleaved,j!==null){b.interleaved=null;var I=j.next,z=b.pending;if(z!==null){var ie=z.next;z.next=I,j.next=ie}b.pending=j}vn=null}return f}function G3(f,p){do{var b=Xi;try{if(en(),Gh.current=jv,Pd){for(var j=Un.memoizedState;j!==null;){var I=j.queue;I!==null&&(I.pending=null),j=j.next}Pd=!1}if(dl=0,mi=Ei=Un=null,Jl=!1,Td=0,w2.current=null,b===null||b.return===null){ua=1,J0=p,Xi=null;break}e:{var z=f,ie=b.return,Ie=b,Be=p;if(p=Va,Ie.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var ot=Be,Et=Ie,Tt=Et.tag;if((Et.mode&1)===0&&(Tt===0||Tt===11||Tt===15)){var At=Et.alternate;At?(Et.updateQueue=At.updateQueue,Et.memoizedState=At.memoizedState,Et.lanes=At.lanes):(Et.updateQueue=null,Et.memoizedState=null)}var qt=y3(ie);if(qt!==null){qt.flags&=-257,b3(qt,ie,Ie,z,p),qt.mode&1&&x3(z,ot,p),p=qt,Be=ot;var tr=p.updateQueue;if(tr===null){var ir=new Set;ir.add(Be),p.updateQueue=ir}else tr.add(Be);break e}else{if((p&1)===0){x3(z,ot,p),k2();break e}Be=Error(r(426))}}else if(mt&&Ie.mode&1){var $i=y3(ie);if($i!==null){($i.flags&65536)===0&&($i.flags|=256),b3($i,ie,Ie,z,p),Lt(np(Be,Ie));break e}}z=Be=np(Be,Ie),ua!==4&&(ua=2),Z0===null?Z0=[z]:Z0.push(z),z=ie;do{switch(z.tag){case 3:z.flags|=65536,p&=-p,z.lanes|=p;var Ze=g3(z,Be,p);yn(z,Ze);break e;case 1:Ie=Be;var He=z.type,tt=z.stateNode;if((z.flags&128)===0&&(typeof He.getDerivedStateFromError=="function"||tt!==null&&typeof tt.componentDidCatch=="function"&&(Dd===null||!Dd.has(tt)))){z.flags|=65536,p&=-p,z.lanes|=p;var Ct=v3(z,Ie,p);yn(z,Ct);break e}}z=z.return}while(z!==null)}J3(b)}catch(lr){p=lr,Xi===b&&b!==null&&(Xi=b=b.return);continue}break}while(!0)}function Y3(){var f=Cv.current;return Cv.current=jv,f===null?jv:f}function k2(){(ua===0||ua===3||ua===2)&&(ua=4),Ta===null||(Of&268435455)===0&&(Dv&268435455)===0||Rd(Ta,Va)}function Fv(f,p){var b=rn;rn|=2;var j=Y3();(Ta!==f||Va!==p)&&(ju=null,Rf(f,p));do try{AW();break}catch(I){G3(f,I)}while(!0);if(en(),rn=b,Cv.current=j,Xi!==null)throw Error(r(261));return Ta=null,Va=0,ua}function AW(){for(;Xi!==null;)X3(Xi)}function EW(){for(;Xi!==null&&!yt();)X3(Xi)}function X3(f){var p=eE(f.alternate,f,Io);f.memoizedProps=f.pendingProps,p===null?J3(f):Xi=p,w2.current=null}function J3(f){var p=f;do{var b=p.alternate;if(f=p.return,(p.flags&32768)===0){if(b=yW(b,p,Io),b!==null){Xi=b;return}}else{if(b=bW(b,p),b!==null){b.flags&=32767,Xi=b;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{ua=6,Xi=null;return}}if(p=p.sibling,p!==null){Xi=p;return}Xi=p=f}while(p!==null);ua===0&&(ua=5)}function Lf(f,p,b){var j=Hr,I=hl.transition;try{hl.transition=null,Hr=1,PW(f,p,b,j)}finally{hl.transition=I,Hr=j}return null}function PW(f,p,b,j){do op();while(Od!==null);if((rn&6)!==0)throw Error(r(327));b=f.finishedWork;var I=f.finishedLanes;if(b===null)return null;if(f.finishedWork=null,f.finishedLanes=0,b===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0;var z=b.lanes|b.childLanes;if(_o(f,z),f===Ta&&(Xi=Ta=null,Va=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||Iv||(Iv=!0,tE(Ye,function(){return op(),null})),z=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||z){z=hl.transition,hl.transition=null;var ie=Hr;Hr=1;var Ie=rn;rn|=4,w2.current=null,SW(f,b),$3(b,f),yf(yu),No=!!Ef,yu=Ef=null,f.current=b,_W(b),bt(),rn=Ie,Hr=ie,hl.transition=z}else f.current=b;if(Iv&&(Iv=!1,Od=f,Rv=I),z=f.pendingLanes,z===0&&(Dd=null),Qo(b.stateNode),fo(f,St()),p!==null)for(j=f.onRecoverableError,b=0;b<p.length;b++)I=p[b],j(I.value,{componentStack:I.stack,digest:I.digest});if(Ov)throw Ov=!1,f=N2,N2=null,f;return(Rv&1)!==0&&f.tag!==0&&op(),z=f.pendingLanes,(z&1)!==0?f===j2?Q0++:(Q0=0,j2=f):Q0=0,W(),null}function op(){if(Od!==null){var f=Ll(Rv),p=hl.transition,b=Hr;try{if(hl.transition=null,Hr=16>f?16:f,Od===null)var j=!1;else{if(f=Od,Od=null,Rv=0,(rn&6)!==0)throw Error(r(331));var I=rn;for(rn|=4,Zt=f.current;Zt!==null;){var z=Zt,ie=z.child;if((Zt.flags&16)!==0){var Ie=z.deletions;if(Ie!==null){for(var Be=0;Be<Ie.length;Be++){var ot=Ie[Be];for(Zt=ot;Zt!==null;){var Et=Zt;switch(Et.tag){case 0:case 11:case 15:X0(8,Et,z)}var Tt=Et.child;if(Tt!==null)Tt.return=Et,Zt=Tt;else for(;Zt!==null;){Et=Zt;var At=Et.sibling,qt=Et.return;if(L3(Et),Et===ot){Zt=null;break}if(At!==null){At.return=qt,Zt=At;break}Zt=qt}}}var tr=z.alternate;if(tr!==null){var ir=tr.child;if(ir!==null){tr.child=null;do{var $i=ir.sibling;ir.sibling=null,ir=$i}while(ir!==null)}}Zt=z}}if((z.subtreeFlags&2064)!==0&&ie!==null)ie.return=z,Zt=ie;else e:for(;Zt!==null;){if(z=Zt,(z.flags&2048)!==0)switch(z.tag){case 0:case 11:case 15:X0(9,z,z.return)}var Ze=z.sibling;if(Ze!==null){Ze.return=z.return,Zt=Ze;break e}Zt=z.return}}var He=f.current;for(Zt=He;Zt!==null;){ie=Zt;var tt=ie.child;if((ie.subtreeFlags&2064)!==0&&tt!==null)tt.return=ie,Zt=tt;else e:for(ie=He;Zt!==null;){if(Ie=Zt,(Ie.flags&2048)!==0)try{switch(Ie.tag){case 0:case 11:case 15:kv(9,Ie)}}catch(lr){Pi(Ie,Ie.return,lr)}if(Ie===ie){Zt=null;break e}var Ct=Ie.sibling;if(Ct!==null){Ct.return=Ie.return,Zt=Ct;break e}Zt=Ie.return}}if(rn=I,W(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(ba,f)}catch{}j=!0}return j}finally{Hr=b,hl.transition=p}}return!1}function Z3(f,p,b){p=np(b,p),p=g3(f,p,1),f=hi(f,p,1),p=Ws(),f!==null&&(Rl(f,1,p),fo(f,p))}function Pi(f,p,b){if(f.tag===3)Z3(f,f,b);else for(;p!==null;){if(p.tag===3){Z3(p,f,b);break}else if(p.tag===1){var j=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Dd===null||!Dd.has(j))){f=np(b,f),f=v3(p,f,1),p=hi(p,f,1),f=Ws(),p!==null&&(Rl(p,1,f),fo(p,f));break}}p=p.return}}function TW(f,p,b){var j=f.pingCache;j!==null&&j.delete(p),p=Ws(),f.pingedLanes|=f.suspendedLanes&b,Ta===f&&(Va&b)===b&&(ua===4||ua===3&&(Va&130023424)===Va&&500>St()-_2?Rf(f,0):S2|=b),fo(f,p)}function Q3(f,p){p===0&&((f.mode&1)===0?p=1:(p=$a,$a<<=1,($a&130023424)===0&&($a=4194304)));var b=Ws();f=xn(f,p),f!==null&&(Rl(f,p,b),fo(f,b))}function kW(f){var p=f.memoizedState,b=0;p!==null&&(b=p.retryLane),Q3(f,b)}function CW(f,p){var b=0;switch(f.tag){case 13:var j=f.stateNode,I=f.memoizedState;I!==null&&(b=I.retryLane);break;case 19:j=f.stateNode;break;default:throw Error(r(314))}j!==null&&j.delete(p),Q3(f,b)}var eE;eE=function(f,p,b){if(f!==null)if(f.memoizedProps!==p.pendingProps||ms.current)co=!0;else{if((f.lanes&b)===0&&(p.flags&128)===0)return co=!1,xW(f,p,b);co=(f.flags&131072)!==0}else co=!1,mt&&(p.flags&1048576)!==0&&Xe(p,ge,p.index);switch(p.lanes=0,p.tag){case 2:var j=p.type;Pv(f,p),f=p.pendingProps;var I=Ad(p,la.current);ni(p,b),I=kf(null,p,j,f,I,b);var z=fl();return p.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,gs(j)?(z=!0,Su(p)):z=!1,p.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,ca(p),I.updater=Av,p.stateNode=I,I._reactInternals=p,o2(p,j,f,b),p=d2(null,p,j,!0,z,b)):(p.tag=0,mt&&z&&ft(p),zs(null,p,I,b),p=p.child),p;case 16:j=p.elementType;e:{switch(Pv(f,p),f=p.pendingProps,I=j._init,j=I(j._payload),p.type=j,I=p.tag=OW(j),f=Ql(j,f),I){case 0:p=u2(null,p,j,f,b);break e;case 1:p=A3(null,p,j,f,b);break e;case 11:p=w3(null,p,j,f,b);break e;case 14:p=S3(null,p,j,Ql(j.type,f),b);break e}throw Error(r(306,j,""))}return p;case 0:return j=p.type,I=p.pendingProps,I=p.elementType===j?I:Ql(j,I),u2(f,p,j,I,b);case 1:return j=p.type,I=p.pendingProps,I=p.elementType===j?I:Ql(j,I),A3(f,p,j,I,b);case 3:e:{if(E3(p),f===null)throw Error(r(387));j=p.pendingProps,z=p.memoizedState,I=z.element,vs(f,p),Pa(p,j,null,b);var ie=p.memoizedState;if(j=ie.element,z.isDehydrated)if(z={element:j,isDehydrated:!1,cache:ie.cache,pendingSuspenseBoundaries:ie.pendingSuspenseBoundaries,transitions:ie.transitions},p.updateQueue.baseState=z,p.memoizedState=z,p.flags&256){I=np(Error(r(423)),p),p=P3(f,p,j,b,I);break e}else if(j!==I){I=np(Error(r(424)),p),p=P3(f,p,j,b,I);break e}else for(dt=qa(p.stateNode.containerInfo.firstChild),ut=p,mt=!0,vt=null,b=Vn(p,null,j,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Kt(),j===I){p=Nu(f,p,b);break e}zs(f,p,j,b)}p=p.child}return p;case 5:return bv(p),f===null&&er(p),j=p.type,I=p.pendingProps,z=f!==null?f.memoizedProps:null,ie=I.children,B0(j,I)?ie=null:z!==null&&B0(j,z)&&(p.flags|=32),j3(f,p),zs(f,p,ie,b),p.child;case 6:return f===null&&er(p),null;case 13:return T3(f,p,b);case 4:return Ed(p,p.stateNode.containerInfo),j=p.pendingProps,f===null?p.child=ji(p,null,j,b):zs(f,p,j,b),p.child;case 11:return j=p.type,I=p.pendingProps,I=p.elementType===j?I:Ql(j,I),w3(f,p,j,I,b);case 7:return zs(f,p,p.pendingProps,b),p.child;case 8:return zs(f,p,p.pendingProps.children,b),p.child;case 12:return zs(f,p,p.pendingProps.children,b),p.child;case 10:e:{if(j=p.type._context,I=p.pendingProps,z=p.memoizedProps,ie=I.value,fn(Bi,j._currentValue),j._currentValue=ie,z!==null)if(ei(z.value,ie)){if(z.children===I.children&&!ms.current){p=Nu(f,p,b);break e}}else for(z=p.child,z!==null&&(z.return=p);z!==null;){var Ie=z.dependencies;if(Ie!==null){ie=z.child;for(var Be=Ie.firstContext;Be!==null;){if(Be.context===j){if(z.tag===1){Be=fi(-1,b&-b),Be.tag=2;var ot=z.updateQueue;if(ot!==null){ot=ot.shared;var Et=ot.pending;Et===null?Be.next=Be:(Be.next=Et.next,Et.next=Be),ot.pending=Be}}z.lanes|=b,Be=z.alternate,Be!==null&&(Be.lanes|=b),tn(z.return,b,p),Ie.lanes|=b;break}Be=Be.next}}else if(z.tag===10)ie=z.type===p.type?null:z.child;else if(z.tag===18){if(ie=z.return,ie===null)throw Error(r(341));ie.lanes|=b,Ie=ie.alternate,Ie!==null&&(Ie.lanes|=b),tn(ie,b,p),ie=z.sibling}else ie=z.child;if(ie!==null)ie.return=z;else for(ie=z;ie!==null;){if(ie===p){ie=null;break}if(z=ie.sibling,z!==null){z.return=ie.return,ie=z;break}ie=ie.return}z=ie}zs(f,p,I.children,b),p=p.child}return p;case 9:return I=p.type,j=p.pendingProps.children,ni(p,b),I=ii(I),j=j(I),p.flags|=1,zs(f,p,j,b),p.child;case 14:return j=p.type,I=Ql(j,p.pendingProps),I=Ql(j.type,I),S3(f,p,j,I,b);case 15:return _3(f,p,p.type,p.pendingProps,b);case 17:return j=p.type,I=p.pendingProps,I=p.elementType===j?I:Ql(j,I),Pv(f,p),p.tag=1,gs(j)?(f=!0,Su(p)):f=!1,ni(p,b),p3(p,j,I),o2(p,j,I,b),d2(null,p,j,!0,f,b);case 19:return C3(f,p,b);case 22:return N3(f,p,b)}throw Error(r(156,p.tag))};function tE(f,p){return rt(f,p)}function DW(f,p,b,j){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pl(f,p,b,j){return new DW(f,p,b,j)}function C2(f){return f=f.prototype,!(!f||!f.isReactComponent)}function OW(f){if(typeof f=="function")return C2(f)?1:0;if(f!=null){if(f=f.$$typeof,f===U)return 11;if(f===ee)return 14}return 2}function Ld(f,p){var b=f.alternate;return b===null?(b=pl(f.tag,p,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=p,b.type=f.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=f.flags&14680064,b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,p=f.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b}function Bv(f,p,b,j,I,z){var ie=2;if(j=f,typeof f=="function")C2(f)&&(ie=1);else if(typeof f=="string")ie=5;else e:switch(f){case C:return Mf(b.children,I,z,p);case O:ie=8,I|=8;break;case R:return f=pl(12,b,p,I|2),f.elementType=R,f.lanes=z,f;case M:return f=pl(13,b,p,I),f.elementType=M,f.lanes=z,f;case q:return f=pl(19,b,p,I),f.elementType=q,f.lanes=z,f;case he:return Uv(b,I,z,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case H:ie=10;break e;case F:ie=9;break e;case U:ie=11;break e;case ee:ie=14;break e;case ve:ie=16,j=null;break e}throw Error(r(130,f==null?f:typeof f,""))}return p=pl(ie,b,p,I),p.elementType=f,p.type=j,p.lanes=z,p}function Mf(f,p,b,j){return f=pl(7,f,j,p),f.lanes=b,f}function Uv(f,p,b,j){return f=pl(22,f,j,p),f.elementType=he,f.lanes=b,f.stateNode={isHidden:!1},f}function D2(f,p,b){return f=pl(6,f,null,p),f.lanes=b,f}function O2(f,p,b){return p=pl(4,f.children!==null?f.children:[],f.key,p),p.lanes=b,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function IW(f,p,b,j,I){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hd(0),this.expirationTimes=hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hd(0),this.identifierPrefix=j,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function I2(f,p,b,j,I,z,ie,Ie,Be){return f=new IW(f,p,b,Ie,Be),p===1?(p=1,z===!0&&(p|=8)):p=0,z=pl(3,null,null,p),f.current=z,z.stateNode=f,z.memoizedState={element:j,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},ca(z),f}function RW(f,p,b){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:j==null?null:""+j,children:f,containerInfo:p,implementation:b}}function rE(f){if(!f)return Fc;f=f._reactInternals;e:{if(me(f)!==f||f.tag!==1)throw Error(r(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(gs(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(f.tag===1){var b=f.type;if(gs(b))return W0(f,b,p)}return p}function nE(f,p,b,j,I,z,ie,Ie,Be){return f=I2(b,j,!0,f,I,z,ie,Ie,Be),f.context=rE(null),b=f.current,j=Ws(),I=Id(b),z=fi(j,I),z.callback=p??null,hi(b,z,I),f.current.lanes=I,Rl(f,I,j),fo(f,j),f}function $v(f,p,b,j){var I=p.current,z=Ws(),ie=Id(I);return b=rE(b),p.context===null?p.context=b:p.pendingContext=b,p=fi(z,ie),p.payload={element:f},j=j===void 0?null:j,j!==null&&(p.callback=j),f=hi(I,p,ie),f!==null&&(rc(f,I,ie,z),Ea(f,I,ie)),ie}function zv(f){return f=f.current,f.child?(f.child.tag===5,f.child.stateNode):null}function iE(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<p?b:p}}function R2(f,p){iE(f,p),(f=f.alternate)&&iE(f,p)}function LW(){return null}var aE=typeof reportError=="function"?reportError:function(f){console.error(f)};function L2(f){this._internalRoot=f}Wv.prototype.render=L2.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(r(409));$v(f,p,null,null)},Wv.prototype.unmount=L2.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;If(function(){$v(null,f,null,null)}),p[ja]=null}};function Wv(f){this._internalRoot=f}Wv.prototype.unstable_scheduleHydration=function(f){if(f){var p=Ml();f={blockedOn:null,target:f,priority:p};for(var b=0;b<Os.length&&p!==0&&p<Os[b].priority;b++);Os.splice(b,0,f),b===0&&cu(f)}};function M2(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function qv(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function sE(){}function MW(f,p,b,j,I){if(I){if(typeof j=="function"){var z=j;j=function(){var ot=zv(ie);z.call(ot)}}var ie=nE(p,j,f,0,null,!1,!1,"",sE);return f._reactRootContainer=ie,f[ja]=ie.current,vu(f.nodeType===8?f.parentNode:f),If(),ie}for(;I=f.lastChild;)f.removeChild(I);if(typeof j=="function"){var Ie=j;j=function(){var ot=zv(Be);Ie.call(ot)}}var Be=I2(f,0,!1,null,null,!1,!1,"",sE);return f._reactRootContainer=Be,f[ja]=Be.current,vu(f.nodeType===8?f.parentNode:f),If(function(){$v(p,Be,b,j)}),Be}function Hv(f,p,b,j,I){var z=b._reactRootContainer;if(z){var ie=z;if(typeof I=="function"){var Ie=I;I=function(){var Be=zv(ie);Ie.call(Be)}}$v(p,ie,f,I)}else ie=MW(b,p,f,I,j);return zv(ie)}el=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var b=Js(p.pendingLanes);b!==0&&(Ac(p,b|1),fo(p,St()),(rn&6)===0&&(sp=St()+500,W()))}break;case 13:If(function(){var j=xn(f,1);if(j!==null){var I=Ws();rc(j,f,1,I)}}),R2(f,1)}},Ec=function(f){if(f.tag===13){var p=xn(f,134217728);if(p!==null){var b=Ws();rc(p,f,134217728,b)}R2(f,134217728)}},lu=function(f){if(f.tag===13){var p=Id(f),b=xn(f,p);if(b!==null){var j=Ws();rc(b,f,p,j)}R2(f,p)}},Ml=function(){return Hr},Pc=function(f,p){var b=Hr;try{return Hr=f,p()}finally{Hr=b}},Ft=function(f,p,b){switch(p){case"input":if(lt(f,b),p=b.name,b.type==="radio"&&p!=null){for(b=f;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<b.length;p++){var j=b[p];if(j!==f&&j.form===f.form){var I=Pf(j);if(!I)throw Error(r(90));je(j),lt(j,I)}}}break;case"textarea":xr(f,b);break;case"select":p=b.value,p!=null&&Dt(f,!!b.multiple,p,!1)}},on=P2,aa=If;var FW={usingClientEntryPoint:!1,Events:[jd,bu,Pf,Cr,xa,P2]},em={findFiberByHostInstance:Mc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BW={bundleType:em.bundleType,version:em.version,rendererPackageName:em.rendererPackageName,rendererConfig:em.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=Me(f),f===null?null:f.stateNode},findFiberByHostInstance:em.findFiberByHostInstance||LW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vv.isDisabled&&Vv.supportsFiber)try{ba=Vv.inject(BW),qn=Vv}catch{}}return ho.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FW,ho.createPortal=function(f,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M2(p))throw Error(r(200));return RW(f,p,null,b)},ho.createRoot=function(f,p){if(!M2(f))throw Error(r(299));var b=!1,j="",I=aE;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(j=p.identifierPrefix),p.onRecoverableError!==void 0&&(I=p.onRecoverableError)),p=I2(f,1,!1,null,null,b,!1,j,I),f[ja]=p.current,vu(f.nodeType===8?f.parentNode:f),new L2(p)},ho.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=Me(p),f=f===null?null:f.stateNode,f},ho.flushSync=function(f){return If(f)},ho.hydrate=function(f,p,b){if(!qv(p))throw Error(r(200));return Hv(null,f,p,!0,b)},ho.hydrateRoot=function(f,p,b){if(!M2(f))throw Error(r(405));var j=b!=null&&b.hydratedSources||null,I=!1,z="",ie=aE;if(b!=null&&(b.unstable_strictMode===!0&&(I=!0),b.identifierPrefix!==void 0&&(z=b.identifierPrefix),b.onRecoverableError!==void 0&&(ie=b.onRecoverableError)),p=nE(p,null,f,1,b??null,I,!1,z,ie),f[ja]=p.current,vu(f),j)for(f=0;f<j.length;f++)b=j[f],I=b._getVersion,I=I(b._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[b,I]:p.mutableSourceEagerHydrationData.push(b,I);return new Wv(p)},ho.render=function(f,p,b){if(!qv(p))throw Error(r(200));return Hv(null,f,p,!1,b)},ho.unmountComponentAtNode=function(f){if(!qv(f))throw Error(r(40));return f._reactRootContainer?(If(function(){Hv(null,null,f,!1,function(){f._reactRootContainer=null,f[ja]=null})}),!0):!1},ho.unstable_batchedUpdates=P2,ho.unstable_renderSubtreeIntoContainer=function(f,p,b,j){if(!qv(b))throw Error(r(200));if(f==null||f._reactInternals===void 0)throw Error(r(38));return Hv(f,p,b,!1,j)},ho.version="18.3.1-next-f1338f8080-20240426",ho}var pE;function XR(){if(pE)return U2.exports;pE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),U2.exports=XW(),U2.exports}var mE;function JW(){if(mE)return Kv;mE=1;var e=XR();return Kv.createRoot=e.createRoot,Kv.hydrateRoot=e.hydrateRoot,Kv}var ZW=JW();const JR=wc(ZW),gE={appName:"CuraSoft",male:"",female:"",other:"","common.edit":"","common.cancel":"","common.save":"","common.delete":"","common.confirmDelete":"           .","common.saveChanges":" ","common.back":"","common.closeForm":" ","common.close":"","common.unknownPatient":"  ","common.unknownDentist":"   ","common.unknownTreatment":"  ","common.unknownMaterial":"  ","common.na":" ","common.noDate":"  ","common.ellipsis":"...","common.sendWhatsApp":" ","common.print":"  ","auth.config.title":"   ","auth.config.message":"        Supabase URL  Key  .","auth.config.instructions":"      `backend_setup.md`   Supabase    (`SUPABASE_URL`  `SUPABASE_ANON_KEY`)     .","auth.login.welcome":" !    .","auth.login.email":" ","auth.login.password":" ","auth.login.button":" ","auth.login.error":"      .","auth.login.noAccount":"     ","auth.signup.title":"  ","auth.signup.button":" ","auth.signup.success":"   !       .","auth.signup.backToLogin":"     ","auth.loading":" ...","auth.logout.button":" ","sidebar.dashboard":" ","sidebar.patients":"","sidebar.scheduler":"","sidebar.doctors":"","sidebar.reports":"","sidebar.settings":"","sidebar.suppliers":"","sidebar.inventory":"","sidebar.labCases":" ","sidebar.expenses":"","sidebar.treatmentDefinitions":" ","sidebar.doctorAccounts":" ","sidebar.group.records":"","sidebar.group.appointments":"","sidebar.group.materialsLabs":" ","sidebar.group.suppliers":"","sidebar.group.finance":"","sidebar.group.reports":"","sidebar.group.settings":"","sidebar.group.userManagement":" ","sidebar.userManagement":" ","sidebar.drAdmin":". ","sidebar.clinicManager":" ","sidebar.adminProfile":"  ","dashboard.title":" ","dashboard.totalPatients":" ","dashboard.appointmentsToday":" ","dashboard.upcomingAppointments":" ","dashboard.todaysSchedule":" ","dashboard.noAppointmentsToday":"     .","dashboard.todaysRevenue":" ","dashboard.todaysExpenses":" ","dashboard.newPatientsThisMonth":"   ","dashboard.upcomingWeekAppointments":"  ","dashboard.atAGlance":" ","dashboard.pendingLabCases":"   ","dashboard.lowStockItems":"  ","dashboard.doctorsDuesToday":"  ","dashboard.noPendingLabCases":"     .","dashboard.noLowStockItems":"    .","dashboard.doctorDailyPerformance":"  ","dashboard.totalEarnings":" ","dashboard.noEarningsToday":"    .","dashboard.monthlyRevenue":" ","dashboard.monthlyExpenses":" ","dashboard.netProfit":" ","dashboard.outstandingBalance":" ","dashboard.pendingPayments":" ","dashboard.doctorsEarningsThisMonth":"   ","dashboard.thisMonth":" ","dashboard.today":"","dashboard.dailyNetProfit":"  ","dashboard.dailyExpenses":" ","dashboard.doctorsDues":" ","dashboard.monthlyDoctorShares":"  ","dashboard.monthlyNetProfit":"  ","dashboard.netToday":" ","dashboard.nextAppointment":" ","dashboard.noUpcomingAppointments":"   ","dashboard.todaysFinancials":" ","dashboard.monthlyMetrics":" ","dashboard.operationalMetrics":" ","dashboard.todaysEarnings":" ","dashboard.todaysExpensesSubtitle":" ","dashboard.todaysNetProfit":"  ","dashboard.outstandingPayments":" ","dashboard.scheduledToday":" ","dashboard.activePatients":" ","dashboard.viewAll":"  ","dashboard.viewDetails":"  ","dashboard.monthlyTrends":" ","dashboard.activityTimeline":"  ","dashboard.noRecentActivity":"   ","dashboard.eventType.appointment":"","dashboard.eventType.treatment":"","dashboard.eventType.payment":"","dashboard.quickActions":" ","dashboard.addPatient":" ","dashboard.schedule":"","dashboard.finance":"","dashboard.reports":"","dashboard.overdue":"","appointmentCard.ariaLabel":"  {{patientName}}   {{dentistName}}  {{reason}}  {{date}}  {{time}}","appointmentStatus.SCHEDULED":"","appointmentStatus.CONFIRMED":"","appointmentStatus.COMPLETED":"","appointmentStatus.CANCELLED":"","patientManagement.title":" ","patientList.searchPatients":"  ...","patientList.searchPatientsAriaLabel":"        ","patientList.addNewPatient":"  ","patientList.viewDetails":" ","patientList.noPatientsFound":"    .","patientList.lastVisit":" ","patientList.whatsappMessage":" {{patientName}}       .","patientList.sendWhatsAppAriaLabel":"    {{patientName}}","patientDetails.closeAriaLabel":"  ","patientDetails.tabDetails":"","patientDetails.tabDentalChart":" ","patientDetails.tabTreatmentRecords":" ","patientDetails.tabPrescriptions":"","patientDetails.tabFinancials":"","patientDetails.addTreatmentRecord":"  ","patientDetails.addPrescription":" ","patientDetails.dob":" ","patientDetails.gender":"","patientDetails.phone":"","patientDetails.email":" ","patientDetails.address":"","patientDetails.insurance":"","patientDetails.policyNumber":" ","patientDetails.emergencyContact":"    ","patientDetails.emergencyContactName":"   ","patientDetails.emergencyContactPhone":" ","patientDetails.allergies":"","patientDetails.currentMedications":" ","patientDetails.medicalHistory":" ","patientDetails.unstructuredNotes":"  ( )","patientDetails.patientImages":" ","patientDetails.patientImage":" ","patientDetails.title":" ","patientDetails.tabAttachments":"","financials.totalSpent":" ","financials.breakdown":'    " ".',"financials.addPayment":" ","financials.addDiscount":" ","financials.patientBalance":" ","financials.totalCharges":" ","financials.totalPaid":" ","financials.outstandingBalance":" ","financials.paidInFull":" ","financials.overpaid":" ","financials.amountDue":" ","financials.transactions":" ","financials.charges":" ()","financials.payments":"","financials.noTransactions":"    .","addPaymentModal.title":"  ","addPaymentModal.amount":"","addPaymentModal.paymentDate":" ","addPaymentModal.paymentMethod":" ","addPaymentModal.notes":"","addPaymentModal.savePayment":" ","addPaymentModal.notesPlaceholder":"   ()","addPaymentModal.alertPositiveAmount":"       .","addPaymentModal.alertExceedsBalance":"     {{balance}}.","paymentMethod.Cash":"","paymentMethod.CreditCard":" ","paymentMethod.BankTransfer":" ","paymentMethod.Other":"","paymentMethod.Discount":"","addDiscountModal.title":" ","addDiscountModal.amount":" ","addDiscountModal.password":" ","addDiscountModal.passwordPlaceholder":"   ","addDiscountModal.passwordIncorrect":"   .","addDiscountModal.saveDiscount":" ","addDiscountModal.notes":" ( )","addPatientModal.title":"  ","addPatientModal.editTitle":"  ","addPatientModal.closeAriaLabel":"   ","addPatientModal.fullName":" ","addPatientModal.dob":" ","addPatientModal.phone":" ","addPatientModal.email":"  ","addPatientModal.gender":"","addPatientModal.address":"","addPatientModal.insuranceProvider":" ","addPatientModal.policyNumber":" ","addPatientModal.emergencyContactName":"   ","addPatientModal.emergencyContactPhone":"   ","addPatientModal.allergies":"","addPatientModal.allergiesPlaceholder":":   ","addPatientModal.currentMedications":" ","addPatientModal.currentMedicationsPlaceholder":":  (  )","addPatientModal.medicalHistory":" ","addPatientModal.medicalHistoryPlaceholder":"       ","addPatientModal.initialTreatmentNotes":"  ","addPatientModal.initialTreatmentNotesPlaceholder":"         .","addPatientModal.patientImages":" ","addPatientModal.savePatient":" ","addPatientModal.alertFillRequired":"    (     ).","appointmentScheduler.title":" ","scheduler.previousWeek":" ","scheduler.nextWeek":" ","scheduler.newAppointment":" ","scheduler.editAppointment":" ","scheduler.appointmentDetails":" ","scheduler.status":"","scheduler.dateTime":" ","scheduler.duration":"","scheduler.minutes":"","scheduler.showFrom":" ","scheduler.to":"","addAppointmentModal.alertFillAllFields":"    .","addAppointmentModal.title":" ","addAppointmentModal.closeAriaLabel":"   ","addAppointmentModal.patient":"","addAppointmentModal.selectPatient":" ","addAppointmentModal.dentist":" ","addAppointmentModal.selectDentist":"  ","addAppointmentModal.startTime":" ","addAppointmentModal.endTime":" ","addAppointmentModal.reasonForVisit":" ","addAppointmentModal.reasonPlaceholder":":   ...","addAppointmentModal.schedule":" ","reminders.reminderTime":" ","reminders.none":"","reminders.1_hour_before":" ","reminders.2_hours_before":" ","reminders.1_day_before":" ","reminders.toggleNotifications":" ","reminders.pendingReminders":" ","reminders.noPendingReminders":"   .","reminders.sendReminder":" ","reminders.whatsappMessage":" {{patientName}}          {{date}}  {{time}}.  .","notifications.patientAdded":"   .","notifications.patientUpdated":"    .","notifications.treatmentAdded":"    .","notifications.paymentAdded":"   .","notifications.discountAdded":"   .","notifications.lowStockAlert":"  ","notifications.labCaseDueAlert":"   ","notifications.lowStockMessage":"{{itemName}}    (: {{count}}).","notifications.labCaseDueMessage":" {{caseType}}  {{patientName}}   {{date}}.","notifications.backupSuccess":"    !","notifications.backupError":" .     .","notifications.restoreSuccess":"   !","notifications.restoreError":" .      .","notifications.invoiceAdded":"   .","notifications.invoiceUpdated":"   .","notifications.invoicePaid":"   .","notifications.paymentRecorded":"   .","notifications.inventoryItemAdded":"    .","notifications.inventoryItemUpdated":"    .","notifications.labCaseAdded":"    .","notifications.labCaseUpdated":"    .","toothStatus.HEALTHY":"","toothStatus.FILLING":"","toothStatus.CROWN":"","toothStatus.MISSING":"","toothStatus.IMPLANT":"","toothStatus.ROOT_CANAL":" ","toothStatus.CAVITY":"","dentalChart.toothAriaLabel":" {{toothId}} : {{status}}","dentalChart.upperRight":" ","dentalChart.upperLeft":" ","dentalChart.lowerRight":" ","dentalChart.lowerLeft":" ","editToothModal.title":"  {{toothId}}","editToothModal.status":"","editToothModal.notes":"","editToothModal.addNotesPlaceholder":" ...","doctorManagement.title":" ","doctorList.addNewDoctor":"  ","doctorList.viewDetails":" ","doctorDetails.closeAriaLabel":"  ","doctorDetails.tabDetails":"","doctorDetails.tabTreatments":"","doctorDetails.tabFinancials":"","doctorDetails.fullName":" ","doctorDetails.specialty":"","doctorDetails.colorTag":" ","doctorDetails.selectColorAriaLabel":"  {{color}}","doctorDetails.appointmentSchedule":" ","doctorDetails.noAppointmentsFound":"    .","doctorDetails.financialSummary":" ","doctorDetails.totalRevenueGenerated":"  ","doctorDetails.totalEarnings":" ","doctorDetails.totalPaymentsReceived":"  ","doctorDetails.netBalance":" ","doctorDetails.treatmentsPerformed":" ","doctorDetails.noTreatmentsFound":"     .","doctorDetails.transactions":" ","doctorDetails.earnings":" ()","doctorDetails.payments":"","doctorDetails.noTransactions":"    .","addDoctorModal.title":"  ","addDoctorModal.closeAriaLabel":"   ","addDoctorModal.fullName":" ","addDoctorModal.specialty":"","addDoctorModal.colorTag":" ","addDoctorModal.saveDoctor":" ","suppliersManagement.title":" ","inventoryManagement.title":" ","labCasesManagement.title":"  ","expensesManagement.title":" ","treatmentDefinitionsManagement.title":"  ","suppliers.editSupplier":" ","suppliers.suppliersList":" ","suppliers.addSupplier":" ","suppliers.viewDetails":" ","suppliers.editSupplierAriaLabel":"  {{name}}","suppliers.noSuppliersAdded":"    .","suppliers.addNewSupplier":"  ","suppliers.supplierName":" ","suppliers.contactPerson":" ","suppliers.phone":"","suppliers.email":" ","suppliers.supplierType":" ","supplierType.materialSupplier":" ","supplierType.dentalLab":" ","supplierDetails.contactInfo":" ","supplierDetails.financialSummary":" ","invoices.title":"","invoices.addInvoice":" ","invoices.editInvoice":" ","invoices.invoice":"","invoices.date":"","invoices.due":" ","invoices.paid":"","invoices.remaining":"","invoices.confirmPayRemaining":"       {{amount}}  ","invoices.viewAttachment":" ","invoices.payRemaining":" ","invoices.noInvoices":"    .","invoices.totalBilled":" ","invoices.totalPaid":" ","invoices.outstandingBalance":" ","invoices.invoiceNumber":" ","invoices.amount":"","invoices.attachInvoice":"  ","invoices.billed":" ","invoices.paidAmount":" ","inventory.editItem":" ","inventory.addNewItem":"  ","inventory.itemName":" ","inventory.description":"","inventory.descriptionPlaceholder":"  ...","inventory.supplier":"","inventory.selectSupplier":" ","inventory.currentStock":" ","inventory.unitCost":" ","inventory.inventoryItems":" ","inventory.addItem":" ","inventory.addItemPlaceholder":"  ...","inventory.stock":"","inventory.editItemAriaLabel":"  {{name}}","inventory.minStockLevel":"  ","inventory.expiryDate":"  ","inventory.printReport":"  ","inventoryReport.title":"  ","inventoryReport.itemName":" ","inventoryReport.supplier":"","inventoryReport.stock":" ","inventoryReport.minStock":" ","inventoryReport.unitCost":" ","inventoryReport.totalValue":" ","inventoryReport.expiryDate":" ","inventoryReport.status":"","inventoryStatus.ok":"","inventoryStatus.lowStock":" ","inventoryStatus.expiresSoon":" ","inventoryStatus.expired":" ","inventoryStatus.outOfStock":" ","expenses.editExpense":" ","expenses.addNewExpense":"  ","expenses.date":"","expenses.description":"","expenses.descriptionPlaceholder":":    ","expenses.amount":"","expenses.category":"","expenses.selectSupplier":"  ()","expenses.noSupplier":" ","expenses.applyToInvoice":"   ()","expenses.paymentOnAccount":"  ","expenses.clinicExpenses":" ","expenses.addExpense":" ","expenses.noExpensesRecorded":"   .","expenses.supplier":"","expenses.editExpenseAriaLabel":" : {{description}}","expenseCategory.RENT":"","expenseCategory.SALARIES":"","expenseCategory.UTILITIES":" ( )","expenseCategory.LAB_FEES":" ","expenseCategory.SUPPLIES":"","expenseCategory.MARKETING":"","expenseCategory.MISC":"","labCases.editCase":" ","labCases.addNewCase":"  ","labCases.patient":"","labCases.selectPatient":" ","labCases.dentalLab":" ","labCases.selectDentalLab":" ","labCases.caseType":" ","labCases.caseTypePlaceholder":":    ","labCases.sentDate":" ","labCases.dueDate":" ","labCases.returnDate":" ","labCases.labCost":" ","labCases.cost":"","labCases.status":"","labCases.selectStatus":" ","labCases.notes":"","labCases.notesPlaceholder":":   A2","labCases.labCaseTracker":"  ","labCases.addCase":" ","labCases.noCasesRecorded":"    .","labCases.lab":"","labCases.due":"","labCases.editCaseAriaLabel":"  {{caseType}}  {{patientName}}","labCases.alertFillAllFields":"    .","labCaseStatus.DRAFT":"","labCaseStatus.SENT_TO_LAB":" ","labCaseStatus.RECEIVED_FROM_LAB":"  ","labCaseStatus.FITTED_TO_PATIENT":" ","labCaseStatus.CANCELLED":"","treatments.editTreatment":" ","treatments.addNewTreatment":"  ","treatments.treatmentName":" ","treatments.description":"","treatments.descriptionPlaceholder":"  ...","treatments.basePrice":" ","treatments.doctorPercentage":" ","treatments.clinicPercentage":" ","treatments.auto":"","treatments.manageTreatments":"  ","treatments.addTreatment":" ","treatments.noTreatmentsAdded":"    .","treatments.doctor":"","treatments.clinic":"","treatments.editTreatmentAriaLabel":"  {{name}}","addTreatmentRecord.title":"   ","addTreatmentRecord.date":"","addTreatmentRecord.dentist":"","addTreatmentRecord.selectDentist":" ","addTreatmentRecord.treatment":"","addTreatmentRecord.selectTreatment":" ","addTreatmentRecord.notes":"","addTreatmentRecord.notesPlaceholder":"   ...","addTreatmentRecord.inventoryItemsUsed":"   ","addTreatmentRecord.addItem":" ","addTreatmentRecord.addItemPlaceholder":"  ...","addTreatmentRecord.stock":"","addTreatmentRecord.costSummary":" ","addTreatmentRecord.baseTreatmentPrice":"  ","addTreatmentRecord.totalMaterialCost":"  ","addTreatmentRecord.totalPatientCost":"  ","addTreatmentRecord.doctorShare":" ","addTreatmentRecord.clinicShare":" ","addTreatmentRecord.saveRecord":" ","addTreatmentRecord.alertFillFields":"   .","editTreatmentRecord.title":"  ","editTreatmentRecord.customPrice":" ","editTreatmentRecord.updatedShares":" ","editTreatmentRecord.saveChanges":" ","editTreatmentRecord.priceMustBePositive":"      .","editTreatmentRecord.priceUpdated":"    .","editTreatmentRecord.originalPrice":" ","editTreatmentRecord.treatmentName":" ","treatmentDelete.confirmTitle":"   ","treatmentDelete.confirmMessage":"              .","treatmentDelete.financialImpact":"       :","treatmentDelete.doctorShareImpact":" : {amount}","treatmentDelete.clinicShareImpact":" : {amount}","treatmentDelete.deletedSuccessfully":"    .","addTreatmentRecord.decreaseQuantityAria":"  {{itemName}}","addTreatmentRecord.increaseQuantityAria":"  {{itemName}}","addTreatmentRecord.quantityAria":" {{itemName}}","addTreatmentRecord.removeItemAria":" {{itemName}}","treatmentRecordList.noRecords":"     .","treatmentRecordList.noNotes":"  .","treatmentRecordList.materialsUsed":" ","reports.title":"","reports.categoryDaily":"","reports.categoryMonthly":"","reports.categoryPatient":"","reports.categoryDoctor":"","reports.categorySupplier":"","reports.categoryLab":"","reports.categoryFinancial":"","reports.categoryInventory":"","reports.tabDailySummary":" ","reports.tabDailyAppointments":" ","reports.tabDailyRevenue":" ","reports.tabMonthlyOverview":" ","reports.tabMonthlyPerformance":" ","reports.tabPatientHistory":" ","reports.tabPatientFinancials":" ","reports.tabDoctorPerformance":" ","reports.tabDoctorEarnings":" ","reports.tabSupplierTransactions":" ","reports.tabSupplierStatements":" ","reports.tabLabTracking":" ","reports.tabLabCosts":" ","reports.tabFinancialOverview":" ","reports.tabProfitLoss":" ","reports.tabCashFlow":" ","reports.tabInventoryStatus":" ","reports.tabPatientStatistics":" ","reports.tabFinancialSummary":" ","reports.tabAppointmentOverview":"   ","reports.tabInventoryReport":" ","reports.tabTreatmentPerformance":" ","reports.tabLabCasesReport":"  ","reports.tabPaymentsReport":" ","reports.tabSupplierInvoicesReport":"  ","reports.tabDentistsReport":" ","reports.tabSuppliersReport":" ","reports.paymentsReport.totalPayments":" ","reports.paymentsReport.totalAmount":" ","reports.supplierInvoicesReport.totalInvoices":" ","reports.supplierInvoicesReport.totalAmount":" ","reports.dentistsReport.totalDentists":" ","reports.suppliersReport.totalSuppliers":" ","reports.dateRange":" ","reports.startDate":" ","reports.endDate":" ","reports.filterByPatient":"  ","reports.filterByDoctor":"  ","reports.filterBySupplier":"  ","reports.filterByDentist":"  ","reports.filterByLab":"  ","reports.noDataAvailable":"    .","reports.printReport":" ","reports.dailySummary.totalAppointments":" ","reports.dailySummary.totalRevenue":" ","reports.dailySummary.totalPatients":" ","reports.dailySummary.totalTreatments":" ","reports.doctorEarnings.description":"    ","reports.labCosts.description":"    ","reports.profitLoss.description":"   ","reports.cashFlow.description":"   ","reports.inventoryStatus.description":"  ","reports.monthlyOverview.totalRevenue":"  ","reports.monthlyOverview.totalExpenses":"  ","reports.monthlyOverview.netProfit":"  ","reports.monthlyOverview.totalPatients":"  ","reports.patientStats.totalPatients":" ","reports.patientStats.genderDistribution":" ","reports.patientStats.ageDistribution":" ","reports.patientStats.ageGroup":"","reports.patientStats.newPatientsThisPeriod":"    ","reports.financialSummary.totalIncome":" ","reports.financialSummary.totalExpenses":" ","reports.financialSummary.netProfit":" ","reports.financialSummary.incomeByTreatment":"  ","reports.financialSummary.expensesByCategory":"  ","reports.appointmentOverview.totalAppointments":" ","reports.appointmentOverview.completedAppointments":" ","reports.appointmentOverview.cancelledAppointments":" ","reports.appointmentOverview.completionRate":" ","reports.appointmentOverview.appointmentsByDentist":"  ","reports.inventoryReport.totalValue":"  ","reports.inventoryReport.lowStockItems":"  ","reports.inventoryReport.allInventoryItems":"  ","reports.inventoryReport.itemName":" ","reports.inventoryReport.currentStock":" ","reports.inventoryReport.unitCost":" ","reports.treatmentPerformance.allTreatmentPerformance":"  ","reports.treatmentPerformance.treatment":"","reports.treatmentPerformance.count":"","reports.treatmentPerformance.averagePrice":" ","reports.treatmentPerformance.totalRevenue":" ","reports.treatmentPerformance.totalClinicShare":"  ","reports.treatmentPerformance.totalDoctorShare":"  ","reports.treatmentPerformance.mostProfitable":" ","reports.treatmentPerformance.top5ByRevenue":" 5   ","reports.treatmentPerformance.top5ByFrequency":" 5   ","settings.title":"","settings.backup.title":"  ","settings.backup.description":"      (  )   JSON.      .","settings.backup.button":"  ","settings.restore.title":" ","settings.restore.description":"      .        .","settings.restore.warning":"     .","settings.restore.button":"  ","settings.restore.confirm":"!           .      ","settings.dangerZone.title":" ","settings.dangerZone.description":"      .   .","settings.clear.title":"  ","settings.clear.description":"             .","settings.clear.button":"  ","settings.clear.confirm":"!      .      ","settings.sampleData.title":"  ","settings.sampleData.description":"            .","settings.sampleData.button":"  ","settings.sampleData.confirm":"          .","settings.sampleData.success":"    !","settings.sampleData.error":"   .","settings.clear.success":"   !    .","settings.clear.error":"  .","patientReport.clinicAddress":"    01017755577","patientReport.title":"  ","patientReport.generatedOn":"  : {{date}}","patientReport.demographics.title":" ","patientReport.demographics.name":"","patientReport.demographics.phone":"","patientReport.demographics.dob":" ","patientReport.demographics.email":" ","patientReport.demographics.gender":"","patientReport.demographics.address":"","patientReport.emergencyAndInsurance.title":" ","patientReport.emergencyAndInsurance.insuranceProvider":" ","patientReport.emergencyAndInsurance.policyNumber":" ","patientReport.medicalInfo.title":" ","patientReport.medicalInfo.allergies":"","patientReport.medicalInfo.medications":" ","patientReport.medicalInfo.medicalHistory":" ","patientReport.dentalChart.title":" ","patientReport.dentalChart.allHealthy":"    .","patientReport.dentalChart.tooth":"","patientReport.dentalChart.status":"","patientReport.dentalChart.notes":"","patientReport.treatmentHistory.title":" ","patientReport.treatmentHistory.date":"","patientReport.treatmentHistory.treatment":"","patientReport.treatmentHistory.dentist":"","patientReport.treatmentHistory.notes":"","patientReport.treatmentHistory.cost":"","patientReport.treatmentHistory.noRecords":"   .","patientReport.financials.title":" ","patientReport.financials.paymentDate":" ","patientReport.financials.paymentMethod":" ","patientReport.financials.notes":"","patientReport.financials.amount":"","patientReport.financials.noPayments":"   .","patientReport.footer":" AlAfandy","patientInvoice.title":" ","patientInvoice.invoiceNumber":" ","patientInvoice.date":"","patientInvoice.billTo":" ","patientInvoice.treatmentDetails":" ","patientInvoice.paymentDetails":" ","patientInvoice.balanceDue":" ","patientInvoice.thankYou":"    .","suppliers.supplierDetails":" ","supplierStatement.financialTitle":"   ","supplierStatement.caseTitle":"    ","supplierStatement.statementDetails":"  ","supplierStatement.caseDetails":"  ","supplierStatement.totalCost":" ","supplierStatement.noPaymentsRecorded":"     .","supplierStatement.notDentalLab":"     .","supplierStatement.selectDentalLab":"     ' '   .","supplierStatement.totalCases":" ","addDoctorPaymentModal.title":"  ","addDoctorPaymentModal.paymentDate":" ","addDoctorPaymentModal.amount":"","addDoctorPaymentModal.notes":"","addDoctorPaymentModal.notesPlaceholder":"   ()","addDoctorPaymentModal.savePayment":" ","addDoctorPaymentModal.alertPositiveAmount":"       .","reports.expenseBreakdown":"   ","reports.ageGroup.0-17":"0-17 ","reports.ageGroup.18-29":"18-29 ","reports.ageGroup.30-49":"30-49 ","reports.ageGroup.50+":"50   ","reports.ageGroup.0-18":"0-18 ","reports.ageGroup.19-35":"19-35 ","reports.ageGroup.36-55":"36-55 ","reports.ageGroup.56+":"56   ","reports.years":"","reports.categoryByDentist":" ","reports.categoryByPatient":" ","reports.categoryBySupplier":" ","reports.categoryByLab":" ","reports.kpi.title":" ","reports.kpi.totalRevenue":" ","reports.kpi.totalExpenses":" ","reports.kpi.netProfit":" ","reports.kpi.totalAppointments":" ","reports.kpi.completionRate":" ","reports.charts.monthlyRevenue":" ","reports.charts.dailyRevenue":" ","reports.dailyRevenue.title":" ","reports.dailyRevenue.date":"","reports.dailyRevenue.amount":"","reports.monthlySummary.title":" ","reports.monthlySummary.month":"","reports.monthlySummary.revenue":"","reports.monthlySummary.appointments":"","reports.financialOverview.expenseBreakdown":"   ","reports.financialOverview.title":"  ","reports.financialOverview.totalRevenue":" ","reports.financialOverview.totalExpenses":" ","reports.financialOverview.netProfit":" ","reports.financialOverview.totalPayments":" ","reports.financialOverview.revenueVsExpenses":"  ","reports.financialOverview.expenses":"","reports.financialOverview.revenue":"","reports.financialOverview.recentPayments":" ","reports.financialOverview.patient":"","reports.financialOverview.amount":"","reports.financialOverview.date":"","reports.financialOverview.description":"","reports.financialOverview.category":"","reports.financialOverview.recentExpenses":" ","reports.patientStats.title":" ","reports.patientStats.newPatients":" ","reports.patientStats.activePatients":" ","reports.patientStats.topPatients":" ","reports.patientStats.patientName":" ","reports.patientStats.totalSpent":" ","reports.patientStats.lastVisit":" ","reports.doctorPerformance.title":" ","reports.doctorPerformance.totalDoctors":" ","reports.doctorPerformance.avgRevenuePerDoctor":"   ","reports.doctorPerformance.detailedPerformance":" ","reports.doctorPerformance.doctorName":" ","reports.doctorPerformance.totalTreatments":" ","reports.doctorPerformance.avgTreatmentValue":"  ","reports.doctorPerformance.specialty":"","reports.doctorPerformance.appointmentsByDoctor":"  ","reports.doctorPerformance.totalAppointments":" ","reports.doctorPerformance.completionRate":" ","reports.doctorPerformance.revenueBySpecialty":"  ","reports.filters":"","reports.dateRangePresets":"  ","reports.presets.today":"","reports.presets.last7Days":" 7 ","reports.presets.last30Days":" 30 ","reports.presets.last90Days":" 90 ","reports.presets.thisMonth":" ","reports.presets.lastMonth":" ","reports.categoryOverview":" ","reports.subtitle":"  ","reports.labCasesReport.allLabCases":"  ","reports.paymentsReport.allPayments":" ","reports.supplierInvoicesReport.allSupplierInvoices":"  ","reports.dentistsReport.allDentists":" ","reports.suppliersReport.allSuppliers":" ","reports.dailyFinancialSummary.title":"  ","reports.dailyFinancialSummary.subtitle":"    ","reports.dailyFinancialSummary.todaysRevenue":" ","reports.dailyFinancialSummary.todaysExpenses":" ","reports.dailyFinancialSummary.todaysProfit":" ","reports.dailyFinancialSummary.pendingPayments":" ","reports.dailyFinancialSummary.overdueInvoices":" ","reports.dailyFinancialSummary.todaysPayments":" ","reports.dailyFinancialSummary.todaysExpensesList":" ","expense.description":"","expense.amount":"","expense.category":"","common.date":"","reports.overview":" ","reports.overviewDescription":"      ","reports.patientList":" ","reports.doctorList":" ","reports.supplierList":" ","reports.patientReports":" ","reports.doctorReports":" ","reports.supplierReports":" ","reports.totalRevenue":" ","reports.totalPaid":" ","reports.outstandingBalance":" ","reports.treatmentCount":" ","reports.totalEarnings":" ","reports.totalPaymentsReceived":"  ","reports.netBalance":" ","reports.totalPurchases":" ","reports.totalExpenses":" ","reports.totalValue":" ","reports.itemCount":" ","reports.expenseCount":" ","reports.financialOverview":" ","reports.netProfit":" ","patientReport.summary":"","patientReport.totalRevenue":" ","patientReport.totalPaid":" ","doctorReport.title":" ","doctorReport.summary":"","doctorReport.totalEarnings":" ","doctorReport.totalPaymentsReceived":"  ","supplierReport.title":" ","supplierReport.summary":"","supplierReport.totalPurchases":" ","supplierReport.totalExpenses":" ","reports.dailyFinancialSummary.revenueTrend":" ","reports.dailyFinancialSummary.expensesBreakdown":" ","reports.selectDate":" ","reports.monthlyFinancialSummary.title":"  ","reports.monthlyFinancialSummary.subtitle":"    ","reports.monthlyFinancialSummary.thisMonthRevenue":" ","reports.monthlyFinancialSummary.thisMonthExpenses":" ","reports.monthlyFinancialSummary.clinicProfitThisMonth":"   ","reports.monthlyFinancialSummary.monthlyAverages":" ","reports.monthlyFinancialSummary.growthRates":" ","reports.monthlyFinancialSummary.revenueChart":" ","reports.monthlyFinancialSummary.expenseBreakdown":" ","reports.monthlyFinancialSummary.profitTrend":" ","reports.monthlyFinancialSummary.monthlyPayments":" ","reports.monthlyFinancialSummary.monthlyExpenses":" ","reports.selectMonth":" ","reports.quarterlyAnnualOverview.title":"    ","reports.quarterlyAnnualOverview.subtitle":"      ","reports.quarterlyAnnualOverview.totalRevenue":" ","reports.quarterlyAnnualOverview.totalExpenses":" ","reports.quarterlyAnnualOverview.cumulativeProfit":" ","reports.quarterlyAnnualOverview.yearOverYear":" ","reports.quarterlyAnnualOverview.comparisonChart":" ","reports.quarterlyAnnualOverview.trendChart":" ","reports.quarterlyAnnualOverview.seasonalTrends":" ","reports.quarterlyAnnualOverview.periodPayments":" ","reports.quarterlyAnnualOverview.periodExpenses":" ","reports.viewType":" ","reports.quarterly":" ","reports.annual":"","reports.selectQuarter":" ","reports.selectYear":" ","reports.revenue":"","reports.expenses":"","reports.profit":"","reports.dailyRevenue":" ","reports.dailyExpenses":" ","labCase.patientName":" ","payment.patientName":" ","payment.amount":"","payment.method":" ","payment.date":"","payment.notes":"","supplierInvoice.supplierName":" ","supplierInvoice.invoiceNumber":" ","supplierInvoice.totalAmount":" ","supplierInvoice.date":"","supplierInvoice.status":"","dentist.name":"","dentist.specialty":"","supplier.name":"","supplier.contactPerson":" ","supplier.phone":"","supplier.email":" ","supplierInvoiceStatus.PAID":"","supplierInvoiceStatus.UNPAID":" ","supplierInvoiceStatus.PARTIALLY_PAID":" ","common.unknownSupplier":"  ","common.update":"","common.add":"","common.select":"","common.accessDenied":"  ","common.unknown":" ","common.view":"","common.viewDetails":" ","common.patients":"","common.doctors":"","financialAccounts.title":" ","financialAccounts.tabs.revenue":"","financialAccounts.tabs.expenses":"","financialAccounts.tabs.balances":"","financialAccounts.export":"","financialAccounts.print":"","financialSummary.totalRevenue":" ","financialSummary.totalPayments":" ","financialSummary.totalExpenses":" ","financialSummary.doctorPayments":" ","financialSummary.supplierInvoices":" ","financialSummary.unpaidInvoices":"  ","financialSummary.netProfit":" ","financialSummary.cashFlow":" ","revenueTab.totalRevenue":" ","revenueTab.treatmentRevenue":" ","revenueTab.paymentRevenue":" ","revenueTab.revenueChart":" ","revenueTab.revenueDetails":" ","revenueTab.noRevenueData":"    .","expensesTab.totalExpenses":" ","expensesTab.operatingExpenses":" ","expensesTab.doctorPayments":" ","expensesTab.supplierInvoices":" ","expensesTab.expensesByCategory":"  ","expensesTab.expensesDetails":" ","expensesTab.noExpensesData":"    .","balancesTab.netProfit":" ","balancesTab.cashFlow":" ","balancesTab.unpaidInvoices":"  ","balancesTab.paidInvoices":" ","balancesTab.balanceSheet":" ","balancesTab.assets":"","balancesTab.liabilities":"","balancesTab.equity":" ","balancesTab.cashAndEquivalents":"  ","balancesTab.accountsReceivable":" ","balancesTab.totalAssets":" ","balancesTab.accountsPayable":" ","balancesTab.otherLiabilities":" ","balancesTab.totalLiabilities":" ","balancesTab.supplierInvoices":" ","balancesTab.noInvoices":"   .","balancesTab.invoiceNumber":" ","balancesTab.supplier":"","balancesTab.invoiceDate":" ","balancesTab.dueDate":" ","balancesTab.amount":"","balancesTab.status":"","financialFilters.title":"","financialFilters.clearAll":" ","financialFilters.dateRange":" ","financialFilters.selectPreset":"  ","financialFilters.today":"","financialFilters.thisWeek":" ","financialFilters.thisMonth":" ","financialFilters.thisYear":" ","financialFilters.custom":"","financialFilters.startDate":" ","financialFilters.endDate":" ","financialFilters.dentist":"","financialFilters.supplier":"","financialFilters.category":"","financialTable.date":"","financialTable.description":"","financialTable.type":"","financialTable.category":"","financialTable.amount":"","financialTable.showing":"","financialTable.entries":"","financialCharts.noData":"   ","financialCharts.total":"","financialAccounts.accountDetails.selectAccount":" ","financialAccounts.accountDetails.accountType":" ","financialAccounts.accountDetails.selectEntity":" /","financialAccounts.accountDetails.accountTypes.patient":"","financialAccounts.accountDetails.accountTypes.doctor":"","financialAccounts.accountDetails.accountTypes.supplier":"","financialAccounts.accountDetails.accountTypes.clinic":"","financialAccounts.accountDetails.clinicAccount":" ","financialAccounts.accountDetails.accountSummary":" ","financialAccounts.accountDetails.totalDebit":" ","financialAccounts.accountDetails.totalCredit":" ","financialAccounts.accountDetails.balance":"","financialAccounts.accountDetails.transactions":"","financialAccounts.accountDetails.columns.date":"","financialAccounts.accountDetails.columns.description":"","financialAccounts.accountDetails.columns.debit":"","financialAccounts.accountDetails.columns.credit":"","financialAccounts.accountDetails.columns.balance":"","financialAccounts.accountDetails.transactionTypes.payment":"","financialAccounts.accountDetails.transactionTypes.treatment":"","financialAccounts.accountDetails.transactionTypes.treatmentRevenue":" ","financialAccounts.accountDetails.transactionTypes.doctorPayment":" ","financialAccounts.accountDetails.transactionTypes.invoice":"","financialAccounts.accountDetails.transactionTypes.expense":"","financialAccounts.accountDetails.transactionTypes.clinicRevenue":" ","financialAccounts.accountDetails.noTransactions":"    .","patientModal.tabs.basicInfo":" ","patientModal.tabs.medicalHistory":" ","patientModal.tabs.emergencyInsurance":" ","patientModal.tabs.imagesNotes":" ","validation.required":"  .","validation.fixErrors":"    .","validation.fixAllErrors":"     .","prescriptionList.noPrescriptions":"    .","prescriptionList.items":"","prescriptionList.noNotes":"  .","prescriptionList.noPrescriptionsFound":"       .","prescriptionList.searchAndFilters":" ","prescriptionList.searchPlaceholder":"      ...","prescriptionList.search":"","prescriptionList.doctor":"","prescriptionList.allDoctors":" ","prescriptionList.patient":"","prescriptionList.medications":"","prescriptionList.dosage":"","prescriptionList.quantity":"","prescriptionList.instructions":" ","prescriptionModal.title":"  ","prescriptionModal.editTitle":" ","prescriptionModal.closeAriaLabel":"  ","prescriptionModal.dentist":"","prescriptionModal.selectDentist":" ","prescriptionModal.prescriptionDate":" ","prescriptionModal.notes":"","prescriptionModal.notesPlaceholder":"   ...","prescriptionModal.medications":"","prescriptionModal.addMedication":" ","prescriptionModal.medicationName":" ","prescriptionModal.medicationNamePlaceholder":"  ...","prescriptionModal.dosage":"","prescriptionModal.dosagePlaceholder":": 500  2 ...","prescriptionModal.quantity":"","prescriptionModal.instructions":" ","prescriptionModal.instructionsPlaceholder":":     ...","prescriptionModal.noMedications":"    .","prescriptionModal.savePrescription":" ","prescriptionModal.createPrescription":" ","prescriptionModal.alertFillRequired":"    .","prescriptionModal.alertAtLeastOneItem":"     .","prescriptionDetails.title":" ","prescriptionDetails.closeAriaLabel":"  ","prescriptionDetails.patientInfo":" ","prescriptionDetails.patientName":" ","prescriptionDetails.patientId":" ","prescriptionDetails.patientPhone":"","prescriptionDetails.prescriptionInfo":" ","prescriptionDetails.dentist":"","prescriptionDetails.date":"","prescriptionDetails.prescriptionId":" ","prescriptionDetails.notes":"","prescriptionDetails.medications":"","prescriptionDetails.dosage":"","prescriptionDetails.quantity":"","prescriptionDetails.instructions":" ","prescriptionDetails.noMedications":"   .","financialAccounts.accountDetails.title":" ","accounting.title":" ","accounting.dailySummary":" ","accounting.monthlySummary":" ","accounting.periodSummary":" ","accounting.doctorAccounts":" ","accounting.patientAccounts":" ","accounting.treatmentAccounts":" ","accounting.expenseDetails":" ","accounting.paymentDetails":" ","accounting.doctorPercentages":" ","accounting.selectPeriod":" ","accounting.allDoctors":" ","accounting.allPatients":" ","accounting.allTreatments":" ","accounting.totalIncome":" ","accounting.totalExpenses":" ","accounting.netProfit":" ","accounting.doctorShare":" ","accounting.clinicShare":" ","accounting.totalRevenue":" ","accounting.totalDiscounts":" ","accounting.netRevenue":" ","accounting.paidAmount":" ","accounting.remainingAmount":" ","accounting.treatmentCount":" ","accounting.avgPerTreatment":"  ","accounting.completedTreatments":" ","accounting.pendingTreatments":" ","accounting.cancelledTreatments":" ","accounting.expenseCategory":" ","accounting.expenseDescription":" ","accounting.expenseAmount":" ","accounting.paymentMethod":" ","accounting.paymentDate":" ","accounting.recipient":"","accounting.percentage":"","accounting.amount":"","accounting.incomeDetails":" ","accounting.expenseDetailsTitle":" ","accounting.paymentDetailsTitle":" ","accounting.treatmentDetailsTitle":" ","accounting.doctorPercentageTitle":" ","accounting.printReport":" ","accounting.exportExcel":"  Excel","accounting.exportPDF":"  PDF","accounting.noData":"    ","accounting.cash":"","accounting.creditCard":" ","accounting.bankTransfer":" ","accounting.other":"","accounting.summary":"","accounting.details":"","accounting.day":"","accounting.month":"","accounting.period":"","accounting.fromDate":" ","accounting.toDate":" "},QW={appName:"CuraSoft",male:"Male",female:"Female",other:"Other","common.edit":"Edit","common.cancel":"Cancel","common.save":"Save","common.delete":"Delete","paymentEdit.title":"Edit Payment","paymentEdit.saveChanges":"Save Changes","paymentEdit.amountChanged":"Amount changed - shares recalculated","paymentDelete.confirmTitle":"Delete Payment","paymentDelete.confirmMessage":"Are you sure you want to delete this payment?","paymentDelete.balanceImpact":"This will affect the patient's outstanding balance by {amount}.","paymentDelete.shareImpact":"Doctor share of {doctorShare} will be reversed.","common.confirmDelete":"Are you sure you want to delete? This action cannot be undone.","common.saveChanges":"Save Changes","common.closeForm":"Close Form","common.close":"Close","common.unknownPatient":"Unknown Patient","common.unknownDentist":"Unknown Dentist","common.unknownTreatment":"Unknown Treatment","common.unknownMaterial":"Unknown Material","common.na":"N/A","common.sendWhatsApp":"Send WhatsApp","common.print":"Print Full Report","auth.config.title":"Backend Not Configured","auth.config.message":"The application cannot connect to the backend because the Supabase URL and Key are missing.","auth.config.instructions":"Please follow the instructions in the `backend_setup.md` file to create a Supabase project and add the required secrets (`SUPABASE_URL` and `SUPABASE_ANON_KEY`) to your environment.","auth.login.welcome":"Welcome! Please log in to continue.","auth.login.email":"Email Address","auth.login.password":"Password","auth.login.button":"Log In","auth.login.error":"Invalid login credentials.","auth.login.noAccount":"Don't have an account? Sign up","auth.signup.title":"Create a New Account","auth.signup.button":"Sign Up","auth.signup.success":"Account created successfully! Please check your email to confirm.","auth.signup.backToLogin":"Already have an account? Log In","auth.loading":"Loading...","auth.logout.button":"Log Out","sidebar.dashboard":"Dashboard","sidebar.patients":"Patients","sidebar.scheduler":"Scheduler","sidebar.doctors":"Doctors","sidebar.reports":"Reports","sidebar.settings":"Settings","sidebar.suppliers":"Suppliers","sidebar.inventory":"Inventory","sidebar.labCases":"Lab Cases","sidebar.expenses":"Expenses","sidebar.treatmentDefinitions":"Treatment Settings","sidebar.doctorAccounts":"Doctor Accounts","sidebar.drAdmin":"Dr. Admin","sidebar.clinicManager":"Clinic Manager","sidebar.adminProfile":"Admin Profile","dashboard.title":"Dashboard","dashboard.totalPatients":"Total Patients","dashboard.appointmentsToday":"Appointments Today","dashboard.upcomingAppointments":"Upcoming Appointments","dashboard.todaysSchedule":"Today's Schedule","dashboard.noAppointmentsToday":"No appointments scheduled for today.","dashboard.todaysRevenue":"Today's Revenue","dashboard.newPatientsThisMonth":"New Patients This Month","dashboard.upcomingWeekAppointments":"Upcoming Week Appointments","dashboard.atAGlance":"At A Glance","dashboard.pendingLabCases":"Pending Lab Cases","dashboard.lowStockItems":"Low Stock Items","dashboard.noPendingLabCases":"No pending lab cases.","dashboard.noLowStockItems":"No low stock items.","dashboard.doctorDailyPerformance":"Doctor Daily Performance","dashboard.totalEarnings":"Total Earnings","dashboard.noEarningsToday":"No earnings recorded today.","dashboard.monthlyRevenue":"Monthly Revenue","dashboard.monthlyExpenses":"Monthly Expenses","dashboard.netProfit":"Net Profit","dashboard.outstandingBalance":"Outstanding Balance","dashboard.pendingPayments":"Pending payments","dashboard.thisMonth":"This month","dashboard.dailyNetProfit":"Daily Net Profit","dashboard.dailyExpenses":"Daily Expenses","dashboard.doctorsDues":"Doctors' Dues","dashboard.monthlyDoctorShares":"Monthly Doctor Shares","dashboard.netToday":"Net Today","dashboard.nextAppointment":"Next Appointment","dashboard.noUpcomingAppointments":"No upcoming appointments","dashboard.activityTimeline":"Activity Timeline","dashboard.noRecentActivity":"No recent activity","dashboard.eventType.appointment":"Appointment","dashboard.eventType.treatment":"Treatment","dashboard.eventType.payment":"Payment","appointmentCard.ariaLabel":"Appointment for {{patientName}} with Doctor {{dentistName}} for {{reason}} on {{date}} at {{time}}","appointmentStatus.SCHEDULED":"Scheduled","appointmentStatus.CONFIRMED":"Confirmed","appointmentStatus.COMPLETED":"Completed","appointmentStatus.CANCELLED":"Cancelled","patientManagement.title":"Patient Management","patientList.searchPatients":"Search Patients...","patientList.searchPatientsAriaLabel":"Search for patient by name, phone or email","patientList.addNewPatient":"Add New Patient","patientList.viewDetails":"View Details","patientList.noPatientsFound":"No patients found.","patientList.lastVisit":"Last Visit","patientList.whatsappMessage":"Hello {{patientName}}, this is CuraSoft Dental Clinic.","patientList.sendWhatsAppAriaLabel":"Send WhatsApp message to {{patientName}}","patientDetails.closeAriaLabel":"Close patient details","patientDetails.tabDetails":"Details","patientDetails.tabDentalChart":"Dental Chart","patientDetails.tabTreatmentRecords":"Treatment Records","patientDetails.tabPrescriptions":"Prescriptions","patientDetails.tabFinancials":"Financials","patientDetails.addTreatmentRecord":"Add Treatment Record","patientDetails.addPrescription":"Add Prescription","patientDetails.dob":"Date of Birth","patientDetails.gender":"Gender","patientDetails.phone":"Phone","patientDetails.email":"Email","patientDetails.address":"Address","patientDetails.insurance":"Insurance","patientDetails.policyNumber":"Policy Number","patientDetails.emergencyContact":"Emergency Contact","patientDetails.emergencyContactName":"Emergency Contact Name","patientDetails.emergencyContactPhone":"Emergency Contact Phone","patientDetails.allergies":"Allergies","patientDetails.currentMedications":"Current Medications","patientDetails.medicalHistory":"Medical History","patientDetails.unstructuredNotes":"Treatment Notes (unstructured)","financials.totalSpent":"Total Spent","financials.breakdown":"Details available in Treatment Records section.","financials.addPayment":"Add Payment","financials.addDiscount":"Add Discount","financials.patientBalance":"Patient Balance","financials.totalCharges":"Total Charges","financials.totalPaid":"Total Paid","financials.outstandingBalance":"Outstanding Balance","financials.paidInFull":"Paid in Full","financials.overpaid":"Credit Balance","financials.transactions":"Financial Transactions","financials.charges":"Charges (Treatments)","financials.payments":"Payments","financials.noTransactions":"No financial transactions recorded.","addPaymentModal.title":"Add New Payment","addPaymentModal.amount":"Amount","addPaymentModal.paymentDate":"Payment Date","addPaymentModal.paymentMethod":"Payment Method","addPaymentModal.notes":"Notes","addPaymentModal.savePayment":"Save Payment","addPaymentModal.notesPlaceholder":"Notes about the payment (optional)","addPaymentModal.alertPositiveAmount":"Payment amount must be greater than zero.","addPaymentModal.alertExceedsBalance":"Payment amount exceeds outstanding balance of {{balance}}.","paymentMethod.Cash":"Cash","paymentMethod.CreditCard":"Credit Card","paymentMethod.BankTransfer":"Bank Transfer","paymentMethod.Other":"Other","paymentMethod.Discount":"Discount","addDiscountModal.title":"Apply Discount","addDiscountModal.amount":"Discount Amount","addDiscountModal.password":"Password","addDiscountModal.passwordPlaceholder":"Enter password to approve","addDiscountModal.passwordIncorrect":"Incorrect password.","addDiscountModal.saveDiscount":"Apply Discount","addDiscountModal.notes":"Notes (reason for discount)","addPatientModal.title":"Add New Patient","addPatientModal.editTitle":"Edit Patient Details","addPatientModal.closeAriaLabel":"Close add patient form","addPatientModal.fullName":"Full Name","addPatientModal.dob":"Date of Birth","addPatientModal.phone":"Phone Number","addPatientModal.email":"Email Address","addPatientModal.gender":"Gender","addPatientModal.address":"Address","addPatientModal.insuranceProvider":"Insurance Provider","addPatientModal.policyNumber":"Policy Number","addPatientModal.emergencyContactName":"Emergency Contact Name","addPatientModal.emergencyContactPhone":"Emergency Contact Phone","addPatientModal.allergies":"Allergies","addPatientModal.allergiesPlaceholder":"E.g., Penicillin allergy","addPatientModal.currentMedications":"Current Medications","addPatientModal.currentMedicationsPlaceholder":"E.g., Amlodipine (for blood pressure)","addPatientModal.medicalHistory":"Medical History","addPatientModal.medicalHistoryPlaceholder":"Record any chronic conditions or past surgeries","addPatientModal.initialTreatmentNotes":"Initial Treatment Notes","addPatientModal.initialTreatmentNotesPlaceholder":"Any important notes about initial dental condition or previous treatments.","addPatientModal.savePatient":"Save Patient","addPatientModal.alertFillRequired":"Please fill in all required fields (Full Name, Date of Birth, Phone Number).","appointmentScheduler.title":"Appointment Scheduler","scheduler.previousWeek":"Previous Month","scheduler.nextWeek":"Next Month","scheduler.newAppointment":"New Appointment","scheduler.editAppointment":"Edit Appointment","scheduler.appointmentDetails":"Appointment Details","scheduler.status":"Status","scheduler.dateTime":"Date & Time","scheduler.duration":"Duration","scheduler.minutes":"minutes","scheduler.showFrom":"Show from","scheduler.to":"to","addAppointmentModal.alertFillAllFields":"Please fill in all required fields.","addAppointmentModal.title":"New Appointment","addAppointmentModal.closeAriaLabel":"Close new appointment form","addAppointmentModal.patient":"Patient","addAppointmentModal.selectPatient":"Select a patient","addAppointmentModal.dentist":"Dentist","addAppointmentModal.selectDentist":"Select a dentist","addAppointmentModal.startTime":"Start Time","addAppointmentModal.endTime":"End Time","addAppointmentModal.reasonForVisit":"Reason for Visit","addAppointmentModal.reasonPlaceholder":"E.g., Annual check-up, filling...","addAppointmentModal.schedule":"Schedule Appointment","reminders.reminderTime":"Reminder Time","reminders.none":"None","reminders.1_hour_before":"1 Hour Before","reminders.2_hours_before":"2 Hours Before","reminders.1_day_before":"1 Day Before","reminders.toggleNotifications":"Toggle Notifications","reminders.pendingReminders":"Pending Reminders","reminders.noPendingReminders":"No pending reminders.","reminders.sendReminder":"Send Reminder","reminders.whatsappMessage":"Hello {{patientName}}, this is a reminder from CuraSoft Dental Clinic for your appointment on {{date}} at {{time}}. We look forward to seeing you.","notifications.patientAdded":"Patient added successfully.","notifications.patientUpdated":"Patient details updated successfully.","notifications.treatmentAdded":"Treatment record added successfully.","notifications.paymentAdded":"Payment added successfully.","notifications.paymentUpdated":"Payment updated successfully.","notifications.paymentDeleted":"Payment deleted successfully.","notifications.prescriptionAdded":"Prescription added successfully.","notifications.discountAdded":"Discount applied successfully.","notifications.lowStockAlert":"Low Stock Alert","notifications.labCaseDueAlert":"Lab Case Due Alert","notifications.lowStockMessage":"{{itemName}} is running low ({{count}} remaining).","notifications.labCaseDueMessage":"{{caseType}} case for patient {{patientName}} is due on {{date}}.","notifications.backupSuccess":"Backup created successfully!","notifications.backupError":"Operation failed. Could not create backup.","notifications.restoreSuccess":"Data restored successfully!","notifications.restoreError":"Restore failed. The selected file might be invalid.","notifications.invoiceAdded":"Invoice added successfully.","notifications.invoiceUpdated":"Invoice updated successfully.","notifications.invoicePaid":"Invoice marked as paid.","notifications.paymentRecorded":"Payment recorded successfully.","notifications.inventoryItemAdded":"Inventory item added successfully.","notifications.inventoryItemUpdated":"Inventory item updated successfully.","notifications.labCaseAdded":"Lab case added successfully.","notifications.labCaseUpdated":"Lab case updated successfully.","toothStatus.HEALTHY":"Healthy","toothStatus.FILLING":"Filling","toothStatus.CROWN":"Crown","toothStatus.MISSING":"Missing","toothStatus.IMPLANT":"Implant","toothStatus.ROOT_CANAL":"Root Canal","toothStatus.CAVITY":"Cavity","dentalChart.toothAriaLabel":"Tooth {{toothId}}, status: {{status}}","dentalChart.upperRight":"Upper Right","dentalChart.upperLeft":"Upper Left","dentalChart.lowerRight":"Lower Right","dentalChart.lowerLeft":"Lower Left","editToothModal.title":"Edit Tooth {{toothId}}","editToothModal.status":"Status","editToothModal.notes":"Notes","editToothModal.addNotesPlaceholder":"Add notes...","doctorManagement.title":"Doctor Management","doctorList.addNewDoctor":"Add New Doctor","doctorList.viewDetails":"View Details","doctorDetails.closeAriaLabel":"Close doctor details","doctorDetails.tabDetails":"Details","doctorDetails.tabTreatments":"Treatments","doctorDetails.tabFinancials":"Financials","doctorDetails.fullName":"Full Name","doctorDetails.specialty":"Specialty","doctorDetails.colorTag":"Color Tag","doctorDetails.selectColorAriaLabel":"Select color {{color}}","doctorDetails.appointmentSchedule":"Appointment Schedule","doctorDetails.noAppointmentsFound":"No appointments found.","doctorDetails.financialSummary":"Financial Summary","doctorDetails.totalRevenueGenerated":"Total Revenue Generated","doctorDetails.totalEarnings":"Total Earnings","doctorDetails.totalPaymentsReceived":"Total Payments Received","doctorDetails.netBalance":"Net Balance","doctorDetails.treatmentsPerformed":"Treatments Performed","doctorDetails.noTreatmentsFound":"No treatment records found.","doctorDetails.transactions":"Financial Transactions","doctorDetails.earnings":"Earnings (Treatments)","doctorDetails.payments":"Payments","doctorDetails.noTransactions":"No financial transactions recorded.","addDoctorModal.title":"Add New Doctor","addDoctorModal.closeAriaLabel":"Close add doctor form","addDoctorModal.fullName":"Full Name","addDoctorModal.specialty":"Specialty","addDoctorModal.colorTag":"Color Tag","addDoctorModal.saveDoctor":"Save Doctor","suppliersManagement.title":"Suppliers Management","inventoryManagement.title":"Inventory Management","labCasesManagement.title":"Lab Cases Management","expensesManagement.title":"Expenses Management","treatmentDefinitionsManagement.title":"Treatment Definitions Management","suppliers.editSupplier":"Edit Supplier","suppliers.suppliersList":"Suppliers List","suppliers.addSupplier":"Add Supplier","suppliers.viewDetails":"View Details","suppliers.editSupplierAriaLabel":"Edit supplier {{name}}","suppliers.noSuppliersAdded":"No suppliers added yet.","suppliers.addNewSupplier":"Add New Supplier","suppliers.supplierName":"Supplier Name","suppliers.contactPerson":"Contact Person","suppliers.phone":"Phone","suppliers.email":"Email","suppliers.supplierType":"Supplier Type","supplierType.materialSupplier":"Material Supplier","supplierType.dentalLab":"Dental Lab","supplierDetails.contactInfo":"Contact Information","supplierDetails.financialSummary":"Financial Summary","invoices.title":"Invoices","invoices.addInvoice":"Add Invoice","invoices.editInvoice":"Edit Invoice","invoices.invoice":"Invoice","invoices.date":"Date","invoices.due":"Due Date","invoices.paid":"Paid","invoices.remaining":"Remaining","invoices.confirmPayRemaining":"Are you sure you want to pay the remaining {{amount}} for this invoice?","invoices.viewAttachment":"View Attachment","invoices.payRemaining":"Pay Remaining","invoices.noInvoices":"No invoices for this supplier.","invoices.totalBilled":"Total Billed","invoices.totalPaid":"Total Paid","invoices.outstandingBalance":"Outstanding Balance","invoices.invoiceNumber":"Invoice Number","invoices.amount":"Amount","invoices.attachInvoice":"Attach Invoice Image","invoices.billed":"Billed Amount","invoices.paidAmount":"Paid Amount","inventory.editItem":"Edit Item","inventory.addNewItem":"Add New Item","inventory.itemName":"Item Name","inventory.description":"Description","inventory.descriptionPlaceholder":"Short description of the item...","inventory.supplier":"Supplier","inventory.selectSupplier":"Select a supplier","inventory.currentStock":"Current Stock","inventory.unitCost":"Unit Cost","inventory.inventoryItems":"Inventory Items","inventory.addItem":"Add Item","inventory.addItemPlaceholder":"Select an item to add...","inventory.stock":"Stock","inventory.editItemAriaLabel":"Edit item {{name}}","inventory.minStockLevel":"Min Stock Level","inventory.expiryDate":"Expiry Date","inventory.printReport":"Print Inventory Report","inventoryReport.title":"Inventory Report","inventoryReport.itemName":"Item Name","inventoryReport.supplier":"Supplier","inventoryReport.stock":"Current Stock","inventoryReport.minStock":"Min Stock","inventoryReport.unitCost":"Unit Cost","inventoryReport.totalValue":"Total Value","inventoryReport.expiryDate":"Expiry Date","inventoryReport.status":"Status","inventoryStatus.ok":"OK","inventoryStatus.lowStock":"Low Stock","inventoryStatus.expiresSoon":"Expires Soon","inventoryStatus.expired":"Expired","inventoryStatus.outOfStock":"Out of Stock","expenses.editExpense":"Edit Expense","expenses.addNewExpense":"Add New Expense","expenses.date":"Date","expenses.description":"Description","expenses.descriptionPlaceholder":"E.g., May Electricity Bill","expenses.amount":"Amount","expenses.category":"Category","expenses.selectSupplier":"Link to Supplier (optional)","expenses.noSupplier":"No Supplier","expenses.applyToInvoice":"Apply to Invoice (optional)","expenses.paymentOnAccount":"Payment on Account","expenses.clinicExpenses":"Clinic Expenses","expenses.addExpense":"Add Expense","expenses.noExpensesRecorded":"No expenses recorded.","expenses.supplier":"Supplier","expenses.editExpenseAriaLabel":"Edit expense: {{description}}","labCases.editCase":"Edit Case","labCases.addNewCase":"Add New Case","labCases.patient":"Patient","labCases.selectPatient":"Select Patient","labCases.dentalLab":"Dental Lab","labCases.selectDentalLab":"Select Lab","labCases.caseType":"Case Type","labCases.caseTypePlaceholder":"E.g., Zirconia Crown, E-Max Veneer","labCases.sentDate":"Sent Date","labCases.dueDate":"Due Date","labCases.returnDate":"Return Date","labCases.labCost":"Lab Cost","labCases.cost":"Cost","labCases.status":"Status","labCases.selectStatus":"Select Status","labCases.notes":"Notes","labCases.notesPlaceholder":"E.g., Desired shade A2","labCases.labCaseTracker":"Lab Case Tracker","labCases.addCase":"Add Case","labCases.noCasesRecorded":"No lab cases recorded.","labCases.lab":"Lab","labCases.due":"Due","labCases.editCaseAriaLabel":"Edit case {{caseType}} for patient {{patientName}}","labCases.alertFillAllFields":"Please fill in all required fields.","labCaseStatus.DRAFT":"Draft","labCaseStatus.SENT_TO_LAB":"Sent to Lab","labCaseStatus.RECEIVED_FROM_LAB":"Received from Lab","labCaseStatus.FITTED_TO_PATIENT":"Fitted to Patient","labCaseStatus.CANCELLED":"Cancelled","treatments.editTreatment":"Edit Treatment","treatments.addNewTreatment":"Add New Treatment","treatments.treatmentName":"Treatment Name","treatments.description":"Description","treatments.descriptionPlaceholder":"Short description of the treatment...","treatments.basePrice":"Base Price","treatments.doctorPercentage":"Doctor Percentage","treatments.clinicPercentage":"Clinic Percentage","treatments.auto":"Auto","treatments.manageTreatments":"Manage Treatments & Pricing","treatments.addTreatment":"Add Treatment","treatments.noTreatmentsAdded":"No treatments added yet.","treatments.doctor":"Doctor","treatments.clinic":"Clinic","treatments.editTreatmentAriaLabel":"Edit treatment {{name}}","addTreatmentRecord.title":"Add New Treatment Record","addTreatmentRecord.date":"Date","addTreatmentRecord.dentist":"Dentist","addTreatmentRecord.selectDentist":"Select a dentist","addTreatmentRecord.treatment":"Treatment","addTreatmentRecord.selectTreatment":"Select a treatment","addTreatmentRecord.notes":"Notes","addTreatmentRecord.notesPlaceholder":"Additional details about the session...","addTreatmentRecord.inventoryItemsUsed":"Inventory Items Used","addTreatmentRecord.addItem":"Add Item","addTreatmentRecord.addItemPlaceholder":"Select an item to add...","addTreatmentRecord.stock":"Stock","addTreatmentRecord.costSummary":"Cost Summary","addTreatmentRecord.baseTreatmentPrice":"Base Treatment Price","addTreatmentRecord.totalMaterialCost":"Total Material Cost","addTreatmentRecord.totalPatientCost":"Total Patient Cost","addTreatmentRecord.doctorShare":"Doctor Share","addTreatmentRecord.clinicShare":"Clinic Share","addTreatmentRecord.saveRecord":"Save Record","addTreatmentRecord.alertFillFields":"Please select a dentist and a treatment.","editTreatmentRecord.title":"Edit Treatment Price","editTreatmentRecord.customPrice":"Custom Price","editTreatmentRecord.updatedShares":"Updated Shares","editTreatmentRecord.saveChanges":"Save Changes","editTreatmentRecord.priceMustBePositive":"Price must be greater than zero.","editTreatmentRecord.priceUpdated":"Treatment price updated successfully.","editTreatmentRecord.originalPrice":"Original Price","editTreatmentRecord.treatmentName":"Treatment Name","addTreatmentRecord.decreaseQuantityAria":"Decrease quantity of {{itemName}}","addTreatmentRecord.increaseQuantityAria":"Increase quantity of {{itemName}}","addTreatmentRecord.quantityAria":"Quantity of {{itemName}}","addTreatmentRecord.removeItemAria":"Remove {{itemName}}","treatmentRecordList.noRecords":"No treatment records for this patient.","treatmentRecordList.noNotes":"No notes.","treatmentRecordList.materialsUsed":"Materials Used","reports.title":"Reports","reports.categoryDaily":"Daily","reports.categoryMonthly":"Monthly","reports.categoryPatient":"Patient","reports.categoryDoctor":"Doctor","reports.categorySupplier":"Supplier","reports.categoryLab":"Lab","reports.categoryFinancial":"Financial","reports.categoryInventory":"Inventory","reports.tabDailySummary":"Daily Summary","reports.tabDailyAppointments":"Daily Appointments","reports.tabDailyRevenue":"Daily Revenue","reports.tabMonthlyOverview":"Monthly Overview","reports.tabMonthlyPerformance":"Monthly Performance","reports.tabPatientHistory":"Patient History","reports.tabPatientFinancials":"Patient Financials","reports.tabDoctorPerformance":"Doctor Performance","reports.tabDoctorEarnings":"Doctor Earnings","reports.tabSupplierTransactions":"Supplier Transactions","reports.tabSupplierStatements":"Supplier Statements","reports.tabLabTracking":"Lab Tracking","reports.tabLabCosts":"Lab Costs","reports.tabFinancialOverview":"Financial Overview","reports.tabProfitLoss":"Profit & Loss","reports.tabCashFlow":"Cash Flow","reports.tabInventoryStatus":"Inventory Status","reports.tabPatientStatistics":"Patient Statistics","reports.tabFinancialSummary":"Financial Summary","reports.tabAppointmentOverview":"Appointment Overview","reports.tabInventoryReport":"Inventory Report","reports.tabTreatmentPerformance":"Treatment Performance","reports.dateRange":"Date Range","reports.startDate":"Start Date","reports.endDate":"End Date","reports.filterByPatient":"Filter by Patient","reports.filterByDoctor":"Filter by Doctor","reports.filterBySupplier":"Filter by Supplier","reports.filterByDentist":"Filter by Dentist","reports.filterByLab":"Filter by Lab","reports.noDataAvailable":"No data available to display.","reports.printReport":"Print Report","reports.dailySummary.totalAppointments":"Total Appointments","reports.dailySummary.totalRevenue":"Total Revenue","reports.dailySummary.totalPatients":"Total Patients","reports.dailySummary.totalTreatments":"Total Treatments","reports.doctorEarnings.description":"Detailed report of doctor earnings and payments","reports.labCosts.description":"Detailed analysis of lab costs and profits","reports.profitLoss.description":"Detailed profit and loss report","reports.cashFlow.description":"Cash flow analysis for the clinic","reports.inventoryStatus.description":"Inventory status and alerts","reports.monthlyOverview.totalRevenue":"Monthly Total Revenue","reports.monthlyOverview.totalExpenses":"Monthly Total Expenses","reports.monthlyOverview.netProfit":"Monthly Net Profit","reports.monthlyOverview.totalPatients":"Monthly Total Patients","reports.patientStats.totalPatients":"Total Patients","reports.patientStats.genderDistribution":"Gender Distribution","reports.patientStats.ageDistribution":"Age Distribution","reports.patientStats.ageGroup":"Group","reports.patientStats.newPatientsThisPeriod":"New Patients in This Period","reports.financialSummary.totalIncome":"Total Income","reports.financialSummary.totalExpenses":"Total Expenses","reports.financialSummary.netProfit":"Net Profit","reports.financialSummary.incomeByTreatment":"Income by Treatment","reports.financialSummary.expensesByCategory":"Expenses by Category","reports.appointmentOverview.totalAppointments":"Total Appointments","reports.appointmentOverview.completedAppointments":"Completed Appointments","reports.appointmentOverview.cancelledAppointments":"Cancelled Appointments","reports.appointmentOverview.completionRate":"Completion Rate","reports.appointmentOverview.appointmentsByDentist":"Appointments by Dentist","reports.inventoryReport.totalValue":"Total Inventory Value","reports.inventoryReport.lowStockItems":"Low Stock Items","reports.inventoryReport.allInventoryItems":"All Inventory Items","reports.inventoryReport.itemName":"Item Name","reports.inventoryReport.currentStock":"Current Stock","reports.inventoryReport.unitCost":"Unit Cost","reports.treatmentPerformance.allTreatmentPerformance":"All Treatment Performance","reports.treatmentPerformance.treatment":"Treatment","reports.treatmentPerformance.count":"Count","reports.treatmentPerformance.averagePrice":"Average Price","reports.treatmentPerformance.totalRevenue":"Total Revenue","reports.treatmentPerformance.totalClinicShare":"Total Clinic Share","reports.treatmentPerformance.totalDoctorShare":"Total Doctor Share","reports.treatmentPerformance.mostProfitable":"Most Profitable","reports.treatmentPerformance.top5ByRevenue":"Top 5 Treatments by Revenue","reports.treatmentPerformance.top5ByFrequency":"Top 5 Treatments by Frequency","settings.title":"Settings","settings.backup.title":"Data Backup","settings.backup.description":"Save a copy of all your clinic data (patients, appointments, etc.) to a JSON file. Keep this file in a safe place.","settings.backup.button":"Download Backup","settings.restore.title":"Restore Data","settings.restore.description":"Restore your clinic data from a backup file. This will overwrite all current data.","settings.restore.warning":"This action cannot be undone.","settings.restore.button":"Upload Restore File","settings.restore.confirm":"Warning! All current data will be replaced by the data in backup file. Are you sure you want to proceed?","settings.dangerZone.title":"Danger Zone","settings.dangerZone.description":"The following actions are permanent and cannot be undone. Please proceed with caution.","settings.clear.title":"Clear All Data","settings.clear.description":"This will permanently delete all clinic data and reset the application to its initial state.","settings.clear.button":"Clear Data Now","settings.clear.confirm":"Warning! All clinic data will be permanently deleted. Are you sure you want to proceed?","settings.clear.success":"Data cleared successfully! The application will reload.","settings.clear.error":"Failed to clear data.","patientReport.clinicAddress":"Zagazig, Salah Salem St., 01017755577","patientReport.title":"Full Patient Report","patientReport.generatedOn":"Generated On: {{date}}","patientReport.demographics.title":"Demographics","patientReport.demographics.name":"Name","patientReport.demographics.phone":"Phone","patientReport.demographics.dob":"Date of Birth","patientReport.demographics.email":"Email","patientReport.demographics.gender":"Gender","patientReport.demographics.address":"Address","patientReport.emergencyAndInsurance.title":"Emergency & Insurance","patientReport.emergencyAndInsurance.insuranceProvider":"Insurance Provider","patientReport.emergencyAndInsurance.policyNumber":"Policy Number","patientReport.medicalInfo.title":"Medical Information","patientReport.medicalInfo.allergies":"Allergies","patientReport.medicalInfo.medications":"Current Medications","patientReport.medicalInfo.medicalHistory":"Medical History","patientReport.dentalChart.title":"Dental Chart","patientReport.dentalChart.allHealthy":"All teeth are healthy.","patientReport.dentalChart.tooth":"Tooth","patientReport.dentalChart.status":"Status","patientReport.dentalChart.notes":"Notes","patientReport.treatmentHistory.title":"Treatment History","patientReport.treatmentHistory.date":"Date","patientReport.treatmentHistory.treatment":"Treatment","patientReport.treatmentHistory.dentist":"Dentist","patientReport.treatmentHistory.notes":"Notes","patientReport.treatmentHistory.cost":"Cost","patientReport.treatmentHistory.noRecords":"No treatment records.","patientReport.financials.title":"Financial Summary","patientReport.financials.paymentDate":"Payment Date","patientReport.financials.paymentMethod":"Payment Method","patientReport.financials.notes":"Notes","patientReport.financials.amount":"Amount","patientReport.financials.noPayments":"No payments recorded.","patientInvoice.title":"Patient Invoice","patientInvoice.invoiceNumber":"Invoice Number","patientInvoice.date":"Date","patientInvoice.billTo":"Bill To","patientInvoice.treatmentDetails":"Treatment Details","patientInvoice.paymentDetails":"Payment Details","patientInvoice.balanceDue":"Balance Due","patientInvoice.thankYou":"Thank you for trusting CuraSoft Clinic.","suppliers.supplierDetails":"Supplier Details","supplierStatement.financialTitle":"Supplier Financial Statement","supplierStatement.caseTitle":"Supplier Lab Case Statement","supplierStatement.statementDetails":"Statement Details","supplierStatement.caseDetails":"Lab Case Details","supplierStatement.totalCost":"Total Cost","supplierStatement.noPaymentsRecorded":"No payments recorded for this supplier.","supplierStatement.notDentalLab":"This report is only for Dental Labs.","supplierStatement.selectDentalLab":"Please select a 'Dental Lab' type supplier to view this report.","supplierStatement.totalCases":"Total Cases","addDoctorPaymentModal.title":"Add Doctor Payment","addDoctorPaymentModal.paymentDate":"Payment Date","addDoctorPaymentModal.amount":"Amount","addDoctorPaymentModal.notes":"Notes","addDoctorPaymentModal.notesPlaceholder":"Notes about the payment (optional)","addDoctorPaymentModal.savePayment":"Save Payment","financialAccounts.title":"Financial Accounts","financialAccounts.tabs.revenue":"Revenue","financialAccounts.tabs.expenses":"Expenses","financialAccounts.tabs.balances":"Balances","financialAccounts.tabs.accountDetails":"Account Details","financialAccounts.export":"Export","financialAccounts.print":"Print","financialSummary.title":"Financial Summary","revenueTab.totalRevenue":"Total Revenue","revenueTab.treatmentRevenue":"Treatment Revenue","revenueTab.paymentRevenue":"Payment Revenue","revenueTab.revenueChart":"Revenue Chart","revenueTab.revenueDetails":"Revenue Details","revenueTab.noRevenueData":"No revenue data available.","expensesTab.totalExpenses":"Total Expenses","expensesTab.operatingExpenses":"Operating Expenses","expensesTab.doctorPayments":"Doctor Payments","expensesTab.supplierInvoices":"Supplier Invoices","expensesTab.expensesByCategory":"Expenses by Category","expensesTab.expensesDetails":"Expenses Details","expensesTab.noExpensesData":"No expenses data available.","balancesTab.netProfit":"Net Profit","balancesTab.cashFlow":"Cash Flow","balancesTab.unpaidInvoices":"Unpaid Invoices","balancesTab.paidInvoices":"Paid Invoices","balancesTab.balanceSheet":"Balance Sheet","balancesTab.assets":"Assets","balancesTab.liabilities":"Liabilities","balancesTab.equity":"Equity","balancesTab.cashAndEquivalents":"Cash and Equivalents","balancesTab.accountsReceivable":"Accounts Receivable","balancesTab.totalAssets":"Total Assets","balancesTab.accountsPayable":"Accounts Payable","balancesTab.otherLiabilities":"Other Liabilities","balancesTab.totalLiabilities":"Total Liabilities","balancesTab.supplierInvoices":"Supplier Invoices","balancesTab.noInvoices":"No invoices available.","balancesTab.invoiceNumber":"Invoice #","balancesTab.supplier":"Supplier","balancesTab.invoiceDate":"Invoice Date","balancesTab.dueDate":"Due Date","balancesTab.amount":"Amount","balancesTab.status":"Status","financialFilters.title":"Filters","financialFilters.clearAll":"Clear All","financialFilters.startDate":"Start Date","financialFilters.endDate":"End Date","financialFilters.dentist":"Dentist","financialFilters.supplier":"Supplier","financialFilters.category":"Category","financialTable.date":"Date","financialTable.description":"Description","financialTable.type":"Type","financialTable.category":"Category","financialTable.amount":"Amount","financialTable.showing":"Showing","financialTable.entries":"entries","financialCharts.noData":"No data available","financialCharts.total":"Total","supplierInvoiceStatus.UNPAID":"Unpaid","supplierInvoiceStatus.PAID":"Paid","common.accessDenied":"Access Denied","common.all":"All","common.select":"Select","patientModal.tabs.basicInfo":"Basic Info","patientModal.tabs.medicalHistory":"Medical History","patientModal.tabs.emergencyInsurance":"Emergency & Insurance","patientModal.tabs.imagesNotes":"Images & Notes","validation.required":"This field is required.","validation.fixErrors":"Please fix the errors before proceeding.","validation.fixAllErrors":"Please fix all errors before saving.","common.unknown":"Unknown","prescriptionList.noPrescriptions":"No prescriptions found for this patient.","prescriptionList.noPrescriptionsFound":"No prescriptions found matching the current filters.","prescriptionList.items":"items","prescriptionList.noNotes":"No notes.","prescriptionList.searchAndFilters":"Search & Filters","prescriptionList.searchPlaceholder":"Search by patient, doctor, or medication name...","prescriptionList.search":"Search","prescriptionList.doctor":"Doctor","prescriptionList.allDoctors":"All Doctors","prescriptionList.patient":"Patient","prescriptionList.medications":"Medications","prescriptionList.dosage":"Dosage","prescriptionList.quantity":"Quantity","prescriptionList.instructions":"Instructions","prescriptionModal.title":"Add New Prescription","prescriptionModal.editTitle":"Edit Prescription","prescriptionModal.closeAriaLabel":"Close prescription form","prescriptionModal.dentist":"Dentist","prescriptionModal.selectDentist":"Select a dentist","prescriptionModal.prescriptionDate":"Prescription Date","prescriptionModal.notes":"Notes","prescriptionModal.notesPlaceholder":"Additional notes about the prescription...","prescriptionModal.medications":"Medications","prescriptionModal.addMedication":"Add Medication","prescriptionModal.medicationName":"Medication Name","prescriptionModal.medicationNamePlaceholder":"Enter medication name...","prescriptionModal.dosage":"Dosage","prescriptionModal.dosagePlaceholder":"E.g., 500mg, 2 tablets...","prescriptionModal.quantity":"Quantity","prescriptionModal.instructions":"Instructions","prescriptionModal.instructionsPlaceholder":"E.g., Take twice daily after meals...","prescriptionModal.noMedications":"No medications added yet.","prescriptionModal.savePrescription":"Save Prescription","prescriptionModal.createPrescription":"Create Prescription","prescriptionModal.alertFillRequired":"Please fill in all required fields.","prescriptionModal.alertAtLeastOneItem":"Please add at least one medication.","prescriptionDetails.title":"Prescription Details","prescriptionDetails.closeAriaLabel":"Close prescription details","prescriptionDetails.patientInfo":"Patient Information","prescriptionDetails.patientName":"Patient Name","prescriptionDetails.patientId":"Patient ID","prescriptionDetails.patientPhone":"Phone","prescriptionDetails.prescriptionInfo":"Prescription Information","prescriptionDetails.dentist":"Dentist","prescriptionDetails.date":"Date","prescriptionDetails.prescriptionId":"Prescription ID","prescriptionDetails.notes":"Notes","prescriptionDetails.medications":"Medications","prescriptionDetails.dosage":"Dosage","prescriptionDetails.quantity":"Quantity","prescriptionDetails.instructions":"Instructions","prescriptionDetails.noMedications":"No medications prescribed.","patientDetails.tabAttachments":"Attachments","attachments.title":"Patient Attachments","attachments.dragDropText":"Drag and drop files here, or click to select files","attachments.selectFiles":"Select Files","attachments.supportedFormats":"Supported formats: Images, PDF, DOC, DOCX, TXT (Max 10MB per file)","attachments.uploadFiles":"Upload Files","attachments.descriptionPlaceholder":"Add a description for this file (optional)","attachments.uploading":"Uploading...","attachments.upload":"Upload","attachments.noAttachments":"No attachments found for this patient.","attachments.uploadSuccess":"Files uploaded successfully!","attachments.uploadError":"Failed to upload files. Please try again.","attachments.deleteSuccess":"Attachment deleted successfully!","attachments.deleteError":"Failed to delete attachment. Please try again.","attachments.confirmDelete":"Are you sure you want to delete {{filename}}? This action cannot be undone.","patient_attachments.upload_image_only":"Please upload only image files.","patient_attachments.file_too_large":"File size should not exceed 5MB.","patient_attachments.upload_success":"Attachment uploaded successfully!","patient_attachments.upload_error":"Error uploading attachment. Please try again.","patient_attachments.confirm_delete":"Are you sure you want to delete this attachment?","patient_attachments.delete_success":"Attachment deleted successfully!","patient_attachments.delete_error":"Error deleting attachment. Please try again.","patient_attachments.uploading":"Uploading...","patient_attachments.choose_file":"Choose Image","patient_attachments.uploaded":"uploaded","patient_attachments.upload_instructions":"Upload patient images (max 5MB, images only)","patient_attachments.view":"View","patient_attachments.delete":"Delete","patient_attachments.no_attachments":"No attachments yet","patient_attachments.upload_first":"Upload the first image for this patient","common.view":"View","common.download":"Download","common.previous":"Previous","common.next":"Next","accounting.title":"Accounting Reports","accounting.daily":"Daily","accounting.monthly":"Monthly","accounting.period":"Period","accounting.byDoctor":"By Doctor","accounting.byPatient":"By Patient","accounting.byTreatment":"By Treatment","accounting.expenses":"Expenses","accounting.payments":"Payments","accounting.doctorShares":"Doctor Shares","accounting.totalRevenue":"Total Revenue","accounting.totalExpenses":"Total Expenses","accounting.netProfit":"Net Profit","accounting.clinicShare":"Clinic Share","accounting.doctorShare":"Doctor Share","accounting.patientBalance":"Patient Balance","accounting.paidAmount":"Paid Amount","accounting.remainingAmount":"Remaining Amount","accounting.expenseCategory":"Expense Category","accounting.expenseDescription":"Description","accounting.paymentMethod":"Payment Method","accounting.filterByDate":"Filter by Date","accounting.filterByDoctor":"Filter by Doctor","accounting.filterByPatient":"Filter by Patient","accounting.filterByCategory":"Filter by Category","accounting.printReport":"Print Report","accounting.exportPDF":"Export PDF","accounting.exportExcel":"Export Excel","accounting.noData":"No data available","accounting.summary":"Summary","accounting.details":"Details","accounting.date":"Date","accounting.day":"Day","accounting.month":"Month","accounting.year":"Year","accounting.fromDate":"From Date","accounting.toDate":"To Date","accounting.generatedOn":"Generated On",accountingselectDate:"Select Date","accounting.selectMonth":"Select Month","accounting.selectYear":"Select Year","accounting.expenseDetails":"Expense Details","accounting.paymentDetails":"Payment Details","accounting.treatmentDetails":"Treatment Details","accounting.doctorEarnings":"Doctor Earnings","accounting.patientPayments":"Patient Payments","accounting.incomeStatement":"Income Statement","accounting.balanceSheet":"Balance Sheet","accounting.cashFlow":"Cash Flow"},ZR=A.createContext(void 0),QR=({children:e})=>{const[t,r]=A.useState(()=>{const o=localStorage.getItem("curasoft_locale");return o==="ar"||o==="en"?o:"ar"});A.useEffect(()=>{localStorage.setItem("curasoft_locale",t),document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr"},[t]);const n=A.useMemo(()=>{switch(t){case"ar":return gE;case"en":return QW;default:return gE}},[t]),i=A.useCallback((o,c)=>{let u=n[o]||o;if(c)for(const[d,h]of Object.entries(c))u=u.replace(`{{${d}}}`,String(h));return u},[n]),a=t==="ar"?"rtl":"ltr",s=A.useMemo(()=>({locale:t,setLocale:r,t:i,direction:a}),[t,r,i,a]);return l.jsx(ZR.Provider,{value:s,children:e})},sr=()=>{const e=A.useContext(ZR);if(e===void 0)throw new Error("useI18n must be used within an I18nProvider");return e};function T1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function eq(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(h){s(h)}}function c(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})}const tq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class JN extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class rq extends JN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vE extends JN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xE extends JN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var t_;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(t_||(t_={}));class nq{constructor(t,{headers:r={},customFetch:n,region:i=t_.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=tq(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return eq(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:c,body:u,signal:d,timeout:h}=n;let m={},{region:g}=n;g||(g=this.region);const x=new URL(`${this.url}/${r}`);g&&g!=="any"&&(m["x-region"]=g,x.searchParams.set("forceFunctionRegion",g));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(m["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(m["Content-Type"]="application/json",v=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?v=JSON.stringify(u):v=u;let y=d;h&&(s=new AbortController,a=setTimeout(()=>s.abort(),h),d?(y=s.signal,d.addEventListener("abort",()=>s.abort())):y=s.signal);const w=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:v,signal:y}).catch(T=>{throw new rq(T)}),_=w.headers.get("x-relay-error");if(_&&_==="true")throw new vE(w);if(!w.ok)throw new xE(w);let S=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield w.json():S==="application/octet-stream"||S==="application/pdf"?E=yield w.blob():S==="text/event-stream"?E=w:S==="multipart/form-data"?E=yield w.formData():E=yield w.text(),{data:E,error:null,response:w}}catch(o){return{data:null,error:o,response:o instanceof xE||o instanceof vE?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var iq=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},aq=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,o=null,c=null,u=a.status,d=a.statusText;if(a.ok){var h,m;if(r.method!=="HEAD"){var g;const w=await a.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?o=w:o=JSON.parse(w))}const v=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),y=(m=a.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");v&&y&&y.length>1&&(c=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var x;const v=await a.text();try{s=JSON.parse(v),Array.isArray(s)&&a.status===404&&(o=[],s=null,u=200,d="OK")}catch{a.status===404&&v===""?(u=204,d="No Content"):s={message:v}}if(s&&r.isMaybeSingle&&(!(s==null||(x=s.details)===null||x===void 0)&&x.includes("0 rows"))&&(s=null,u=200,d="OK"),s&&r.shouldThrowOnError)throw new iq(s)}return{error:s,data:o,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let o="";const c=a?.cause;if(c){var u,d,h,m;const x=(u=c?.message)!==null&&u!==void 0?u:"",v=(d=c?.code)!==null&&d!==void 0?d:"";o=`${(h=a?.name)!==null&&h!==void 0?h:"FetchError"}: ${a?.message}`,o+=`

Caused by: ${(m=c?.name)!==null&&m!==void 0?m:"Error"}: ${x}`,v&&(o+=` (${v})`),c?.stack&&(o+=`
${c.stack}`)}else{var g;o=(g=a?.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(s=a?.name)!==null&&s!==void 0?s:"FetchError"}: ${a?.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},sq=class extends aq{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${o};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const yE=new RegExp("[,()]");var _p=class extends sq{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&yE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&yE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},oq=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:o,headers:c}=this.cloneRequestState();return o.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new _p({method:i,url:o,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new _p({method:i,url:a,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const s="POST",{url:o,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new _p({method:s,url:o,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new _p({method:n,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new _p({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},lq=class eL{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new oq(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new eL(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(d)),h=n&&Object.values(r).some(d);h?(o="POST",u=r):n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([g,x])=>x!==void 0).map(([g,x])=>[g,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([g,x])=>{c.searchParams.append(g,x)})):(o="POST",u=r);const m=new Headers(this.headers);return h?m.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&m.set("Prefer",`count=${a}`),new _p({method:o,url:c,headers:m,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class cq{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const uq="2.90.1",dq=`realtime-js/${uq}`,tL="1.0.0",fq="2.0.0",bE=tL,r_=1e4,hq=1e3,pq=100;var zd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zd||(zd={}));var da;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(da||(da={}));var uc;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(uc||(uc={}));var n_;(function(e){e.websocket="websocket"})(n_||(n_={}));var Gf;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Gf||(Gf={}));class mq{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var i,a;const s=t.topic,o=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+s.length+u.length+h.length,g=new ArrayBuffer(this.HEADER_LENGTH+m);let x=new DataView(g),v=0;x.setUint8(v++,this.KINDS.userBroadcastPush),x.setUint8(v++,c.length),x.setUint8(v++,o.length),x.setUint8(v++,s.length),x.setUint8(v++,u.length),x.setUint8(v++,h.length),x.setUint8(v++,r),Array.from(c,w=>x.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>x.setUint8(v++,w.charCodeAt(0))),Array.from(s,w=>x.setUint8(v++,w.charCodeAt(0))),Array.from(u,w=>x.setUint8(v++,w.charCodeAt(0))),Array.from(h,w=>x.setUint8(v++,w.charCodeAt(0)));var y=new Uint8Array(g.byteLength+n.byteLength);return y.set(new Uint8Array(g),0),y.set(new Uint8Array(n),g.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,o,c]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,i)}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+a));c=c+a;const h=n.decode(t.slice(c,c+s));c=c+s;const m=t.slice(c,t.byteLength),g=o===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,x={type:this.BROADCAST_EVENT,event:d,payload:g};return s>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class rL{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $n;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})($n||($n={}));const wE=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=gq(s,e,t,i),a),{}):{}},gq=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i?.type,s=r[e];return a&&!n.includes(a)?nL(a,s):i_(s)},nL=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return bq(t,r)}switch(e){case $n.bool:return vq(t);case $n.float4:case $n.float8:case $n.int2:case $n.int4:case $n.int8:case $n.numeric:case $n.oid:return xq(t);case $n.json:case $n.jsonb:return yq(t);case $n.timestamp:return wq(t);case $n.abstime:case $n.date:case $n.daterange:case $n.int4range:case $n.int8range:case $n.money:case $n.reltime:case $n.text:case $n.time:case $n.timestamptz:case $n.timetz:case $n.tsrange:case $n.tstzrange:return i_(t);default:return i_(t)}},i_=e=>e,vq=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xq=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yq=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},bq=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>nL(t,o))}return e},wq=e=>typeof e=="string"?e.replace(" ","T"):e,iL=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class W2{constructor(t,r,n={},i=r_){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var SE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(SE||(SE={}));class Sm{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sm.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Sm.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Sm.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const h=a[u];if(h){const m=d.map(y=>y.presence_ref),g=h.map(y=>y.presence_ref),x=d.filter(y=>g.indexOf(y.presence_ref)<0),v=h.filter(y=>m.indexOf(y.presence_ref)<0);x.length>0&&(o[u]=x),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(g=>g.presence_ref),m=d.filter(g=>h.indexOf(g.presence_ref)<0);t[o].unshift(...m)}n(o,d,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _E;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_E||(_E={}));var _m;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_m||(_m={}));var Pu;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pu||(Pu={}));class kp{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=da.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new W2(this,uc.join,this.params,this.timeout),this.rejoinTimer=new rL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=da.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=da.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=da.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=da.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=da.errored,this.rejoinTimer.scheduleTimeout())}),this._on(uc.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Sm(this),this.broadcastEndpointURL=iL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==da.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[_m.PRESENCE]&&this.bindings[_m.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},m={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t?.(Pu.CHANNEL_ERROR,g)),this._onClose(()=>t?.(Pu.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t?.(Pu.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(x=v?.length)!==null&&x!==void 0?x:0,w=[];for(let _=0;_<y;_++){const S=v[_],{filter:{event:E,schema:T,table:D,filter:C}}=S,O=g&&g[_];if(O&&O.event===E&&kp.isFilterValueEqual(O.schema,T)&&kp.isFilterValueEqual(O.table,D)&&kp.isFilterValueEqual(O.filter,C))w.push(Object.assign(Object.assign({},S),{id:O.id}));else{this.unsubscribe(),this.state=da.errored,t?.(Pu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Pu.SUBSCRIBED);return}}).receive("error",g=>{this.state=da.errored,t?.(Pu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(Pu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===da.joined&&t===_m.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=da.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(uc.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new W2(this,uc.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=da.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new W2(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>pq){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=uc;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let m=this._onMessage(s,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var x,v,y;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(v=g.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(g=>g.callback(m,n)):(a=this.bindings[s])===null||a===void 0||a.filter(g=>{var x,v,y,w,_,S,E,T;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){const D=g.id,C=(x=g.filter)===null||x===void 0?void 0:x.event;return D&&((v=r.ids)===null||v===void 0?void 0:v.includes(D))&&(C==="*"||C?.toLocaleLowerCase()===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))&&(!(!((w=g.filter)===null||w===void 0)&&w.table)||g.filter.table===((_=r.data)===null||_===void 0?void 0:_.table))}else{const D=(E=(S=g?.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return D==="*"||D===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:v,table:y,commit_timestamp:w,type:_,errors:S}=x;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:w,eventType:_,new:{},old:{},errors:S}),this._getPayloadRecords(x))}g.callback(m,n)})}_isClosed(){return this.state===da.closed}_isJoined(){return this.state===da.joined}_isJoining(){return this.state===da.joining}_isLeaving(){return this.state===da.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&kp.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(uc.close,{},t)}_onError(t){this._on(uc.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=da.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=wE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=wE(t.columns,t.old_record)),r}}const q2=()=>{},Gv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sq=[1e3,2e3,5e3,1e4],_q=1e4,Nq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jq{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=r_,this.transport=null,this.heartbeatIntervalMs=Gv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q2,this.ref=0,this.reconnectTimer=null,this.vsn=bE,this.logger=q2,this.conn=null,this.sendBuffer=[],this.serializer=new mq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${n_.websocket}`,this.httpEndpoint=iL(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cq.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zd.connecting:return Gf.Connecting;case zd.open:return Gf.Open;case zd.closing:return Gf.Closing;default:return Gf.Closed}}isConnected(){return this.connectionState()===Gf.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new kp(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(hq,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gv.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===zd.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zd.open||this.conn.readyState===zd.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(uc.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Nq],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:dq};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(uc.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,c,u,d,h,m,g;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:r_,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Gv.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t?.heartbeatCallback)!==null&&o!==void 0?o:q2,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:bE,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t?.reconnectAfterMs)!==null&&u!==void 0?u:(x=>Sq[x-1]||_q),this.vsn){case tL:this.encode=(d=t?.encode)!==null&&d!==void 0?d:((x,v)=>v(JSON.stringify(x))),this.decode=(h=t?.decode)!==null&&h!==void 0?h:((x,v)=>v(JSON.parse(x)));break;case fq:this.encode=(m=t?.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(g=t?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Um=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Aq(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function Eq(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Pq(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const o=Aq(e.baseUrl,n,i),c=await Eq(e.auth),u=await t(o,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),m=h&&d?JSON.parse(d):d;if(!u.ok){const g=h?m:void 0,x=g?.error;throw new Um(x?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:x?.type,icebergCode:x?.code,details:g})}return{status:u.status,headers:u.headers,data:m}}}}function Yv(e){return e.join("")}var Tq=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Yv(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yv(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yv(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yv(e.namespace)}`}),!0}catch(t){if(t instanceof Um&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Um&&r.status===409)return;throw r}}};function lp(e){return e.join("")}var kq=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lp(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${lp(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${lp(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lp(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lp(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lp(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Um&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Um&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Cq=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Pq({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new Tq(this.client,t),this.tableOps=new kq(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},k1=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function gi(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Dq=class extends k1{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},a_=class extends k1{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const ZN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Oq=()=>Response,s_=e=>{if(Array.isArray(e))return e.map(r=>s_(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=s_(n)}),t},Iq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Rq=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function Lq(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mq(e){var t=Lq(e,"string");return $m(t)=="symbol"?t:t+""}function Fq(e,t,r){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(n){Fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const H2=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Bq=async(e,t,r)=>{e instanceof await Oq()&&!r?.noResolveJson?e.json().then(n=>{const i=e.status||500,a=n?.statusCode||i+"";t(new Dq(H2(n),i,a))}).catch(n=>{t(new a_(H2(n),n))}):t(new a_(H2(e),e))},Uq=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(Iq(n)?(i.headers=_r({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),_r(_r({},i),r))};async function Ag(e,t,r,n,i,a){return new Promise((s,o)=>{e(r,Uq(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Bq(c,o,n))})}async function zm(e,t,r,n){return Ag(e,"GET",t,r,n)}async function cc(e,t,r,n,i){return Ag(e,"POST",t,n,i,r)}async function o_(e,t,r,n,i){return Ag(e,"PUT",t,n,i,r)}async function $q(e,t,r,n){return Ag(e,"HEAD",t,_r(_r({},r),{},{noResolveJson:!0}),n)}async function QN(e,t,r,n,i){return Ag(e,"DELETE",t,n,i,r)}var zq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gi(t))return{data:null,error:t};throw t}}};let aL;aL=Symbol.toStringTag;var Wq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[aL]="BlobDownloadBuilder",this.promise=null}asStream(){return new zq(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gi(t))return{data:null,error:t};throw t}}};const qq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Hq=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=ZN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var i=this;try{let a;const s=_r(_r({},jE),n);let o=_r(_r({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),n?.headers&&(o=_r(_r({},o),n.headers));const u=i._removeEmptyFolders(t),d=i._getFinalPath(u),h=await(e=="PUT"?o_:cc)(i.fetch,`${i.url}/object/${d}`,a,_r({headers:o},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(gi(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),s=i._getFinalPath(a),o=new URL(i.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let c;const u=_r({upsert:jE.upsert},n),d=_r(_r({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await o_(i.fetch,o.toString(),c,{headers:d})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(gi(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const i=_r({},r.headers);t?.upsert&&(i["x-upsert"]="true");const a=await cc(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(r.url+a.url),o=s.searchParams.get("token");if(!o)throw new k1("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await cc(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(gi(i))return{data:null,error:i};throw i}}async copy(e,t,r){var n=this;try{return{data:{path:(await cc(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(gi(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,r){var n=this;try{let i=n._getFinalPath(e),a=await cc(n.fetch,`${n.url}/object/sign/${i}`,_r({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(gi(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,r){var n=this;try{const i=await cc(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>_r(_r({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(gi(i))return{data:null,error:i};throw i}}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(t?.transform||{}),i=n?`?${n}`:"",a=this._getFinalPath(e),s=()=>zm(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new Wq(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:s_(await zm(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await $q(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(gi(n)&&n instanceof a_){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&n.push(s);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await QN(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gi(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const i=_r(_r(_r({},qq),t),{},{prefix:e||""});return{data:await cc(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(gi(i))return{data:null,error:i};throw i}}async listV2(e,t){var r=this;try{const n=_r({},e);return{data:await cc(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const sL="2.90.1",oL={"X-Client-Info":`storage-js/${sL}`};var Vq=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=_r(_r({},oL),t),this.fetch=ZN(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await zm(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gi(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await zm(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gi(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await cc(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await o_(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await cc(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gi(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await QN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gi(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Kq=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_r(_r({},oL),t),this.fetch=ZN(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await cc(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gi(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await zm(t.fetch,i,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gi(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await QN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(gi(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Rq(e))throw new k1("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Cq({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...o)=>{try{return{data:await s.apply(i,o),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const ej={"X-Client-Info":`storage-js/${sL}`,"Content-Type":"application/json"};var lL=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Wo(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var V2=class extends lL{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gq=class extends lL{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const tj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Yq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},AE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xq=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const s=a?.statusCode||a?.code||n+"";t(new V2(AE(a),n,s))}).catch(()=>{const a=n+"";t(new V2(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new V2(i.statusText||`HTTP ${n} error`,n,a))}}else t(new Gq(AE(e),e))},Jq=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(Yq(n)?(i.headers=_r({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,_r(_r({},i),r)):i};async function Zq(e,t,r,n,i,a){return new Promise((s,o)=>{e(r,Jq(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n?.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>Xq(c,o,n))})}async function qo(e,t,r,n,i){return Zq(e,"POST",t,n,i,r)}var Qq=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_r(_r({},ej),t),this.fetch=tj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await qo(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await qo(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Wo(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await qo(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await qo(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Wo(n))return{data:null,error:n};throw n}}},eH=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_r(_r({},ej),t),this.fetch=tj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await qo(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await qo(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await qo(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await qo(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await qo(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}},tH=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_r(_r({},ej),t),this.fetch=tj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await qo(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await qo(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await qo(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await qo(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}},rH=class extends tH{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new nH(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},nH=class extends Qq{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,_r(_r({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,_r(_r({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new iH(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},iH=class extends eH{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,_r(_r({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,_r(_r({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,_r(_r({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,_r(_r({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,_r(_r({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},aH=class extends Vq{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Hq(this.url,this.headers,e,this.fetch)}get vectors(){return new rH(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Kq(this.url+"/iceberg",this.headers,this.fetch)}};const cL="2.90.1",Np=30*1e3,l_=3,K2=l_*Np,sH="http://localhost:9999",oH="supabase.auth.token",lH={"X-Client-Info":`gotrue-js/${cL}`},c_="X-Supabase-Api-Version",uL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uH=600*1e3;class Wm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function cr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class dH extends Wm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function fH(e){return cr(e)&&e.name==="AuthApiError"}class Yf extends Wm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class nd extends Wm{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Mo extends nd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hH(e){return cr(e)&&e.name==="AuthSessionMissingError"}class cp extends nd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xv extends nd{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jv extends nd{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pH(e){return cr(e)&&e.name==="AuthImplicitGrantRedirectError"}class EE extends nd{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mH extends nd{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class u_ extends nd{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function G2(e){return cr(e)&&e.name==="AuthRetryableFetchError"}class PE extends nd{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class d_ extends nd{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ty="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TE=` 	
\r=`.split(""),gH=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<TE.length;t+=1)e[TE[t].charCodeAt(0)]=-2;for(let t=0;t<ty.length;t+=1)e[ty[t].charCodeAt(0)]=t;return e})();function kE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ty[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ty[n]),t.queuedBits-=6}}function dL(e,t,r){const n=gH[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function CE(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{yH(s,n,r)};for(let s=0;s<e.length;s+=1)dL(e.charCodeAt(s),i,a);return t.join("")}function vH(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xH(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}vH(n,t)}}function yH(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function $p(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)dL(e.charCodeAt(i),r,n);return new Uint8Array(t)}function bH(e){const t=[];return xH(e,r=>t.push(r)),new Uint8Array(t)}function Zf(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>kE(i,r,n)),kE(null,r,n),t.join("")}function wH(e){return Math.round(Date.now()/1e3)+e}function SH(){return Symbol("auth-callback")}const Ga=()=>typeof window<"u"&&typeof document<"u",Ff={tested:!1,writable:!1},fL=()=>{if(!Ga())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ff.tested)return Ff.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ff.tested=!0,Ff.writable=!0}catch{Ff.tested=!0,Ff.writable=!1}return Ff.writable};function _H(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const hL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),NH=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jp=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bf=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ka=async(e,t)=>{await e.removeItem(t)};class C1{constructor(){this.promise=new C1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}C1.promiseConstructor=Promise;function Y2(e){const t=e.split(".");if(t.length!==3)throw new d_("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!cH.test(t[n]))throw new d_("JWT not in base64url format");return{header:JSON.parse(CE(t[0])),payload:JSON.parse(CE(t[1])),signature:$p(t[2]),raw:{header:t[0],payload:t[1]}}}async function jH(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function AH(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function EH(e){return("0"+e.toString(16)).substr(-2)}function PH(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,EH).join("")}async function TH(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function kH(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await TH(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function up(e,t,r=!1){const n=PH();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await jp(e,`${t}-code-verifier`,i);const a=await kH(n);return[a,n===a?"plain":"s256"]}const CH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DH(e){const t=e.headers.get(c_);if(!t||!t.match(CH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function OH(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function IH(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dp(e){if(!RH.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function X2(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LH(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function DE(e){return JSON.parse(JSON.stringify(e))}const $f=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MH=[502,503,504];async function OE(e){var t;if(!NH(e))throw new u_($f(e),0);if(MH.includes(e.status))throw new u_($f(e),e.status);let r;try{r=await e.json()}catch(a){throw new Yf($f(a),a)}let n;const i=DH(e);if(i&&i.getTime()>=uL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new PE($f(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Mo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new PE($f(r),e.status,r.weak_password.reasons);throw new dH($f(r),e.status||500,n)}const FH=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function wr(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[c_]||(a[c_]=uL["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await BH(e,t,r+o,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function BH(e,t,r,n,i,a){const s=FH(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new u_($f(c),0)}if(o.ok||await OE(o),n?.noResolveJson)return o;try{return await o.json()}catch(c){await OE(c)}}function oc(e){var t;let r=null;zH(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=wH(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function IE(e){const t=oc(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function UH(e){return{data:e,error:null}}function $H(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=T1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function RE(e){return e}function zH(e){return e.access_token&&e.refresh_token&&e.expires_in}const J2=["global","local","others"];class WH{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=hL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=J2[0]){if(J2.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${J2.join(", ")}`);try{return await wr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await wr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hd})}catch(n){if(cr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=T1(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await wr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$H,redirectTo:r?.redirectTo})}catch(r){if(cr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await wr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hd})}catch(r){if(cr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await wr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:RE});if(d.error)throw d.error;const h=await d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(cr(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){dp(t);try{return await wr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hd})}catch(r){if(cr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){dp(t);try{return await wr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hd})}catch(n){if(cr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){dp(t);try{return await wr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hd})}catch(n){if(cr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){dp(t.userId);try{const{data:r,error:n}=await wr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(cr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){dp(t.userId),dp(t.id);try{return{data:await wr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await wr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:RE});if(d.error)throw d.error;const h=await d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(cr(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await wr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(cr(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await wr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(cr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await wr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(cr(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await wr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await wr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(cr(r))return{data:null,error:r};throw r}}}function LE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const fp={debug:!!(globalThis&&fL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qH extends pL{}async function HH(e,t,r){fp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){fp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{fp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fp.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function VH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mL(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function KH(e){return parseInt(e,16)}function GH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function YH(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:c,resources:u,scheme:d,uri:h,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=mL(e.address),x=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${g}

${v}`;let w=`URI: ${h}
Version: ${m}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let _=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);_+=`
- ${S}`}w+=_}return`${y}
${w}`}class Zi extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class ry extends Zi{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function XH({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Zi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Zi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Zi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Zi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Zi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Zi({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Zi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Zi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(gL(s)){if(a.rp.id!==s)return new Zi({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Zi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Zi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Zi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Zi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function JH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Zi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Zi({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(gL(n)){if(r.rpId!==n)return new Zi({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Zi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Zi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Zi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ZH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const QH=new ZH;function eV(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=T1(e,["challenge","user","excludeCredentials"]),a=$p(t).buffer,s=Object.assign(Object.assign({},r),{id:$p(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:$p(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function tV(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=T1(e,["challenge","allowCredentials"]),i=$p(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:$p(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function rV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Zf(new Uint8Array(e.response.attestationObject)),clientDataJSON:Zf(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function nV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Zf(new Uint8Array(i.authenticatorData)),clientDataJSON:Zf(new Uint8Array(i.clientDataJSON)),signature:Zf(new Uint8Array(i.signature)),userHandle:i.userHandle?Zf(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ME(){var e,t;return!!(Ga()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function iV(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ry("Browser returned unexpected credential type",t)}:{data:null,error:new ry("Empty credential response",t)}}catch(t){return{data:null,error:XH({error:t,options:e})}}}async function aV(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ry("Browser returned unexpected credential type",t)}:{data:null,error:new ry("Empty credential response",t)}}catch(t){return{data:null,error:JH({error:t,options:e})}}}const sV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},oV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ny(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=ny(o,s):n[a]=ny(s)}else n[a]=s}return n}function lV(e,t){return ny(sV,e,t||{})}function cV(e,t){return ny(oV,e,t||{})}class uV{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const c=i??QH.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=lV(s.webauthn.credential_options.publicKey,a?.create),{data:d,error:h}=await iV({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=cV(s.webauthn.credential_options.publicKey,a?.request),{data:d,error:h}=await aV(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(s){return cr(s)?{data:null,error:s}:{data:null,error:new Yf("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Wm("rpId is required for WebAuthn authentication")};try{if(!ME())return{data:null,error:new Yf("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return cr(s)?{data:null,error:s}:{data:null,error:new Yf("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Wm("rpId is required for WebAuthn registration")};try{if(!ME())return{data:null,error:new Yf("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return cr(s)?{data:null,error:s}:{data:null,error:new Yf("Unexpected error in register",s)}}}}VH();const dV={url:sH,storageKey:oH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function FE(e,t,r){return await r()}const hp={};class qm{get jwks(){var t,r;return(r=(t=hp[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){hp[this.storageKey]=Object.assign(Object.assign({},hp[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=hp[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hp[this.storageKey]=Object.assign(Object.assign({},hp[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},dV),t);if(this.storageKey=a.storageKey,this.instanceID=(r=qm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ga()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new WH({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=hL(a.fetch),this.lock=a.lock||FE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Ga()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=HH:this.lock=FE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:fL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=LE(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=LE(this.memoryStorage)),Ga()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cL}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ga()&&(r=_H(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ga()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),pH(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return cr(r)?this._returnResult({error:r}):this._returnResult({error:new Yf("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await wr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:oc}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(cr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:h,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await up(this.storage,this.storageKey)),a=await wr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:d,password:h,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:x},xform:oc})}else if("phone"in t){const{phone:d,password:h,options:m}=t;a=await wr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:oc})}else throw new Xv("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return await Ka(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),cr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await wr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:IE})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await wr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:IE})}else throw new Xv("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new cp;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(cr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,c,u,d,h,m;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:v,wallet:y,statement:w,options:_}=t;let S;if(Ga())if(typeof y=="object")S=y;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")S=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const E=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href),T=await S.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=mL(T[0]);let C=(n=_?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const R=await S.request({method:"eth_chainId"});C=KH(R)}const O={domain:E.host,address:D,statement:w,uri:E.href,version:"1",chainId:C,nonce:(i=_?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=_?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=_?.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=_?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=_?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=YH(O),x=await S.request({method:"personal_sign",params:[GH(g),D]})}try{const{data:v,error:y}=await wr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:oc});if(y)throw y;if(!v||!v.session||!v.user){const w=new cp;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(cr(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,i,a,s,o,c,u,d,h,m,g;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:y,wallet:w,statement:_,options:S}=t;let E;if(Ga())if(typeof w=="object")E=w;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))E=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const T=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const D=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),_?{statement:_}:null));let C;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")C=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)C=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${T.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=S?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((s=S?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((o=S?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(d=S?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const D=await E.signMessage(new TextEncoder().encode(x),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=D}}try{const{data:y,error:w}=await wr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Zf(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:oc});if(w)throw w;if(!y||!y.session||!y.user){const _=new cp;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(cr(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await Bf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new mH;const{data:a,error:s}=await wr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:oc});if(await Ka(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new cp;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),cr(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await wr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:oc}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new cp;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(cr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await up(this.storage,this.storageKey));const{error:h}=await wr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await wr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(s=c?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Xv("You must provide either an email or phone number.")}catch(o){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),cr(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await wr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:oc});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(cr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,s;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await up(this.storage,this.storageKey));const u=await wr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:UH});return!((a=u.data)===null||a===void 0)&&a.url&&Ga()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),cr(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Mo;const{error:i}=await wr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(cr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await wr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await wr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:o})}throw new Xv("You must provide either an email or phone number and a type")}catch(r){if(cr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<K2:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Bf(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=X2()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=LH(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await wr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hd}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mo}:await wr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Hd})})}catch(r){if(cr(r))return hH(r)&&(await this._removeSession(),await Ka(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Mo;const s=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await up(this.storage,this.storageKey));const{data:u,error:d}=await wr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:Hd});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),cr(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mo;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Y2(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(cr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Mo;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(cr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ga())throw new Jv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new EE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new EE("No code detected.");const{data:_,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!s||!u)throw new Jv("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let m=d+h;c&&(m=parseInt(c));const g=m-d;g*1e3<=Np&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const x=m-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const w={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:m,refresh_token:s,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(cr(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Bf(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(fH(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Ka(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=SH(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await up(this.storage,this.storageKey,!0));try{return await wr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),cr(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(cr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,c,u,d;const{data:h,error:m}=a;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await wr(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ga()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(cr(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:c,access_token:u,nonce:d}=t,h=await wr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:oc}),{data:m,error:g}=h;return g?this._returnResult({data:{user:null,session:null},error:g}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new cp}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:g}))}catch(i){if(await Ka(this.storage,`${this.storageKey}-code-verifier`),cr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await wr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(cr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await AH(async i=>(i>0&&await jH(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await wr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:oc})),(i,a)=>{const s=200*Math.pow(2,i);return a&&G2(a)&&Date.now()+s-n<Np})}catch(n){if(this._debug(r,"error",n),cr(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ga()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Bf(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Bf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await jp(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:X2()}else if(i&&!i.user&&!i.user){const s=await Bf(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await Ka(this.storage,this.storageKey+"-user"),await jp(this.storage,this.storageKey,i)):i.user=X2()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<K2;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${K2}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),G2(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Mo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new C1;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Mo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),cr(a)){const s={data:null,error:a};return G2(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ka(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jp(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=DE(i);await jp(this.storage,this.storageKey,a)}else{const i=DE(r);await jp(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ka(this.storage,this.storageKey),await Ka(this.storage,this.storageKey+"-code-verifier"),await Ka(this.storage,this.storageKey+"-user"),this.userStorage&&await Ka(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ga()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Np);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Np);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Np}ms, refresh threshold is ${l_} ticks`),i<=l_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ga()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await up(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await wr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(cr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await wr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(cr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?rV(t.webauthn.credential_response):nV(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await wr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(cr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await wr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:eV(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:tV(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(cr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Y2(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await wr(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Mo})})}catch(r){if(cr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Mo});const s=await wr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Ga()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(cr(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Mo});const s=await wr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Ga()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(cr(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await wr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Mo})})}catch(t){if(cr(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await wr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mo})})}catch(r){if(cr(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+uH>i)return n;const{data:a,error:s}=await wr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:x}=await this.getSession();if(x||!g.session)return this._returnResult({data:null,error:x});n=g.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:c}}=Y2(n);r?.allowExpired||OH(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:i,signature:s},error:null}}const d=IH(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,s,bH(`${o}.${c}`)))throw new d_("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(cr(n))return this._returnResult({data:null,error:n});throw n}}}qm.nextInstanceID={};const fV=qm,hV="2.90.1";let mm="";typeof Deno<"u"?mm="deno":typeof document<"u"?mm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mm="react-native":mm="node";const pV={"X-Client-Info":`supabase-js-${mm}/${hV}`},mV={headers:pV},gV={schema:"public"},vV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xV={};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function yV(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bV(e){var t=yV(e,"string");return Hm(t)=="symbol"?t:t+""}function wV(e,t,r){return(t=bV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){wV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const SV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_V=()=>Headers,NV=(e,t,r)=>{const n=SV(r),i=_V();return async(a,s)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new i(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,ki(ki({},s),{},{headers:u}))}};function jV(e){return e.endsWith("/")?e:e+"/"}function AV(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:c,auth:u,realtime:d,global:h}=t,m={db:ki(ki({},c),i),auth:ki(ki({},u),a),realtime:ki(ki({},d),s),storage:{},global:ki(ki(ki({},h),o),{},{headers:ki(ki({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=o?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function EV(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jV(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var PV=class extends fV{constructor(e){super(e)}},TV=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=EV(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,o={db:gV,realtime:xV,auth:ki(ki({},vV),{},{storageKey:s}),global:mV},c=AV(r??{},o);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=NV(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ki({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new lq(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new aH(this.storageUrl.href,this.headers,this.fetch,r?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new nq(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:o,debug:c,throwOnError:u},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PV({url:this.authUrl.href,headers:ki(ki({},m),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:o,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new jq(this.realtimeUrl.href,ki(ki({},e),{},{params:ki(ki({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const kV=(e,t,r)=>new TV(e,t,r);function CV(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}CV()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const DV="https://xiaolhekiioawkymvjwb.supabase.co",OV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhpYW9saGVraWlvYXdreW12andiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2MjQxNzYsImV4cCI6MjA3NzIwMDE3Nn0.iyAUKnGa5Y_sKZgsvw1XujjeG61j_Rf4hXibyzsL_VU",jt=kV(DV,OV);jt||console.error("Supabase client could not be initialized. Please check that the URL and anon key are valid in `frontend/supabaseClient.ts`.");var kn=(e=>(e.HEALTHY="HEALTHY",e.FILLING="FILLING",e.CROWN="CROWN",e.MISSING="MISSING",e.IMPLANT="IMPLANT",e.ROOT_CANAL="ROOT_CANAL",e.CAVITY="CAVITY",e))(kn||{}),Vm=(e=>(e.SCHEDULED="SCHEDULED",e.CONFIRMED="CONFIRMED",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e))(Vm||{}),dc=(e=>(e.RENT="RENT",e.SALARIES="SALARIES",e.UTILITIES="UTILITIES",e.LAB_FEES="LAB_FEES",e.SUPPLIES="SUPPLIES",e.MARKETING="MARKETING",e.MISC="MISC",e))(dc||{}),Ks=(e=>(e.DRAFT="DRAFT",e.SENT_TO_LAB="SENT_TO_LAB",e.RECEIVED_FROM_LAB="RECEIVED_FROM_LAB",e.FITTED_TO_PATIENT="FITTED_TO_PATIENT",e.CANCELLED="CANCELLED",e))(Ks||{}),gt=(e=>(e.SUCCESS="success",e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(gt||{}),po=(e=>(e.ADMIN="ADMIN",e.DOCTOR="DOCTOR",e.ASSISTANT="ASSISTANT",e.RECEPTIONIST="RECEPTIONIST",e))(po||{}),D1=(e=>(e.UNPAID="UNPAID",e.PAID="PAID",e))(D1||{});const vL=A.createContext(void 0),xL=({children:e})=>{const[t,r]=A.useState(null),[n,i]=A.useState(null),[a,s]=A.useState(null),[o,c]=A.useState(!0);A.useEffect(()=>{console.log("AuthContext: Initializing authentication check...");const y=sessionStorage.getItem("clinic_user");if(y){console.log("AuthContext: Found internal user session");try{const S=JSON.parse(y),E=S.loginTime?new Date(S.loginTime).getTime()+1440*60*1e3:0;if(new Date().getTime()>E){console.log("AuthContext: Session expired, clearing"),sessionStorage.removeItem("clinic_user"),c(!1);return}console.log("AuthContext: Setting user profile from session storage"),s(S),r({id:S.id,email:S.username}),c(!1);return}catch(S){console.error("Error parsing stored user session:",S),sessionStorage.removeItem("clinic_user")}}else console.log("AuthContext: No internal user session found");if(!jt){c(!1);return}const{data:{subscription:w}}=jt.auth.onAuthStateChange(async(S,E)=>{if(console.log("AuthContext: Auth state changed - event:",S,"session:",!!E),i(E),r(E?.user??null),E?.user){console.log("AuthContext: User authenticated, fetching profile");const{data:T}=await jt.from("user_profiles").select("*").eq("user_id",E.user.id).single();s(T)}else console.log("AuthContext: No user session, clearing profile"),s(null);c(!1)});return(async()=>{console.log("AuthContext: Getting initial session...");const{data:{session:S}}=await jt.auth.getSession();if(console.log("AuthContext: Initial session result:",!!S),i(S),r(S?.user??null),S?.user){console.log("AuthContext: Initial session has user, fetching profile");const{data:E}=await jt.from("user_profiles").select("*").eq("user_id",S.user.id).single();s(E)}else console.log("AuthContext: Initial session has no user"),s(null);c(!1)})(),()=>{w?.unsubscribe()}},[]);const u=async(y,w)=>{if(!jt)throw new Error("Supabase is not configured.");try{const{error:_}=await jt.auth.signInWithPassword({email:y,password:w});if(_)throw _}catch(_){throw console.error("Supabase login error:",_),new Error(_.message||"Login failed. Please check your credentials.")}},d=async(y,w)=>{if(!jt)throw new Error("Supabase is not configured.");const{error:_}=await jt.auth.signUp({email:y,password:w});if(_)throw _},h=async()=>{console.log("AuthContext: Starting logout process...");try{if(console.log("AuthContext: Clearing internal session"),sessionStorage.removeItem("clinic_user"),jt){console.log("AuthContext: Signing out from Supabase");const{error:y}=await jt.auth.signOut();y&&console.error("Supabase logout error:",y)}console.log("AuthContext: Forcing page reload to clear state"),window.location.reload()}catch(y){console.error("Logout error:",y),window.location.reload()}},m=y=>a?a.permissions.includes(y):!1,g=a?.role===po.ADMIN,v={user:t,session:n,userProfile:a,loading:o,isAuthenticated:!!t,login:u,signUp:d,logout:h,hasPermission:m,isAdmin:g};return console.log("AuthContext: Rendering provider - loading:",o,"user:",!!t),l.jsx(vL.Provider,{value:v,children:!o&&e})},tf=()=>{const e=A.useContext(vL);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},IV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),RV=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21V10.5"})]}),LV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),MV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.124-1.282-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.124-1.282.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),FV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),BV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h8a2 2 0 002-2v-3a2 2 0 00-2-2H9.5m3.5-6.5a2 2 0 11-4 0 2 2 0 014 0z"})}),UV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),$V=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 1a3 3 0 00-3 3v1h10V4a3 3 0 00-3-3H8zM5 6v10a2 2 0 002 2h10a2 2 0 002-2V6H5z"})}),zV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),WV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),qV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),HV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),VV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),KV=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),GV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),YV=({currentView:e,setCurrentView:t})=>{const{t:r}=sr(),{user:n,logout:i,isAdmin:a}=tf(),{userProfile:s}=tf(),c=(()=>{const d=[{id:"dashboard",label:r("sidebar.dashboard"),icon:l.jsx(LV,{}),permissions:["view_dashboard"]},{id:"patients",label:r("sidebar.patients"),icon:l.jsx(MV,{}),permissions:["view_patients"]},{id:"scheduler",label:r("sidebar.scheduler"),icon:l.jsx(FV,{}),permissions:["view_scheduler"]},{id:"doctors",label:r("sidebar.doctors"),icon:l.jsx(BV,{}),permissions:["view_patients"]},{id:"suppliers",label:r("sidebar.suppliers"),icon:l.jsx($V,{}),permissions:["view_finance"]},{id:"inventory",label:r("sidebar.inventory"),icon:l.jsx(zV,{}),permissions:["view_finance"]},{id:"labCases",label:r("sidebar.labCases"),icon:l.jsx(WV,{}),permissions:["view_finance"]},{id:"expenses",label:r("sidebar.expenses"),icon:l.jsx(qV,{}),permissions:["view_finance"]},{id:"treatmentDefinitions",label:r("sidebar.treatmentDefinitions"),icon:l.jsx(HV,{}),permissions:["view_finance"]},{id:"reports",label:r("sidebar.reports"),icon:l.jsx(UV,{}),permissions:["view_reports"]},{id:"accounting",label:r("accounting.title"),icon:l.jsx(VV,{}),permissions:["view_reports"]},{id:"settings",label:r("sidebar.settings"),icon:l.jsx(KV,{}),permissions:["view_dashboard"]}];return a&&d.push({id:"userManagement",label:r("sidebar.userManagement"),icon:l.jsx(IV,{}),permissions:["manage_users"]}),d.filter(h=>!h.permissions||h.permissions.some(m=>s?.permissions?.includes(m)))})(),u=[{label:r("sidebar.group.records"),items:c.filter(d=>["dashboard","patients","doctors","treatmentDefinitions","suppliers"].includes(d.id))},{label:r("sidebar.group.appointments"),items:c.filter(d=>d.id==="scheduler")},{label:r("sidebar.group.materialsLabs"),items:c.filter(d=>["inventory","labCases"].includes(d.id))},{label:r("sidebar.group.finance"),items:c.filter(d=>["expenses"].includes(d.id))},{label:r("sidebar.group.reports"),items:c.filter(d=>["reports","accounting"].includes(d.id))},{label:r("sidebar.group.settings"),items:c.filter(d=>["settings","userManagement"].includes(d.id))}];return l.jsxs("nav",{className:"hidden md:flex bg-primary-dark text-white w-20 lg:w-64 flex-col transition-all duration-300 print:hidden",children:[l.jsxs("div",{className:"flex items-center justify-center lg:justify-start p-4 h-16 border-b border-primary-dark/50",children:[l.jsx(RV,{}),l.jsx("h1",{className:"hidden lg:block ms-3 text-xl font-bold",children:r("appName")})]}),l.jsx("ul",{className:"flex-1 mt-6",children:u.map((d,h)=>l.jsxs("li",{children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("h3",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider px-4 py-1",children:d.label}),l.jsx("ul",{className:"space-y-1",children:d.items.map(m=>l.jsx("li",{className:"px-4",children:l.jsxs("button",{onClick:()=>t(m.id),className:`flex items-center w-full p-3 my-1 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-white/50 ${e===m.id?"bg-white/20 text-white shadow-sm":"text-sky-100 hover:bg-white/10"}`,"aria-current":e===m.id?"page":void 0,children:[m.icon,l.jsx("span",{className:"hidden lg:block ms-4 font-semibold",children:m.label})]})},m.id))})]}),h<u.length-1&&l.jsx("div",{className:"my-4",children:l.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-slate-400 to-transparent"})})]},d.label))}),l.jsxs("div",{className:"p-4 border-t border-primary-dark/50 space-y-4",children:[l.jsxs("button",{onClick:i,className:"flex items-center w-full p-3 rounded-lg text-sky-100 hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/50","aria-label":r("auth.logout.button"),children:[l.jsx(GV,{}),l.jsx("span",{className:"hidden lg:block ms-4 font-semibold",children:r("auth.logout.button")})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:"https://picsum.photos/40/40",alt:r("sidebar.adminProfile"),className:"rounded-full"}),l.jsxs("div",{className:"hidden lg:block ms-3",children:[l.jsx("p",{className:"font-semibold text-sm",children:s?.username||n?.email||r("sidebar.drAdmin")}),l.jsx("p",{className:"text-xs text-sky-200",children:s?.role||(a?"Admin":"User")})]})]})]})]})},yL=A.createContext(void 0),XV=({children:e})=>{const[t,r]=A.useState([]),n=A.useCallback((a,s)=>{const o=new Date().toISOString()+Math.random().toString();r(c=>[...c,{id:o,message:a,type:s}])},[]),i=A.useCallback(a=>{r(s=>s.filter(o=>o.id!==a))},[]);return l.jsx(yL.Provider,{value:{notifications:t,addNotification:n,removeNotification:i},children:e})},bi=()=>{const e=A.useContext(yL);if(e===void 0)throw new Error("useNotification must be used within a NotificationProvider");return e},JV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),ZV=({patient:e,onClose:t,onSave:r})=>{const{t:n}=sr(),{addNotification:i}=bi(),[a,s]=A.useState("basic"),[o,c]=A.useState(e||{name:"",dob:"",gender:"Male",phone:"",email:"",address:"",medicalHistory:"",treatmentNotes:"",lastVisit:new Date().toISOString().split("T")[0],allergies:"",medications:"",insuranceProvider:"",insurancePolicyNumber:"",emergencyContactName:"",emergencyContactPhone:"",images:[]});A.useEffect(()=>{e&&!e.lastVisit&&c(_=>({..._,lastVisit:new Date().toISOString().split("T")[0]}))},[e]);const[u,d]=A.useState({}),h=_=>{const{name:S,value:E}=_.target;c(T=>({...T,[S]:E})),u[S]&&d(T=>({...T,[S]:""}))},m=_=>{const S=_.target.files;S&&Array.from(S).forEach(E=>{const T=new FileReader;T.onload=D=>{D.target?.result&&c(C=>({...C,images:[...C.images||[],D.target.result]}))},T.readAsDataURL(E)})},g=_=>{c(S=>({...S,images:S.images?.filter((E,T)=>T!==_)||[]}))},x=_=>{const S={};return _==="basic"&&(o.name?.trim()||(S.name=n("validation.required")),o.dob||(S.dob=n("validation.required")),o.phone?.trim()||(S.phone=n("validation.required"))),d(E=>({...E,...S})),Object.keys(S).length===0},v=_=>{x(a)?s(_):i(n("validation.fixErrors"),gt.ERROR)},y=_=>{_.preventDefault();const S=["basic","medical","emergency","images"];let E=!1;if(S.forEach(T=>{x(T)||(E=!0)}),E){i(n("validation.fixAllErrors"),gt.ERROR);return}r(o)},w=[{key:"basic",label:n("patientModal.tabs.basicInfo")},{key:"medical",label:n("patientModal.tabs.medicalHistory")},{key:"emergency",label:n("patientModal.tabs.emergencyInsurance")},{key:"images",label:n("patientModal.tabs.imagesNotes")}];return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:n(e?"addPatientModal.editTitle":"addPatientModal.title")}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":n("addPatientModal.closeAriaLabel"),children:l.jsx(JV,{})})]}),l.jsx("nav",{className:"border-b border-slate-200 bg-slate-50 flex-shrink-0",children:l.jsx("ul",{className:"-mb-px flex space-x-4 rtl:space-x-reverse overflow-x-auto text-sm font-medium text-center text-slate-500",children:w.map(({key:_,label:S})=>l.jsx("li",{children:l.jsx("button",{onClick:()=>v(_),className:`inline-block p-4 border-b-2 ${a===_?"border-primary text-primary":"border-transparent hover:text-slate-700 hover:border-slate-300"}`,children:S})},_))})}),l.jsxs("form",{onSubmit:y,className:"p-6 overflow-y-auto flex-1 space-y-4",children:[a==="basic"&&l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 mb-1",children:[n("addPatientModal.fullName")," *"]}),l.jsx("input",{id:"name",name:"name",value:o.name,onChange:h,placeholder:n("addPatientModal.fullName"),className:`p-2 border rounded-lg w-full focus:ring-primary focus:border-primary ${u.name?"border-red-500":"border-slate-300"}`,required:!0}),u.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.name})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"dob",className:"block text-sm font-medium text-slate-600 mb-1",children:[n("addPatientModal.dob")," *"]}),l.jsx("input",{id:"dob",name:"dob",type:"date",value:o.dob,onChange:h,className:`p-2 border rounded-lg w-full focus:ring-primary focus:border-primary ${u.dob?"border-red-500":"border-slate-300"}`,required:!0}),u.dob&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.dob})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.gender")}),l.jsxs("select",{id:"gender",name:"gender",value:o.gender,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"Male",children:n("male")}),l.jsx("option",{value:"Female",children:n("female")}),l.jsx("option",{value:"Other",children:n("other")})]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 mb-1",children:[n("addPatientModal.phone")," *"]}),l.jsx("input",{id:"phone",name:"phone",type:"tel",value:o.phone,onChange:h,placeholder:n("addPatientModal.phone"),className:`p-2 border rounded-lg w-full focus:ring-primary focus:border-primary ${u.phone?"border-red-500":"border-slate-300"}`,required:!0}),u.phone&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.phone})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.email")}),l.jsx("input",{id:"email",name:"email",type:"email",value:o.email,onChange:h,placeholder:n("addPatientModal.email"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.address")}),l.jsx("textarea",{id:"address",name:"address",value:o.address,onChange:h,placeholder:n("addPatientModal.address"),className:"p-2 border border-slate-300 rounded-lg w-full h-20 focus:ring-primary focus:border-primary"})]})]})}),a==="medical"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"medicalHistory",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.medicalHistory")}),l.jsx("textarea",{id:"medicalHistory",name:"medicalHistory",value:o.medicalHistory,onChange:h,placeholder:n("addPatientModal.medicalHistoryPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-24 focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"allergies",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.allergies")}),l.jsx("input",{id:"allergies",name:"allergies",value:o.allergies,onChange:h,placeholder:n("addPatientModal.allergiesPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"medications",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.currentMedications")}),l.jsx("input",{id:"medications",name:"medications",value:o.medications,onChange:h,placeholder:n("addPatientModal.currentMedicationsPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]})]}),a==="emergency"&&l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emergencyContactName",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.emergencyContactName")}),l.jsx("input",{id:"emergencyContactName",name:"emergencyContactName",value:o.emergencyContactName,onChange:h,placeholder:n("addPatientModal.emergencyContactName"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emergencyContactPhone",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.emergencyContactPhone")}),l.jsx("input",{id:"emergencyContactPhone",name:"emergencyContactPhone",type:"tel",value:o.emergencyContactPhone,onChange:h,placeholder:n("addPatientModal.emergencyContactPhone"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"insuranceProvider",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.insuranceProvider")}),l.jsx("input",{id:"insuranceProvider",name:"insuranceProvider",value:o.insuranceProvider,onChange:h,placeholder:n("addPatientModal.insuranceProvider"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"insurancePolicyNumber",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.policyNumber")}),l.jsx("input",{id:"insurancePolicyNumber",name:"insurancePolicyNumber",value:o.insurancePolicyNumber,onChange:h,placeholder:n("addPatientModal.policyNumber"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]})]})}),a==="images"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"treatmentNotes",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.initialTreatmentNotes")}),l.jsx("textarea",{id:"treatmentNotes",name:"treatmentNotes",value:o.treatmentNotes,onChange:h,placeholder:n("addPatientModal.initialTreatmentNotesPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-24 focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"images",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.patientImages")}),l.jsx("input",{id:"images",name:"images",type:"file",multiple:!0,accept:"image/*",onChange:m,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"}),o.images&&o.images.length>0&&l.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-2",children:o.images.map((_,S)=>l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:_,alt:`Patient image ${S+1}`,className:"w-full h-20 object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>g(S),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",children:""})]},S))})]})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4 flex-shrink-0",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:n("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:n("addPatientModal.savePatient")})]})]})]})})},QV=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute start-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),eK=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),tK=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),rK=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M12.062 17.498a9.423 9.423 0 0 1-4.71-1.392l-5.13.84 1.09-4.992a9.423 9.423 0 0 1-1.282-5.024C2.03 3.018 6.54-1.5 12 .002c5.46 1.5 8.97 7.018 7.47 12.478a9.423 9.423 0 0 1-7.408 5.02z"})}),nK=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),iK=e=>e.split(" ").map(t=>t[0]).join("").toUpperCase(),UE=["bg-sky-200","bg-emerald-200","bg-amber-200","bg-rose-200","bg-indigo-200","bg-teal-200"],aK=e=>{const t=e.split("").reduce((r,n)=>r+n.charCodeAt(0),0);return UE[t%UE.length]},sK=({patient:e,onSelect:t,onDelete:r,clinicData:n})=>{const{t:i}=sr(),a=new Intl.DateTimeFormat("ar-EG",{year:"numeric",month:"short",day:"numeric"}),s=new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}),o=A.useMemo(()=>{const d=n.treatmentRecords.filter(m=>m.patientId===e.id).reduce((m,g)=>m+(g.doctorShare+g.clinicShare),0),h=n.payments.filter(m=>m.patientId===e.id).reduce((m,g)=>m+g.amount,0);return d-h},[e.id,n.treatmentRecords,n.payments]),c=u=>{u.stopPropagation();let d=e.phone.replace(/[^0-9]/g,"");d.startsWith("0")&&(d=d.substring(1));const h=`20${d}`,m=n.whatsappMessageTemplate.replace(/\{patientName\}/g,e.name).replace(/\{clinicName\}/g,n.clinicInfo.name||" ").replace(/\{clinicAddress\}/g,n.clinicInfo.address||"").replace(/\{clinicPhone\}/g,n.clinicInfo.phone||""),g=`https://wa.me/${h}?text=${encodeURIComponent(m)}`;window.open(g,"_blank")};return l.jsxs("div",{onClick:t,className:"w-full border border-slate-200 rounded-xl p-4 flex justify-between items-center gap-4 hover:bg-slate-50 shadow-sm transition-all duration-200 hover:shadow-md cursor-pointer focus-within:ring-2 focus-within:ring-primary-light",role:"button",tabIndex:0,onKeyDown:u=>u.key==="Enter"&&t(),children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center ${aK(e.id)}`,children:l.jsx("span",{className:"text-xl font-bold text-slate-700",children:iK(e.name)})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-bold text-slate-800 text-start truncate",children:e.name}),l.jsx("p",{className:"text-sm text-slate-600 text-start",children:e.phone}),l.jsxs("p",{className:"text-xs text-slate-500 mt-1 text-start",children:[i("patientList.lastVisit"),": ",e.lastVisit?a.format(new Date(e.lastVisit)):"No visit date"]}),o>0&&l.jsxs("p",{className:"text-xs font-semibold text-red-600 mt-1 text-start",children:[" : ",s.format(o)]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[l.jsx("button",{onClick:u=>{u.stopPropagation(),r()},className:"p-2 rounded-full bg-red-500 text-white hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-400 transition-colors","aria-label":i("patientList.deletePatientAriaLabel",{patientName:e.name}),children:l.jsx(nK,{})}),l.jsx("button",{onClick:c,className:"p-2 rounded-full bg-green-500 text-white hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-400 transition-colors","aria-label":i("patientList.sendWhatsAppAriaLabel",{patientName:e.name}),children:l.jsx(rK,{})}),l.jsx(tK,{})]})]})},oK=({clinicData:e,setCurrentView:t,setSelectedPatientId:r})=>{const{patients:n,addPatient:i,updatePatient:a,deletePatient:s}=e,{addNotification:o}=bi(),{t:c}=sr(),[u,d]=A.useState(""),[h,m]=A.useState(!1),[g,x]=A.useState(void 0),v=A.useCallback(_=>{"id"in _&&_.id?(a(_),o(c("notifications.patientUpdated"),gt.SUCCESS)):(i(_),o(c("notifications.patientAdded"),gt.SUCCESS)),m(!1),x(void 0)},[o,a,i,c]),y=A.useCallback(_=>{window.confirm(c("patientList.confirmDelete",{patientName:_.name}))&&(s(_.id),o(c("notifications.patientDeleted"),gt.SUCCESS))},[s,o,c]),w=A.useMemo(()=>{const _=u.toLowerCase().trim();let S=n;return _&&(S=n.filter(E=>E.name&&E.name.toLowerCase().includes(_)||E.phone&&E.phone.includes(_)||E.email&&E.email.toLowerCase().includes(_))),S.sort((E,T)=>{const D=E.lastVisit?new Date(E.lastVisit).getTime():0;return(T.lastVisit?new Date(T.lastVisit).getTime():0)-D})},[n,u]);return l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4",children:[l.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[l.jsx(QV,{}),l.jsx("input",{type:"text",placeholder:c("patientList.searchPatients"),"aria-label":c("patientList.searchPatientsAriaLabel"),value:u,onChange:_=>d(_.target.value),className:"w-full p-2 ps-10 border border-slate-300 rounded-lg focus:ring-primary focus:border-primary"})]}),l.jsxs("button",{onClick:()=>{x(void 0),m(!0)},className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark flex items-center justify-center w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-primary-light",children:[l.jsx(eK,{}),c("patientList.addNewPatient")]})]}),l.jsx("div",{className:"space-y-3",children:w.length>0?w.map(_=>l.jsx(sK,{patient:_,onSelect:()=>{t("patient-details"),r(_.id)},onDelete:()=>y(_),clinicData:e},_.id)):l.jsx("p",{className:"text-center text-slate-500 py-10",children:c("patientList.noPatientsFound")})}),h&&l.jsx(ZV,{patient:g,onSave:v,onClose:()=>{m(!1),x(void 0)}})]})};function bL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=bL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=bL(e))&&(n&&(n+=" "),n+=t);return n}var lK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function rj(e){if(typeof e!="string")return!1;var t=lK;return t.includes(e)}var cK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uK=new Set(cK);function wL(e){return typeof e!="string"?!1:uK.has(e)}function SL(e){return typeof e=="string"&&e.startsWith("data-")}function ns(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(wL(r)||SL(r))&&(t[r]=e[r]);return t}function rf(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ns(t)}return typeof e=="object"&&!Array.isArray(e)?ns(e):null}function Cs(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(wL(r)||SL(r)||rj(r))&&(t[r]=e[r]);return t}function dK(e){return e==null?null:A.isValidElement(e)?Cs(e.props):typeof e=="object"&&!Array.isArray(e)?Cs(e):null}var fK=["children","width","height","viewBox","className","style","title","desc"];function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f_.apply(null,arguments)}function hK(e,t){if(e==null)return{};var r,n,i=pK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nj=A.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:c,desc:u}=e,d=hK(e,fK),h=a||{width:n,height:i,x:0,y:0},m=Xr("recharts-surface",s);return A.createElement("svg",f_({},Cs(d),{className:m,width:n,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),A.createElement("title",null,c),A.createElement("desc",null,u),r)}),mK=["children","className"];function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(null,arguments)}function gK(e,t){if(e==null)return{};var r,n,i=vK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Rn=A.forwardRef((e,t)=>{var{children:r,className:n}=e,i=gK(e,mK),a=Xr("recharts-layer",n);return A.createElement("g",h_({className:a},Cs(i),{ref:t}),r)}),ij=XR(),_L=A.createContext(null),xK=()=>A.useContext(_L);function zn(e){return function(){return e}}const NL=Math.cos,iy=Math.sin,Sc=Math.sqrt,ay=Math.PI,O1=2*ay,p_=Math.PI,m_=2*p_,zf=1e-6,yK=m_-zf;function jL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function bK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return jL;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class wK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?jL:bK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-t,u=i-r,d=s-t,h=o-r,m=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>zf)if(!(Math.abs(h*c-u*d)>zf)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-s,x=i-o,v=c*c+u*u,y=g*g+x*x,w=Math.sqrt(v),_=Math.sqrt(m),S=a*Math.tan((p_-Math.acos((v+m-y)/(2*w*_)))/2),E=S/_,T=S/w;Math.abs(E-1)>zf&&this._append`L${t+E*d},${r+E*h}`,this._append`A${a},${a},0,0,${+(h*g>d*x)},${this._x1=t+T*c},${this._y1=r+T*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=t+o,d=r+c,h=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>zf||Math.abs(this._y1-d)>zf)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%m_+m_),m>yK?this._append`A${n},${n},0,1,${h},${t-o},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:m>zf&&this._append`A${n},${n},0,${+(m>=p_)},${h},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function aj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new wK(t)}function sj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AL(e){this._context=e}AL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function I1(e){return new AL(e)}function EL(e){return e[0]}function PL(e){return e[1]}function TL(e,t){var r=zn(!0),n=null,i=I1,a=null,s=aj(o);e=typeof e=="function"?e:e===void 0?EL:zn(e),t=typeof t=="function"?t:t===void 0?PL:zn(t);function o(c){var u,d=(c=sj(c)).length,h,m=!1,g;for(n==null&&(a=i(g=s())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(h,u,c),+t(h,u,c));if(g)return a=null,g+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:zn(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:zn(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:zn(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function Zv(e,t,r){var n=null,i=zn(!0),a=null,s=I1,o=null,c=aj(u);e=typeof e=="function"?e:e===void 0?EL:zn(+e),t=typeof t=="function"?t:zn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?PL:zn(+r);function u(h){var m,g,x,v=(h=sj(h)).length,y,w=!1,_,S=new Array(v),E=new Array(v);for(a==null&&(o=s(_=c())),m=0;m<=v;++m){if(!(m<v&&i(y=h[m],m,h))===w)if(w=!w)g=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=m-1;x>=g;--x)o.point(S[x],E[x]);o.lineEnd(),o.areaEnd()}w&&(S[m]=+e(y,m,h),E[m]=+t(y,m,h),o.point(n?+n(y,m,h):S[m],r?+r(y,m,h):E[m]))}if(_)return o=null,_+""||null}function d(){return TL().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:zn(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:zn(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:zn(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:zn(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:zn(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:zn(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:zn(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class kL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function SK(e){return new kL(e,!0)}function _K(e){return new kL(e,!1)}const oj={draw(e,t){const r=Sc(t/ay);e.moveTo(r,0),e.arc(0,0,r,0,O1)}},NK={draw(e,t){const r=Sc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},CL=Sc(1/3),jK=CL*2,AK={draw(e,t){const r=Sc(t/jK),n=r*CL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},EK={draw(e,t){const r=Sc(t),n=-r/2;e.rect(n,n,r,r)}},PK=.8908130915292852,DL=iy(ay/10)/iy(7*ay/10),TK=iy(O1/10)*DL,kK=-NL(O1/10)*DL,CK={draw(e,t){const r=Sc(t*PK),n=TK*r,i=kK*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=O1*a/5,o=NL(s),c=iy(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},Z2=Sc(3),DK={draw(e,t){const r=-Sc(t/(Z2*3));e.moveTo(0,r*2),e.lineTo(-Z2*r,-r),e.lineTo(Z2*r,-r),e.closePath()}},ml=-.5,gl=Sc(3)/2,g_=1/Sc(12),OK=(g_/2+1)*3,IK={draw(e,t){const r=Sc(t/OK),n=r/2,i=r*g_,a=n,s=r*g_+r,o=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(ml*n-gl*i,gl*n+ml*i),e.lineTo(ml*a-gl*s,gl*a+ml*s),e.lineTo(ml*o-gl*c,gl*o+ml*c),e.lineTo(ml*n+gl*i,ml*i-gl*n),e.lineTo(ml*a+gl*s,ml*s-gl*a),e.lineTo(ml*o+gl*c,ml*c-gl*o),e.closePath()}};function RK(e,t){let r=null,n=aj(i);e=typeof e=="function"?e:zn(e||oj),t=typeof t=="function"?t:zn(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:zn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:zn(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function sy(){}function oy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function OL(e){this._context=e}OL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LK(e){return new OL(e)}function IL(e){this._context=e}IL.prototype={areaStart:sy,areaEnd:sy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MK(e){return new IL(e)}function RL(e){this._context=e}RL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FK(e){return new RL(e)}function LL(e){this._context=e}LL.prototype={areaStart:sy,areaEnd:sy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function BK(e){return new LL(e)}function $E(e){return e<0?-1:1}function zE(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return($E(a)+$E(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function WE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Q2(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function ly(e){this._context=e}ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Q2(this,this._t0,WE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Q2(this,WE(this,r=zE(this,e,t)),r);break;default:Q2(this,this._t0,r=zE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ML(e){this._context=new FL(e)}(ML.prototype=Object.create(ly.prototype)).point=function(e,t){ly.prototype.point.call(this,t,e)};function FL(e){this._context=e}FL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function UK(e){return new ly(e)}function $K(e){return new ML(e)}function BL(e){this._context=e}BL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=qE(e),i=qE(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qE(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function zK(e){return new BL(e)}function R1(e,t){this._context=e,this._t=t}R1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function WK(e){return new R1(e,.5)}function qK(e){return new R1(e,0)}function HK(e){return new R1(e,1)}function hh(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function v_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function VK(e,t){return e[t]}function KK(e){const t=[];return t.key=e,t}function GK(){var e=zn([]),t=v_,r=hh,n=VK;function i(a){var s=Array.from(e.apply(this,arguments),KK),o,c=s.length,u=-1,d;for(const h of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(h,s[o].key,u,a)]).data=h;for(o=0,d=sj(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:zn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:zn(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?v_:typeof a=="function"?a:zn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??hh,i):r},i}function YK(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}hh(e,t)}}function XK(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}hh(e,t)}}function JK(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],h=d[n][1]||0,m=d[n-1][1]||0,g=(h-m)/2,x=0;x<o;++x){var v=e[t[x]],y=v[n][1]||0,w=v[n-1][1]||0;g+=y-w}c+=h,u+=g*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,hh(e,t)}}var ew={},tw={},HE;function ZK(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(tw)),tw}var rw={},VE;function UL(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(rw)),rw}var nw={},KE;function lj(){return KE||(KE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(nw)),nw}var iw={},aw={},GE;function QK(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(aw)),aw}var YE;function cj(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QK(),r=lj();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];u?h==="\\"&&o+1<s?(o++,c+=i[o]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,a.push(c),c=""):c+=h:h==="["?(d=!0,c&&(a.push(c),c="")):h==="."?c&&(a.push(c),c=""):c+=h,o++}return c&&a.push(c),a}e.toPath=n})(iw)),iw}var XE;function uj(){return XE||(XE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZK(),r=UL(),n=lj(),i=cj();function a(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?a(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let h=0;h<c.length;h++){if(d==null||t.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}e.get=a})(ew)),ew}var sw,JE;function eG(){return JE||(JE=1,sw=uj().get),sw}var tG=eG();const ph=wc(tG);var rG=4;function Xd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rG,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ci(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,s)=>{var o=r[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Xd(o)+a:i+a},"")}var La=e=>e===0?0:e>0?1:-1,jl=e=>typeof e=="number"&&e!=+e,Hu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Wt=e=>(typeof e=="number"||e instanceof Number)&&!jl(e),Qc=e=>Wt(e)||typeof e=="string",nG=0,Km=e=>{var t=++nG;return"".concat(e||"").concat(t)},Ps=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Wt(t)&&typeof t!="string")return n;var a;if(Hu(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return jl(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},$L=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Gr(e,t,r){return Wt(e)&&Wt(t)?Xd(e+r*(t-e)):t}function zL(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ph(n,t))===r)}var iG=e=>{for(var t=e.length,r=0,n=0,i=0,a=0,s=1/0,o=-1/0,c=0,u=0,d=0;d<t;d++){var h,m;c=((h=e[d])===null||h===void 0?void 0:h.cx)||0,u=((m=e[d])===null||m===void 0?void 0:m.cy)||0,r+=c,n+=u,i+=c*u,a+=c*c,s=Math.min(s,c),o=Math.max(o,c)}var g=t*a!==r*r?(t*i-r*n)/(t*a-r*r):0;return{xmin:s,xmax:o,a:g,b:(n-g*r)/t}},pn=e=>e===null||typeof e>"u",Eg=e=>pn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function aG(e){return e!=null}function Pg(){}var sG=["type","size","sizeType"];function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x_.apply(null,arguments)}function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){oG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oG(e,t,r){return(t=lG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uG(e,t){if(e==null)return{};var r,n,i=dG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WL={symbolCircle:oj,symbolCross:NK,symbolDiamond:AK,symbolSquare:EK,symbolStar:CK,symbolTriangle:DK,symbolWye:IK},fG=Math.PI/180,hG=e=>{var t="symbol".concat(Eg(e));return WL[t]||oj},pG=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*fG;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},mG=(e,t)=>{WL["symbol".concat(Eg(e))]=t},L1=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=uG(e,sG),a=QE(QE({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var m=hG(s),g=RK().type(m).size(pG(r,n,s)),x=g();if(x!==null)return x},{className:c,cx:u,cy:d}=a,h=Cs(a);return Wt(u)&&Wt(d)&&Wt(r)?A.createElement("path",x_({},h,{className:Xr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};L1.registerSymbol=mG;var qL=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,dj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(A.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{rj(i)&&(n[i]=(a=>r[i](r,a)))}),n},gG=(e,t,r)=>n=>(e(t,r,n),null),d0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];rj(i)&&typeof a=="function"&&(n||(n={}),n[i]=gG(a,t,r))}),n},vG=e=>Array.isArray(e)&&e.length>0;function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){yG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t,r){return(t=bG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=wG(e,"string");return typeof t=="symbol"?t:t+""}function wG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jn(e,t){var r=xG({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(null,arguments)}function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(n){_G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _G(e,t,r){return(t=NG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=jG(e,"string");return typeof t=="symbol"?t:t+""}function jG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bl=32,AG={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function EG(e){var{data:t,iconType:r,inactiveColor:n}=e,i=bl/2,a=bl/6,s=bl/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return A.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:bl,y2:i,className:"recharts-legend-icon"})}if(c==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(bl,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return A.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(bl/8,"h").concat(bl,"v").concat(bl*3/4,"h").concat(-bl,"z"),className:"recharts-legend-icon"});if(A.isValidElement(t.legendIcon)){var d=SG({},t);return delete d.legendIcon,A.cloneElement(t.legendIcon,d)}return A.createElement(L1,{fill:o,cx:i,cy:i,size:bl,sizeType:"diameter",type:c})}function PG(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:bl,height:bl},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,h)=>{var m=d.formatter||i,g=Xr({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var x=d.inactive?a:d.color,v=m?m(d.value,d,h):d.value;return A.createElement("li",cy({className:g,style:c,key:"legend-item-".concat(h)},d0(e,d,h)),A.createElement(nj,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(v," legend icon")},A.createElement(EG,{data:d,iconType:s,inactiveColor:a})),A.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},v))})}var TG=e=>{var t=Jn(e,AG),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:a},A.createElement(PG,cy({},t,{payload:r})))},ow={},lw={},rP;function kG(){return rP||(rP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(lw)),lw}var cw={},nP;function HL(){return nP||(nP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(cw)),cw}var uw={},dw={},fw={},iP;function CG(){return iP||(iP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(fw)),fw}var aP;function fj(){return aP||(aP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CG();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(dw)),dw}var hw={},sP;function DG(){return sP||(sP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(hw)),hw}var oP;function OG(){return oP||(oP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fj(),r=DG();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(uw)),uw}var pw={},mw={},lP;function IG(){return lP||(lP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uj();function r(n){return function(i){return t.get(i,n)}}e.property=r})(mw)),mw}var gw={},vw={},xw={},yw={},cP;function VL(){return cP||(cP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(yw)),yw}var bw={},uP;function KL(){return uP||(uP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(bw)),bw}var ww={},dP;function GL(){return dP||(dP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(ww)),ww}var fP;function RG(){return fP||(fP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VL(),r=KL(),n=GL();function i(d,h,m){return typeof m!="function"?i(d,h,()=>{}):a(d,h,function g(x,v,y,w,_,S){const E=m(x,v,y,w,_,S);return E!==void 0?!!E:a(x,v,g,S)},new Map)}function a(d,h,m,g){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,m,g);case"function":return Object.keys(h).length>0?a(d,{...h},m,g):n.eq(d,h);default:return t.isObject(d)?typeof h=="string"?h==="":!0:n.eq(d,h)}}function s(d,h,m,g){if(h==null)return!0;if(Array.isArray(h))return c(d,h,m,g);if(h instanceof Map)return o(d,h,m,g);if(h instanceof Set)return u(d,h,m,g);const x=Object.keys(h);if(d==null||r.isPrimitive(d))return x.length===0;if(x.length===0)return!0;if(g?.has(h))return g.get(h)===d;g?.set(h,d);try{for(let v=0;v<x.length;v++){const y=x[v];if(!r.isPrimitive(d)&&!(y in d)||h[y]===void 0&&d[y]!==void 0||h[y]===null&&d[y]!==null||!m(d[y],h[y],y,d,h,g))return!1}return!0}finally{g?.delete(h)}}function o(d,h,m,g){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[x,v]of h.entries()){const y=d.get(x);if(m(y,v,x,d,h,g)===!1)return!1}return!0}function c(d,h,m,g){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const x=new Set;for(let v=0;v<h.length;v++){const y=h[v];let w=!1;for(let _=0;_<d.length;_++){if(x.has(_))continue;const S=d[_];let E=!1;if(m(S,y,v,d,h,g)&&(E=!0),E){x.add(_),w=!0;break}}if(!w)return!1}return!0}function u(d,h,m,g){return h.size===0?!0:d instanceof Set?c([...d],[...h],m,g):!1}e.isMatchWith=i,e.isSetMatch=u})(xw)),xw}var hP;function YL(){return hP||(hP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RG();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(vw)),vw}var Sw={},_w={},Nw={},pP;function LG(){return pP||(pP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Nw)),Nw}var jw={},mP;function XL(){return mP||(mP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(jw)),jw}var Aw={},gP;function JL(){return gP||(gP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",m="[object ArrayBuffer]",g="[object Object]",x="[object Error]",v="[object DataView]",y="[object Uint8Array]",w="[object Uint8ClampedArray]",_="[object Uint16Array]",S="[object Uint32Array]",E="[object BigUint64Array]",T="[object Int8Array]",D="[object Int16Array]",C="[object Int32Array]",O="[object BigInt64Array]",R="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=E,e.booleanTag=i,e.dataViewTag=v,e.dateTag=o,e.errorTag=x,e.float32ArrayTag=R,e.float64ArrayTag=H,e.functionTag=h,e.int16ArrayTag=D,e.int32ArrayTag=C,e.int8ArrayTag=T,e.mapTag=c,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=_,e.uint32ArrayTag=S,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=w})(Aw)),Aw}var Ew={},vP;function MG(){return vP||(vP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Ew)),Ew}var xP;function ZL(){return xP||(xP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LG(),r=XL(),n=JL(),i=KL(),a=MG();function s(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,m,g=new Map,x=void 0){const v=x?.(d,h,m,g);if(v!==void 0)return v;if(i.isPrimitive(d))return d;if(g.has(d))return g.get(d);if(Array.isArray(d)){const y=new Array(d.length);g.set(d,y);for(let w=0;w<d.length;w++)y[w]=o(d[w],w,m,g,x);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;g.set(d,y);for(const[w,_]of d)y.set(w,o(_,w,m,g,x));return y}if(d instanceof Set){const y=new Set;g.set(d,y);for(const w of d)y.add(o(w,void 0,m,g,x));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);g.set(d,y);for(let w=0;w<d.length;w++)y[w]=o(d[w],w,m,g,x);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return g.set(d,y),c(y,d,m,g,x),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return g.set(d,y),c(y,d,m,g,x),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return g.set(d,y),c(y,d,m,g,x),y}if(d instanceof Error){const y=new d.constructor;return g.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,m,g,x),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return g.set(d,y),c(y,d,m,g,x),y}if(d instanceof Number){const y=new Number(d.valueOf());return g.set(d,y),c(y,d,m,g,x),y}if(d instanceof String){const y=new String(d.valueOf());return g.set(d,y),c(y,d,m,g,x),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return g.set(d,y),c(y,d,m,g,x),y}return d}function c(d,h,m=d,g,x){const v=[...Object.keys(h),...t.getSymbols(h)];for(let y=0;y<v.length;y++){const w=v[y],_=Object.getOwnPropertyDescriptor(d,w);(_==null||_.writable)&&(d[w]=o(h[w],w,m,g,x))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(_w)),_w}var yP;function FG(){return yP||(yP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZL();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Sw)),Sw}var bP;function BG(){return bP||(bP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YL(),r=FG();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(gw)),gw}var Pw={},Tw={},kw={},wP;function UG(){return wP||(wP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZL(),r=JL();function n(i,a){return t.cloneDeepWith(i,(s,o,c,u)=>{const d=a?.(s,o,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new i.constructor(i?.valueOf());return t.copyProperties(h,i),h}case r.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}e.cloneDeepWith=n})(kw)),kw}var SP;function $G(){return SP||(SP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UG();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Tw)),Tw}var Cw={},Dw={},_P;function QL(){return _P||(_P=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Dw)),Dw}var Ow={},NP;function zG(){return NP||(NP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XL();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Ow)),Ow}var jP;function WG(){return jP||(jP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UL(),r=QL(),n=zG(),i=cj();function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&s?.[o]==null?c=i.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}e.has=a})(Cw)),Cw}var AP;function qG(){return AP||(AP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YL(),r=lj(),n=$G(),i=uj(),a=WG();function s(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(Pw)),Pw}var EP;function HG(){return EP||(EP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HL(),r=IG(),n=BG(),i=qG();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(pw)),pw}var PP;function VG(){return PP||(PP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kG(),r=HL(),n=OG(),i=HG();function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(ow)),ow}var Iw,TP;function KG(){return TP||(TP=1,Iw=VG().uniqBy),Iw}var GG=KG();const kP=wc(GG);function e8(e,t,r){return t===!0?kP(e,r):typeof t=="function"?kP(e,t):e}var Rw={exports:{}},Lw={},Mw={exports:{}},Fw={};var CP;function YG(){if(CP)return Fw;CP=1;var e=u0();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function o(h,m){var g=m(),x=n({inst:{value:g,getSnapshot:m}}),v=x[0].inst,y=x[1];return a(function(){v.value=g,v.getSnapshot=m,c(v)&&y({inst:v})},[h,g,m]),i(function(){return c(v)&&y({inst:v}),h(function(){c(v)&&y({inst:v})})},[h]),s(g),g}function c(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!r(h,g)}catch{return!0}}function u(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return Fw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Fw}var DP;function XG(){return DP||(DP=1,Mw.exports=YG()),Mw.exports}var OP;function JG(){if(OP)return Lw;OP=1;var e=u0(),t=XG();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,o=e.useMemo,c=e.useDebugValue;return Lw.useSyncExternalStoreWithSelector=function(u,d,h,m,g){var x=a(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=o(function(){function w(D){if(!_){if(_=!0,S=D,D=m(D),g!==void 0&&v.hasValue){var C=v.value;if(g(C,D))return E=C}return E=D}if(C=E,n(S,D))return C;var O=m(D);return g!==void 0&&g(C,O)?(S=D,C):(S=D,E=O)}var _=!1,S,E,T=h===void 0?null:h;return[function(){return w(d())},T===null?void 0:function(){return w(T())}]},[d,h,m,g]);var y=i(u,x[0],x[1]);return s(function(){v.hasValue=!0,v.value=y},[y]),c(y),y},Lw}var IP;function ZG(){return IP||(IP=1,Rw.exports=JG()),Rw.exports}var QG=ZG(),hj=A.createContext(null),eY=e=>e,Mn=()=>{var e=A.useContext(hj);return e?e.store.dispatch:eY},$x=()=>{},tY=()=>$x,rY=(e,t)=>e===t;function Yt(e){var t=A.useContext(hj);return QG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:tY,t?t.store.getState:$x,t?t.store.getState:$x,t?e:$x,rY)}function nY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function iY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function aY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var RP=e=>Array.isArray(e)?e:[e];function sY(e){const t=Array.isArray(e[0])?e[0]:e;return aY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function oY(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var lY=class{constructor(e){this.value=e}deref(){return this.value}},cY=typeof WeakRef<"u"?WeakRef:lY,uY=0,LP=1;function Qv(){return{s:uY,v:void 0,o:null,p:null}}function t8(e,t={}){let r=Qv();const{resultEqualityCheck:n}=t;let i,a=0;function s(){let o=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const v=x.get(g);v===void 0?(o=Qv(),x.set(g,o)):o=v}else{let x=o.p;x===null&&(o.p=x=new Map);const v=x.get(g);v===void 0?(o=Qv(),x.set(g,o)):o=v}}const u=o;let d;if(o.s===LP)d=o.v;else if(d=e.apply(null,arguments),a++,n){const h=i?.deref?.()??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new cY(d):d}return u.s=LP,u.v=d,d}return s.clearCache=()=>{r=Qv(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function dY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),nY(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:g=t8,argsMemoizeOptions:x=[]}=d,v=RP(m),y=RP(x),w=sY(i),_=h(function(){return a++,u.apply(null,arguments)},...v),S=g(function(){s++;const T=oY(w,arguments);return o=_.apply(null,T),o},...y);return Object.assign(S,{resultFunc:u,memoizedResultFunc:_,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var et=dY(t8),fY=Object.assign((e,t=et)=>{iY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>fY}),Bw={},Uw={},$w={},MP;function hY(){return MP||(MP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})($w)),$w}var zw={},Ww={},FP;function r8(){return FP||(FP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ww)),Ww}var BP;function pY(){return BP||(BP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r8(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(zw)),zw}var UP;function mY(){return UP||(UP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hY(),r=pY(),n=cj();function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const u=(g,x)=>{let v=g;for(let y=0;y<x.length&&v!=null;++y)v=v[x[y]];return v},d=(g,x)=>x==null||g==null?x:typeof g=="object"&&"key"in g?Object.hasOwn(x,g.key)?x[g.key]:u(x,g.path):typeof g=="function"?g(x):Array.isArray(g)?u(x,g):typeof x=="object"?x[g]:x,h=s.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return a.map(g=>({original:g,criteria:h.map(x=>d(x,g))})).slice().sort((g,x)=>{for(let v=0;v<h.length;v++){const y=t.compareValues(g.criteria[v],x.criteria[v],o[v]);if(y!==0)return y}return 0}).map(g=>g.original)}e.orderBy=i})(Uw)),Uw}var qw={},$P;function gY(){return $P||($P=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}e.flatten=t})(qw)),qw}var Hw={},zP;function n8(){return zP||(zP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QL(),r=fj(),n=VL(),i=GL();function a(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.eq(c[o],s):!1}e.isIterateeCall=a})(Hw)),Hw}var WP;function vY(){return WP||(WP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mY(),r=gY(),n=n8();function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(Bw)),Bw}var Vw,qP;function xY(){return qP||(qP=1,Vw=vY().sortBy),Vw}var yY=xY();const M1=wc(yY);var i8=e=>e.legend.settings,bY=e=>e.legend.size,wY=e=>e.legend.payload,SY=et([wY,i8],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?M1(n,r):n});function _Y(){return Yt(SY)}var ex=1;function a8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=A.useState({height:0,left:0,top:0,width:0}),n=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>ex||Math.abs(s.left-t.left)>ex||Math.abs(s.top-t.top)>ex||Math.abs(s.width-t.width)>ex)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Xa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var NY=typeof Symbol=="function"&&Symbol.observable||"@@observable",HP=NY,Kw=()=>Math.random().toString(36).substring(7).split("").join("."),jY={INIT:`@@redux/INIT${Kw()}`,REPLACE:`@@redux/REPLACE${Kw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kw()}`},uy=jY;function pj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function s8(e,t,r){if(typeof e!="function")throw new Error(Xa(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Xa(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Xa(1));return r(s8)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((y,w)=>{s.set(w,y)}))}function d(){if(c)throw new Error(Xa(3));return i}function h(y){if(typeof y!="function")throw new Error(Xa(4));if(c)throw new Error(Xa(5));let w=!0;u();const _=o++;return s.set(_,y),function(){if(w){if(c)throw new Error(Xa(6));w=!1,u(),s.delete(_),a=null}}}function m(y){if(!pj(y))throw new Error(Xa(7));if(typeof y.type>"u")throw new Error(Xa(8));if(typeof y.type!="string")throw new Error(Xa(17));if(c)throw new Error(Xa(9));try{c=!0,i=n(i,y)}finally{c=!1}return(a=s).forEach(_=>{_()}),y}function g(y){if(typeof y!="function")throw new Error(Xa(10));n=y,m({type:uy.REPLACE})}function x(){const y=h;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Xa(11));function _(){const E=w;E.next&&E.next(d())}return _(),{unsubscribe:y(_)}},[HP](){return this}}}return m({type:uy.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:g,[HP]:x}}function AY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:uy.INIT})>"u")throw new Error(Xa(12));if(typeof r(void 0,{type:uy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xa(13))})}function o8(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{AY(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const h=n[d],m=r[h],g=s[h],x=m(g,o);if(typeof x>"u")throw o&&o.type,new Error(Xa(14));u[h]=x,c=c||x!==g}return c=c||n.length!==Object.keys(s).length,c?u:s}}function dy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function EY(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Xa(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},o=e.map(c=>c(s));return a=dy(...o)(i.dispatch),{...i,dispatch:a}}}function l8(e){return pj(e)&&"type"in e&&typeof e.type=="string"}var c8=Symbol.for("immer-nothing"),VP=Symbol.for("immer-draftable"),Xs=Symbol.for("immer-state");function fc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vo=Object,Qp=Vo.getPrototypeOf,fy="constructor",F1="prototype",y_="configurable",hy="enumerable",zx="writable",Gm="value",Vu=e=>!!e&&!!e[Xs];function yc(e){return e?u8(e)||U1(e)||!!e[VP]||!!e[fy]?.[VP]||$1(e)||z1(e):!1}var PY=Vo[F1][fy].toString(),KP=new WeakMap;function u8(e){if(!e||!mj(e))return!1;const t=Qp(e);if(t===null||t===Vo[F1])return!0;const r=Vo.hasOwnProperty.call(t,fy)&&t[fy];if(r===Object)return!0;if(!Ap(r))return!1;let n=KP.get(r);return n===void 0&&(n=Function.toString.call(r),KP.set(r,n)),n===PY}function B1(e,t,r=!0){Tg(e)===0?(r?Reflect.ownKeys(e):Vo.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Tg(e){const t=e[Xs];return t?t.type_:U1(e)?1:$1(e)?2:z1(e)?3:0}var GP=(e,t,r=Tg(e))=>r===2?e.has(t):Vo[F1].hasOwnProperty.call(e,t),b_=(e,t,r=Tg(e))=>r===2?e.get(t):e[t],py=(e,t,r,n=Tg(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function TY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var U1=Array.isArray,$1=e=>e instanceof Map,z1=e=>e instanceof Set,mj=e=>typeof e=="object",Ap=e=>typeof e=="function",Gw=e=>typeof e=="boolean";function kY(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Tu=e=>e.copy_||e.base_,gj=e=>e.modified_?e.copy_:e.base_;function w_(e,t){if($1(e))return new Map(e);if(z1(e))return new Set(e);if(U1(e))return Array[F1].slice.call(e);const r=u8(e);if(t===!0||t==="class_only"&&!r){const n=Vo.getOwnPropertyDescriptors(e);delete n[Xs];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[zx]===!1&&(o[zx]=!0,o[y_]=!0),(o.get||o.set)&&(n[s]={[y_]:!0,[zx]:!0,[hy]:o[hy],[Gm]:e[s]})}return Vo.create(Qp(e),n)}else{const n=Qp(e);if(n!==null&&r)return{...e};const i=Vo.create(n);return Vo.assign(i,e)}}function vj(e,t=!1){return W1(e)||Vu(e)||!yc(e)||(Tg(e)>1&&Vo.defineProperties(e,{set:tx,add:tx,clear:tx,delete:tx}),Vo.freeze(e),t&&B1(e,(r,n)=>{vj(n,!0)},!1)),e}function CY(){fc(2)}var tx={[Gm]:CY};function W1(e){return e===null||!mj(e)?!0:Vo.isFrozen(e)}var my="MapSet",S_="Patches",YP="ArrayMethods",d8={};function mh(e){const t=d8[e];return t||fc(0,e),t}var XP=e=>!!d8[e],Ym,f8=()=>Ym,DY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:XP(my)?mh(my):void 0,arrayMethodsPlugin_:XP(YP)?mh(YP):void 0});function JP(e,t){t&&(e.patchPlugin_=mh(S_),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function __(e){N_(e),e.drafts_.forEach(OY),e.drafts_=null}function N_(e){e===Ym&&(Ym=e.parent_)}var ZP=e=>Ym=DY(Ym,e);function OY(e){const t=e[Xs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function QP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Xs].modified_&&(__(t),fc(4)),yc(e)&&(e=eT(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Xs].base_,e,t)}else e=eT(t,r);return IY(t,e,!0),__(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==c8?e:void 0}function eT(e,t){if(W1(t))return t;const r=t[Xs];if(!r)return gy(t,e.handledSet_,e);if(!q1(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);m8(r,e)}return r.copy_}function IY(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vj(t,r)}function h8(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var q1=(e,t)=>e.scope_===t,RY=[];function p8(e,t,r,n){const i=Tu(e),a=e.type_;if(n!==void 0&&b_(i,n,a)===t){py(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;B1(i,(c,u)=>{if(Vu(u)){const d=o.get(u)||[];d.push(c),o.set(u,d)}})}const s=e.draftLocations_.get(t)??RY;for(const o of s)py(i,o,r,a)}function LY(e,t,r){e.callbacks_.push(function(i){const a=t;if(!a||!q1(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=gj(a);p8(e,a.draft_??a,s,r),m8(a,i)})}function m8(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}h8(e)}}function MY(e,t,r){const{scope_:n}=e;if(Vu(r)){const i=r[Xs];q1(i,n)&&i.callbacks_.push(function(){Wx(e);const s=gj(i);p8(e,r,s,t)})}else yc(r)&&e.callbacks_.push(function(){const a=Tu(e);e.type_===3?a.has(r)&&gy(r,n.handledSet_,n):b_(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&gy(b_(e.copy_,t,e.type_),n.handledSet_,n)})}function gy(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Vu(e)||t.has(e)||!yc(e)||W1(e)||(t.add(e),B1(e,(n,i)=>{if(Vu(i)){const a=i[Xs];if(q1(a,r)){const s=gj(a);py(e,n,s,e.type_),h8(a)}}else yc(i)&&gy(i,t,r)})),e}function FY(e,t){const r=U1(e),n={type_:r?1:0,scope_:t?t.scope_:f8(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=vy;r&&(i=[n],a=Xm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var vy={get(e,t){if(t===Xs)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Tu(e);if(!GP(i,t,e.type_))return BY(e,i,t);const a=i[t];if(e.finalized_||!yc(a)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&kY(t))return a;if(a===Yw(e.base_,t)){Wx(e);const s=e.type_===1?+t:t,o=A_(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Tu(e)},ownKeys(e){return Reflect.ownKeys(Tu(e))},set(e,t,r){const n=g8(Tu(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Yw(Tu(e),t),a=i?.[Xs];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(TY(r,i)&&(r!==void 0||GP(e.base_,t,e.type_)))return!0;Wx(e),j_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),MY(e,t,r)),!0},deleteProperty(e,t){return Wx(e),Yw(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),j_(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Tu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[zx]:!0,[y_]:e.type_!==1||t!=="length",[hy]:n[hy],[Gm]:r[t]}},defineProperty(){fc(11)},getPrototypeOf(e){return Qp(e.base_)},setPrototypeOf(){fc(12)}},Xm={};for(let e in vy){let t=vy[e];Xm[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Xm.deleteProperty=function(e,t){return Xm.set.call(this,e,t,void 0)};Xm.set=function(e,t,r){return vy.set.call(this,e[0],t,r,e[0])};function Yw(e,t){const r=e[Xs];return(r?Tu(r):e)[t]}function BY(e,t,r){const n=g8(t,r);return n?Gm in n?n[Gm]:n.get?.call(e.draft_):void 0}function g8(e,t){if(!(t in e))return;let r=Qp(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Qp(r)}}function j_(e){e.modified_||(e.modified_=!0,e.parent_&&j_(e.parent_))}function Wx(e){e.copy_||(e.assigned_=new Map,e.copy_=w_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var UY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Ap(r)&&!Ap(n)){const s=n;n=r;const o=this;return function(u=s,...d){return o.produce(u,h=>n.call(this,h,...d))}}Ap(n)||fc(6),i!==void 0&&!Ap(i)&&fc(7);let a;if(yc(r)){const s=ZP(this),o=A_(s,r,void 0);let c=!0;try{a=n(o),c=!1}finally{c?__(s):N_(s)}return JP(s,i),QP(a,s)}else if(!r||!mj(r)){if(a=n(r),a===void 0&&(a=r),a===c8&&(a=void 0),this.autoFreeze_&&vj(a,!0),i){const s=[],o=[];mh(S_).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else fc(1,r)},this.produceWithPatches=(r,n)=>{if(Ap(r))return(o,...c)=>this.produceWithPatches(o,u=>r(u,...c));let i,a;return[this.produce(r,n,(o,c)=>{i=o,a=c}),i,a]},Gw(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Gw(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Gw(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){yc(t)||fc(8),Vu(t)&&(t=vc(t));const r=ZP(this),n=A_(r,t,void 0);return n[Xs].isManual_=!0,N_(r),n}finishDraft(t,r){const n=t&&t[Xs];(!n||!n.isManual_)&&fc(9);const{scope_:i}=n;return JP(i,r),QP(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=mh(S_).applyPatches_;return Vu(t)?i(t,r):this.produce(t,a=>i(a,r))}};function A_(e,t,r,n){const[i,a]=$1(t)?mh(my).proxyMap_(t,r):z1(t)?mh(my).proxySet_(t,r):FY(t,r);return(r?.scope_??f8()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?LY(r,a,n):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:u}=c;a.modified_&&u&&u.generatePatches_(a,[],c)}),i}function vc(e){return Vu(e)||fc(10,e),v8(e)}function v8(e){if(!yc(e)||W1(e))return e;const t=e[Xs];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=w_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=w_(e,!0);return B1(r,(i,a)=>{py(r,i,v8(a))},n),t&&(t.finalized_=!1),r}var $Y=new UY,x8=$Y.produce;function y8(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var zY=y8(),WY=y8,qY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dy:dy.apply(null,arguments)};function Al(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Go(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>l8(n)&&n.type===e,r}var b8=class gm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gm.prototype)}static get[Symbol.species](){return gm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gm(...t[0].concat(this)):new gm(...t.concat(this))}};function tT(e){return yc(e)?x8(e,()=>{}):e}function rx(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function HY(e){return typeof e=="boolean"}var VY=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new b8;return r&&(HY(r)?s.push(zY):s.push(WY(r.extraArgument))),s},w8="RTK_autoBatch",si=()=>e=>({payload:e,meta:{[w8]:!0}}),rT=e=>t=>{setTimeout(t,e)},S8=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rT(10):e.type==="callback"?e.queueNotification:rT(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const h=()=>i&&d(),m=n.subscribe(h);return o.add(d),()=>{m(),o.delete(d)}},dispatch(d){try{return i=!d?.meta?.[w8],a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},KY=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new b8(e);return n&&i.push(S8(typeof n=="object"?n:void 0)),i};function GY(e){const t=VY(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(pj(r))o=o8(r);else throw new Error(Go(1));let c;typeof n=="function"?c=n(t):c=t();let u=dy;i&&(u=qY({trace:!1,...typeof i=="object"&&i}));const d=EY(...c),h=KY(d);let m=typeof s=="function"?s(h):h();const g=u(...m);return s8(o,a,g)}function _8(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Go(28));if(o in t)throw new Error(Go(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function YY(e){return typeof e=="function"}function XY(e,t){let[r,n,i]=_8(t),a;if(YY(e))a=()=>tT(e());else{const o=tT(e);a=()=>o}function s(o=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(Vu(d)){const g=h(d,c);return g===void 0?d:g}else{if(yc(d))return x8(d,m=>h(m,c));{const m=h(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},o)}return s.getInitialState=a,s}var JY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ZY=(e=21)=>{let t="",r=e;for(;r--;)t+=JY[Math.random()*64|0];return t},QY=Symbol.for("rtk-slice-createasyncthunk");function eX(e,t){return`${e}/${t}`}function tX({creators:e}={}){const t=e?.asyncThunk?.[QY];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(Go(11));const s=(typeof n.reducers=="function"?n.reducers(nX()):n.reducers)||{},o=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,E){const T=typeof S=="string"?S:S.type;if(!T)throw new Error(Go(12));if(T in c.sliceCaseReducersByType)throw new Error(Go(13));return c.sliceCaseReducersByType[T]=E,u},addMatcher(S,E){return c.sliceMatchers.push({matcher:S,reducer:E}),u},exposeAction(S,E){return c.actionCreators[S]=E,u},exposeCaseReducer(S,E){return c.sliceCaseReducersByName[S]=E,u}};o.forEach(S=>{const E=s[S],T={reducerName:S,type:eX(i,S),createNotation:typeof n.reducers=="function"};aX(E)?oX(T,E,u,t):iX(T,E,u)});function d(){const[S={},E=[],T=void 0]=typeof n.extraReducers=="function"?_8(n.extraReducers):[n.extraReducers],D={...S,...c.sliceCaseReducersByType};return XY(n.initialState,C=>{for(let O in D)C.addCase(O,D[O]);for(let O of c.sliceMatchers)C.addMatcher(O.matcher,O.reducer);for(let O of E)C.addMatcher(O.matcher,O.reducer);T&&C.addDefaultCase(T)})}const h=S=>S,m=new Map,g=new WeakMap;let x;function v(S,E){return x||(x=d()),x(S,E)}function y(){return x||(x=d()),x.getInitialState()}function w(S,E=!1){function T(C){let O=C[S];return typeof O>"u"&&E&&(O=rx(g,T,y)),O}function D(C=h){const O=rx(m,E,()=>new WeakMap);return rx(O,C,()=>{const R={};for(const[H,F]of Object.entries(n.selectors??{}))R[H]=rX(F,C,()=>rx(g,C,y),E);return R})}return{reducerPath:S,getSelectors:D,get selectors(){return D(T)},selectSlice:T}}const _={name:i,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,...w(a),injectInto(S,{reducerPath:E,...T}={}){const D=E??a;return S.inject({reducerPath:D,reducer:v},T),{..._,...w(D,!0)}}};return _}}function rX(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var bo=tX();function nX(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function iX({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!sX(n))throw new Error(Go(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Al(e,s):Al(e))}function aX(e){return e._reducerDefinitionType==="asyncThunk"}function sX(e){return e._reducerDefinitionType==="reducerWithPrepare"}function oX({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Go(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,h=i(e,a,d);n.exposeAction(t,h),s&&n.addCase(h.fulfilled,s),o&&n.addCase(h.pending,o),c&&n.addCase(h.rejected,c),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(t,{fulfilled:s||nx,pending:o||nx,rejected:c||nx,settled:u||nx})}function nx(){}var lX="task",N8="listener",j8="completed",xj="cancelled",cX=`task-${xj}`,uX=`task-${j8}`,E_=`${N8}-${xj}`,dX=`${N8}-${j8}`,H1=class{constructor(e){this.code=e,this.message=`${lX} ${xj} (reason: ${e})`}name="TaskAbortError";message},yj=(e,t)=>{if(typeof e!="function")throw new TypeError(Go(32))},xy=()=>{},A8=(e,t=xy)=>(e.catch(t),e),E8=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ah=e=>{if(e.aborted)throw new H1(e.reason)};function P8(e,t){let r=xy;return new Promise((n,i)=>{const a=()=>i(new H1(e.reason));if(e.aborted){a();return}r=E8(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=xy})}var fX=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof H1?"cancelled":"rejected",error:r}}finally{t?.()}},yy=e=>t=>A8(P8(e,t).then(r=>(ah(e),r))),T8=e=>{const t=yy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:zp}=Object,nT={},V1="listenerMiddleware",hX=(e,t)=>{const r=n=>E8(e,()=>n.abort(e.reason));return(n,i)=>{yj(n);const a=new AbortController;r(a);const s=fX(async()=>{ah(e),ah(a.signal);const o=await n({pause:yy(a.signal),delay:T8(a.signal),signal:a.signal});return ah(a.signal),o},()=>a.abort(uX));return i?.autoJoin&&t.push(s.catch(xy)),{result:yy(e)(s),cancel(){a.abort(cX)}}}},pX=(e,t)=>{const r=async(n,i)=>{ah(t);let a=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(h,m)=>{m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await P8(t,Promise.race(o));return ah(t),c}finally{a()}};return(n,i)=>A8(r(n,i))},k8=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Al(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Go(21));return yj(a),{predicate:i,type:t,effect:a}},C8=zp(e=>{const{type:t,predicate:r,effect:n}=k8(e);return{id:ZY(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Go(22))}}},{withTypes:()=>C8}),iT=(e,t)=>{const{type:r,effect:n,predicate:i}=k8(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},P_=e=>{e.pending.forEach(t=>{t.abort(E_)})},mX=(e,t)=>()=>{for(const r of t.keys())P_(r);e.clear()},aT=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},D8=zp(Al(`${V1}/add`),{withTypes:()=>D8}),gX=Al(`${V1}/removeAll`),O8=zp(Al(`${V1}/remove`),{withTypes:()=>O8}),vX=(...e)=>{console.error(`${V1}/error`,...e)},kg=(e={})=>{const t=new Map,r=new Map,n=g=>{const x=r.get(g)??0;r.set(g,x+1)},i=g=>{const x=r.get(g)??1;x===1?r.delete(g):r.set(g,x-1)},{extra:a,onError:s=vX}=e;yj(s);const o=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),x=>{g.unsubscribe(),x?.cancelActive&&P_(g)}),c=g=>{const x=iT(t,g)??C8(g);return o(x)};zp(c,{withTypes:()=>c});const u=g=>{const x=iT(t,g);return x&&(x.unsubscribe(),g.cancelActive&&P_(x)),!!x};zp(u,{withTypes:()=>u});const d=async(g,x,v,y)=>{const w=new AbortController,_=pX(c,w.signal),S=[];try{g.pending.add(w),n(g),await Promise.resolve(g.effect(x,zp({},v,{getOriginalState:y,condition:(E,T)=>_(E,T).then(Boolean),take:_,delay:T8(w.signal),pause:yy(w.signal),extra:a,signal:w.signal,fork:hX(w.signal,S),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((E,T,D)=>{E!==w&&(E.abort(E_),D.delete(E))})},cancel:()=>{w.abort(E_),g.pending.delete(w)},throwIfCancelled:()=>{ah(w.signal)}})))}catch(E){E instanceof H1||aT(s,E,{raisedBy:"effect"})}finally{await Promise.all(S),w.abort(dX),i(g),g.pending.delete(w)}},h=mX(t,r);return{middleware:g=>x=>v=>{if(!l8(v))return x(v);if(D8.match(v))return c(v.payload);if(gX.match(v)){h();return}if(O8.match(v))return u(v.payload);let y=g.getState();const w=()=>{if(y===nT)throw new Error(Go(23));return y};let _;try{if(_=x(v),t.size>0){const S=g.getState(),E=Array.from(t.values());for(const T of E){let D=!1;try{D=T.predicate(v,S,y)}catch(C){D=!1,aT(s,C,{raisedBy:"predicate"})}D&&d(T,v,g,w)}}}finally{y=nT}return _},startListening:c,stopListening:u,clearListeners:h}};function Go(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var xX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},I8=bo({name:"chartLayout",initialState:xX,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:yX,setLayout:bX,setChartSize:wX,setScale:SX}=I8.actions,_X=I8.reducer;function R8(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Ln(e){return Number.isFinite(e)}function eu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){NX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t,r){return(t=jX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(e,t,r){return pn(e)||pn(t)?r:Qc(t)?ph(e,t,r):typeof t=="function"?t(e):r}var EX=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Wt(e[a]))return Cp(Cp({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Wt(e[s]))return Cp(Cp({},e),{},{[s]:e[s]+(i||0)})}return e},nu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",L8=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},M8=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:m,axisType:g}=e;if(!s)return null;var x=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(v=g==="angleAxis"&&a&&a.length>=2?La(a[0]-a[1])*2*v:v,h||m){var y=(h||m||[]).map((w,_)=>{var S=n?n.indexOf(w):w;return{coordinate:s(S)+v,value:w,offset:v,index:_}});return y.filter(w=>!jl(w.coordinate))}return c&&u?u.map((w,_)=>({coordinate:s(w)+v,value:w,index:_,offset:v})):s.ticks&&d!=null?s.ticks(d).map((w,_)=>({coordinate:s(w)+v,value:w,offset:v,index:_})):s.domain().map((w,_)=>({coordinate:s(w)+v,value:n?n[w]:w,index:_,offset:v}))},oT=1e-4,PX=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-oT,a=Math.max(n[0],n[1])+oT,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},TX=(e,t)=>{if(!t||t.length!==2||!Wt(t[0])||!Wt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Wt(e[0])||e[0]<r)&&(i[0]=r),(!Wt(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},kX=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var c=e[o],u=c?.[i];if(u!=null){var d=u[1],h=u[0],m=jl(d)?h:d;m>=0?(u[0]=a,u[1]=a+m,a=d):(u[0]=s,u[1]=s+m,s=d)}}}},CX=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=e[s],c=o?.[i];if(c!=null){var u=jl(c[1])?c[0]:c[1];u>=0?(c[0]=a,c[1]=a+u,a=c[1]):(c[0]=0,c[1]=0)}}}},DX={sign:kX,expand:YK,none:hh,silhouette:XK,wiggle:JK,positive:CX},OX=(e,t,r)=>{var n,i=(n=DX[r])!==null&&n!==void 0?n:hh,a=GK().keys(t).value((o,c)=>Number(Yr(o,c,0))).order(v_).offset(i),s=a(e);return s.forEach((o,c)=>{o.forEach((u,d)=>{var h=Yr(e[d],t[c],0);Array.isArray(h)&&h.length===2&&Wt(h[0])&&Wt(h[1])&&(u[0]=h[0],u[1]=h[1])})}),s};function F8(e){return e==null?void 0:String(e)}function e0(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pn(i[t.dataKey])){var o=zL(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Yr(i,pn(s)?t.dataKey:s);return pn(c)?null:t.scale(c)}var lT=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Yr(a,t.dataKey,t.scale.domain()[s]);return pn(o)?null:t.scale(o)-i/2+n},IX=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},RX=e=>{var t=e.flat(2).filter(Wt);return[Math.min(...t),Math.max(...t)]},LX=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],MX=(e,t,r)=>{if(e!=null)return LX(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((c,u)=>{var d=R8(u,t,r),h=RX(d);return!Ln(h[0])||!Ln(h[1])?c:[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},cT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=M1(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],u=i[s-1];a=Math.min((c?.coordinate||0)-(u?.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function dT(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Cp(Cp({},t),{},{dataKey:r,payload:n,value:i,name:a})}function iu(e,t){if(e)return String(e);if(typeof t=="string")return t}var FX=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},BX=(e,t)=>t==="centric"?e.angle:e.radius,id=e=>e.layout.width,ad=e=>e.layout.height,UX=e=>e.layout.scale,B8=e=>e.layout.margin,K1=et(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),G1=et(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),bj="data-recharts-item-index",wj="data-recharts-item-id",Cg=60;function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){$X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $X(e,t,r){return(t=zX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qX=e=>e.brush.height;function HX(e){var t=G1(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Cg;return r+i}return r},0)}function VX(e){var t=G1(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Cg;return r+i}return r},0)}function KX(e){var t=K1(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function GX(e){var t=K1(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var pa=et([id,ad,B8,qX,HX,VX,KX,GX,i8,bY],(e,t,r,n,i,a,s,o,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},h={top:(r.top||0)+s,bottom:(r.bottom||0)+o},m=ix(ix({},h),d),g=m.bottom;m.bottom+=n,m=EX(m,c,u);var x=e-m.left-m.right,v=t-m.top-m.bottom;return ix(ix({brushBottom:g},m),{},{width:Math.max(x,0),height:Math.max(v,0)})}),YX=et(pa,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Sj=et(id,ad,(e,t)=>({x:0,y:0,width:e,height:t})),XX=A.createContext(null),na=()=>A.useContext(XX)!=null,Y1=e=>e.brush,X1=et([Y1,pa,B8],(e,t,r)=>({height:e.height,x:Wt(e.x)?e.x:t.left,y:Wt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Wt(e.width)?e.width:t.width})),Xw={},Jw={},Zw={},hT;function JX(){return hT||(hT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},h=()=>{u&&d(),v()};let m=null;const g=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,h()},n)},x=()=>{m!==null&&(clearTimeout(m),m=null)},v=()=>{x(),s=void 0,o=null},y=()=>{d()},w=function(..._){if(i?.aborted)return;s=this,o=_;const S=m==null;g(),c&&S&&d()};return w.schedule=g,w.cancel=v,w.flush=y,i?.addEventListener("abort",v,{once:!0}),w}e.debounce=t})(Zw)),Zw}var pT;function ZX(){return pT||(pT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JX();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const m=t.debounce(function(...v){d=n.apply(this,v),h=null},i,{edges:u}),g=function(...v){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=n.apply(this,v),h=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,v),d)},x=()=>(m.flush(),d);return g.cancel=m.cancel,g.flush=x,g}e.debounce=r})(Jw)),Jw}var mT;function QX(){return mT||(mT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZX();function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(Xw)),Xw}var Qw,gT;function eJ(){return gT||(gT=1,Qw=QX().throttle),Qw}var tJ=eJ();const rJ=wc(tJ);var by=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},U8=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=Hu(n)?e:Number(n),c=Hu(i)?t:Number(i);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},nJ={width:0,height:0,overflow:"visible"},iJ={width:0,overflowX:"visible"},aJ={height:0,overflowY:"visible"},sJ={},oJ=e=>{var{width:t,height:r}=e,n=Hu(t),i=Hu(r);return n&&i?nJ:n?iJ:i?aJ:sJ};function lJ(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(null,arguments)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){cJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cJ(e,t,r){return(t=uJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $8=A.createContext({width:-1,height:-1});function fJ(e){return eu(e.width)&&eu(e.height)}function z8(e){var{children:t,width:r,height:n}=e,i=A.useMemo(()=>({width:r,height:n}),[r,n]);return fJ(i)?A.createElement($8.Provider,{value:i},t):null}var _j=()=>A.useContext($8),hJ=A.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:h,className:m,onResize:g,style:x={}}=e,v=A.useRef(null),y=A.useRef();y.current=g,A.useImperativeHandle(t,()=>v.current);var[w,_]=A.useState({containerWidth:n.width,containerHeight:n.height}),S=A.useCallback((O,R)=>{_(H=>{var F=Math.round(O),U=Math.round(R);return H.containerWidth===F&&H.containerHeight===U?H:{containerWidth:F,containerHeight:U}})},[]);A.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Pg;var O=U=>{var M,{width:q,height:ee}=U[0].contentRect;S(q,ee),(M=y.current)===null||M===void 0||M.call(y,q,ee)};d>0&&(O=rJ(O,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(O),{width:H,height:F}=v.current.getBoundingClientRect();return S(H,F),R.observe(v.current),()=>{R.disconnect()}},[S,d]);var{containerWidth:E,containerHeight:T}=w;by(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:C}=U8(E,T,{width:i,height:a,aspect:r,maxHeight:c});return by(D!=null&&D>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,C,i,a,s,o,r),A.createElement("div",{id:h?"".concat(h):void 0,className:Xr("recharts-responsive-container",m),style:xT(xT({},x),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:v},A.createElement("div",{style:oJ({width:i,height:a})},A.createElement(z8,{width:D,height:C},u)))}),wy=A.forwardRef((e,t)=>{var r=_j();if(eu(r.width)&&eu(r.height))return e.children;var{width:n,height:i}=lJ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=U8(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Wt(a)&&Wt(s)?A.createElement(z8,{width:a,height:s},e.children):A.createElement(hJ,T_({},e,{width:n,height:i,ref:t}))});function W8(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Dg=()=>{var e,t=na(),r=Yt(YX),n=Yt(X1),i=(e=Yt(Y1))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},pJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},q8=()=>{var e;return(e=Yt(pa))!==null&&e!==void 0?e:pJ},Nj=()=>Yt(id),jj=()=>Yt(ad),mJ=()=>Yt(e=>e.layout.margin),qr=e=>e.layout.layoutType,hf=()=>Yt(qr),gJ=()=>{var e=hf();if(e==="horizontal"||e==="vertical")return e},vJ=()=>{var e=hf();return e!==void 0},J1=e=>{var t=Mn(),r=na(),{width:n,height:i}=e,a=_j(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),A.useEffect(()=>{!r&&eu(s)&&eu(o)&&t(wX({width:s,height:o}))},[t,r,s,o]),null},H8=Symbol.for("immer-nothing"),yT=Symbol.for("immer-draftable"),Xo=Symbol.for("immer-state");function hc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jm=Object.getPrototypeOf;function t0(e){return!!e&&!!e[Xo]}function gh(e){return e?V8(e)||Array.isArray(e)||!!e[yT]||!!e.constructor?.[yT]||Og(e)||Q1(e):!1}var xJ=Object.prototype.constructor.toString(),bT=new WeakMap;function V8(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=bT.get(r);return n===void 0&&(n=Function.toString.call(r),bT.set(r,n)),n===xJ}function Sy(e,t,r=!0){Z1(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Z1(e){const t=e[Xo];return t?t.type_:Array.isArray(e)?1:Og(e)?2:Q1(e)?3:0}function k_(e,t){return Z1(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function K8(e,t,r){const n=Z1(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function yJ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Og(e){return e instanceof Map}function Q1(e){return e instanceof Set}function Wf(e){return e.copy_||e.base_}function C_(e,t){if(Og(e))return new Map(e);if(Q1(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=V8(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Xo];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Jm(e),n)}else{const n=Jm(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Aj(e,t=!1){return eb(e)||t0(e)||!gh(e)||(Z1(e)>1&&Object.defineProperties(e,{set:ax,add:ax,clear:ax,delete:ax}),Object.freeze(e),t&&Object.values(e).forEach(r=>Aj(r,!0))),e}function bJ(){hc(2)}var ax={value:bJ};function eb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var wJ={};function vh(e){const t=wJ[e];return t||hc(0,e),t}var Zm;function G8(){return Zm}function SJ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wT(e,t){t&&(vh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function D_(e){O_(e),e.drafts_.forEach(_J),e.drafts_=null}function O_(e){e===Zm&&(Zm=e.parent_)}function ST(e){return Zm=SJ(Zm,e)}function _J(e){const t=e[Xo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _T(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Xo].modified_&&(D_(t),hc(4)),gh(e)&&(e=_y(t,e),t.parent_||Ny(t,e)),t.patches_&&vh("Patches").generateReplacementPatches_(r[Xo].base_,e,t.patches_,t.inversePatches_)):e=_y(t,r,[]),D_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==H8?e:void 0}function _y(e,t,r){if(eb(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Xo];if(!i)return Sy(t,(a,s)=>NT(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Ny(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Sy(s,(c,u)=>NT(e,i,a,c,u,r,o),n),Ny(e,a,!1),r&&e.patches_&&vh("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function NT(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=eb(i);if(!(o&&!s)){if(t0(i)){const c=a&&t&&t.type_!==3&&!k_(t.assigned_,n)?a.concat(n):void 0,u=_y(e,i,c);if(K8(r,n,u),t0(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(gh(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;_y(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Og(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ny(e,i)}}}function Ny(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Aj(t,r)}function NJ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:G8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Ej;r&&(i=[n],a=Qm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var Ej={get(e,t){if(t===Xo)return e;const r=Wf(e);if(!k_(r,t))return jJ(e,r,t);const n=r[t];return e.finalized_||!gh(n)?n:n===e5(e.base_,t)?(t5(e),e.copy_[t]=R_(n,e)):n},has(e,t){return t in Wf(e)},ownKeys(e){return Reflect.ownKeys(Wf(e))},set(e,t,r){const n=Y8(Wf(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=e5(Wf(e),t),a=i?.[Xo];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(yJ(r,i)&&(r!==void 0||k_(e.base_,t)))return!0;t5(e),I_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return e5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,t5(e),I_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Wf(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){hc(11)},getPrototypeOf(e){return Jm(e.base_)},setPrototypeOf(){hc(12)}},Qm={};Sy(Ej,(e,t)=>{Qm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Qm.deleteProperty=function(e,t){return Qm.set.call(this,e,t,void 0)};Qm.set=function(e,t,r){return Ej.set.call(this,e[0],t,r,e[0])};function e5(e,t){const r=e[Xo];return(r?Wf(r):e)[t]}function jJ(e,t,r){const n=Y8(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function Y8(e,t){if(!(t in e))return;let r=Jm(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Jm(r)}}function I_(e){e.modified_||(e.modified_=!0,e.parent_&&I_(e.parent_))}function t5(e){e.copy_||(e.copy_=C_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var AJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&hc(6),n!==void 0&&typeof n!="function"&&hc(7);let i;if(gh(t)){const a=ST(this),s=R_(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?D_(a):O_(a)}return wT(a,n),_T(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===H8&&(i=void 0),this.autoFreeze_&&Aj(i,!0),n){const a=[],s=[];vh("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else hc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){gh(e)||hc(8),t0(e)&&(e=EJ(e));const t=ST(this),r=R_(e,void 0);return r[Xo].isManual_=!0,O_(t),r}finishDraft(e,t){const r=e&&e[Xo];(!r||!r.isManual_)&&hc(9);const{scope_:n}=r;return wT(n,t),_T(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=vh("Patches").applyPatches_;return t0(e)?n(e,t):this.produce(e,i=>n(i,t))}};function R_(e,t){const r=Og(e)?vh("MapSet").proxyMap_(e,t):Q1(e)?vh("MapSet").proxySet_(e,t):NJ(e,t);return(t?t.scope_:G8()).drafts_.push(r),r}function EJ(e){return t0(e)||hc(10,e),X8(e)}function X8(e){if(!gh(e)||eb(e))return e;const t=e[Xo];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=C_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=C_(e,!0);return Sy(r,(i,a)=>{K8(r,i,X8(a))},n),t&&(t.finalized_=!1),r}var PJ=new AJ;PJ.produce;var TJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},J8=bo({name:"legend",initialState:TJ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:si()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=vc(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:si()},removeLegendPayload:{reducer(e,t){var r=vc(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:si()}}}),{setLegendSize:jT,setLegendSettings:kJ,addLegendPayload:Z8,replaceLegendPayload:Q8,removeLegendPayload:eM}=J8.actions,CJ=J8.reducer,DJ=["contextPayload"];function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(null,arguments)}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){OJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OJ(e,t,r){return(t=IJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IJ(e){var t=RJ(e,"string");return typeof t=="symbol"?t:t+""}function RJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LJ(e,t){if(e==null)return{};var r,n,i=MJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FJ(e){return e.value}function BJ(e){var{contextPayload:t}=e,r=LJ(e,DJ),n=e8(t,e.payloadUniqBy,FJ),i=r0(r0({},r),{},{payload:n});return A.isValidElement(e.content)?A.cloneElement(e.content,i):typeof e.content=="function"?A.createElement(e.content,i):A.createElement(TG,i)}function UJ(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),r0(r0({},u),d)}function $J(e){var t=Mn();return A.useEffect(()=>{t(kJ(e))},[t,e]),null}function zJ(e){var t=Mn();return A.useEffect(()=>(t(jT(e)),()=>{t(jT({width:0,height:0}))}),[t,e]),null}function WJ(e,t,r,n){return e==="vertical"&&Wt(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var qJ={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Qf(e){var t=Jn(e,qJ),r=_Y(),n=xK(),i=mJ(),{width:a,height:s,wrapperStyle:o,portal:c}=t,[u,d]=a8([r]),h=Nj(),m=jj();if(h==null||m==null)return null;var g=h-(i?.left||0)-(i?.right||0),x=WJ(t.layout,s,a,g),v=c?o:r0(r0({position:"absolute",width:x?.width||a||"auto",height:x?.height||s||"auto"},UJ(o,t,i,h,m,u)),o),y=c??n;if(y==null||r==null)return null;var w=A.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},A.createElement($J,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&A.createElement(zJ,{width:u.width,height:u.height}),A.createElement(BJ,L_({},t,x,{margin:i,chartWidth:h,chartHeight:m,contextPayload:r})));return ij.createPortal(w,y)}Qf.displayName="Legend";function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(null,arguments)}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){HJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HJ(e,t,r){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GJ(e){return Array.isArray(e)&&Qc(e[0])&&Qc(e[1])?e.join(" ~ "):e}var YJ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:m=!1}=e,g=()=>{if(a&&a.length){var T={padding:0,margin:0},D=(o?M1(a,o):a).map((C,O)=>{if(C.type==="none")return null;var R=C.formatter||s||GJ,{value:H,name:F}=C,U=H,M=F;if(R){var q=R(H,F,C,O,a);if(Array.isArray(q))[U,M]=q;else if(q!=null)U=q;else return null}var ee=r5({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:ee},Qc(M)?A.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Qc(M)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},U),A.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:T},D)}return null},x=r5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=r5({margin:0},i),y=!pn(d),w=y?d:"",_=Xr("recharts-default-tooltip",c),S=Xr("recharts-tooltip-label",u);y&&h&&a!==void 0&&a!==null&&(w=h(d,a));var E=m?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",M_({className:_,style:x},E),A.createElement("p",{className:S,style:v},A.isValidElement(w)?w:"".concat(w)),g())},rm="recharts-tooltip-wrapper",XJ={visibility:"hidden"};function JJ(e){var{coordinate:t,translateX:r,translateY:n}=e;return Xr(rm,{["".concat(rm,"-right")]:Wt(r)&&t&&Wt(t.x)&&r>=t.x,["".concat(rm,"-left")]:Wt(r)&&t&&Wt(t.x)&&r<t.x,["".concat(rm,"-bottom")]:Wt(n)&&t&&Wt(t.y)&&n>=t.y,["".concat(rm,"-top")]:Wt(n)&&t&&Wt(t.y)&&n<t.y})}function PT(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(a&&Wt(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),h=r[n]+i;if(t[n])return s[n]?d:h;var m=c[n];if(m==null)return 0;if(s[n]){var g=d,x=m;return g<x?Math.max(h,m):Math.max(d,m)}if(u==null)return 0;var v=h+o,y=m+u;return v>y?Math.max(d,m):Math.max(h,m)}function ZJ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function QJ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,u,d,h;return s.height>0&&s.width>0&&r?(d=PT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),h=PT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=ZJ({translateX:d,translateY:h,useTranslate3d:o})):u=XJ,{cssProperties:u,cssClasses:JJ({translateX:d,translateY:h,coordinate:r})}}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){F_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F_(e,t,r){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return typeof t=="symbol"?t:t+""}function tZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rZ extends A.PureComponent{constructor(){super(...arguments),F_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),F_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:m,viewBox:g,wrapperStyle:x,lastBoundingBox:v,innerRef:y,hasPortalFromProps:w}=this.props,{cssClasses:_,cssProperties:S}=QJ({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:v.height,width:v.width},useTranslate3d:m,viewBox:g}),E=w?{}:sx(sx({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=sx(sx({},E),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:T,ref:y},a)}}var tM=()=>{var e;return(e=Yt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B_.apply(null,arguments)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){nZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nZ(e,t,r){return(t=iZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iZ(e){var t=aZ(e,"string");return typeof t=="symbol"?t:t+""}function aZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DT={curveBasisClosed:MK,curveBasisOpen:FK,curveBasis:LK,curveBumpX:SK,curveBumpY:_K,curveLinearClosed:BK,curveLinear:I1,curveMonotoneX:UK,curveMonotoneY:$K,curveNatural:zK,curveStep:WK,curveStepAfter:HK,curveStepBefore:qK},jy=e=>Ln(e.x)&&Ln(e.y),OT=e=>e.base!=null&&jy(e.base)&&jy(e),nm=e=>e.x,im=e=>e.y,sZ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Eg(e));return(r==="curveMonotone"||r==="curveBump")&&t?DT["".concat(r).concat(t==="vertical"?"Y":"X")]:DT[r]||I1},oZ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=sZ(t,i),o=a?r.filter(jy):r,c;if(Array.isArray(n)){var u=r.map((g,x)=>CT(CT({},g),{},{base:n[x]}));i==="vertical"?c=Zv().y(im).x1(nm).x0(g=>g.base.x):c=Zv().x(nm).y1(im).y0(g=>g.base.y);var d=c.defined(OT).curve(s),h=a?u.filter(OT):u;return d(h)}i==="vertical"&&Wt(n)?c=Zv().y(im).x1(nm).x0(n):Wt(n)?c=Zv().x(nm).y1(im).y0(n):c=TL().x(nm).y(im);var m=c.defined(jy).curve(s);return m(o)},sh=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=hf();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=r&&r.length?oZ(s):n;return A.createElement("path",B_({},ns(e),dj(e),{className:Xr("recharts-curve",t),d:o===null?void 0:o,ref:i}))},lZ=["x","y","top","left","width","height","className"];function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U_.apply(null,arguments)}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){uZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uZ(e,t,r){return(t=dZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dZ(e){var t=fZ(e,"string");return typeof t=="symbol"?t:t+""}function fZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hZ(e,t){if(e==null)return{};var r,n,i=pZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mZ=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),gZ=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,c=hZ(e,lZ),u=cZ({x:t,y:r,top:n,left:i,width:a,height:s},c);return!Wt(t)||!Wt(r)||!Wt(a)||!Wt(s)||!Wt(n)||!Wt(i)?null:A.createElement("path",U_({},Cs(u),{className:Xr("recharts-cross",o),d:mZ(t,r,a,s,n,i)}))};function vZ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){xZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xZ(e,t,r){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yZ(e){var t=bZ(e,"string");return typeof t=="symbol"?t:t+""}function bZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wZ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rM=(e,t,r)=>e.map(n=>"".concat(wZ(n)," ").concat(t,"ms ").concat(r)).join(","),SZ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),eg=(e,t)=>Object.keys(t).reduce((r,n)=>LT(LT({},r),{},{[n]:e(n,t[n])}),{});function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){_Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Z(e,t,r){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ay=(e,t,r)=>e+(t-e)*r,$_=e=>{var{from:t,to:r}=e;return t!==r},nM=(e,t,r)=>{var n=eg((i,a)=>{if($_(a)){var[s,o]=e(a.from,a.to,a.velocity);return ha(ha({},a),{},{from:s,velocity:o})}return a},t);return r<1?eg((i,a)=>$_(a)&&n[i]!=null?ha(ha({},a),{},{velocity:Ay(a.velocity,n[i].velocity,r),from:Ay(a.from,n[i].from,r)}):a,t):nM(e,n,r-1)};function AZ(e,t,r,n,i,a){var s,o=n.reduce((m,g)=>ha(ha({},m),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),c=()=>eg((m,g)=>g.from,o),u=()=>!Object.values(o).filter($_).length,d=null,h=m=>{s||(s=m);var g=m-s,x=g/r.dt;o=nM(r,o,x),i(ha(ha(ha({},e),t),c())),s=m,u()||(d=a.setTimeout(h))};return()=>(d=a.setTimeout(h),()=>{var m;(m=d)===null||m===void 0||m()})}function EZ(e,t,r,n,i,a,s){var o=null,c=i.reduce((h,m)=>{var g=e[m],x=t[m];return g==null||x==null?h:ha(ha({},h),{},{[m]:[g,x]})},{}),u,d=h=>{u||(u=h);var m=(h-u)/n,g=eg((v,y)=>Ay(...y,r(m)),c);if(a(ha(ha(ha({},e),t),g)),m<1)o=s.setTimeout(d);else{var x=eg((v,y)=>Ay(...y,r(1)),c);a(ha(ha(ha({},e),t),x))}};return()=>(o=s.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const PZ=(e,t,r,n,i,a)=>{var s=SZ(e,t);return r==null?()=>(i(ha(ha({},e),t)),()=>{}):r.isStepper===!0?AZ(e,t,r,s,i,a):EZ(e,t,r,n,s,i,a)};var Ey=1e-4,iM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],aM=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),FT=(e,t)=>r=>{var n=iM(e,t);return aM(n,r)},TZ=(e,t)=>r=>{var n=iM(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return aM(i,r)},kZ=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},CZ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=kZ(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},DZ=(e,t,r,n)=>{var i=FT(e,r),a=FT(t,n),s=TZ(e,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,h=d,m=0;m<8;++m){var g=i(h)-d,x=s(h);if(Math.abs(g-d)<Ey||x<Ey)return a(h);h=o(h-g/x)}return a(h)};return c.isStepper=!1,c},BT=function(){return DZ(...CZ(...arguments))},OZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,c)=>{var u=-(s-o)*r,d=c*n,h=c+(u-d)*i/1e3,m=c*i/1e3+s;return Math.abs(m-o)<Ey&&Math.abs(h)<Ey?[o,0]:[m,h]};return a.isStepper=!0,a.dt=i,a},IZ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BT(e);case"spring":return OZ();default:if(e.split("(")[0]==="cubic-bezier")return BT(e)}return typeof e=="function"?e:null};function RZ(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class LZ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function MZ(){return RZ(new LZ)}var FZ=A.createContext(MZ);function BZ(e,t){var r=A.useContext(FZ);return A.useMemo(()=>t??r(e),[e,t,r])}var UZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ig={isSsr:UZ()},$Z={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},UT={t:0},n5={t:1};function Eh(e){var t=Jn(e,$Z),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=r==="auto"?!Ig.isSsr:r,h=BZ(t.animationId,t.animationManager),[m,g]=A.useState(d?UT:n5),x=A.useRef(null);return A.useEffect(()=>{d||g(n5)},[d]),A.useEffect(()=>{if(!d||!n)return Pg;var v=PZ(UT,n5,IZ(a),i,g,h.getTimeoutController()),y=()=>{x.current=v()};return h.start([c,s,y,i,o]),()=>{h.stop(),x.current&&x.current(),o()}},[d,n,i,a,s,c,o,h]),u(m.t)}function Ph(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=A.useRef(Km(t)),n=A.useRef(e);return n.current!==e&&(r.current=Km(t),n.current=e),r.current}var zZ=["radius"],WZ=["radius"],$T,zT,WT,qT,HT,VT,KT,GT,YT,XT;function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=VZ(e,"string");return typeof t=="symbol"?t:t+""}function VZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(null,arguments)}function QT(e,t){if(e==null)return{};var r,n,i=KZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ek=(e,t,r,n,i)=>{var a=Xd(r),s=Xd(n),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,h;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,x=4;g<x;g++)m[g]=i[g]>o?o:i[g];h=Ci($T||($T=zc(["M",",",""])),e,t+c*m[0]),m[0]>0&&(h+=Ci(zT||(zT=zc(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+u*m[0],t)),h+=Ci(WT||(WT=zc(["L ",",",""])),e+r-u*m[1],t),m[1]>0&&(h+=Ci(qT||(qT=zc(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+r,t+c*m[1])),h+=Ci(HT||(HT=zc(["L ",",",""])),e+r,t+n-c*m[2]),m[2]>0&&(h+=Ci(VT||(VT=zc(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+r-u*m[2],t+n)),h+=Ci(KT||(KT=zc(["L ",",",""])),e+u*m[3],t+n),m[3]>0&&(h+=Ci(GT||(GT=zc(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+n-c*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);h=Ci(YT||(YT=zc(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*v,v,v,d,e+u*v,t,e+r-u*v,t,v,v,d,e+r,t+c*v,e+r,t+n-c*v,v,v,d,e+r-u*v,t+n,e+u*v,t+n,v,v,d,e,t+n-c*v)}else h=Ci(XT||(XT=zc(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return h},tk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sM=e=>{var t=Jn(e,tk),r=A.useRef(null),[n,i]=A.useState(-1);A.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var he=r.current.getTotalLength();he&&i(he)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:m,animationBegin:g,isAnimationActive:x,isUpdateAnimationActive:v}=t,y=A.useRef(o),w=A.useRef(c),_=A.useRef(a),S=A.useRef(s),E=A.useMemo(()=>({x:a,y:s,width:o,height:c,radius:u}),[a,s,o,c,u]),T=Ph(E,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var D=Xr("recharts-rectangle",d);if(!v){var C=Cs(t),{radius:O}=C,R=QT(C,zZ);return A.createElement("path",Py({},R,{x:Xd(a),y:Xd(s),width:Xd(o),height:Xd(c),radius:typeof u=="number"?u:void 0,className:D,d:ek(a,s,o,c,u)}))}var H=y.current,F=w.current,U=_.current,M=S.current,q="0px ".concat(n===-1?1:n,"px"),ee="".concat(n,"px 0px"),ve=rM(["strokeDasharray"],m,typeof h=="string"?h:tk.animationEasing);return A.createElement(Eh,{animationId:T,key:T,canBegin:n>0,duration:m,easing:h,isActive:v,begin:g},he=>{var ce=Gr(H,o,he),be=Gr(F,c,he),Oe=Gr(U,a,he),ae=Gr(M,s,he);r.current&&(y.current=ce,w.current=be,_.current=Oe,S.current=ae);var L;x?he>0?L={transition:ve,strokeDasharray:ee}:L={strokeDasharray:q}:L={strokeDasharray:ee};var Y=Cs(t),{radius:K}=Y,J=QT(Y,WZ);return A.createElement("path",Py({},J,{radius:typeof u=="number"?u:void 0,className:D,d:ek(Oe,ae,ce,be,u),ref:r,style:ZT(ZT({},L),t.style)}))})};function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){GZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GZ(e,t,r){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ty=Math.PI/180,JZ=e=>e*180/Math.PI,ea=(e,t,r,n)=>({x:e+Math.cos(-Ty*n)*r,y:t+Math.sin(-Ty*n)*r}),oM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ZZ=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},QZ=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=ZZ({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,c=Math.acos(o);return n>a&&(c=2*Math.PI-c),{radius:s,angle:JZ(c),angleInRadian:c}},eQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},tQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},rQ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=QZ({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:u}=eQ(t),d=a,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?nk(nk({},t),{},{radius:i,angle:tQ(d,t)}):null};function lM(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=ea(t,r,n,i),o=ea(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var ik,ak,sk,ok,lk,ck,uk;function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z_.apply(null,arguments)}function eh(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nQ=(e,t)=>{var r=La(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ox=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/Ty,h=c?i:i+a*d,m=ea(t,r,u,h),g=ea(t,r,n,h),x=c?i-a*d:i,v=ea(t,r,u*Math.cos(d*Ty),x);return{center:m,circleTangency:g,lineTangency:v,theta:d}},cM=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=nQ(a,s),c=a+o,u=ea(t,r,i,a),d=ea(t,r,i,c),h=Ci(ik||(ik=eh(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>c),d.x,d.y);if(n>0){var m=ea(t,r,n,a),g=ea(t,r,n,c);h+=Ci(ak||(ak=eh(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,n,n,+(Math.abs(o)>180),+(a<=c),m.x,m.y)}else h+=Ci(sk||(sk=eh(["L ",","," Z"])),t,r);return h},iQ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=La(u-c),{circleTangency:h,lineTangency:m,theta:g}=ox({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:x,lineTangency:v,theta:y}=ox({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),w=o?Math.abs(c-u):Math.abs(c-u)-g-y;if(w<0)return s?Ci(ok||(ok=eh(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):cM({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var _=Ci(lk||(lk=eh(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(d<0),h.x,h.y,i,i,+(w>180),+(d<0),x.x,x.y,a,a,+(d<0),v.x,v.y);if(n>0){var{circleTangency:S,lineTangency:E,theta:T}=ox({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:D,lineTangency:C,theta:O}=ox({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),R=o?Math.abs(c-u):Math.abs(c-u)-T-O;if(R<0&&a===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+=Ci(ck||(ck=eh(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,a,a,+(d<0),D.x,D.y,n,n,+(R>180),+(d>0),S.x,S.y,a,a,+(d<0),E.x,E.y)}else _+=Ci(uk||(uk=eh(["L",",","Z"])),t,r);return _},aQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uM=e=>{var t=Jn(e,aQ),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(a<i||u===d)return null;var m=Xr("recharts-sector",h),g=a-i,x=Ps(s,g,0,!0),v;return x>0&&Math.abs(u-d)<360?v=iQ({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,g/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):v=cM({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),A.createElement("path",z_({},Cs(t),{className:m,d:v}))};function sQ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(qL(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,c=ea(n,i,a,o),u=ea(n,i,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return lM(t)}}var i5={},a5={},s5={},dk;function oQ(){return dk||(dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r8();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(s5)),s5}var fk;function lQ(){return fk||(fk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oQ();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(a5)),a5}var hk;function cQ(){return hk||(hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n8(),r=lQ();function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=s;return c}e.range=n})(i5)),i5}var o5,pk;function uQ(){return pk||(pk=1,o5=cQ().range),o5}var dQ=uQ();const dM=wc(dQ);function ef(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pj(e){let t,r,n;e.length!==2?(t=ef,r=(o,c)=>ef(e(o),c),n=(o,c)=>e(o)-c):(t=e===ef||e===fQ?e:hQ,r=e,n=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function s(o,c,u=0,d=o.length){const h=i(o,c,u,d-1);return h>u&&n(o[h-1],c)>-n(o[h],c)?h-1:h}return{left:i,center:s,right:a}}function hQ(){return 0}function fM(e){return e===null?NaN:+e}function*pQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mQ=Pj(ef),Rg=mQ.right;Pj(fM).center;class mk extends Map{constructor(t,r=xQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(gk(this,t))}has(t){return super.has(gk(this,t))}set(t,r){return super.set(gQ(this,t),r)}delete(t){return super.delete(vQ(this,t))}}function gk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function vQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function xQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function yQ(e=ef){if(e===ef)return hM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bQ=Math.sqrt(50),wQ=Math.sqrt(10),SQ=Math.sqrt(2);function ky(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=bQ?10:a>=wQ?5:a>=SQ?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?ky(e,t,r*2):[o,c,u]}function W_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?ky(t,e,r):ky(e,t,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function q_(e,t,r){return t=+t,e=+e,r=+r,ky(e,t,r)[2]}function H_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?q_(t,e,r):q_(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function vk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function xk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pM(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?hM:yQ(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*h/c+m)),x=Math.min(n,Math.floor(t+(c-u)*h/c+m));pM(e,t,g,x,i)}const a=e[t];let s=r,o=n;for(am(e,r,t),i(e[n],a)>0&&am(e,r,n);s<o;){for(am(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?am(e,r,o):(++o,am(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function am(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _Q(e,t,r){if(e=Float64Array.from(pQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return xk(e);if(t>=1)return vk(e);var n,i=(n-1)*t,a=Math.floor(i),s=vk(pM(e,a).subarray(0,a+1)),o=xk(e.subarray(a+1));return s+(o-s)*(i-a)}}function NQ(e,t,r=fM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function jQ(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Cl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function sd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const V_=Symbol("implicit");function Tj(){var e=new mk,t=[],r=[],n=V_;function i(a){let s=e.get(a);if(s===void 0){if(n!==V_)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new mk;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Tj(t,r).unknown(n)},Cl.apply(i,arguments),i}function kj(){var e=Tj().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var m=t().length,g=i<n,x=g?i:n,v=g?n:i;a=(v-x)/Math.max(1,m-c+u*2),o&&(a=Math.floor(a)),x+=(v-x-a*(m-c))*d,s=a*(1-c),o&&(x=Math.round(x),s=Math.round(s));var y=jQ(m).map(function(w){return x+a*w});return r(g?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,o=!0,h()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(m){return arguments.length?(o=!!m,h()):o},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},e.copy=function(){return kj(t(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Cl.apply(h(),arguments)}function mM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mM(t())},e}function AQ(){return mM(kj.apply(null,arguments).paddingInner(1))}function Cj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lg(){}var tg=.7,Cy=1/tg,Wp="\\s*([+-]?\\d+)\\s*",rg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EQ=/^#([0-9a-f]{3,8})$/,PQ=new RegExp(`^rgb\\(${Wp},${Wp},${Wp}\\)$`),TQ=new RegExp(`^rgb\\(${Xc},${Xc},${Xc}\\)$`),kQ=new RegExp(`^rgba\\(${Wp},${Wp},${Wp},${rg}\\)$`),CQ=new RegExp(`^rgba\\(${Xc},${Xc},${Xc},${rg}\\)$`),DQ=new RegExp(`^hsl\\(${rg},${Xc},${Xc}\\)$`),OQ=new RegExp(`^hsla\\(${rg},${Xc},${Xc},${rg}\\)$`),yk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cj(Lg,ng,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bk,formatHex:bk,formatHex8:IQ,formatHsl:RQ,formatRgb:wk,toString:wk});function bk(){return this.rgb().formatHex()}function IQ(){return this.rgb().formatHex8()}function RQ(){return vM(this).formatHsl()}function wk(){return this.rgb().formatRgb()}function ng(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=EQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Sk(t):r===3?new mo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?lx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?lx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PQ.exec(e))?new mo(t[1],t[2],t[3],1):(t=TQ.exec(e))?new mo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kQ.exec(e))?lx(t[1],t[2],t[3],t[4]):(t=CQ.exec(e))?lx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=DQ.exec(e))?jk(t[1],t[2]/100,t[3]/100,1):(t=OQ.exec(e))?jk(t[1],t[2]/100,t[3]/100,t[4]):yk.hasOwnProperty(e)?Sk(yk[e]):e==="transparent"?new mo(NaN,NaN,NaN,0):null}function Sk(e){return new mo(e>>16&255,e>>8&255,e&255,1)}function lx(e,t,r,n){return n<=0&&(e=t=r=NaN),new mo(e,t,r,n)}function LQ(e){return e instanceof Lg||(e=ng(e)),e?(e=e.rgb(),new mo(e.r,e.g,e.b,e.opacity)):new mo}function K_(e,t,r,n){return arguments.length===1?LQ(e):new mo(e,t,r,n??1)}function mo(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Cj(mo,K_,gM(Lg,{brighter(e){return e=e==null?Cy:Math.pow(Cy,e),new mo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tg:Math.pow(tg,e),new mo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mo(oh(this.r),oh(this.g),oh(this.b),Dy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_k,formatHex:_k,formatHex8:MQ,formatRgb:Nk,toString:Nk}));function _k(){return`#${th(this.r)}${th(this.g)}${th(this.b)}`}function MQ(){return`#${th(this.r)}${th(this.g)}${th(this.b)}${th((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nk(){const e=Dy(this.opacity);return`${e===1?"rgb(":"rgba("}${oh(this.r)}, ${oh(this.g)}, ${oh(this.b)}${e===1?")":`, ${e})`}`}function Dy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function th(e){return e=oh(e),(e<16?"0":"")+e.toString(16)}function jk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pc(e,t,r,n)}function vM(e){if(e instanceof pc)return new pc(e.h,e.s,e.l,e.opacity);if(e instanceof Lg||(e=ng(e)),!e)return new pc;if(e instanceof pc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new pc(s,o,c,e.opacity)}function FQ(e,t,r,n){return arguments.length===1?vM(e):new pc(e,t,r,n??1)}function pc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Cj(pc,FQ,gM(Lg,{brighter(e){return e=e==null?Cy:Math.pow(Cy,e),new pc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tg:Math.pow(tg,e),new pc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new mo(l5(e>=240?e-240:e+120,i,n),l5(e,i,n),l5(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new pc(Ak(this.h),cx(this.s),cx(this.l),Dy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dy(this.opacity);return`${e===1?"hsl(":"hsla("}${Ak(this.h)}, ${cx(this.s)*100}%, ${cx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ak(e){return e=(e||0)%360,e<0?e+360:e}function cx(e){return Math.max(0,Math.min(1,e||0))}function l5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Dj=e=>()=>e;function BQ(e,t){return function(r){return e+r*t}}function UQ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $Q(e){return(e=+e)==1?xM:function(t,r){return r-t?UQ(t,r,e):Dj(isNaN(t)?r:t)}}function xM(e,t){var r=t-e;return r?BQ(e,r):Dj(isNaN(e)?t:e)}const Ek=(function e(t){var r=$Q(t);function n(i,a){var s=r((i=K_(i)).r,(a=K_(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=xM(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n})(1);function zQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function WQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qQ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=f0(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function HQ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Oy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function VQ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=f0(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var G_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,c5=new RegExp(G_.source,"g");function KQ(e){return function(){return e}}function GQ(e){return function(t){return e(t)+""}}function YQ(e,t){var r=G_.lastIndex=c5.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=G_.exec(e))&&(i=c5.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:Oy(n,i)})),r=c5.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?GQ(c[0].x):KQ(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)o[(h=c[d]).i]=h.x(u);return o.join("")})}function f0(e,t){var r=typeof t,n;return t==null||r==="boolean"?Dj(t):(r==="number"?Oy:r==="string"?(n=ng(t))?(t=n,Ek):YQ:t instanceof ng?Ek:t instanceof Date?HQ:WQ(t)?zQ:Array.isArray(t)?qQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?VQ:Oy)(e,t)}function Oj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function XQ(e,t){t===void 0&&(t=e,e=f0);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function JQ(e){return function(){return e}}function Iy(e){return+e}var Pk=[0,1];function Gs(e){return e}function Y_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:JQ(isNaN(t)?NaN:.5)}function ZQ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function QQ(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Y_(i,n),a=r(s,a)):(n=Y_(n,i),a=r(a,s)),function(o){return a(n(o))}}function eee(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Y_(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var c=Rg(e,o,1,n)-1;return a[c](i[c](o))}}function Mg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function tb(){var e=Pk,t=Pk,r=f0,n,i,a,s=Gs,o,c,u;function d(){var m=Math.min(e.length,t.length);return s!==Gs&&(s=ZQ(e[0],e[m-1])),o=m>2?eee:QQ,c=u=null,h}function h(m){return m==null||isNaN(m=+m)?a:(c||(c=o(e.map(n),t,r)))(n(s(m)))}return h.invert=function(m){return s(i((u||(u=o(t,e.map(n),Oy)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,Iy),d()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=Oj,d()},h.clamp=function(m){return arguments.length?(s=m?!0:Gs,d()):s!==Gs},h.interpolate=function(m){return arguments.length?(r=m,d()):r},h.unknown=function(m){return arguments.length?(a=m,h):a},function(m,g){return n=m,i=g,d()}}function Ij(){return tb()(Gs,Gs)}function tee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ry(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function n0(e){return e=Ry(Math.abs(e)),e?e[1]:NaN}function ree(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function nee(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var iee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ig(e){if(!(t=iee.exec(e)))throw new Error("invalid format: "+e);var t;return new Rj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ig.prototype=Rj.prototype;function Rj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Rj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aee(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var yM;function see(e,t){var r=Ry(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(yM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ry(e,Math.max(0,t+a-1))[0]}function Tk(e,t){var r=Ry(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const kk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Tk(e*100,t),r:Tk,s:see,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ck(e){return e}var Dk=Array.prototype.map,Ok=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oee(e){var t=e.grouping===void 0||e.thousands===void 0?Ck:ree(Dk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Ck:nee(Dk.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=ig(h);var m=h.fill,g=h.align,x=h.sign,v=h.symbol,y=h.zero,w=h.width,_=h.comma,S=h.precision,E=h.trim,T=h.type;T==="n"?(_=!0,T="g"):kk[T]||(S===void 0&&(S=12),E=!0,T="g"),(y||m==="0"&&g==="=")&&(y=!0,m="0",g="=");var D=v==="$"?r:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=v==="$"?n:/[%p]/.test(T)?s:"",O=kk[T],R=/[defgprs%]/.test(T);S=S===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function H(F){var U=D,M=C,q,ee,ve;if(T==="c")M=O(F)+M,F="";else{F=+F;var he=F<0||1/F<0;if(F=isNaN(F)?c:O(Math.abs(F),S),E&&(F=aee(F)),he&&+F==0&&x!=="+"&&(he=!1),U=(he?x==="("?x:o:x==="-"||x==="("?"":x)+U,M=(T==="s"?Ok[8+yM/3]:"")+M+(he&&x==="("?")":""),R){for(q=-1,ee=F.length;++q<ee;)if(ve=F.charCodeAt(q),48>ve||ve>57){M=(ve===46?i+F.slice(q+1):F.slice(q))+M,F=F.slice(0,q);break}}}_&&!y&&(F=t(F,1/0));var ce=U.length+F.length+M.length,be=ce<w?new Array(w-ce+1).join(m):"";switch(_&&y&&(F=t(be+F,be.length?w-M.length:1/0),be=""),g){case"<":F=U+F+M+be;break;case"=":F=U+be+F+M;break;case"^":F=be.slice(0,ce=be.length>>1)+U+F+M+be.slice(ce);break;default:F=be+U+F+M;break}return a(F)}return H.toString=function(){return h+""},H}function d(h,m){var g=u((h=ig(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(n0(m)/3)))*3,v=Math.pow(10,-x),y=Ok[8+x/3];return function(w){return g(v*w)+y}}return{format:u,formatPrefix:d}}var ux,Lj,bM;lee({thousands:",",grouping:[3],currency:["$",""]});function lee(e){return ux=oee(e),Lj=ux.format,bM=ux.formatPrefix,ux}function cee(e){return Math.max(0,-n0(Math.abs(e)))}function uee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n0(t)/3)))*3-n0(Math.abs(e)))}function dee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,n0(t)-n0(e))+1}function wM(e,t,r,n){var i=H_(e,t,r),a;switch(n=ig(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=uee(i,s))&&(n.precision=a),bM(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=dee(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=cee(i))&&(n.precision=a-(n.type==="%")*2);break}}return Lj(n)}function pf(e){var t=e.domain;return e.ticks=function(r){var n=t();return W_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return wM(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=q_(s,o,r),u===c)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function SM(){var e=Ij();return e.copy=function(){return Mg(e,SM())},Cl.apply(e,arguments),pf(e)}function _M(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Iy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return _M(e).unknown(t)},e=arguments.length?Array.from(e,Iy):[0,1],pf(r)}function NM(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Ik(e){return Math.log(e)}function Rk(e){return Math.exp(e)}function fee(e){return-Math.log(-e)}function hee(e){return-Math.exp(-e)}function pee(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mee(e){return e===10?pee:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gee(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Lk(e){return(t,r)=>-e(-t,r)}function Mj(e){const t=e(Ik,Rk),r=t.domain;let n=10,i,a;function s(){return i=gee(n),a=mee(n),r()[0]<0?(i=Lk(i),a=Lk(a),e(fee,hee)):e(Ik,Rk),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let m=i(u),g=i(d),x,v;const y=o==null?10:+o;let w=[];if(!(n%1)&&g-m<y){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(x=1;x<n;++x)if(v=m<0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;w.push(v)}}else for(;m<=g;++m)for(x=n-1;x>=1;--x)if(v=m>0?x/a(-m):x*a(m),!(v<u)){if(v>d)break;w.push(v)}w.length*2<y&&(w=W_(u,d,y))}else w=W_(m,g,Math.min(g-m,y)).map(a);return h?w.reverse():w},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ig(c)).precision==null&&(c.trim=!0),c=Lj(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},t.nice=()=>r(NM(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function jM(){const e=Mj(tb()).domain([1,10]);return e.copy=()=>Mg(e,jM()).base(e.base()),Cl.apply(e,arguments),e}function Mk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Fk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Fj(e){var t=1,r=e(Mk(t),Fk(t));return r.constant=function(n){return arguments.length?e(Mk(t=+n),Fk(t)):t},pf(r)}function AM(){var e=Fj(tb());return e.copy=function(){return Mg(e,AM()).constant(e.constant())},Cl.apply(e,arguments)}function Bk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vee(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xee(e){return e<0?-e*e:e*e}function Bj(e){var t=e(Gs,Gs),r=1;function n(){return r===1?e(Gs,Gs):r===.5?e(vee,xee):e(Bk(r),Bk(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},pf(t)}function Uj(){var e=Bj(tb());return e.copy=function(){return Mg(e,Uj()).exponent(e.exponent())},Cl.apply(e,arguments),e}function yee(){return Uj.apply(null,arguments).exponent(.5)}function Uk(e){return Math.sign(e)*e*e}function bee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function EM(){var e=Ij(),t=[0,1],r=!1,n;function i(a){var s=bee(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(Uk(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Iy)).map(Uk)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return EM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Cl.apply(i,arguments),pf(i)}function PM(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=NQ(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Rg(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ef),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return PM().domain(e).range(t).unknown(n)},Cl.apply(a,arguments)}function TM(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Rg(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return TM().domain([e,t]).range(i).unknown(a)},Cl.apply(pf(s),arguments)}function kM(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Rg(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kM().domain(e).range(t).unknown(r)},Cl.apply(i,arguments)}const u5=new Date,d5=new Date;function ma(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>ma(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(u5.setTime(+a),d5.setTime(+s),e(u5),e(d5),Math.floor(r(u5,d5))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ly=ma(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ly.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ma(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ly);Ly.range;const Iu=1e3,_l=Iu*60,Ru=_l*60,Ku=Ru*24,$j=Ku*7,$k=Ku*30,f5=Ku*365,rh=ma(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Iu)},(e,t)=>(t-e)/Iu,e=>e.getUTCSeconds());rh.range;const zj=ma(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Iu)},(e,t)=>{e.setTime(+e+t*_l)},(e,t)=>(t-e)/_l,e=>e.getMinutes());zj.range;const Wj=ma(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_l)},(e,t)=>(t-e)/_l,e=>e.getUTCMinutes());Wj.range;const qj=ma(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Iu-e.getMinutes()*_l)},(e,t)=>{e.setTime(+e+t*Ru)},(e,t)=>(t-e)/Ru,e=>e.getHours());qj.range;const Hj=ma(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ru)},(e,t)=>(t-e)/Ru,e=>e.getUTCHours());Hj.range;const Fg=ma(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_l)/Ku,e=>e.getDate()-1);Fg.range;const rb=ma(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ku,e=>e.getUTCDate()-1);rb.range;const CM=ma(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ku,e=>Math.floor(e/Ku));CM.range;function Th(e){return ma(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*_l)/$j)}const nb=Th(0),My=Th(1),wee=Th(2),See=Th(3),i0=Th(4),_ee=Th(5),Nee=Th(6);nb.range;My.range;wee.range;See.range;i0.range;_ee.range;Nee.range;function kh(e){return ma(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$j)}const ib=kh(0),Fy=kh(1),jee=kh(2),Aee=kh(3),a0=kh(4),Eee=kh(5),Pee=kh(6);ib.range;Fy.range;jee.range;Aee.range;a0.range;Eee.range;Pee.range;const Vj=ma(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Vj.range;const Kj=ma(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Kj.range;const Gu=ma(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ma(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Gu.range;const Yu=ma(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Yu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ma(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Yu.range;function DM(e,t,r,n,i,a){const s=[[rh,1,Iu],[rh,5,5*Iu],[rh,15,15*Iu],[rh,30,30*Iu],[a,1,_l],[a,5,5*_l],[a,15,15*_l],[a,30,30*_l],[i,1,Ru],[i,3,3*Ru],[i,6,6*Ru],[i,12,12*Ru],[n,1,Ku],[n,2,2*Ku],[r,1,$j],[t,1,$k],[t,3,3*$k],[e,1,f5]];function o(u,d,h){const m=d<u;m&&([u,d]=[d,u]);const g=h&&typeof h.range=="function"?h:c(u,d,h),x=g?g.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,h){const m=Math.abs(d-u)/h,g=Pj(([,,y])=>y).right(s,m);if(g===s.length)return e.every(H_(u/f5,d/f5,h));if(g===0)return Ly.every(Math.max(H_(u,d,h),1));const[x,v]=s[m/s[g-1][2]<s[g][2]/m?g-1:g];return x.every(v)}return[o,c]}const[Tee,kee]=DM(Yu,Kj,ib,CM,Hj,Wj),[Cee,Dee]=DM(Gu,Vj,nb,Fg,qj,zj);function h5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function p5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Oee(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=om(i),d=lm(i),h=om(a),m=lm(a),g=om(s),x=lm(s),v=om(o),y=lm(o),w=om(c),_=lm(c),S={a:he,A:ce,b:be,B:Oe,c:null,d:Kk,e:Kk,f:rte,g:fte,G:pte,H:Qee,I:ete,j:tte,L:OM,m:nte,M:ite,p:ae,q:L,Q:Xk,s:Jk,S:ate,u:ste,U:ote,V:lte,w:cte,W:ute,x:null,X:null,y:dte,Y:hte,Z:mte,"%":Yk},E={a:Y,A:K,b:J,B:pe,c:null,d:Gk,e:Gk,f:yte,g:Tte,G:Cte,H:gte,I:vte,j:xte,L:RM,m:bte,M:wte,p:Ae,q:Ne,Q:Xk,s:Jk,S:Ste,u:_te,U:Nte,V:jte,w:Ate,W:Ete,x:null,X:null,y:Pte,Y:kte,Z:Dte,"%":Yk},T={a:H,A:F,b:U,B:M,c:q,d:Hk,e:Hk,f:Yee,g:qk,G:Wk,H:Vk,I:Vk,j:Hee,L:Gee,m:qee,M:Vee,p:R,q:Wee,Q:Jee,s:Zee,S:Kee,u:Fee,U:Bee,V:Uee,w:Mee,W:$ee,x:ee,X:ve,y:qk,Y:Wk,Z:zee,"%":Xee};S.x=D(r,S),S.X=D(n,S),S.c=D(t,S),E.x=D(r,E),E.X=D(n,E),E.c=D(t,E);function D(fe,ke){return function(Te){var je=[],Le=-1,$e=0,oe=fe.length,at,lt,Pt;for(Te instanceof Date||(Te=new Date(+Te));++Le<oe;)fe.charCodeAt(Le)===37&&(je.push(fe.slice($e,Le)),(lt=zk[at=fe.charAt(++Le)])!=null?at=fe.charAt(++Le):lt=at==="e"?" ":"0",(Pt=ke[at])&&(at=Pt(Te,lt)),je.push(at),$e=Le+1);return je.push(fe.slice($e,Le)),je.join("")}}function C(fe,ke){return function(Te){var je=sm(1900,void 0,1),Le=O(je,fe,Te+="",0),$e,oe;if(Le!=Te.length)return null;if("Q"in je)return new Date(je.Q);if("s"in je)return new Date(je.s*1e3+("L"in je?je.L:0));if(ke&&!("Z"in je)&&(je.Z=0),"p"in je&&(je.H=je.H%12+je.p*12),je.m===void 0&&(je.m="q"in je?je.q:0),"V"in je){if(je.V<1||je.V>53)return null;"w"in je||(je.w=1),"Z"in je?($e=p5(sm(je.y,0,1)),oe=$e.getUTCDay(),$e=oe>4||oe===0?Fy.ceil($e):Fy($e),$e=rb.offset($e,(je.V-1)*7),je.y=$e.getUTCFullYear(),je.m=$e.getUTCMonth(),je.d=$e.getUTCDate()+(je.w+6)%7):($e=h5(sm(je.y,0,1)),oe=$e.getDay(),$e=oe>4||oe===0?My.ceil($e):My($e),$e=Fg.offset($e,(je.V-1)*7),je.y=$e.getFullYear(),je.m=$e.getMonth(),je.d=$e.getDate()+(je.w+6)%7)}else("W"in je||"U"in je)&&("w"in je||(je.w="u"in je?je.u%7:"W"in je?1:0),oe="Z"in je?p5(sm(je.y,0,1)).getUTCDay():h5(sm(je.y,0,1)).getDay(),je.m=0,je.d="W"in je?(je.w+6)%7+je.W*7-(oe+5)%7:je.w+je.U*7-(oe+6)%7);return"Z"in je?(je.H+=je.Z/100|0,je.M+=je.Z%100,p5(je)):h5(je)}}function O(fe,ke,Te,je){for(var Le=0,$e=ke.length,oe=Te.length,at,lt;Le<$e;){if(je>=oe)return-1;if(at=ke.charCodeAt(Le++),at===37){if(at=ke.charAt(Le++),lt=T[at in zk?ke.charAt(Le++):at],!lt||(je=lt(fe,Te,je))<0)return-1}else if(at!=Te.charCodeAt(je++))return-1}return je}function R(fe,ke,Te){var je=u.exec(ke.slice(Te));return je?(fe.p=d.get(je[0].toLowerCase()),Te+je[0].length):-1}function H(fe,ke,Te){var je=g.exec(ke.slice(Te));return je?(fe.w=x.get(je[0].toLowerCase()),Te+je[0].length):-1}function F(fe,ke,Te){var je=h.exec(ke.slice(Te));return je?(fe.w=m.get(je[0].toLowerCase()),Te+je[0].length):-1}function U(fe,ke,Te){var je=w.exec(ke.slice(Te));return je?(fe.m=_.get(je[0].toLowerCase()),Te+je[0].length):-1}function M(fe,ke,Te){var je=v.exec(ke.slice(Te));return je?(fe.m=y.get(je[0].toLowerCase()),Te+je[0].length):-1}function q(fe,ke,Te){return O(fe,t,ke,Te)}function ee(fe,ke,Te){return O(fe,r,ke,Te)}function ve(fe,ke,Te){return O(fe,n,ke,Te)}function he(fe){return s[fe.getDay()]}function ce(fe){return a[fe.getDay()]}function be(fe){return c[fe.getMonth()]}function Oe(fe){return o[fe.getMonth()]}function ae(fe){return i[+(fe.getHours()>=12)]}function L(fe){return 1+~~(fe.getMonth()/3)}function Y(fe){return s[fe.getUTCDay()]}function K(fe){return a[fe.getUTCDay()]}function J(fe){return c[fe.getUTCMonth()]}function pe(fe){return o[fe.getUTCMonth()]}function Ae(fe){return i[+(fe.getUTCHours()>=12)]}function Ne(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var ke=D(fe+="",S);return ke.toString=function(){return fe},ke},parse:function(fe){var ke=C(fe+="",!1);return ke.toString=function(){return fe},ke},utcFormat:function(fe){var ke=D(fe+="",E);return ke.toString=function(){return fe},ke},utcParse:function(fe){var ke=C(fe+="",!0);return ke.toString=function(){return fe},ke}}}var zk={"-":"",_:" ",0:"0"},Ba=/^\s*\d+/,Iee=/^%/,Ree=/[\\^$*+?|[\]().{}]/g;function sn(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Lee(e){return e.replace(Ree,"\\$&")}function om(e){return new RegExp("^(?:"+e.map(Lee).join("|")+")","i")}function lm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Mee(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Fee(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Bee(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Uee(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $ee(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Wk(e,t,r){var n=Ba.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function qk(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function zee(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Wee(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qee(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Hk(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Hee(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Vk(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Vee(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Kee(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Gee(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Yee(e,t,r){var n=Ba.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Xee(e,t,r){var n=Iee.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Jee(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Zee(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Kk(e,t){return sn(e.getDate(),t,2)}function Qee(e,t){return sn(e.getHours(),t,2)}function ete(e,t){return sn(e.getHours()%12||12,t,2)}function tte(e,t){return sn(1+Fg.count(Gu(e),e),t,3)}function OM(e,t){return sn(e.getMilliseconds(),t,3)}function rte(e,t){return OM(e,t)+"000"}function nte(e,t){return sn(e.getMonth()+1,t,2)}function ite(e,t){return sn(e.getMinutes(),t,2)}function ate(e,t){return sn(e.getSeconds(),t,2)}function ste(e){var t=e.getDay();return t===0?7:t}function ote(e,t){return sn(nb.count(Gu(e)-1,e),t,2)}function IM(e){var t=e.getDay();return t>=4||t===0?i0(e):i0.ceil(e)}function lte(e,t){return e=IM(e),sn(i0.count(Gu(e),e)+(Gu(e).getDay()===4),t,2)}function cte(e){return e.getDay()}function ute(e,t){return sn(My.count(Gu(e)-1,e),t,2)}function dte(e,t){return sn(e.getFullYear()%100,t,2)}function fte(e,t){return e=IM(e),sn(e.getFullYear()%100,t,2)}function hte(e,t){return sn(e.getFullYear()%1e4,t,4)}function pte(e,t){var r=e.getDay();return e=r>=4||r===0?i0(e):i0.ceil(e),sn(e.getFullYear()%1e4,t,4)}function mte(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sn(t/60|0,"0",2)+sn(t%60,"0",2)}function Gk(e,t){return sn(e.getUTCDate(),t,2)}function gte(e,t){return sn(e.getUTCHours(),t,2)}function vte(e,t){return sn(e.getUTCHours()%12||12,t,2)}function xte(e,t){return sn(1+rb.count(Yu(e),e),t,3)}function RM(e,t){return sn(e.getUTCMilliseconds(),t,3)}function yte(e,t){return RM(e,t)+"000"}function bte(e,t){return sn(e.getUTCMonth()+1,t,2)}function wte(e,t){return sn(e.getUTCMinutes(),t,2)}function Ste(e,t){return sn(e.getUTCSeconds(),t,2)}function _te(e){var t=e.getUTCDay();return t===0?7:t}function Nte(e,t){return sn(ib.count(Yu(e)-1,e),t,2)}function LM(e){var t=e.getUTCDay();return t>=4||t===0?a0(e):a0.ceil(e)}function jte(e,t){return e=LM(e),sn(a0.count(Yu(e),e)+(Yu(e).getUTCDay()===4),t,2)}function Ate(e){return e.getUTCDay()}function Ete(e,t){return sn(Fy.count(Yu(e)-1,e),t,2)}function Pte(e,t){return sn(e.getUTCFullYear()%100,t,2)}function Tte(e,t){return e=LM(e),sn(e.getUTCFullYear()%100,t,2)}function kte(e,t){return sn(e.getUTCFullYear()%1e4,t,4)}function Cte(e,t){var r=e.getUTCDay();return e=r>=4||r===0?a0(e):a0.ceil(e),sn(e.getUTCFullYear()%1e4,t,4)}function Dte(){return"+0000"}function Yk(){return"%"}function Xk(e){return+e}function Jk(e){return Math.floor(+e/1e3)}var pp,MM,FM;Ote({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ote(e){return pp=Oee(e),MM=pp.format,pp.parse,FM=pp.utcFormat,pp.utcParse,pp}function Ite(e){return new Date(e)}function Rte(e){return e instanceof Date?+e:+new Date(+e)}function Gj(e,t,r,n,i,a,s,o,c,u){var d=Ij(),h=d.invert,m=d.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),_=u("%b %d"),S=u("%B"),E=u("%Y");function T(D){return(c(D)<D?g:o(D)<D?x:s(D)<D?v:a(D)<D?y:n(D)<D?i(D)<D?w:_:r(D)<D?S:E)(D)}return d.invert=function(D){return new Date(h(D))},d.domain=function(D){return arguments.length?m(Array.from(D,Rte)):m().map(Ite)},d.ticks=function(D){var C=m();return e(C[0],C[C.length-1],D??10)},d.tickFormat=function(D,C){return C==null?T:u(C)},d.nice=function(D){var C=m();return(!D||typeof D.range!="function")&&(D=t(C[0],C[C.length-1],D??10)),D?m(NM(C,D)):d},d.copy=function(){return Mg(d,Gj(e,t,r,n,i,a,s,o,c,u))},d}function Lte(){return Cl.apply(Gj(Cee,Dee,Gu,Vj,nb,Fg,qj,zj,rh,MM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mte(){return Cl.apply(Gj(Tee,kee,Yu,Kj,ib,rb,Hj,Wj,rh,FM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ab(){var e=0,t=1,r,n,i,a,s=Gs,o=!1,c;function u(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(a(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(m){var g,x;return arguments.length?([g,x]=m,s=h(g,x),u):[s(0),s(1)]}}return u.range=d(f0),u.rangeRound=d(Oj),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),u}}function mf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BM(){var e=pf(ab()(Gs));return e.copy=function(){return mf(e,BM())},sd.apply(e,arguments)}function UM(){var e=Mj(ab()).domain([1,10]);return e.copy=function(){return mf(e,UM()).base(e.base())},sd.apply(e,arguments)}function $M(){var e=Fj(ab());return e.copy=function(){return mf(e,$M()).constant(e.constant())},sd.apply(e,arguments)}function Yj(){var e=Bj(ab());return e.copy=function(){return mf(e,Yj()).exponent(e.exponent())},sd.apply(e,arguments)}function Fte(){return Yj.apply(null,arguments).exponent(.5)}function zM(){var e=[],t=Gs;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ef),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>_Q(e,a/n))},r.copy=function(){return zM(t).domain(e)},sd.apply(r,arguments)}function sb(){var e=0,t=.5,r=1,n=1,i,a,s,o,c,u=Gs,d,h=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-a)*(n*v<n*a?o:c),u(h?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([e,t,r]=v,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g):[e,t,r]},g.clamp=function(v){return arguments.length?(h=!!v,g):h},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(y){var w,_,S;return arguments.length?([w,_,S]=y,u=XQ(v,[w,_,S]),g):[u(0),u(.5),u(1)]}}return g.range=x(f0),g.rangeRound=x(Oj),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return d=v,i=v(e),a=v(t),s=v(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g}}function WM(){var e=pf(sb()(Gs));return e.copy=function(){return mf(e,WM())},sd.apply(e,arguments)}function qM(){var e=Mj(sb()).domain([.1,1,10]);return e.copy=function(){return mf(e,qM()).base(e.base())},sd.apply(e,arguments)}function HM(){var e=Fj(sb());return e.copy=function(){return mf(e,HM()).constant(e.constant())},sd.apply(e,arguments)}function Xj(){var e=Bj(sb());return e.copy=function(){return mf(e,Xj()).exponent(e.exponent())},sd.apply(e,arguments)}function Bte(){return Xj.apply(null,arguments).exponent(.5)}const vm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kj,scaleDiverging:WM,scaleDivergingLog:qM,scaleDivergingPow:Xj,scaleDivergingSqrt:Bte,scaleDivergingSymlog:HM,scaleIdentity:_M,scaleImplicit:V_,scaleLinear:SM,scaleLog:jM,scaleOrdinal:Tj,scalePoint:AQ,scalePow:Uj,scaleQuantile:PM,scaleQuantize:TM,scaleRadial:EM,scaleSequential:BM,scaleSequentialLog:UM,scaleSequentialPow:Yj,scaleSequentialQuantile:zM,scaleSequentialSqrt:Fte,scaleSequentialSymlog:$M,scaleSqrt:yee,scaleSymlog:AM,scaleThreshold:kM,scaleTime:Lte,scaleUtc:Mte,tickFormat:wM},Symbol.toStringTag,{value:"Module"}));var od=e=>e.chartData,ob=et([od],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),lb=(e,t,r,n)=>n?ob(e):od(e),VM=(e,t,r)=>r?ob(e):od(e);function af(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ln(t)&&Ln(r))return!0}return!1}function Zk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function KM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Ln(r))i=r;else if(typeof r=="function")return;if(Ln(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(af(s))return s}}function Ute(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(af(n))return Zk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Wt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&cT.test(i)){var c=cT.exec(i);if(c==null||c[1]==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t?.[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Wt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[1]))}catch{}else if(typeof a=="string"&&uT.test(a)){var d=uT.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var h=+d[1];o=t[1]+h}}else o=t?.[1];var m=[s,o];if(af(m))return t==null?m:Zk(m,t,r)}}}var h0=1e9,$te={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zj,oi=!0,El="[DecimalError] ",lh=El+"Invalid argument: ",Jj=El+"Exponent out of range: ",p0=Math.floor,qf=Math.pow,zte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ho,Oa=1e7,Kn=7,GM=9007199254740991,By=p0(GM/Kn),Qt={};Qt.absoluteValue=Qt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Qt.comparedTo=Qt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Qt.decimalPlaces=Qt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Qt.dividedBy=Qt.div=function(e){return Fu(this,new this.constructor(e))};Qt.dividedToIntegerBy=Qt.idiv=function(e){var t=this,r=t.constructor;return In(Fu(t,new r(e),0,1),r.precision)};Qt.equals=Qt.eq=function(e){return!this.cmp(e)};Qt.exponent=function(){return ta(this)};Qt.greaterThan=Qt.gt=function(e){return this.cmp(e)>0};Qt.greaterThanOrEqualTo=Qt.gte=function(e){return this.cmp(e)>=0};Qt.isInteger=Qt.isint=function(){return this.e>this.d.length-2};Qt.isNegative=Qt.isneg=function(){return this.s<0};Qt.isPositive=Qt.ispos=function(){return this.s>0};Qt.isZero=function(){return this.s===0};Qt.lessThan=Qt.lt=function(e){return this.cmp(e)<0};Qt.lessThanOrEqualTo=Qt.lte=function(e){return this.cmp(e)<1};Qt.logarithm=Qt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ho))throw Error(El+"NaN");if(r.s<1)throw Error(El+(r.s?"NaN":"-Infinity"));return r.eq(Ho)?new n(0):(oi=!1,t=Fu(ag(r,a),ag(e,a),a),oi=!0,In(t,i))};Qt.minus=Qt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JM(t,e):YM(t,(e.s=-e.s,e))};Qt.modulo=Qt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(El+"NaN");return r.s?(oi=!1,t=Fu(r,e,0,1).times(e),oi=!0,r.minus(t)):In(new n(r),i)};Qt.naturalExponential=Qt.exp=function(){return XM(this)};Qt.naturalLogarithm=Qt.ln=function(){return ag(this)};Qt.negated=Qt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Qt.plus=Qt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YM(t,e):JM(t,(e.s=-e.s,e))};Qt.precision=Qt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lh+e);if(t=ta(i)+1,n=i.d.length-1,r=n*Kn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Qt.squareRoot=Qt.sqrt=function(){var e,t,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(El+"NaN")}for(e=ta(o),oi=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Gc(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=p0((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Fu(o,a,s+2)).times(.5),Gc(a.d).slice(0,s)===(t=Gc(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(In(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return oi=!0,In(n,r)};Qt.times=Qt.mul=function(e){var t,r,n,i,a,s,o,c,u,d=this,h=d.constructor,m=d.d,g=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=g.length,c<u&&(a=m,m=g,g=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)o=a[i]+g[n]*m[i-n-1]+t,a[i--]=o%Oa|0,t=o/Oa|0;a[i]=(a[i]+t)%Oa|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,oi?In(e,h.precision):e};Qt.toDecimalPlaces=Qt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(tu(e,0,h0),t===void 0?t=n.rounding:tu(t,0,8),In(r,e+ta(r)+1,t))};Qt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=xh(n,!0):(tu(e,0,h0),t===void 0?t=i.rounding:tu(t,0,8),n=In(new i(n),e+1,t),r=xh(n,!0,e+1)),r};Qt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?xh(i):(tu(e,0,h0),t===void 0?t=a.rounding:tu(t,0,8),n=In(new a(i),e+ta(i)+1,t),r=xh(n.abs(),!1,e+ta(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Qt.toInteger=Qt.toint=function(){var e=this,t=e.constructor;return In(new t(e),ta(e)+1,t.rounding)};Qt.toNumber=function(){return+this};Qt.toPower=Qt.pow=function(e){var t,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ho);if(o=new c(o),!o.s){if(e.s<1)throw Error(El+"Infinity");return o}if(o.eq(Ho))return o;if(n=c.precision,e.eq(Ho))return In(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=GM){for(i=new c(Ho),t=Math.ceil(n/Kn+4),oi=!1;r%2&&(i=i.times(o),eC(i.d,t)),r=p0(r/2),r!==0;)o=o.times(o),eC(o.d,t);return oi=!0,e.s<0?new c(Ho).div(i):In(i,n)}}else if(a<0)throw Error(El+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,oi=!1,i=e.times(ag(o,n+u)),oi=!0,i=XM(i),i.s=a,i};Qt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=ta(i),n=xh(i,r<=a.toExpNeg||r>=a.toExpPos)):(tu(e,1,h0),t===void 0?t=a.rounding:tu(t,0,8),i=In(new a(i),e,t),r=ta(i),n=xh(i,e<=r||r<=a.toExpNeg,e)),n};Qt.toSignificantDigits=Qt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(tu(e,1,h0),t===void 0?t=n.rounding:tu(t,0,8)),In(new n(r),e,t)};Qt.toString=Qt.valueOf=Qt.val=Qt.toJSON=Qt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ta(e),r=e.constructor;return xh(e,t<=r.toExpNeg||t>=r.toExpPos)};function YM(e,t){var r,n,i,a,s,o,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),oi?In(t,h):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(h/Kn),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Oa|0,c[a]%=Oa;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,oi?In(t,h):t}function tu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(lh+e)}function Gc(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Kn-n.length,r&&(a+=Wd(r)),a+=n;s=e[t],n=s+"",r=Kn-n.length,r&&(a+=Wd(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Fu=(function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Oa|0,s=a/Oa|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Oa+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,h,m,g,x,v,y,w,_,S,E,T,D,C,O,R=n.constructor,H=n.s==i.s?1:-1,F=n.d,U=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(El+"Division by zero");for(c=n.e-i.e,C=U.length,T=F.length,g=new R(H),x=g.d=[],u=0;U[u]==(F[u]||0);)++u;if(U[u]>(F[u]||0)&&--c,a==null?_=a=R.precision:s?_=a+(ta(n)-ta(i))+1:_=a,_<0)return new R(0);if(_=_/Kn+2|0,u=0,C==1)for(d=0,U=U[0],_++;(u<T||d)&&_--;u++)S=d*Oa+(F[u]||0),x[u]=S/U|0,d=S%U|0;else{for(d=Oa/(U[0]+1)|0,d>1&&(U=e(U,d),F=e(F,d),C=U.length,T=F.length),E=C,v=F.slice(0,C),y=v.length;y<C;)v[y++]=0;O=U.slice(),O.unshift(0),D=U[0],U[1]>=Oa/2&&++D;do d=0,o=t(U,v,C,y),o<0?(w=v[0],C!=y&&(w=w*Oa+(v[1]||0)),d=w/D|0,d>1?(d>=Oa&&(d=Oa-1),h=e(U,d),m=h.length,y=v.length,o=t(h,v,m,y),o==1&&(d--,r(h,C<m?O:U,m))):(d==0&&(o=d=1),h=U.slice()),m=h.length,m<y&&h.unshift(0),r(v,h,y),o==-1&&(y=v.length,o=t(U,v,C,y),o<1&&(d++,r(v,C<y?O:U,y))),y=v.length):o===0&&(d++,v=[0]),x[u++]=d,o&&v[0]?v[y++]=F[E]||0:(v=[F[E]],y=1);while((E++<T||v[0]!==void 0)&&_--)}return x[0]||x.shift(),g.e=c,In(g,s?a+ta(g)+1:a)}})();function XM(e,t){var r,n,i,a,s,o,c=0,u=0,d=e.constructor,h=d.precision;if(ta(e)>16)throw Error(Jj+ta(e));if(!e.s)return new d(Ho);for(oi=!1,o=h,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(qf(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(Ho),d.precision=o;;){if(i=In(i.times(e),o),r=r.times(++c),s=a.plus(Fu(i,r,o)),Gc(s.d).slice(0,o)===Gc(a.d).slice(0,o)){for(;u--;)a=In(a.times(a),o);return d.precision=h,t==null?(oi=!0,In(a,h)):a}a=s}}function ta(e){for(var t=e.e*Kn,r=e.d[0];r>=10;r/=10)t++;return t}function m5(e,t,r){if(t>e.LN10.sd())throw oi=!0,r&&(e.precision=r),Error(El+"LN10 precision limit exceeded");return In(new e(e.LN10),t)}function Wd(e){for(var t="";e--;)t+="0";return t}function ag(e,t){var r,n,i,a,s,o,c,u,d,h=1,m=10,g=e,x=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(El+(g.s?"NaN":"-Infinity"));if(g.eq(Ho))return new v(0);if(t==null?(oi=!1,u=y):u=t,g.eq(10))return t==null&&(oi=!0),m5(v,u);if(u+=m,v.precision=u,r=Gc(x),n=r.charAt(0),a=ta(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Gc(g.d),n=r.charAt(0),h++;a=ta(g),n>1?(g=new v("0."+r),a++):g=new v(n+"."+r.slice(1))}else return c=m5(v,u+2,y).times(a+""),g=ag(new v(n+"."+r.slice(1)),u-m).plus(c),v.precision=y,t==null?(oi=!0,In(g,y)):g;for(o=s=g=Fu(g.minus(Ho),g.plus(Ho),u),d=In(g.times(g),u),i=3;;){if(s=In(s.times(d),u),c=o.plus(Fu(s,new v(i),u)),Gc(c.d).slice(0,u)===Gc(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(m5(v,u+2,y).times(a+""))),o=Fu(o,new v(h),u),v.precision=y,t==null?(oi=!0,In(o,y)):o;o=c,i+=2}}function Qk(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=p0(r/Kn),e.d=[],n=(r+1)%Kn,r<0&&(n+=Kn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Kn;n<i;)e.d.push(+t.slice(n,n+=Kn));t=t.slice(n),n=Kn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),oi&&(e.e>By||e.e<-By))throw Error(Jj+r)}else e.s=0,e.e=0,e.d=[0];return e}function In(e,t,r){var n,i,a,s,o,c,u,d,h=e.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Kn,i=t,u=h[d=0];else{if(d=Math.ceil((n+1)/Kn),a=h.length,d>=a)return e;for(u=a=h[d],s=1;a>=10;a/=10)s++;n%=Kn,i=n-Kn+s}if(r!==void 0&&(a=qf(10,s-i-1),o=u/a%10|0,c=t<0||h[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/qf(10,s-i):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(a=ta(e),h.length=1,t=t-a-1,h[0]=qf(10,(Kn-t%Kn)%Kn),e.e=p0(-t/Kn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=qf(10,Kn-n),h[d]=i>0?(u/qf(10,s-i)%qf(10,i)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==Oa&&(h[0]=1,++e.e);break}else{if(h[d]+=a,h[d]!=Oa)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(oi&&(e.e>By||e.e<-By))throw Error(Jj+ta(e));return e}function JM(e,t){var r,n,i,a,s,o,c,u,d,h,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),oi?In(t,g):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=h.length):(r=h,n=u,o=c.length),i=Math.max(Math.ceil(g/Kn),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),o=c.length,i=h.length-o;i>0;--i)c[o++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=Oa-1;--c[a],c[i]+=Oa}c[i]-=h[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,oi?In(t,g):t):new m(0)}function xh(e,t,r){var n,i=ta(e),a=Gc(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Wd(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Wd(-i-1)+a,r&&(n=r-s)>0&&(a+=Wd(n))):i>=s?(a+=Wd(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Wd(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Wd(n))),e.s<0?"-"+a:a}function eC(e,t){if(e.length>t)return e.length=t,!0}function ZM(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(lh+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Qk(s,a.toString())}else if(typeof a!="string")throw Error(lh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,zte.test(a))Qk(s,a);else throw Error(lh+a)}if(i.prototype=Qt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZM,i.config=i.set=Wte,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Wte(e){if(!e||typeof e!="object")throw Error(El+"Object expected");var t,r,n,i=["precision",1,h0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(p0(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(lh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(lh+r+": "+n);return this}var Zj=ZM($te);Ho=new Zj(1);const Sn=Zj;var qte=e=>e,QM={},eF=e=>e===QM,tC=e=>function t(){return arguments.length===0||arguments.length===1&&eF(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},tF=(e,t)=>e===1?t:tC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==QM).length;return a>=e?t(...n):tF(e-a,tC(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(d=>eF(d)?o.shift():d);return t(...u,...o)}))}),Hte=e=>tF(e.length,e),X_=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Vte=Hte((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Kte=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return qte;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,c)=>c(o),a(...arguments))}};function rF(e){var t;return e===0?t=1:t=Math.floor(new Sn(e).abs().log(10).toNumber())+1,t}function nF(e,t,r){for(var n=new Sn(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var iF=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},aF=(e,t,r)=>{if(e.lte(0))return new Sn(0);var n=rF(e.toNumber()),i=new Sn(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Sn(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return t?new Sn(c.toNumber()):new Sn(Math.ceil(c.toNumber()))},Gte=(e,t,r)=>{var n=new Sn(1),i=new Sn(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Sn(10).pow(rF(e)-1),i=new Sn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Sn(Math.floor(e)))}else e===0?i=new Sn(Math.floor((t-1)/2)):r||(i=new Sn(Math.floor(e)));var s=Math.floor((t-1)/2),o=Kte(Vte(c=>i.add(new Sn(c-s).mul(n)).toNumber()),X_);return o(0,t)},sF=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Sn(0),tickMin:new Sn(0),tickMax:new Sn(0)};var s=aF(new Sn(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new Sn(0):(o=new Sn(t).add(r).div(2),o=o.sub(new Sn(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Sn(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?sF(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new Sn(c).mul(s)),tickMax:o.add(new Sn(u).mul(s))})},Yte=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,c]=iF([r,n]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...X_(0,i-1).map(()=>1/0)]:[...X_(0,i-1).map(()=>-1/0),c];return r>n?u.reverse():u}if(o===c)return Gte(o,i,a);var{step:d,tickMin:h,tickMax:m}=sF(o,c,s,a,0),g=nF(h,m.add(new Sn(.1).mul(d)),d);return r>n?g.reverse():g},Xte=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=iF([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var c=Math.max(r,2),u=aF(new Sn(o).sub(s).div(c-1),a,0),d=[...nF(new Sn(s),new Sn(o),u),o];return a===!1&&(d=d.map(h=>Math.round(h))),n>i?d.reverse():d},oF=e=>e.rootProps.maxBarSize,Jte=e=>e.rootProps.barGap,lF=e=>e.rootProps.barCategoryGap,Zte=e=>e.rootProps.barSize,Bg=e=>e.rootProps.stackOffset,cF=e=>e.rootProps.reverseStackOrder,Qj=e=>e.options.chartName,eA=e=>e.rootProps.syncId,uF=e=>e.rootProps.syncMethod,tA=e=>e.options.eventEmitter,Qte=e=>e.rootProps.baseValue,yi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Du={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Bo={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},cb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ere={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Du.angleAxisId,includeHidden:!1,name:void 0,reversed:Du.reversed,scale:Du.scale,tick:Du.tick,tickCount:void 0,ticks:void 0,type:Du.type,unit:void 0},tre={allowDataOverflow:Bo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bo.scale,tick:Bo.tick,tickCount:Bo.tickCount,ticks:void 0,type:Bo.type,unit:void 0},rre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Du.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Du.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Du.scale,tick:Du.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},nre={allowDataOverflow:Bo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bo.scale,tick:Bo.tick,tickCount:Bo.tickCount,ticks:void 0,type:"category",unit:void 0},rA=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?rre:ere,nA=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?nre:tre,ub=e=>e.polarOptions,iA=et([id,ad,pa],oM),dF=et([ub,iA],(e,t)=>{if(e!=null)return Ps(e.innerRadius,t,0)}),fF=et([ub,iA],(e,t)=>{if(e!=null)return Ps(e.outerRadius,t,t*.8)}),ire=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},hF=et([ub],ire);et([rA,hF],cb);var pF=et([iA,dF,fF],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});et([nA,pF],cb);var mF=et([qr,ub,dF,fF,id,ad],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:Ps(s,i,i/2),cy:Ps(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),li=(e,t)=>t,Ug=(e,t,r)=>r;function db(e){return e?.id}function gF(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=db(o);u.forEach((h,m)=>{var g=a==null||i?m:String(Yr(h,a,null)),x=Yr(h,o.dataKey,0),v;s.has(g)?v=s.get(g):v={},Object.assign(v,{[d]:x}),s.set(g,v)})}}),Array.from(s.values())}function fb(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var hb=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function pb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function are(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var ga=e=>{var t=qr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},m0=e=>e.tooltip.settings.axisId;function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sre(e,t,r){return(t=ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ore(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J_=[0,"auto"],Ca={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},vF=(e,t)=>e.cartesianAxis.xAxis[t],ld=(e,t)=>{var r=vF(e,t);return r??Ca},Da={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:J_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Cg},xF=(e,t)=>e.cartesianAxis.yAxis[t],cd=(e,t)=>{var r=xF(e,t);return r??Da},Lu={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aA=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Lu},wi=(e,t,r)=>{switch(t){case"xAxis":return ld(e,r);case"yAxis":return cd(e,r);case"zAxis":return aA(e,r);case"angleAxis":return rA(e,r);case"radiusAxis":return nA(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cre=(e,t,r)=>{switch(t){case"xAxis":return ld(e,r);case"yAxis":return cd(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$g=(e,t,r)=>{switch(t){case"xAxis":return ld(e,r);case"yAxis":return cd(e,r);case"angleAxis":return rA(e,r);case"radiusAxis":return nA(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yF=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function sA(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var g0=e=>e.graphicalItems.cartesianItems,ure=et([li,Ug],sA),oA=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),zg=et([g0,wi,ure],oA,{memoizeOptions:{resultEqualityCheck:pb}}),bF=et([zg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(fb)),wF=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),dre=et([zg],wF),lA=e=>e.map(t=>t.data).filter(Boolean).flat(1),fre=et([zg],lA,{memoizeOptions:{resultEqualityCheck:pb}}),cA=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},uA=et([fre,lb],cA),dA=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Yr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Yr(i,n)}))):e.map(n=>({value:n})),mb=et([uA,wi,zg],dA);function SF(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function qx(e){if(Qc(e)||e instanceof Date){var t=Number(e);if(Ln(t))return t}}function nC(e){if(Array.isArray(e)){var t=[qx(e[0]),qx(e[1])];return af(t)?t:void 0}var r=qx(e);if(r!=null)return[r,r]}function Xu(e){return e.map(qx).filter(aG)}function hre(e,t,r){return!r||typeof t!="number"||jl(t)?[]:r.length?Xu(r.flatMap(n=>{var i=Yr(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Ln(a)||!Ln(s)))return[t-a,t+s]})):[]}var va=e=>{var t=ga(e),r=m0(e);return $g(e,t,r)},Wg=et([va],e=>e?.dataKey),pre=et([bF,lb,va],gF),_F=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var c=s[o.stackId];return c==null&&(c=[]),c.push(o),s[o.stackId]=c,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,c]=s,u=n?[...c].reverse():c,d=u.map(db);return[o,{stackedData:OX(e,d,r),graphicalItems:u}]}))},$y=et([pre,bF,Bg,cF],_F),NF=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=MX(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},mre=et([wi],e=>e.allowDataOverflow),fA=e=>{var t;if(e==null||!("domain"in e))return J_;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Xu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:J_},hA=et([wi],fA),pA=et([hA,mre],KM),gre=et([$y,od,li,pA],NF,{memoizeOptions:{resultEqualityCheck:hb}}),gb=e=>e.errorBars,vre=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>SF(r,n)),zy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},mA=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var u,d,h=(u=n[c.id])===null||u===void 0?void 0:u.filter(w=>SF(i,w)),m=Yr(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),g=hre(o,m,h);if(g.length>=2){var x=Math.min(...g),v=Math.max(...g);(a==null||x<a)&&(a=x),(s==null||v>s)&&(s=v)}var y=nC(m);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var c=nC(Yr(o,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Ln(a)&&Ln(s))return[a,s]},xre=et([uA,wi,dre,gb,li],mA,{memoizeOptions:{resultEqualityCheck:hb}});function yre(e){var{value:t}=e;if(Qc(t)||t instanceof Date)return t}var bre=(e,t,r)=>{var n=e.map(yre).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&$L(n))?dM(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},jF=e=>e.referenceElements.dots,v0=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),wre=et([jF,li,Ug],v0),AF=e=>e.referenceElements.areas,Sre=et([AF,li,Ug],v0),EF=e=>e.referenceElements.lines,_re=et([EF,li,Ug],v0),PF=(e,t)=>{if(e!=null){var r=Xu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Nre=et(wre,li,PF),TF=(e,t)=>{if(e!=null){var r=Xu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},jre=et([Sre,li],TF);function Are(e){var t;if(e.x!=null)return Xu([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Xu(r)}function Ere(e){var t;if(e.y!=null)return Xu([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Xu(r)}var kF=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Are(n):Ere(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Pre=et([_re,li],kF),Tre=et(Nre,Pre,jre,(e,t,r)=>zy(e,r,t)),gA=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?zy(n,a,i):zy(a,i);return Ute(t,u,e.allowDataOverflow)},kre=et([wi,hA,pA,gre,xre,Tre,qr,li],gA,{memoizeOptions:{resultEqualityCheck:hb}}),Cre=[0,1],vA=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=nu(t,a);if(u&&o==null){var d;return dM(0,(d=r?.length)!==null&&d!==void 0?d:0)}return c==="category"?bre(n,e,u):i==="expand"?Cre:s}},xA=et([wi,qr,uA,mb,Bg,li,kre],vA),CF=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Eg(a));return o in vm?o:"point"}}},x0=et([wi,qr,yF,Qj,li],CF);function Dre(e){if(e!=null){if(e in vm)return vm[e]();var t="scale".concat(Eg(e));if(t in vm)return vm[t]()}}function yA(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Dre(t);if(i!=null){var a=i.domain(r).range(n);return PX(a),a}}}var bA=(e,t,r)=>{var n=fA(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&af(e))return Yte(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&af(e))return Xte(e,t.tickCount,t.allowDecimals)}},wA=et([xA,$g,x0],bA),SA=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&af(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},Ore=et([wi,xA,wA,li],SA),Ire=et(mb,wi,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Xu(e.map(h=>h.value))).sort((h,m)=>h-m),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var c=n[o],u=n[o+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/s}}),DF=et(Ire,qr,lF,pa,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!Ln(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Ps(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),Rre=(e,t,r)=>{var n=ld(e,t);return n==null||typeof n.padding!="string"?0:DF(e,"xAxis",t,r,n.padding)},Lre=(e,t,r)=>{var n=cd(e,t);return n==null||typeof n.padding!="string"?0:DF(e,"yAxis",t,r,n.padding)},Mre=et(ld,Rre,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Fre=et(cd,Lre,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Bre=et([pa,Mre,X1,Y1,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Ure=et([pa,qr,Fre,X1,Y1,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),qg=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Bre(e,r,n);case"yAxis":return Ure(e,r,n);case"zAxis":return(i=aA(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return hF(e);case"radiusAxis":return pF(e,r);default:return}},OF=et([wi,qg],cb),vb=et([wi,x0,Ore,OF],yA);et([zg,gb,li],vre);function IF(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var xb=(e,t)=>t,yb=(e,t,r)=>r,$re=et(K1,xb,yb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IF)),zre=et(G1,xb,yb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IF)),RF=(e,t)=>({width:e.width,height:t.height}),Wre=(e,t)=>{var r=typeof t.width=="number"?t.width:Cg;return{width:r,height:e.height}},LF=et(pa,ld,RF),qre=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Hre=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Vre=et(ad,pa,$re,xb,yb,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=RF(t,o);s==null&&(s=qre(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),Kre=et(id,pa,zre,xb,yb,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=Wre(t,o);s==null&&(s=Hre(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),Gre=(e,t)=>{var r=ld(e,t);if(r!=null)return Vre(e,r.orientation,r.mirror)},Yre=et([pa,ld,Gre,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Xre=(e,t)=>{var r=cd(e,t);if(r!=null)return Kre(e,r.orientation,r.mirror)},Jre=et([pa,cd,Xre,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),MF=et(pa,cd,(e,t)=>{var r=typeof t.width=="number"?t.width:Cg;return{width:r,height:e.height}}),iC=(e,t,r)=>{switch(t){case"xAxis":return LF(e,r).width;case"yAxis":return MF(e,r).height;default:return}},FF=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=nu(e,n),c=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&$L(c))return c}},_A=et([qr,mb,wi,li],FF),BF=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=nu(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},NA=et([qr,mb,$g,li],BF),aC=et([qr,cre,x0,vb,_A,NA,qg,wA,li],(e,t,r,n,i,a,s,o,c)=>{if(t!=null){var u=nu(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),Zre=(e,t,r,n,i,a,s,o,c)=>{if(!(t==null||n==null)){var u=nu(e,c),{type:d,ticks:h,tickCount:m}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=d==="category"&&n.bandwidth?n.bandwidth()/g:0;x=c==="angleAxis"&&a!=null&&a.length>=2?La(a[0]-a[1])*2*x:x;var v=h||i;if(v){var y=v.map((w,_)=>{var S=s?s.indexOf(w):w;return{index:_,coordinate:n(S)+x,value:w,offset:x}});return y.filter(w=>Ln(w.coordinate))}return u&&o?o.map((w,_)=>({coordinate:n(w)+x,value:w,index:_,offset:x})).filter(w=>Ln(w.coordinate)):n.ticks?n.ticks(m).map(w=>({coordinate:n(w)+x,value:w,offset:x})):n.domain().map((w,_)=>({coordinate:n(w)+x,value:s?s[w]:w,index:_,offset:x}))}},UF=et([qr,$g,x0,vb,wA,qg,_A,NA,li],Zre),Qre=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=nu(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&n?.length>=2?La(n[0]-n[1])*2*u:u,o&&a?a.map((d,h)=>({coordinate:r(d)+u,value:d,index:h,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,h)=>({coordinate:r(d)+u,value:i?i[d]:d,index:h,offset:u}))}},Pl=et([qr,$g,vb,qg,_A,NA,li],Qre),Tl=et(wi,vb,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})}),ene=et([wi,x0,xA,OF],yA),tne=et((e,t,r)=>aA(e,r),ene,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})}),rne=et([qr,K1,G1],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$F=e=>e.options.defaultTooltipEventType,zF=e=>e.options.validateTooltipEventTypes;function WF(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function jA(e,t){var r=$F(e),n=zF(e);return WF(t,r,n)}function nne(e){return Yt(t=>jA(t,e))}var qF=(e,t)=>{var r,n=Number(t);if(!(jl(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},ine=e=>e.tooltip.settings,Vd={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ane={itemInteraction:{click:Vd,hover:Vd},axisInteraction:{click:Vd,hover:Vd},keyboardInteraction:Vd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},HF=bo({name:"tooltip",initialState:ane,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:si()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=vc(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:si()},removeTooltipEntrySettings:{reducer(e,t){var r=vc(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:si()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:sne,replaceTooltipEntrySettings:one,removeTooltipEntrySettings:lne,setTooltipSettingsState:cne,setActiveMouseOverItemIndex:VF,mouseLeaveItem:une,mouseLeaveChart:KF,setActiveClickItemIndex:dne,setMouseOverAxisIndex:GF,setMouseClickAxisIndex:fne,setSyncInteraction:Z_,setKeyboardInteraction:Q_}=HF.actions,hne=HF.reducer;function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){pne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pne(e,t,r){return(t=mne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mne(e){var t=gne(e,"string");return typeof t=="symbol"?t:t+""}function gne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vne(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function xne(e){return e.index!=null}var YF=(e,t,r,n)=>{if(t==null)return Vd;var i=vne(e,t,r);if(i==null)return Vd;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(xne(i)){if(a)return dx(dx({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return dx(dx({},Vd),{},{coordinate:i.coordinate})};function yne(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function bne(e,t){var r=yne(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function wne(e,t,r){if(r==null||t==null)return!0;var n=Yr(e,t);return n==null||!af(r)?!0:bne(n,r)}var AA=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Ln(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var c=Math.max(s,Math.min(a,o)),u=t[c];return u==null||wne(u,r,n)?String(c):null},XF=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,a);if(u!=null)return u;var d=i?.[Number(a)];if(d)return r==="horizontal"?{x:d.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:d.coordinate}}},JF=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Hg=e=>e.options.tooltipPayloadSearcher,y0=e=>e.tooltip;function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){Sne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sne(e,t,r){return(t=_ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=Nne(e,"string");return typeof t=="symbol"?t:t+""}function Nne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jne(e,t){return e??t}var ZF=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,h=[];return e.reduce((m,g)=>{var x,{dataDefinedOnItem:v,settings:y}=g,w=jne(v,o),_=Array.isArray(w)?R8(w,u,d):w,S=(x=y?.dataKey)!==null&&x!==void 0?x:n,E=y?.nameKey,T;if(n&&Array.isArray(_)&&!Array.isArray(_[0])&&s==="axis"?T=zL(_,n,i):T=a(_,t,c,E),Array.isArray(T))T.forEach(C=>{var O=lC(lC({},y),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});m.push(dT({tooltipEntrySettings:O,dataKey:C.dataKey,payload:C.payload,value:Yr(C.payload,C.dataKey),name:C.name}))});else{var D;m.push(dT({tooltipEntrySettings:y,dataKey:S,payload:T,value:Yr(T,S),name:(D=Yr(T,E))!==null&&D!==void 0?D:y?.name}))}return m},h)}},EA=et([va,qr,yF,Qj,ga],CF),Ane=et([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ene=et([ga,m0],sA),b0=et([Ane,va,Ene],oA,{memoizeOptions:{resultEqualityCheck:pb}}),Pne=et([b0],e=>e.filter(fb)),Tne=et([b0],lA,{memoizeOptions:{resultEqualityCheck:pb}}),w0=et([Tne,od],cA),kne=et([Pne,od,va],gF),PA=et([w0,va,b0],dA),QF=et([va],fA),Cne=et([va],e=>e.allowDataOverflow),e7=et([QF,Cne],KM),Dne=et([b0],e=>e.filter(fb)),One=et([kne,Dne,Bg,cF],_F),Ine=et([One,od,ga,e7],NF),Rne=et([b0],wF),Lne=et([w0,va,Rne,gb,ga],mA,{memoizeOptions:{resultEqualityCheck:hb}}),Mne=et([jF,ga,m0],v0),Fne=et([Mne,ga],PF),Bne=et([AF,ga,m0],v0),Une=et([Bne,ga],TF),$ne=et([EF,ga,m0],v0),zne=et([$ne,ga],kF),Wne=et([Fne,zne,Une],zy),qne=et([va,QF,e7,Ine,Lne,Wne,qr,ga],gA),Vg=et([va,qr,w0,PA,Bg,ga,qne],vA),Hne=et([Vg,va,EA],bA),Vne=et([va,Vg,Hne,ga],SA),t7=e=>{var t=ga(e),r=m0(e),n=!1;return qg(e,t,r,n)},r7=et([va,t7],cb),n7=et([va,EA,Vne,r7],yA),Kne=et([qr,PA,va,ga],FF),Gne=et([qr,PA,va,ga],BF),Yne=(e,t,r,n,i,a,s,o)=>{if(t){var{type:c}=t,u=nu(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&i?.length>=2?La(i[0]-i[1])*2*h:h,u&&s?s.map((m,g)=>({coordinate:n(m)+h,value:m,index:g,offset:h})):n.domain().map((m,g)=>({coordinate:n(m)+h,value:a?a[m]:m,index:g,offset:h}))}}},ud=et([qr,va,EA,n7,t7,Kne,Gne,ga],Yne),TA=et([$F,zF,ine],(e,t,r)=>WF(r.shared,e,t)),i7=e=>e.tooltip.settings.trigger,kA=e=>e.tooltip.settings.defaultIndex,Kg=et([y0,TA,i7,kA],YF),Ju=et([Kg,w0,Wg,Vg],AA),a7=et([ud,Ju],qF),CA=et([Kg],e=>{if(e)return e.dataKey}),Xne=et([Kg],e=>{if(e)return e.graphicalItemId}),s7=et([y0,TA,i7,kA],JF),Jne=et([id,ad,qr,pa,ud,kA,s7,Hg],XF),Zne=et([Kg,Jne],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Qne=et([Kg],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),eie=et([s7,Ju,od,Wg,a7,Hg,TA],ZF),tie=et([eie],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){rie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rie(e,t,r){return(t=nie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nie(e){var t=iie(e,"string");return typeof t=="symbol"?t:t+""}function iie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aie=()=>Yt(va),sie=()=>{var e=aie(),t=Yt(ud),r=Yt(n7);return nf(!e||!r?void 0:uC(uC({},e),{},{scale:r}),t)};function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){oie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oie(e,t,r){return(t=lie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lie(e){var t=cie(e,"string");return typeof t=="symbol"?t:t+""}function cie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uie=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},die=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return mp(mp(mp({},n),ea(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=n;return mp(mp(mp({},n),ea(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function fie(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var o7=(e,t,r,n,i)=>{var a,s=(a=t?.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var c,u,d,h,m,g=o>0?(c=r[o-1])===null||c===void 0?void 0:c.coordinate:(u=r[s-1])===null||u===void 0?void 0:u.coordinate,x=(d=r[o])===null||d===void 0?void 0:d.coordinate,v=o>=s-1?(h=r[0])===null||h===void 0?void 0:h.coordinate:(m=r[o+1])===null||m===void 0?void 0:m.coordinate,y=void 0;if(!(g==null||x==null||v==null))if(La(x-g)!==La(v-x)){var w=[];if(La(v-x)===La(i[1]-i[0])){y=v;var _=x+i[1]-i[0];w[0]=Math.min(_,(_+g)/2),w[1]=Math.max(_,(_+g)/2)}else{y=g;var S=v+i[1]-i[0];w[0]=Math.min(x,(S+x)/2),w[1]=Math.max(x,(S+x)/2)}var E=[Math.min(x,(y+x)/2),Math.max(x,(y+x)/2)];if(e>E[0]&&e<=E[1]||e>=w[0]&&e<=w[1]){var T;return(T=r[o])===null||T===void 0?void 0:T.index}}else{var D=Math.min(g,v),C=Math.max(g,v);if(e>(D+x)/2&&e<=(C+x)/2){var O;return(O=r[o])===null||O===void 0?void 0:O.index}}}else if(t)for(var R=0;R<s;R++){var H=t[R];if(H!=null){var F=t[R+1],U=t[R-1];if(R===0&&F!=null&&e<=(H.coordinate+F.coordinate)/2||R===s-1&&U!=null&&e>(H.coordinate+U.coordinate)/2||R>0&&R<s-1&&U!=null&&F!=null&&e>(H.coordinate+U.coordinate)/2&&e<=(H.coordinate+F.coordinate)/2)return H.index}}return-1},l7=()=>Yt(Qj),DA=(e,t)=>t,c7=(e,t,r)=>r,OA=(e,t,r,n)=>n,hie=et(ud,e=>M1(e,t=>t.coordinate)),IA=et([y0,DA,c7,OA],YF),RA=et([IA,w0,Wg,Vg],AA),pie=(e,t,r)=>{if(t!=null){var n=y0(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},u7=et([y0,DA,c7,OA],JF),Wy=et([id,ad,qr,pa,ud,OA,u7,Hg],XF),mie=et([IA,Wy],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),d7=et([ud,RA],qF),gie=et([u7,RA,od,Wg,d7,Hg,DA],ZF),vie=et([IA,RA],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),xie=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&fie(e,s)){var o=FX(e,t),c=o7(o,a,i,r,n),u=uie(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},yie=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=rQ(e,r);if(o){var c=BX(o,t),u=o7(c,s,a,n,i),d=die(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},bie=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?xie(e,t,n,i,a,s,o):yie(e,t,r,n,i,a,s)},wie=et(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Sie=et(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(yi)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:are}});function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){_ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ie(e,t,r){return(t=Nie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nie(e){var t=jie(e,"string");return typeof t=="symbol"?t:t+""}function jie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aie={},Eie={zIndexMap:Object.values(yi).reduce((e,t)=>hC(hC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Aie)},Pie=new Set(Object.values(yi));function Tie(e){return Pie.has(e)}var f7=bo({name:"zIndex",initialState:Eie,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:si()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Tie(r)&&delete e.zIndexMap[r])},prepare:si()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:si()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:si()}}}),{registerZIndexPortal:kie,unregisterZIndexPortal:Cie,registerZIndexPortalElement:Die,unregisterZIndexPortalElement:Oie}=f7.actions,Iie=f7.reducer;function as(e){var{zIndex:t,children:r}=e,n=vJ(),i=n&&t!==void 0&&t!==0,a=na(),s=Mn();A.useLayoutEffect(()=>i?(s(kie({zIndex:t})),()=>{s(Cie({zIndex:t}))}):Pg,[s,t,i]);var o=Yt(c=>wie(c,t,a));return i?o?ij.createPortal(r,o):null:r}function eN(){return eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eN.apply(null,arguments)}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){Rie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rie(e,t,r){return(t=Lie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lie(e){var t=Mie(e,"string");return typeof t=="symbol"?t:t+""}function Mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fie(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return A.isValidElement(t)?A.cloneElement(t,n):A.createElement(r,n)}function Bie(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,h=r,m=n,g=i;if(!c||!h||d!=="ScatterChart"&&u!=="axis")return null;var x,v,y;if(d==="ScatterChart")x=h,v=gZ,y=yi.cursorLine;else if(d==="BarChart")x=vZ(o,h,a,s),v=sM,y=yi.cursorRectangle;else if(o==="radial"&&qL(h)){var{cx:w,cy:_,radius:S,startAngle:E,endAngle:T}=lM(h);x={cx:w,cy:_,startAngle:E,endAngle:T,innerRadius:S,outerRadius:S},v=uM,y=yi.cursorLine}else x={points:sQ(o,h,a)},v=sh,y=yi.cursorLine;var D=typeof c=="object"&&"className"in c?c.className:void 0,C=fx(fx(fx(fx({stroke:"#ccc",pointerEvents:"none"},a),x),rf(c)),{},{payload:m,payloadIndex:g,className:Xr("recharts-tooltip-cursor",D)});return A.createElement(as,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},A.createElement(Fie,{cursor:c,cursorComp:v,cursorProps:C}))}function Uie(e){var t=sie(),r=q8(),n=hf(),i=l7();return t==null||r==null||n==null||i==null?null:A.createElement(Bie,eN({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var h7=A.createContext(null),$ie=()=>A.useContext(h7),g5={exports:{}},mC;function zie(){return mC||(mC=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,h||c,m),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,g=h.length,x=new Array(g);m<g;m++)x[m]=h[m].fn;return x},o.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,m,g,x){var v=r?r+u:u;if(!this._events[v])return!1;var y=this._events[v],w=arguments.length,_,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,m),!0;case 5:return y.fn.call(y.context,d,h,m,g),!0;case 6:return y.fn.call(y.context,d,h,m,g,x),!0}for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];y.fn.apply(y.context,_)}else{var E=y.length,T;for(S=0;S<E;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),w){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,h);break;case 4:y[S].fn.call(y[S].context,d,h,m);break;default:if(!_)for(T=1,_=new Array(w-1);T<w;T++)_[T-1]=arguments[T];y[S].fn.apply(y[S].context,_)}}return!0},o.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,m){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return s(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!m||x.once)&&(!h||x.context===h)&&s(this,g);else{for(var v=0,y=[],w=x.length;v<w;v++)(x[v].fn!==d||m&&!x[v].once||h&&x[v].context!==h)&&y.push(x[v]);y.length?this._events[g]=y.length===1?y[0]:y:s(this,g)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(g5)),g5.exports}var Wie=zie();const qie=wc(Wie);var sg=new qie,tN="recharts.syncEvent.tooltip",gC="recharts.syncEvent.brush";function S0(e,t){if(t){var r=Number.parseInt(t,10);if(!jl(r))return e?.[r]}}var Hie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},p7=bo({name:"options",initialState:Hie,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Vie=p7.reducer,{createEventEmitter:Kie}=p7.actions;function Gie(e){return e.tooltip.syncInteraction}var Yie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},m7=bo({name:"chartData",initialState:Yie,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:vC,setDataStartEndIndexes:Xie,setComputedData:E3e}=m7.actions,Jie=m7.reducer,Zie=["x","y"];function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(r),!0).forEach(function(n){Qie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qie(e,t,r){return(t=eae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eae(e){var t=tae(e,"string");return typeof t=="symbol"?t:t+""}function tae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rae(e,t){if(e==null)return{};var r,n,i=nae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iae(){var e=Yt(eA),t=Yt(tA),r=Mn(),n=Yt(uF),i=Yt(ud),a=hf(),s=Dg(),o=Yt(c=>c.rootProps.className);A.useEffect(()=>{if(e==null)return Pg;var c=(u,d,h)=>{if(t!==h&&e===u){if(n==="index"){var m;if(s&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var g=d.payload.coordinate,{x,y:v}=g,y=rae(g,Zie),{x:w,y:_,width:S,height:E}=d.payload.sourceViewBox,T=gp(gp({},y),{},{x:s.x+(S?(x-w)/S:0)*s.width,y:s.y+(E?(v-_)/E:0)*s.height});r(gp(gp({},d),{},{payload:gp(gp({},d.payload),{},{coordinate:T})}))}else r(d);return}if(i!=null){var D;if(typeof n=="function"){var C={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=n(i,C);D=i[O]}else n==="value"&&(D=i.find(ve=>String(ve.value)===d.payload.label));var{coordinate:R}=d.payload;if(D==null||d.payload.active===!1||R==null||s==null){r(Z_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:H,y:F}=R,U=Math.min(H,s.x+s.width),M=Math.min(F,s.y+s.height),q={x:a==="horizontal"?D.coordinate:U,y:a==="horizontal"?M:D.coordinate},ee=Z_({active:d.payload.active,coordinate:q,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(ee)}}};return sg.on(tN,c),()=>{sg.off(tN,c)}},[o,r,t,e,n,i,a,s])}function aae(){var e=Yt(eA),t=Yt(tA),r=Mn();A.useEffect(()=>{if(e==null)return Pg;var n=(i,a,s)=>{t!==s&&e===i&&r(Xie(a))};return sg.on(gC,n),()=>{sg.off(gC,n)}},[r,t,e])}function sae(){var e=Mn();A.useEffect(()=>{e(Kie())},[e]),iae(),aae()}function oae(e,t,r,n,i,a){var s=Yt(g=>pie(g,e,t)),o=Yt(tA),c=Yt(eA),u=Yt(uF),d=Yt(Gie),h=d?.active,m=Dg();A.useEffect(()=>{if(!h&&c!=null&&o!=null){var g=Z_({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});sg.emit(tN,c,g,o)}},[h,r,s,i,n,o,c,u,a,m])}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){lae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lae(e,t,r){return(t=cae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cae(e){var t=uae(e,"string");return typeof t=="symbol"?t:t+""}function uae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dae(e){return e.dataKey}function fae(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(YJ,t)}var wC=[],hae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ku(e){var t,r,n=Jn(e,hae),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:m,position:g,reverseDirection:x,useTranslate3d:v,wrapperStyle:y,cursor:w,shared:_,trigger:S,defaultIndex:E,portal:T,axisId:D}=n,C=Mn(),O=typeof E=="number"?String(E):E;A.useEffect(()=>{C(cne({shared:_,trigger:S,axisId:D,active:i,defaultIndex:O}))},[C,_,S,D,i,O]);var R=Dg(),H=tM(),F=nne(_),{activeIndex:U,isActive:M}=(t=Yt(Ae=>vie(Ae,F,S,O)))!==null&&t!==void 0?t:{},q=Yt(Ae=>gie(Ae,F,S,O)),ee=Yt(Ae=>d7(Ae,F,S,O)),ve=Yt(Ae=>mie(Ae,F,S,O)),he=q,ce=$ie(),be=(r=i??M)!==null&&r!==void 0?r:!1,[Oe,ae]=a8([he,be]),L=F==="axis"?ee:void 0;oae(F,S,ve,L,U,be);var Y=T??ce;if(Y==null||R==null||F==null)return null;var K=he??wC;be||(K=wC),u&&K.length&&(K=e8(K.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||n.includeHidden)),m,dae));var J=K.length>0,pe=A.createElement(rZ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:be,coordinate:ve,hasPayload:J,offset:h,position:g,reverseDirection:x,useTranslate3d:v,viewBox:R,wrapperStyle:y,lastBoundingBox:Oe,innerRef:ae,hasPortalFromProps:!!T},fae(c,bC(bC({},n),{},{payload:K,label:L,active:be,activeIndex:U,coordinate:ve,accessibilityLayer:H})));return A.createElement(A.Fragment,null,ij.createPortal(pe,Y),be&&A.createElement(Uie,{cursor:w,tooltipEventType:F,coordinate:ve,payload:K,index:U}))}var Ch=e=>null;Ch.displayName="Cell";function pae(e,t,r){return(t=mae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mae(e){var t=gae(e,"string");return typeof t=="symbol"?t:t+""}function gae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vae{constructor(t){pae(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){yae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yae(e,t,r){return(t=bae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bae(e){var t=wae(e,"string");return typeof t=="symbol"?t:t+""}function wae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sae={cacheSize:2e3,enableCache:!0},g7=xae({},Sae),_C=new vae(g7.cacheSize),_ae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NC="recharts_measurement_span";function Nae(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var jC=(e,t)=>{try{var r=document.getElementById(NC);r||(r=document.createElement("span"),r.setAttribute("id",NC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,_ae,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Nm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ig.isSsr)return{width:0,height:0};if(!g7.enableCache)return jC(t,r);var n=Nae(t,r),i=_C.get(n);if(i)return i;var a=jC(t,r);return _C.set(n,a),a},v7;function jae(e,t,r){return(t=Aae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aae(e){var t=Eae(e,"string");return typeof t=="symbol"?t:t+""}function Eae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kae={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cae=["cm","mm","pt","pc","in","Q","px"];function Dae(e){return Cae.includes(e)}var Dp="NaN";function Oae(e,t){return e*kae[t]}class Za{static parse(t){var r,[,n,i]=(r=Tae.exec(t))!==null&&r!==void 0?r:[];return n==null?Za.NaN:new Za(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,jl(t)&&(this.unit=""),r!==""&&!Pae.test(r)&&(this.num=NaN,this.unit=""),Dae(r)&&(this.num=Oae(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Za(NaN,""):new Za(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Za(NaN,""):new Za(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Za(NaN,""):new Za(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Za(NaN,""):new Za(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return jl(this.num)}}v7=Za;jae(Za,"NaN",new v7(NaN,""));function x7(e){if(e==null||e.includes(Dp))return Dp;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=AC.exec(t))!==null&&r!==void 0?r:[],s=Za.parse(n??""),o=Za.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Dp;t=t.replace(AC,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,h,m]=(u=EC.exec(t))!==null&&u!==void 0?u:[],g=Za.parse(d??""),x=Za.parse(m??""),v=h==="+"?g.add(x):g.subtract(x);if(v.isNaN())return Dp;t=t.replace(EC,v.toString())}return t}var PC=/\(([^()]*)\)/;function Iae(e){for(var t=e,r;(r=PC.exec(t))!=null;){var[,n]=r;t=t.replace(PC,x7(n))}return t}function Rae(e){var t=e.replace(/\s+/g,"");return t=Iae(t),t=x7(t),t}function Lae(e){try{return Rae(e)}catch{return Dp}}function v5(e){var t=Lae(e.slice(5,-1));return t===Dp?"":t}var Mae=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Fae=["dx","dy","angle","className","breakAll"];function rN(){return rN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rN.apply(null,arguments)}function TC(e,t){if(e==null)return{};var r,n,i=Bae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var y7=/[ \f\n\r\t\v\u2028\u2029]+/,b7=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];pn(t)||(r?i=t.toString().split(""):i=t.toString().split(y7));var a=i.map(o=>({word:o,width:Nm(o,n).width})),s=r?0:Nm("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Uae(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var w7=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,c=i[i.length-1];if(c&&o!=null&&(t==null||n||c.width+o+r<Number(t)))c.words.push(s),c.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),S7=e=>e.reduce((t,r)=>t.width>r.width?t:r),$ae="",kC=(e,t,r,n,i,a,s,o)=>{var c=e.slice(0,t),u=b7({breakAll:r,style:n,children:c+$ae});if(!u)return[!1,[]];var d=w7(u.wordsWithComputedWidth,a,s,o),h=d.length>i||S7(d).width>Number(a);return[h,d]},zae=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=e,u=Wt(a),d=String(s),h=w7(t,n,r,i);if(!u||i)return h;var m=h.length>a||S7(h).width>Number(n);if(!m)return h;for(var g=0,x=d.length-1,v=0,y;g<=x&&v<=d.length-1;){var w=Math.floor((g+x)/2),_=w-1,[S,E]=kC(d,_,c,o,a,n,r,i),[T]=kC(d,w,c,o,a,n,r,i);if(!S&&!T&&(g=w+1),S&&T&&(x=w-1),!S&&T){y=E;break}v++}return y||h},CC=e=>{var t=pn(e)?[]:e.toString().split(y7);return[{words:t,width:void 0}]},Wae=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Ig.isSsr){var o,c,u=b7({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,c=h}else return CC(n);return zae({breakAll:a,children:n,maxLines:s,style:i},o,c,t,!!r)}return CC(n)},_7="#808080",qae={angle:0,breakAll:!1,capHeight:"0.71em",fill:_7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},bb=A.forwardRef((e,t)=>{var r=Jn(e,qae),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,h=TC(r,Mae),m=A.useMemo(()=>Wae({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:g,dy:x,angle:v,className:y,breakAll:w}=h,_=TC(h,Fae);if(!Qc(n)||!Qc(i)||m.length===0)return null;var S=Number(n)+(Wt(g)?g:0),E=Number(i)+(Wt(x)?x:0);if(!Ln(S)||!Ln(E))return null;var T;switch(d){case"start":T=v5("calc(".concat(s,")"));break;case"middle":T=v5("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:T=v5("calc(".concat(m.length-1," * -").concat(a,")"));break}var D=[];if(c){var C=m[0].width,{width:O}=h;D.push("scale(".concat(Wt(O)&&Wt(C)?O/C:1,")"))}return v&&D.push("rotate(".concat(v,", ").concat(S,", ").concat(E,")")),D.length&&(_.transform=D.join(" ")),A.createElement("text",rN({},Cs(_),{ref:t,x:S,y:E,className:Xr("recharts-text",y),textAnchor:u,fill:o.includes("url")?_7:o}),m.map((R,H)=>{var F=R.words.join(w?"":" ");return A.createElement("tspan",{x:S,dy:H===0?T:a,key:"".concat(F,"-").concat(H)},F)}))});bb.displayName="Text";var Hae=["labelRef"],Vae=["content"];function DC(e,t){if(e==null)return{};var r,n,i=Kae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Kae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){Gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gae(e,t,r){return(t=Yae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ou.apply(null,arguments)}var N7=A.createContext(null),Jae=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,c=A.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return A.createElement(N7.Provider,{value:c},o)},j7=()=>{var e=A.useContext(N7),t=Dg();return e||W8(t)},Zae=A.createContext(null),Qae=()=>{var e=A.useContext(Zae),t=Yt(mF);return e||t},ese=e=>{var{value:t,formatter:r}=e,n=pn(e.children)?t:e.children;return typeof r=="function"?r(n):n},LA=e=>e!=null&&typeof e=="function",tse=(e,t)=>{var r=La(t-e),n=Math.min(Math.abs(t-e),360);return r*n},rse=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:m,clockWise:g}=i,x=(u+d)/2,v=tse(h,m),y=v>=0?1:-1,w,_;switch(t){case"insideStart":w=h+y*a,_=g;break;case"insideEnd":w=m-y*a,_=!g;break;case"end":w=m+y*a,_=g;break;default:throw new Error("Unsupported position ".concat(t))}_=v<=0?_:!_;var S=ea(o,c,x,w),E=ea(o,c,x,w+(_?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),D=pn(e.id)?Km("recharts-radial-line-"):e.id;return A.createElement("text",Ou({},n,{dominantBaseline:"central",className:Xr("recharts-radial-bar-label",s)}),A.createElement("defs",null,A.createElement("path",{id:D,d:T})),A.createElement("textPath",{xlinkHref:"#".concat(D)},r))},nse=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:h}=ea(n,i,s+t,u);return{x:d,y:h,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+s)/2,{x:g,y:x}=ea(n,i,m,u);return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},nN=e=>"cx"in e&&Wt(e.cx),ise=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!nN(r)&&(a=r);var{x:s,y:o,upperWidth:c,lowerWidth:u,height:d}=t,h=s,m=s+(c-u)/2,g=(h+m)/2,x=(c+u)/2,v=h+c/2,y=d>=0?1:-1,w=y*n,_=y>0?"end":"start",S=y>0?"start":"end",E=c>=0?1:-1,T=E*n,D=E>0?"end":"start",C=E>0?"start":"end";if(i==="top"){var O={x:h+c/2,y:o-w,textAnchor:"middle",verticalAnchor:_};return zi(zi({},O),a?{height:Math.max(o-a.y,0),width:c}:{})}if(i==="bottom"){var R={x:m+u/2,y:o+d+w,textAnchor:"middle",verticalAnchor:S};return zi(zi({},R),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var H={x:g-T,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return zi(zi({},H),a?{width:Math.max(H.x-a.x,0),height:d}:{})}if(i==="right"){var F={x:g+x+T,y:o+d/2,textAnchor:C,verticalAnchor:"middle"};return zi(zi({},F),a?{width:Math.max(a.x+a.width-F.x,0),height:d}:{})}var U=a?{width:x,height:d}:{};return i==="insideLeft"?zi({x:g+T,y:o+d/2,textAnchor:C,verticalAnchor:"middle"},U):i==="insideRight"?zi({x:g+x-T,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},U):i==="insideTop"?zi({x:h+c/2,y:o+w,textAnchor:"middle",verticalAnchor:S},U):i==="insideBottom"?zi({x:m+u/2,y:o+d-w,textAnchor:"middle",verticalAnchor:_},U):i==="insideTopLeft"?zi({x:h+T,y:o+w,textAnchor:C,verticalAnchor:S},U):i==="insideTopRight"?zi({x:h+c-T,y:o+w,textAnchor:D,verticalAnchor:S},U):i==="insideBottomLeft"?zi({x:m+T,y:o+d-w,textAnchor:C,verticalAnchor:_},U):i==="insideBottomRight"?zi({x:m+u-T,y:o+d-w,textAnchor:D,verticalAnchor:_},U):i&&typeof i=="object"&&(Wt(i.x)||Hu(i.x))&&(Wt(i.y)||Hu(i.y))?zi({x:s+Ps(i.x,x),y:o+Ps(i.y,d),textAnchor:"end",verticalAnchor:"end"},U):zi({x:v,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},U)},ase={angle:0,offset:5,zIndex:yi.label,position:"middle",textBreakAll:!1};function qd(e){var t=Jn(e,ase),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:c,labelRef:u}=t,d=Qae(),h=j7(),m=n==="center"?h:d??h,g,x,v;if(r==null?g=m:nN(r)?g=r:g=W8(r),!g||pn(i)&&pn(a)&&!A.isValidElement(s)&&typeof s!="function")return null;var y=zi(zi({},t),{},{viewBox:g});if(A.isValidElement(s)){var{labelRef:w}=y,_=DC(y,Hae);return A.cloneElement(s,_)}if(typeof s=="function"){var{content:S}=y,E=DC(y,Vae);if(x=A.createElement(s,E),A.isValidElement(x))return x}else x=ese(t);var T=Cs(t);if(nN(g)){if(n==="insideStart"||n==="insideEnd"||n==="end")return rse(t,n,x,T,g);v=nse(g,t.offset,t.position)}else v=ise(t,g);return A.createElement(as,{zIndex:t.zIndex},A.createElement(bb,Ou({ref:u,className:Xr("recharts-label",o)},T,v,{textAnchor:Uae(T.textAnchor)?T.textAnchor:v.textAnchor,breakAll:c}),x))}qd.displayName="Label";var sse=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?A.createElement(qd,Ou({key:"label-implicit"},n)):Qc(e)?A.createElement(qd,Ou({key:"label-implicit",value:e},n)):A.isValidElement(e)?e.type===qd?A.cloneElement(e,zi({key:"label-implicit"},n)):A.createElement(qd,Ou({key:"label-implicit",content:e},n)):LA(e)?A.createElement(qd,Ou({key:"label-implicit",content:e},n)):e&&typeof e=="object"?A.createElement(qd,Ou({},e,{key:"label-implicit"},n)):null};function ose(e){var{label:t,labelRef:r}=e,n=j7();return sse(t,n,r)||null}var x5={},y5={},IC;function lse(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(y5)),y5}var b5={},RC;function cse(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(b5)),b5}var LC;function use(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lse(),r=cse(),n=fj();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(x5)),x5}var w5,MC;function dse(){return MC||(MC=1,w5=use().last),w5}var fse=dse();const hse=wc(fse);var pse=["valueAccessor"],mse=["dataKey","clockWise","id","textBreakAll","zIndex"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function FC(e,t){if(e==null)return{};var r,n,i=gse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vse=e=>Array.isArray(e.value)?hse(e.value):e.value,A7=A.createContext(void 0),wb=A7.Provider,E7=A.createContext(void 0),xse=E7.Provider;function yse(){return A.useContext(A7)}function bse(){return A.useContext(E7)}function Hx(e){var{valueAccessor:t=vse}=e,r=FC(e,pse),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,c=FC(r,mse),u=yse(),d=bse(),h=u||d;return!h||!h.length?null:A.createElement(as,{zIndex:o??yi.label},A.createElement(Rn,{className:"recharts-label-list"},h.map((m,g)=>{var x,v=pn(n)?t(m,g):Yr(m&&m.payload,n),y=pn(a)?{}:{id:"".concat(a,"-").concat(g)};return A.createElement(qd,qy({key:"label-".concat(g)},Cs(m),c,y,{fill:(x=r.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:v,textBreakAll:s,viewBox:m.viewBox,index:g,zIndex:0}))})))}Hx.displayName="LabelList";function Gg(e){var{label:t}=e;return t?t===!0?A.createElement(Hx,{key:"labelList-implicit"}):A.isValidElement(t)||LA(t)?A.createElement(Hx,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(Hx,qy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iN.apply(null,arguments)}var P7=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=Xr("recharts-dot",i);return Wt(t)&&Wt(r)&&Wt(n)?A.createElement("circle",iN({},ns(e),dj(e),{className:a,cx:t,cy:r,r:n})):null},T7=e=>e.graphicalItems.polarItems,wse=et([li,Ug],sA),Sb=et([T7,wi,wse],oA),Sse=et([Sb],lA),_b=et([Sse,ob],cA),_se=et([_b,wi,Sb],dA);et([_b,wi,Sb],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Yr(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Yr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var BC=()=>{},Nse=et([_b,wi,Sb,gb,li],mA),jse=et([wi,hA,pA,BC,Nse,BC,qr,li],gA),k7=et([wi,qr,_b,_se,Bg,li,jse],vA),Ase=et([k7,wi,x0],bA);et([wi,k7,Ase,li],SA);var Ese={radiusAxis:{},angleAxis:{}},C7=bo({name:"polarAxis",initialState:Ese,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:P3e,removeRadiusAxis:T3e,addAngleAxis:k3e,removeAngleAxis:C3e}=C7.actions,Pse=C7.reducer;function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){Tse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tse(e,t,r){return(t=kse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kse(e){var t=Cse(e,"string");return typeof t=="symbol"?t:t+""}function Cse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dse=(e,t)=>t,MA=et([T7,Dse],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Ose=[],FA=(e,t,r)=>r?.length===0?Ose:r,D7=et([ob,MA,FA],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>$C($C({},t.presentationProps),a.props))),i!=null)return i}}),Ise=et([D7,MA,FA],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Yr(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:iu(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),Rse=et([D7,MA,FA,pa],(e,t,r,n)=>{if(!(t==null||e==null))return Moe({offset:n,pieSettings:t,displayedData:e,cells:r})}),S5={exports:{}},Pn={};var zC;function Lse(){if(zC)return Pn;zC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function x(v){if(typeof v=="object"&&v!==null){var y=v.$$typeof;switch(y){case e:switch(v=v.type,v){case r:case i:case n:case c:case u:case m:return v;default:switch(v=v&&v.$$typeof,v){case s:case o:case h:case d:return v;case a:return v;default:return y}}case t:return y}}}return Pn.ContextConsumer=a,Pn.ContextProvider=s,Pn.Element=e,Pn.ForwardRef=o,Pn.Fragment=r,Pn.Lazy=h,Pn.Memo=d,Pn.Portal=t,Pn.Profiler=i,Pn.StrictMode=n,Pn.Suspense=c,Pn.SuspenseList=u,Pn.isContextConsumer=function(v){return x(v)===a},Pn.isContextProvider=function(v){return x(v)===s},Pn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},Pn.isForwardRef=function(v){return x(v)===o},Pn.isFragment=function(v){return x(v)===r},Pn.isLazy=function(v){return x(v)===h},Pn.isMemo=function(v){return x(v)===d},Pn.isPortal=function(v){return x(v)===t},Pn.isProfiler=function(v){return x(v)===i},Pn.isStrictMode=function(v){return x(v)===n},Pn.isSuspense=function(v){return x(v)===c},Pn.isSuspenseList=function(v){return x(v)===u},Pn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===i||v===n||v===c||v===u||typeof v=="object"&&v!==null&&(v.$$typeof===h||v.$$typeof===d||v.$$typeof===s||v.$$typeof===a||v.$$typeof===o||v.$$typeof===g||v.getModuleId!==void 0)},Pn.typeOf=x,Pn}var WC;function Mse(){return WC||(WC=1,S5.exports=Lse()),S5.exports}var Fse=Mse(),qC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",HC=null,_5=null,O7=e=>{if(e===HC&&Array.isArray(_5))return _5;var t=[];return A.Children.forEach(e,r=>{pn(r)||(Fse.isFragment(r)?t=t.concat(O7(r.props.children)):t.push(r))}),_5=t,HC=e,t};function Nb(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>qC(i)):n=[qC(t)],O7(e).forEach(i=>{var a=ph(i,"type.displayName")||ph(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var BA=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,N5={},VC;function Bse(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(N5)),N5}var j5,KC;function Use(){return KC||(KC=1,j5=Bse().isPlainObject),j5}var $se=Use();const zse=wc($se);var GC,YC,XC,JC,ZC;function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){Wse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wse(e,t,r){return(t=qse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qse(e){var t=Hse(e,"string");return typeof t=="symbol"?t:t+""}function Hse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function cm(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var tD=(e,t,r,n,i)=>{var a=r-n,s;return s=Ci(GC||(GC=cm(["M ",",",""])),e,t),s+=Ci(YC||(YC=cm(["L ",",",""])),e+r,t),s+=Ci(XC||(XC=cm(["L ",",",""])),e+r-a/2,t+i),s+=Ci(JC||(JC=cm(["L ",",",""])),e+r-a/2-n,t+i),s+=Ci(ZC||(ZC=cm(["L ",","," Z"])),e,t),s},Vse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kse=e=>{var t=Jn(e,Vse),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,m=A.useRef(null),[g,x]=A.useState(-1),v=A.useRef(i),y=A.useRef(a),w=A.useRef(s),_=A.useRef(r),S=A.useRef(n),E=Ph(e,"trapezoid-");if(A.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var q=m.current.getTotalLength();q&&x(q)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var T=Xr("recharts-trapezoid",o);if(!h)return A.createElement("g",null,A.createElement("path",Hy({},Cs(t),{className:T,d:tD(r,n,i,a,s)})));var D=v.current,C=y.current,O=w.current,R=_.current,H=S.current,F="0px ".concat(g===-1?1:g,"px"),U="".concat(g,"px 0px"),M=rM(["strokeDasharray"],u,c);return A.createElement(Eh,{animationId:E,key:E,canBegin:g>0,duration:u,easing:c,isActive:h,begin:d},q=>{var ee=Gr(D,i,q),ve=Gr(C,a,q),he=Gr(O,s,q),ce=Gr(R,r,q),be=Gr(H,n,q);m.current&&(v.current=ee,y.current=ve,w.current=he,_.current=ce,S.current=be);var Oe=q>0?{transition:M,strokeDasharray:U}:{strokeDasharray:F};return A.createElement("path",Hy({},Cs(t),{className:T,d:tD(ce,be,ee,ve,he),ref:m,style:eD(eD({},Oe),t.style)}))})},Gse=["option","shapeType","activeClassName"];function Yse(e,t){if(e==null)return{};var r,n,i=Xse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){Jse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jse(e,t,r){return(t=Zse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zse(e){var t=Qse(e,"string");return typeof t=="symbol"?t:t+""}function Qse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eoe(e,t){return Vy(Vy({},t),e)}function toe(e,t){return e==="symbols"}function nD(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return A.createElement(sM,r);case"trapezoid":return A.createElement(Kse,r);case"sector":return A.createElement(uM,r);case"symbols":if(toe(t))return A.createElement(L1,r);break;case"curve":return A.createElement(sh,r);default:return null}}function roe(e){return A.isValidElement(e)?e.props:e}function og(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=Yse(e,Gse),a;if(A.isValidElement(t))a=A.cloneElement(t,Vy(Vy({},i),roe(t)));else if(typeof t=="function")a=t(i,i.index);else if(zse(t)&&typeof t!="boolean"){var s=eoe(t,i);a=A.createElement(nD,{shapeType:r,elementProps:s})}else{var o=i;a=A.createElement(nD,{shapeType:r,elementProps:o})}return i.isActive?A.createElement(Rn,{className:n},a):a}var jb=(e,t,r)=>{var n=Mn();return(i,a)=>s=>{e?.(i,a,s),n(VF({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Ab=e=>{var t=Mn();return(r,n)=>i=>{e?.(r,n,i),t(une())}},Eb=(e,t,r)=>{var n=Mn();return(i,a)=>s=>{e?.(i,a,s),n(dne({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function Yg(e){var{tooltipEntrySettings:t}=e,r=Mn(),n=na(),i=A.useRef(null);return A.useLayoutEffect(()=>{n||(i.current===null?r(sne(t)):i.current!==t&&r(one({prev:i.current,next:t})),i.current=t)},[t,r,n]),A.useLayoutEffect(()=>()=>{i.current&&(r(lne(i.current)),i.current=null)},[r]),null}function Pb(e){var{legendPayload:t}=e,r=Mn(),n=na(),i=A.useRef(null);return A.useLayoutEffect(()=>{n||(i.current===null?r(Z8(t)):i.current!==t&&r(Q8({prev:i.current,next:t})),i.current=t)},[r,n,t]),A.useLayoutEffect(()=>()=>{i.current&&(r(eM(i.current)),i.current=null)},[r]),null}function noe(e){var{legendPayload:t}=e,r=Mn(),n=Yt(qr),i=A.useRef(null);return A.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(Z8(t)):i.current!==t&&r(Q8({prev:i.current,next:t})),i.current=t)},[r,n,t]),A.useLayoutEffect(()=>()=>{i.current&&(r(eM(i.current)),i.current=null)},[r]),null}var A5,ioe=()=>{var[e]=A.useState(()=>Km("uid-"));return e},aoe=(A5=KW.useId)!==null&&A5!==void 0?A5:ioe;function soe(e,t){var r=aoe();return t||(e?"".concat(e,"-").concat(r):r)}var ooe=A.createContext(void 0),Xg=e=>{var{id:t,type:r,children:n}=e,i=soe("recharts-".concat(r),t);return A.createElement(ooe.Provider,{value:i},n(i))},loe={cartesianItems:[],polarItems:[]},I7=bo({name:"graphicalItems",initialState:loe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:si()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=vc(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:si()},removeCartesianGraphicalItem:{reducer(e,t){var r=vc(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:si()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:si()},removePolarGraphicalItem:{reducer(e,t){var r=vc(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:si()}}}),{addCartesianGraphicalItem:coe,replaceCartesianGraphicalItem:uoe,removeCartesianGraphicalItem:doe,addPolarGraphicalItem:foe,removePolarGraphicalItem:hoe}=I7.actions,poe=I7.reducer,moe=e=>{var t=Mn(),r=A.useRef(null);return A.useLayoutEffect(()=>{r.current===null?t(coe(e)):r.current!==e&&t(uoe({prev:r.current,next:e})),r.current=e},[t,e]),A.useLayoutEffect(()=>()=>{r.current&&(t(doe(r.current)),r.current=null)},[t]),null},Tb=A.memo(moe);function goe(e){var t=Mn();return A.useLayoutEffect(()=>(t(foe(e)),()=>{t(hoe(e))}),[t,e]),null}var voe=["key"],xoe=["onMouseEnter","onClick","onMouseLeave"],yoe=["id"],boe=["id"];function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(n){woe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function woe(e,t,r){return(t=Soe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Soe(e){var t=_oe(e,"string");return typeof t=="symbol"?t:t+""}function _oe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sf.apply(null,arguments)}function kb(e,t){if(e==null)return{};var r,n,i=Noe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Noe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function joe(e){var t=A.useMemo(()=>Nb(e.children,Ch),[e.children]),r=Yt(n=>Ise(n,e.id,t));return r==null?null:A.createElement(noe,{legendPayload:r})}var Aoe=A.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:n.map(m=>m.tooltipPayload),positions:n.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:iu(o,t),hide:c,type:u,color:s,unit:"",graphicalItemId:d}};return A.createElement(Yg,{tooltipEntrySettings:h})}),Eoe=(e,t)=>e>t?"start":e<t?"end":"middle",Poe=(e,t,r)=>Ps(typeof t=="function"?t(e):t,r,r*.8),Toe=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=oM(a,s),c=i+Ps(e.cx,a,a/2),u=n+Ps(e.cy,s,s/2),d=Ps(e.innerRadius,o,0),h=Poe(r,e.outerRadius,o),m=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:h,maxRadius:m}},koe=(e,t)=>{var r=La(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Coe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Doe=(e,t)=>{if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Xr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=kb(t,voe);return A.createElement(sh,sf({},i,{type:"linear",className:r}))},Ooe=(e,t,r)=>{if(A.isValidElement(e))return A.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),A.isValidElement(n)))return n;var i=Xr("recharts-pie-label-text",Coe(e));return A.createElement(bb,sf({},t,{alignmentBaseline:"middle",className:i}),n)};function Ioe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=ns(r),c=rf(i),u=rf(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=t.map((m,g)=>{var x=(m.startAngle+m.endAngle)/2,v=ea(m.cx,m.cy,m.outerRadius+d,x),y=Oi(Oi(Oi(Oi({},o),m),{},{stroke:"none"},c),{},{index:g,textAnchor:Eoe(v.x,m.cx)},v),w=Oi(Oi(Oi(Oi({},o),m),{},{fill:"none",stroke:m.fill},u),{},{index:g,points:[ea(m.cx,m.cy,m.outerRadius,x),v],key:"line"});return A.createElement(as,{zIndex:yi.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},A.createElement(Rn,null,a&&Doe(a,w),Ooe(i,y,Yr(m,s))))});return A.createElement(Rn,{className:"recharts-pie-labels"},h)}function Roe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?A.createElement(Gg,{label:i}):A.createElement(Ioe,{sectors:t,props:r,showLabels:n})}function Loe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=Yt(Ju),c=Yt(CA),u=Yt(Xne),{onMouseEnter:d,onClick:h,onMouseLeave:m}=i,g=kb(i,xoe),x=jb(d,i.dataKey,s),v=Ab(m),y=Eb(h,i.dataKey,s);return t==null||t.length===0?null:A.createElement(A.Fragment,null,t.map((w,_)=>{if(w?.startAngle===0&&w?.endAngle===0&&t.length!==1)return null;var S=u==null||u===s,E=String(_)===o&&(c==null||i.dataKey===c)&&S,T=o?n:null,D=r&&E?r:T,C=Oi(Oi({},w),{},{stroke:w.stroke,tabIndex:-1,[bj]:_,[wj]:s});return A.createElement(Rn,sf({key:"sector-".concat(w?.startAngle,"-").concat(w?.endAngle,"-").concat(w.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},d0(g,w,_),{onMouseEnter:x(w,_),onMouseLeave:v(w,_),onClick:y(w,_)}),A.createElement(og,sf({option:a??D,index:_,shapeType:"sector",isActive:E},C)))}))}function Moe(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:h}=r,m=Math.abs(r.minAngle),g=koe(o,c),x=Math.abs(g),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(D=>Yr(D,u,0)!==0).length,w=(x>=360?y:y-1)*v,_=x-y*m-w,S=n.reduce((D,C)=>{var O=Yr(C,u,0);return D+(Wt(O)?O:0)},0),E;if(S>0){var T;E=n.map((D,C)=>{var O=Yr(D,u,0),R=Yr(D,d,C),H=Toe(r,a,D),F=(Wt(O)?O:0)/S,U,M=Oi(Oi({},D),i&&i[C]&&i[C].props);C?U=T.endAngle+La(g)*v*(O!==0?1:0):U=o;var q=U+La(g)*((O!==0?m:0)+F*_),ee=(U+q)/2,ve=(H.innerRadius+H.outerRadius)/2,he=[{name:R,value:O,payload:M,dataKey:u,type:h,graphicalItemId:r.id}],ce=ea(H.cx,H.cy,ve,ee);return T=Oi(Oi(Oi(Oi({},r.presentationProps),{},{percent:F,cornerRadius:typeof s=="string"?parseFloat(s):s,name:R,tooltipPayload:he,midAngle:ee,middleRadius:ve,tooltipPosition:ce},M),H),{},{value:O,dataKey:u,startAngle:U,endAngle:q,payload:M,paddingAngle:La(g)*v}),T})}return E}function Foe(e){var{showLabels:t,sectors:r,children:n}=e,i=A.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return A.createElement(xse,{value:t?i:void 0},n)}function Boe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:h,onAnimationEnd:m}=t,g=Ph(t,"recharts-pie-"),x=r.current,[v,y]=A.useState(!1),w=A.useCallback(()=>{typeof m=="function"&&m(),y(!1)},[m]),_=A.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]);return A.createElement(Foe,{showLabels:!v,sectors:i},A.createElement(Eh,{animationId:g,begin:s,duration:o,isActive:a,easing:c,onAnimationStart:_,onAnimationEnd:w,key:g},S=>{var E=[],T=i&&i[0],D=T?.startAngle;return i?.forEach((C,O)=>{var R=x&&x[O],H=O>0?ph(C,"paddingAngle",0):0;if(R){var F=Gr(R.endAngle-R.startAngle,C.endAngle-C.startAngle,S),U=Oi(Oi({},C),{},{startAngle:D+H,endAngle:D+F+H});E.push(U),D=U.endAngle}else{var{endAngle:M,startAngle:q}=C,ee=Gr(0,M-q,S),ve=Oi(Oi({},C),{},{startAngle:D+H,endAngle:D+ee+H});E.push(ve),D=ve.endAngle}}),r.current=E,A.createElement(Rn,null,A.createElement(Loe,{sectors:E,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),A.createElement(Roe,{showLabels:!v,sectors:i,props:t}),t.children)}var Uoe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:yi.area};function $oe(e){var{id:t}=e,r=kb(e,yoe),{hide:n,className:i,rootTabIndex:a}=e,s=A.useMemo(()=>Nb(e.children,Ch),[e.children]),o=Yt(d=>Rse(d,t,s)),c=A.useRef(null),u=Xr("recharts-pie",i);return n||o==null?(c.current=null,A.createElement(Rn,{tabIndex:a,className:u})):A.createElement(as,{zIndex:e.zIndex},A.createElement(Aoe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),A.createElement(Rn,{tabIndex:a,className:u},A.createElement(Boe,{props:Oi(Oi({},r),{},{sectors:o}),previousSectorsRef:c,id:t})))}function UA(e){var t=Jn(e,Uoe),{id:r}=t,n=kb(t,boe),i=ns(n);return A.createElement(Xg,{id:r,type:"pie"},a=>A.createElement(A.Fragment,null,A.createElement(goe,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),A.createElement(joe,sf({},n,{id:a})),A.createElement($oe,sf({},n,{id:a}))))}UA.displayName="Pie";var zoe=["points"];function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function E5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){Woe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Woe(e,t,r){return(t=qoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qoe(e){var t=Hoe(e,"string");return typeof t=="symbol"?t:t+""}function Hoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}function Voe(e,t){if(e==null)return{};var r,n,i=Koe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Koe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Goe(e){var{option:t,dotProps:r,className:n}=e;if(A.isValidElement(t))return A.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Xr(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,o=Voe(a,zoe);return A.createElement(P7,Ky({},o,{className:i}))}function Yoe(e,t){return e==null?!1:t?!0:e.length===1}function R7(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:c,zIndex:u=yi.scatter}=e;if(!Yoe(t,r))return null;var d=BA(r),h=dK(r),m=t.map((x,v)=>{var y,w,_=E5(E5(E5({r:3},s),h),{},{index:v,cx:(y=x.x)!==null&&y!==void 0?y:void 0,cy:(w=x.y)!==null&&w!==void 0?w:void 0,dataKey:a,value:x.value,payload:x.payload,points:t});return A.createElement(Goe,{key:"dot-".concat(v),option:r,dotProps:_,className:i})}),g={};return o&&c!=null&&(g.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),A.createElement(as,{zIndex:u},A.createElement(Rn,Ky({className:n},g),m))}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){Xoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xoe(e,t,r){return(t=Joe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Joe(e){var t=Zoe(e,"string");return typeof t=="symbol"?t:t+""}function Zoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L7=0,Qoe={xAxis:{},yAxis:{},zAxis:{}},M7=bo({name:"cartesianAxis",initialState:Qoe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:si()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:si()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:si()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:si()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:si()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:si()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:si()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:si()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:si()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=oD(oD({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:ele,replaceXAxis:tle,removeXAxis:rle,addYAxis:nle,replaceYAxis:ile,removeYAxis:ale,addZAxis:sle,replaceZAxis:ole,removeZAxis:lle,updateYAxisWidth:cle}=M7.actions,ule=M7.reducer,dle=et([pa],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),fle=et([dle,id,ad],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Cb=()=>Yt(fle),hle=()=>Yt(tie);function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(n){ple(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ple(e,t,r){return(t=mle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mle(e){var t=gle(e,"string");return typeof t=="symbol"?t:t+""}function gle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vle=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=P5(P5(P5({},o),rf(i)),dj(i)),u;return A.isValidElement(i)?u=A.cloneElement(i,c):typeof i=="function"?u=i(c):u=A.createElement(P7,c),A.createElement(Rn,{className:"recharts-active-dot",clipPath:s},u)};function aN(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=yi.activeDot}=e,o=Yt(Ju),c=hle();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return pn(u)?null:A.createElement(as,{zIndex:s},A.createElement(vle,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var cD=(e,t,r)=>{var n=r??e;if(!pn(n))return Ps(n,t,0)},xle=(e,t,r)=>{var n={},i=e.filter(fb),a=e.filter(u=>u.stackId==null),s=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(s).map(u=>{var[d,h]=u,m=h.map(x=>x.dataKey),g=cD(t,r,h[0].barSize);return{stackId:d,dataKeys:m,barSize:g}}),c=a.map(u=>{var d=[u.dataKey].filter(m=>m!=null),h=cD(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...c]};function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){yle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yle(e,t,r){return(t=ble(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ble(e){var t=wle(e,"string");return typeof t=="symbol"?t:t+""}function wle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sle(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=Ps(e,r,0,!0),o,c=[];if(Ln(n[0].barSize)){var u=!1,d=r/a,h=n.reduce((w,_)=>w+(_.barSize||0),0);h+=(a-1)*s,h>=r&&(h-=(a-1)*s,s=0),h>=r&&d>0&&(u=!0,d*=.9,h=a*d);var m=(r-h)/2>>0,g={offset:m-s,size:0};o=n.reduce((w,_)=>{var S,E={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:g.offset+g.size+s,size:u?d:(S=_.barSize)!==null&&S!==void 0?S:0}},T=[...w,E];return g=T[T.length-1].position,T},c)}else{var x=Ps(t,r,0,!0);r-2*x-(a-1)*s<=0&&(s=0);var v=(r-2*x-(a-1)*s)/a;v>1&&(v>>=0);var y=Ln(i)?Math.min(v,i):v;o=n.reduce((w,_,S)=>[...w,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:x+(v+s)*S+(v-y)/2,size:y}}],c)}return o}}var _le=(e,t,r,n,i,a,s)=>{var o=pn(s)?t:s,c=Sle(r,n,i!==a?i:a,e,o);return i!==a&&c!=null&&(c=c.map(u=>hx(hx({},u),{},{position:hx(hx({},u.position),{},{offset:u.position.offset-i/2})}))),c},Nle=(e,t)=>{var r=db(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}};function jle(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ln(e.zIndex)?e.zIndex:t}var F7=e=>{var{chartData:t}=e,r=Mn(),n=na();return A.useEffect(()=>n?()=>{}:(r(vC(t)),()=>{r(vC(void 0))}),[t,r,n]),null},dD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},B7=bo({name:"brush",initialState:dD,reducers:{setBrushSettings(e,t){return t.payload==null?dD:t.payload}}}),{setBrushSettings:D3e}=B7.actions,Ale=B7.reducer;function Ele(e,t,r){return(t=Ple(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ple(e){var t=Tle(e,"string");return typeof t=="symbol"?t:t+""}function Tle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $A{static create(t){return new $A(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}Ele($A,"EPS",1e-4);function kle(e){return(e%180+180)%180}var Cle=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=kle(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Dle={dots:[],areas:[],lines:[]},U7=bo({name:"referenceElements",initialState:Dle,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=vc(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=vc(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=vc(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:O3e,removeDot:I3e,addArea:R3e,removeArea:L3e,addLine:M3e,removeLine:F3e}=U7.actions,Ole=U7.reducer,Ile=A.createContext(void 0),Rle=e=>{var{children:t}=e,[r]=A.useState("".concat(Km("recharts"),"-clip")),n=Cb();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return A.createElement(Ile.Provider,{value:r},A.createElement("defs",null,A.createElement("clipPath",{id:r},A.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function $7(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function Lle(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Cle(n,r)}function Mle(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function lg(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Fle(e,t){return $7(e,t+1)}function Ble(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,d=s,h=function(){var x=n?.[c];if(x===void 0)return{v:$7(n,u)};var v=c,y,w=()=>(y===void 0&&(y=r(x,v)),y),_=x.coordinate,S=c===0||lg(e,_,w,d,o);S||(c=0,d=s,u+=1),S&&(d=_+e*(w()/2+i),c+=u)},m;u<=a.length;)if(m=h(),m)return m.v;return[]}function Ule(e,t,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:c}=t,u=1;u<=s;u++){for(var d=(s-1)%u,h=o,m=!0,g=function(){var _=n[x],S=x,E,T=()=>(E===void 0&&(E=r(_,S)),E),D=_.coordinate,C=x===d||lg(e,D,T,h,c);if(!C)return m=!1,1;C&&(h=D+e*(T()/2+i))},x=d;x<s&&!g();x+=u);if(m){for(var v=[],y=d;y<s;y+=u)v.push(n[y]);return v}}return[]}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){$le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $le(e,t,r){return(t=zle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zle(e){var t=Wle(e,"string");return typeof t=="symbol"?t:t+""}function Wle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qle(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:c}=t,u=function(m){var g=a[m],x,v=()=>(x===void 0&&(x=r(g,m)),x);if(m===s-1){var y=e*(g.coordinate+e*v()/2-c);a[m]=g=Ns(Ns({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else a[m]=g=Ns(Ns({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var w=lg(e,g.tickCoord,v,o,c);w&&(c=g.tickCoord-e*(v()/2+i),a[m]=Ns(Ns({},g),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function Hle(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(a){var d=n[o-1],h=r(d,o-1),m=e*(d.coordinate+e*h/2-u);if(s[o-1]=d=Ns(Ns({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var g=lg(e,d.tickCoord,()=>h,c,u);g&&(u=d.tickCoord-e*(h/2+i),s[o-1]=Ns(Ns({},d),{},{isShow:!0}))}}for(var x=a?o-1:o,v=function(_){var S=s[_],E,T=()=>(E===void 0&&(E=r(S,_)),E);if(_===0){var D=e*(S.coordinate-e*T()/2-c);s[_]=S=Ns(Ns({},S),{},{tickCoord:D<0?S.coordinate-D*e:S.coordinate})}else s[_]=S=Ns(Ns({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var C=lg(e,S.tickCoord,T,c,u);C&&(c=S.tickCoord+e*(T()/2+i),s[_]=Ns(Ns({},S),{},{isShow:!0}))}},y=0;y<x;y++)v(y);return s}function zA(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!n)return[];if(Wt(c)||Ig.isSsr){var m;return(m=Fle(i,Wt(c)?c:0))!==null&&m!==void 0?m:[]}var g=[],x=o==="top"||o==="bottom"?"width":"height",v=d&&x==="width"?Nm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(S,E)=>{var T=typeof u=="function"?u(S.value,E):S.value;return x==="width"?Lle(Nm(T,{fontSize:t,letterSpacing:r}),v,h):Nm(T,{fontSize:t,letterSpacing:r})[x]},w=i.length>=2?La(i[1].coordinate-i[0].coordinate):1,_=Mle(a,w,x);return c==="equidistantPreserveStart"?Ble(w,_,y,i,s):c==="equidistantPreserveEnd"?Ule(w,_,y,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=Hle(w,_,y,i,s,c==="preserveStartEnd"):g=qle(w,_,y,i,s),g.filter(S=>S.isShow))}var Vle=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+o+(r?n:0);return Math.round(u)}return 0},Kle=["axisLine","width","height","className","hide","ticks","axisType"];function Gle(e,t){if(e==null)return{};var r,n,i=Yle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Yle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(null,arguments)}function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){Xle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xle(e,t,r){return(t=Jle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jle(e){var t=Zle(e,"string");return typeof t=="symbol"?t:t+""}function Zle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:yi.axis};function Qle(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=Qi(Qi(Qi({},c),ns(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=Qi(Qi({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);u=Qi(Qi({},u),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+i})}return A.createElement("line",yh({},u,{className:Xr("recharts-cartesian-axis-line",ph(o,"className"))}))}function ece(e,t,r,n,i,a,s,o,c){var u,d,h,m,g,x,v=o?-1:1,y=e.tickSize||s,w=Wt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,m=r+ +!o*i,h=m-v*y,x=h-v*c,g=w;break;case"left":h=m=e.coordinate,d=t+ +!o*n,u=d-v*y,g=u-v*c,x=w;break;case"right":h=m=e.coordinate,d=t+ +o*n,u=d+v*y,g=u+v*c,x=w;break;default:u=d=e.coordinate,m=r+ +o*i,h=m+v*y,x=h+v*c,g=w;break}return{line:{x1:u,y1:h,x2:d,y2:m},tick:{x:g,y:x}}}function tce(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function rce(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function nce(e){var{option:t,tickProps:r,value:n}=e,i,a=Xr(r.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,Qi(Qi({},r),{},{className:a}));else if(typeof t=="function")i=t(Qi(Qi({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Xr(s,t?.className)),i=A.createElement(bb,yh({},r,{className:s}),n)}return i}var ice=A.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:h,x:m,y:g,width:x,height:v,tickSize:y,tickMargin:w,fontSize:_,letterSpacing:S,getTicksConfig:E,events:T,axisType:D}=e,C=zA(Qi(Qi({},E),{},{ticks:r}),_,S),O=tce(d,h),R=rce(d,h),H=ns(E),F=rf(n),U={};typeof i=="object"&&(U=i);var M=Qi(Qi({},H),{},{fill:"none"},U),q=C.map(he=>Qi({entry:he},ece(he,m,g,x,v,d,y,h,w))),ee=q.map(he=>{var{entry:ce,line:be}=he;return A.createElement(Rn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},i&&A.createElement("line",yh({},M,be,{className:Xr("recharts-cartesian-axis-tick-line",ph(i,"className"))})))}),ve=q.map((he,ce)=>{var{entry:be,tick:Oe}=he,ae=Qi(Qi(Qi(Qi({textAnchor:O,verticalAnchor:R},H),{},{stroke:"none",fill:a},F),Oe),{},{index:ce,payload:be,visibleTicksCount:C.length,tickFormatter:s,padding:c},u);return A.createElement(Rn,yh({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(be.value,"-").concat(be.coordinate,"-").concat(be.tickCoord)},d0(T,be,ce)),n&&A.createElement(nce,{option:n,tickProps:ae,value:"".concat(typeof s=="function"?s(be.value,ce):be.value).concat(o||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},ve.length>0&&A.createElement(as,{zIndex:yi.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},ve)),ee.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},ee))}),ace=A.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:c}=e,u=Gle(e,Kle),[d,h]=A.useState(""),[m,g]=A.useState(""),x=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return Vle({ticks:x.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=A.useCallback(y=>{if(y){var w=y.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=w;var _=w[0];if(_){var S=window.getComputedStyle(_),E=S.fontSize,T=S.letterSpacing;(E!==d||T!==m)&&(h(E),g(T))}}},[d,m]);return s||n!=null&&n<=0||i!=null&&i<=0?null:A.createElement(as,{zIndex:e.zIndex},A.createElement(Rn,{className:Xr("recharts-cartesian-axis",a)},A.createElement(Qle,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ns(e)}),A.createElement(ice,{ref:v,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(Jae,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(ose,{label:e.label,labelRef:e.labelRef}),e.children)))}),WA=A.forwardRef((e,t)=>{var r=Jn(e,Bu);return A.createElement(ace,yh({},r,{ref:t}))});WA.displayName="CartesianAxis";var sce=["x1","y1","x2","y2","key"],oce=["offset"],lce=["xAxisId","yAxisId"],cce=["xAxisId","yAxisId"];function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(n){uce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uce(e,t,r){return(t=dce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dce(e){var t=fce(e,"string");return typeof t=="symbol"?t:t+""}function fce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(null,arguments)}function Gy(e,t){if(e==null)return{};var r,n,i=hce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pce=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return A.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function z7(e){var{option:t,lineItemProps:r}=e,n;if(A.isValidElement(t))n=A.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:c,key:u}=r,d=Gy(r,sce),h=(i=ns(d))!==null&&i!==void 0?i:{},{offset:m}=h,g=Gy(h,oce);n=A.createElement("line",nh({},g,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function mce(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Gy(e,lce),c=i.map((u,d)=>{var h=As(As({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return A.createElement(z7,{key:"line-".concat(d),option:n,lineItemProps:h})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function gce(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Gy(e,cce),c=i.map((u,d)=>{var h=As(As({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return A.createElement(z7,{option:n,lineItemProps:h,key:"line-".concat(d)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function vce(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var g=!u[m+1],x=g?i+s-h:u[m+1]-h;if(x<=0)return null;var v=m%t.length;return A.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:x,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function xce(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var g=!u[m+1],x=g?i+s-h:u[m+1]-h;if(x<=0)return null;var v=m%r.length;return A.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:x,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var yce=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return L8(zA(As(As(As({},Bu),r),{},{ticks:M8(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},bce=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return L8(zA(As(As(As({},Bu),r),{},{ticks:M8(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},wce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:yi.grid};function Kd(e){var t=Nj(),r=jj(),n=q8(),i=As(As({},Jn(e,wce)),{},{x:Wt(e.x)?e.x:n.left,y:Wt(e.y)?e.y:n.top,width:Wt(e.width)?e.width:n.width,height:Wt(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:m,verticalValues:g}=i,x=na(),v=Yt(R=>aC(R,"xAxis",a,x)),y=Yt(R=>aC(R,"yAxis",s,x));if(!eu(u)||!eu(d)||!Wt(o)||!Wt(c))return null;var w=i.verticalCoordinatesGenerator||yce,_=i.horizontalCoordinatesGenerator||bce,{horizontalPoints:S,verticalPoints:E}=i;if((!S||!S.length)&&typeof _=="function"){var T=m&&m.length,D=_({yAxis:y?As(As({},y),{},{ticks:T?m:y.ticks}):void 0,width:t??u,height:r??d,offset:n},T?!0:h);by(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(S=D)}if((!E||!E.length)&&typeof w=="function"){var C=g&&g.length,O=w({xAxis:v?As(As({},v),{},{ticks:C?g:v.ticks}):void 0,width:t??u,height:r??d,offset:n},C?!0:h);by(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(E=O)}return A.createElement(as,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(pce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(vce,nh({},i,{horizontalPoints:S})),A.createElement(xce,nh({},i,{verticalPoints:E})),A.createElement(mce,nh({},i,{offset:n,horizontalPoints:S,xAxis:v,yAxis:y})),A.createElement(gce,nh({},i,{offset:n,verticalPoints:E,xAxis:v,yAxis:y}))))}Kd.displayName="CartesianGrid";var Sce={},W7=bo({name:"errorBars",initialState:Sce,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:B3e,replaceErrorBar:U3e,removeErrorBar:$3e}=W7.actions,_ce=W7.reducer,Nce=["children"];function jce(e,t){if(e==null)return{};var r,n,i=Ace(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ace(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ece={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Pce=A.createContext(Ece);function qA(e){var{children:t}=e,r=jce(e,Nce);return A.createElement(Pce.Provider,{value:r},t)}function Jg(e,t){var r,n,i=Yt(u=>ld(u,e)),a=Yt(u=>cd(u,t)),s=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Ca.allowDataOverflow,o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Da.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function Db(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Cb(),{needClipX:a,needClipY:s,needClip:o}=Jg(t,r);if(!o||!i)return null;var{x:c,y:u,width:d,height:h}=i;return A.createElement("clipPath",{id:"clipPath-".concat(n)},A.createElement("rect",{x:a?c:c-d/2,y:s?u:u-h/2,width:a?d:d*2,height:s?h:h*2}))}var q7=(e,t,r,n)=>Tl(e,"xAxis",t,n),H7=(e,t,r,n)=>Pl(e,"xAxis",t,n),V7=(e,t,r,n)=>Tl(e,"yAxis",r,n),K7=(e,t,r,n)=>Pl(e,"yAxis",r,n),Tce=et([qr,q7,V7,H7,K7],(e,t,r,n,i)=>nu(e,"xAxis")?nf(t,n,!1):nf(r,i,!1)),kce=(e,t,r,n,i)=>i;function Cce(e){return e.type==="line"}var Dce=et([g0,kce],(e,t)=>e.filter(Cce).find(r=>r.id===t)),Oce=et([qr,q7,V7,H7,K7,Dce,Tce,lb],(e,t,r,n,i,a,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:h,data:m}=a,g;if(m!=null&&m.length>0?g=m:g=c?.slice(u,d+1),g!=null)return yue({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:g})}});function G7(e){var t=rf(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var T5={exports:{}},k5={};var mD;function Ice(){if(mD)return k5;mD=1;var e=u0();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,o=e.useDebugValue;return k5.useSyncExternalStoreWithSelector=function(c,u,d,h,m){var g=i(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=s(function(){function y(T){if(!w){if(w=!0,_=T,T=h(T),m!==void 0&&x.hasValue){var D=x.value;if(m(D,T))return S=D}return S=T}if(D=S,r(_,T))return D;var C=h(T);return m!==void 0&&m(D,C)?(_=T,D):(_=T,S=C)}var w=!1,_,S,E=d===void 0?null:d;return[function(){return y(u())},E===null?void 0:function(){return y(E())}]},[u,d,h,m]);var v=n(c,g[0],g[1]);return a(function(){x.hasValue=!0,x.value=v},[v]),o(v),v},k5}var gD;function Rce(){return gD||(gD=1,T5.exports=Ice()),T5.exports}Rce();function Lce(e){e()}function Mce(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Lce(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var vD={notify(){},get:()=>[]};function Fce(e,t){let r,n=vD,i=0,a=!1;function s(v){d();const y=n.subscribe(v);let w=!1;return()=>{w||(w=!0,y(),h())}}function o(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=Mce())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=vD)}function m(){a||(a=!0,d())}function g(){a&&(a=!1,h())}const x={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>n};return x}var Bce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uce=Bce(),$ce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zce=$ce(),Wce=()=>Uce||zce?A.useLayoutEffect:A.useEffect,qce=Wce();function xD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Hce(e,t){if(xD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!xD(e[r[i]],t[r[i]]))return!1;return!0}var Vce=Symbol.for("react-redux-context"),Kce=typeof globalThis<"u"?globalThis:{};function Gce(){if(!A.createContext)return{};const e=Kce[Vce]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var Yce=Gce();function Xce(e){const{children:t,context:r,serverState:n,store:i}=e,a=A.useMemo(()=>{const c=Fce(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=A.useMemo(()=>i.getState(),[i]);qce(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=r||Yce;return A.createElement(o.Provider,{value:a},t)}var Jce=Xce,Zce=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Qce(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function _0(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Zce.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Hce(e[n],t[n]))return!1}else if(!Qce(e[n],t[n]))return!1;return!0}var eue=["id"],tue=["type","layout","connectNulls","needClip","shape"],rue=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(null,arguments)}function yD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(r),!0).forEach(function(n){nue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nue(e,t,r){return(t=iue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iue(e){var t=aue(e,"string");return typeof t=="symbol"?t:t+""}function aue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HA(e,t){if(e==null)return{};var r,n,i=sue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oue=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:iu(r,t),payload:e}]},lue=A.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:iu(s,t),hide:o,type:u,color:n,unit:c,graphicalItemId:d}};return A.createElement(Yg,{tooltipEntrySettings:h})}),Y7=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function cue(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var uue=(e,t,r)=>{var n=r.reduce((h,m)=>h+m);if(!n)return Y7(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>a){o=[...r.slice(0,c),a-u];break}var d=o.length%2===0?[0,s]:[s];return[...cue(r,i),...o,...d].map(h=>"".concat(h,"px")).join(", ")};function due(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n,{id:o}=n,c=HA(n,eue),u=ns(c);return A.createElement(R7,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:t})}function fue(e){var{showLabels:t,children:r,points:n}=e,i=A.useMemo(()=>n?.map(a=>{var s,o,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Kc(Kc({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return A.createElement(wb,{value:t?i:void 0},r)}function bD(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:c,needClip:u,shape:d}=a,h=HA(a,tue),m=Kc(Kc({},Cs(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return A.createElement(A.Fragment,null,n?.length>1&&A.createElement(og,cg({shapeType:"curve",option:d},m,{pathRef:r})),A.createElement(due,{points:n,clipPathId:t,props:a}))}function hue(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function pue(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:m,width:g,height:x,onAnimationEnd:v,onAnimationStart:y}=r,w=i.current,_=Ph(s,"recharts-line-"),S=A.useRef(_),[E,T]=A.useState(!1),D=!E,C=A.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),O=A.useCallback(()=>{typeof y=="function"&&y(),T(!0)},[y]),R=hue(n.current),H=A.useRef(0);S.current!==_&&(H.current=a.current,S.current=_);var F=H.current;return A.createElement(fue,{points:s,showLabels:D},r.children,A.createElement(Eh,{animationId:_,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:C,onAnimationStart:O,key:_},U=>{var M=Gr(F,R+F,U),q=Math.min(M,R),ee;if(c)if(o){var ve="".concat(o).split(/[,\s]+/gim).map(be=>parseFloat(be));ee=uue(q,R,ve)}else ee=Y7(R,q);else ee=o==null?void 0:String(o);if(U>0&&R>0&&(i.current=s,a.current=Math.max(a.current,q)),w){var he=w.length/s.length,ce=U===1?s:s.map((be,Oe)=>{var ae=Math.floor(Oe*he);if(w[ae]){var L=w[ae];return Kc(Kc({},be),{},{x:Gr(L.x,be.x,U),y:Gr(L.y,be.y,U)})}return m?Kc(Kc({},be),{},{x:Gr(g*2,be.x,U),y:Gr(x/2,be.y,U)}):Kc(Kc({},be),{},{x:be.x,y:be.y})});return i.current=ce,A.createElement(bD,{props:r,points:ce,clipPathId:t,pathRef:n,strokeDasharray:ee})}return A.createElement(bD,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:ee})}),A.createElement(Gg,{label:r.label}))}function mue(e){var{clipPathId:t,props:r}=e,n=A.useRef(null),i=A.useRef(0),a=A.useRef(null);return A.createElement(pue,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var gue=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Yr(e.payload,t)}};class vue extends A.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:s,top:o,left:c,width:u,height:d,id:h,needClip:m,zIndex:g}=this.props;if(t)return null;var x=Xr("recharts-line",i),v=h,{r:y,strokeWidth:w}=G7(r),_=BA(r),S=y*2+w,E=m?"url(#clipPath-".concat(_?"":"dots-").concat(v,")"):void 0;return A.createElement(as,{zIndex:g},A.createElement(Rn,{className:x},m&&A.createElement("defs",null,A.createElement(Db,{clipPathId:v,xAxisId:a,yAxisId:s}),!_&&A.createElement("clipPath",{id:"clipPath-dots-".concat(v)},A.createElement("rect",{x:c-S/2,y:o-S/2,width:u+S,height:d+S}))),A.createElement(qA,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:gue,errorBarOffset:0},A.createElement(mue,{props:this.props,clipPathId:v}))),A.createElement(aN,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:E}))}}var X7={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:yi.line,type:"linear"};function xue(e){var t=Jn(e,X7),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:h,legendType:m,xAxisId:g,yAxisId:x,id:v}=t,y=HA(t,rue),{needClip:w}=Jg(g,x),_=Cb(),S=hf(),E=na(),T=Yt(H=>Oce(H,g,x,E,v));if(S!=="horizontal"&&S!=="vertical"||T==null||_==null)return null;var{height:D,width:C,x:O,y:R}=_;return A.createElement(vue,cg({},y,{id:v,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:h,legendType:m,xAxisId:g,yAxisId:x,points:T,layout:S,height:D,width:C,left:O,top:R,needClip:w}))}function yue(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var h=Yr(u,s);if(t==="horizontal"){var m=e0({axis:r,ticks:i,bandSize:o,entry:u,index:d}),g=pn(h)?null:n.scale(h);return{x:m,y:g,value:h,payload:u}}var x=pn(h)?null:r.scale(h),v=e0({axis:n,ticks:a,bandSize:o,entry:u,index:d});return x==null||v==null?null:{x,y:v,value:h,payload:u}}).filter(Boolean)}function bue(e){var t=Jn(e,X7),r=na();return A.createElement(Xg,{id:t.id,type:"line"},n=>A.createElement(A.Fragment,null,A.createElement(Pb,{legendPayload:oue(t)}),A.createElement(lue,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),A.createElement(Tb,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),A.createElement(xue,cg({},t,{id:n}))))}var ug=A.memo(bue,_0);ug.displayName="Line";function au(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:L7}function su(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:L7}var J7=(e,t,r)=>Tl(e,"xAxis",au(e,t),r),Z7=(e,t,r)=>Pl(e,"xAxis",au(e,t),r),Q7=(e,t,r)=>Tl(e,"yAxis",su(e,t),r),eB=(e,t,r)=>Pl(e,"yAxis",su(e,t),r),wue=et([qr,J7,Q7,Z7,eB],(e,t,r,n,i)=>nu(e,"xAxis")?nf(t,n,!1):nf(r,i,!1)),Sue=(e,t)=>t,tB=et([g0,Sue],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),rB=e=>{var t=qr(e),r=nu(t,"xAxis");return r?"yAxis":"xAxis"},_ue=(e,t)=>{var r=rB(e);return r==="yAxis"?su(e,t):au(e,t)},Nue=(e,t,r)=>$y(e,rB(e),_ue(e,t),r),jue=et([tB,Nue],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=db(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=a?.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),Aue=et([qr,J7,Q7,Z7,eB,jue,VM,wue,tB,Qte],(e,t,r,n,i,a,s,o,c,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:m}=s;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:g}=c,x;if(g&&g.length>0?x=g:x=d?.slice(h,m+1),x!=null)return Hue({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:h,areaSettings:c,stackedData:a,displayedData:x,chartBaseValue:u,bandSize:o})}}),Eue=["id"],Pue=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(null,arguments)}function nB(e,t){if(e==null)return{};var r,n,i=Tue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Tue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){kue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kue(e,t,r){return(t=Cue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cue(e){var t=Due(e,"string");return typeof t=="symbol"?t:t+""}function Due(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yy(e,t){return e&&e!=="none"?e:t}var Oue=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:Yy(n,i),value:iu(r,t),payload:e}]},Iue=A.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:iu(s,t),hide:o,type:u,color:Yy(n,a),unit:c,graphicalItemId:d}};return A.createElement(Yg,{tooltipEntrySettings:h})});function Rue(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:s}=n,o=ns(n);return A.createElement(R7,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:t})}function Lue(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var s,o,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Op(Op({},c),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return A.createElement(wb,{value:t?i:void 0},r)}function SD(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:c,connectNulls:u,isRange:d}=a,{id:h}=a,m=nB(a,Eue),g=ns(m),x=Cs(m);return A.createElement(A.Fragment,null,t?.length>1&&A.createElement(Rn,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},A.createElement(sh,ch({},x,{id:h,points:t,connectNulls:u,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&A.createElement(sh,ch({},g,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&A.createElement(sh,ch({},g,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:r}))),A.createElement(Rue,{points:t,props:m,clipPathId:i}))}function Mue(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.y,c=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!Ln(o)||!Ln(c))return null;var u=n*Math.abs(o-c),d=Math.max(...a.map(h=>h.x||0));return Wt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.x||0),d)),Wt(d)?A.createElement("rect",{x:0,y:o<c?o:o-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function Fue(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.x,c=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!Ln(o)||!Ln(c))return null;var u=n*Math.abs(o-c),d=Math.max(...a.map(h=>h.y||0));return Wt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.y||0),d)),Wt(d)?A.createElement("rect",{x:o<c?o:o-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}function Bue(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?A.createElement(Mue,{alpha:t,points:n,baseLine:i,strokeWidth:a}):A.createElement(Fue,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function Uue(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:m,onAnimationEnd:g}=n,x=A.useMemo(()=>({points:s,baseLine:o}),[s,o]),v=Ph(x,"recharts-area-"),y=gJ(),[w,_]=A.useState(!1),S=!w,E=A.useCallback(()=>{typeof g=="function"&&g(),_(!1)},[g]),T=A.useCallback(()=>{typeof m=="function"&&m(),_(!0)},[m]);if(y==null)return null;var D=i.current,C=a.current;return A.createElement(Lue,{showLabels:S,points:s},n.children,A.createElement(Eh,{animationId:v,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:E,onAnimationStart:T,key:v},O=>{if(D){var R=D.length/s.length,H=O===1?s:s.map((U,M)=>{var q=Math.floor(M*R);if(D[q]){var ee=D[q];return Op(Op({},U),{},{x:Gr(ee.x,U.x,O),y:Gr(ee.y,U.y,O)})}return U}),F;return Wt(o)?F=Gr(C,o,O):pn(o)||jl(o)?F=Gr(C,0,O):F=o.map((U,M)=>{var q=Math.floor(M*R);if(Array.isArray(C)&&C[q]){var ee=C[q];return Op(Op({},U),{},{x:Gr(ee.x,U.x,O),y:Gr(ee.y,U.y,O)})}return U}),O>0&&(i.current=H,a.current=F),A.createElement(SD,{points:H,baseLine:F,needClip:t,clipPathId:r,props:n})}return O>0&&(i.current=s,a.current=o),A.createElement(Rn,null,c&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(r)},A.createElement(Bue,{alpha:O,points:s,baseLine:o,layout:y,strokeWidth:n.strokeWidth}))),A.createElement(Rn,{clipPath:"url(#animationClipPath-".concat(r,")")},A.createElement(SD,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),A.createElement(Gg,{label:n.label}))}function $ue(e){var{needClip:t,clipPathId:r,props:n}=e,i=A.useRef(null),a=A.useRef();return A.createElement(Uue,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class zue extends A.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:s,needClip:o,xAxisId:c,yAxisId:u,width:d,height:h,id:m,baseLine:g,zIndex:x}=this.props;if(t)return null;var v=Xr("recharts-area",i),y=m,{r:w,strokeWidth:_}=G7(r),S=BA(r),E=w*2+_,T=o?"url(#clipPath-".concat(S?"":"dots-").concat(y,")"):void 0;return A.createElement(as,{zIndex:x},A.createElement(Rn,{className:v},o&&A.createElement("defs",null,A.createElement(Db,{clipPathId:y,xAxisId:c,yAxisId:u}),!S&&A.createElement("clipPath",{id:"clipPath-dots-".concat(y)},A.createElement("rect",{x:s-E/2,y:a-E/2,width:d+E,height:h+E}))),A.createElement($ue,{needClip:o,clipPathId:y,props:this.props})),A.createElement(aN,{points:n,mainColor:Yy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}),this.props.isRange&&Array.isArray(g)&&A.createElement(aN,{points:g,mainColor:Yy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}))}}var iB={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:yi.area};function Wue(e){var t,r=Jn(e,iB),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:m,legendType:g,stroke:x,xAxisId:v,yAxisId:y}=r,w=nB(r,Pue),_=hf(),S=l7(),{needClip:E}=Jg(v,y),T=na(),{points:D,isRange:C,baseLine:O}=(t=Yt(q=>Aue(q,e.id,T)))!==null&&t!==void 0?t:{},R=Cb();if(_!=="horizontal"&&_!=="vertical"||R==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:H,width:F,x:U,y:M}=R;return!D||!D.length?null:A.createElement(zue,ch({},w,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:O,connectNulls:o,dot:c,fill:u,fillOpacity:d,height:H,hide:h,layout:_,isAnimationActive:m==="auto"?!Ig.isSsr:m,isRange:C,legendType:g,needClip:E,points:D,stroke:x,width:F,left:U,top:M,xAxisId:v,yAxisId:y}))}var que=(e,t,r,n,i)=>{var a=r??t;if(Wt(a))return a;var s=e==="horizontal"?i:n,o=s.scale.domain();if(s.type==="number"){var c=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function Hue(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:m,bandSize:g}=e,x=i&&i.length,v=que(a,s,r,o,c),y=a==="horizontal",w=!1,_=u.map((E,T)=>{var D,C,O;if(x)O=i[d+T];else{var R=Yr(E,n);Array.isArray(R)?(O=R,w=!0):O=[v,R]}var H=(D=(C=O)===null||C===void 0?void 0:C[1])!==null&&D!==void 0?D:null,F=H==null||x&&!t&&Yr(E,n)==null;return y?{x:e0({axis:o,ticks:h,bandSize:g,entry:E,index:T}),y:F?null:c.scale(H),value:O,payload:E}:{x:F?null:o.scale(H),y:e0({axis:c,ticks:m,bandSize:g,entry:E,index:T}),value:O,payload:E}}),S;return x||w?S=_.map(E=>{var T=Array.isArray(E.value)?E.value[0]:null;return y?{x:E.x,y:T!=null&&E.y!=null?c.scale(T):null,payload:E.payload}:{x:T!=null?o.scale(T):null,y:E.y,payload:E.payload}}):S=y?c.scale(v):o.scale(v),{points:_,baseLine:S,isRange:w}}function Vue(e){var t=Jn(e,iB),r=na();return A.createElement(Xg,{id:t.id,type:"area"},n=>A.createElement(A.Fragment,null,A.createElement(Pb,{legendPayload:Oue(t)}),A.createElement(Iue,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),A.createElement(Tb,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:F8(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),A.createElement(Wue,ch({},t,{id:n}))))}var aB=A.memo(Vue,_0);aB.displayName="Area";var Kue="Invariant failed";function Gue(e,t){throw new Error(Kue)}function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sN.apply(null,arguments)}function Xy(e){return A.createElement(og,sN({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Yue=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Wt(t))return t;var a=Wt(n)||pn(n);return a?t(n,i):(a||Gue(),r)}},Xue=(e,t,r)=>r,Jue=(e,t)=>t,Zg=et([g0,Jue],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Zue=et([Zg],e=>e?.maxBarSize),Que=(e,t,r,n)=>n,ede=et([qr,g0,au,su,Xue],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),tde=(e,t,r)=>{var n=qr(e),i=au(e,t),a=su(e,t);if(!(i==null||a==null))return n==="horizontal"?$y(e,"yAxis",a,r):$y(e,"xAxis",i,r)},rde=(e,t)=>{var r=qr(e),n=au(e,t),i=su(e,t);if(!(n==null||i==null))return r==="horizontal"?iC(e,"xAxis",n):iC(e,"yAxis",i)},nde=et([ede,Zte,rde],xle),ide=(e,t,r)=>{var n,i,a=Zg(e,t);if(a!=null){var s=au(e,t),o=su(e,t);if(!(s==null||o==null)){var c=qr(e),u=oF(e),{maxBarSize:d}=a,h=pn(d)?u:d,m,g;return c==="horizontal"?(m=Tl(e,"xAxis",s,r),g=Pl(e,"xAxis",s,r)):(m=Tl(e,"yAxis",o,r),g=Pl(e,"yAxis",o,r)),(n=(i=nf(m,g,!0))!==null&&i!==void 0?i:h)!==null&&n!==void 0?n:0}}},sB=(e,t,r)=>{var n=qr(e),i=au(e,t),a=su(e,t);if(!(i==null||a==null)){var s,o;return n==="horizontal"?(s=Tl(e,"xAxis",i,r),o=Pl(e,"xAxis",i,r)):(s=Tl(e,"yAxis",a,r),o=Pl(e,"yAxis",a,r)),nf(s,o)}},ade=et([nde,oF,Jte,lF,ide,sB,Zue],_le),sde=(e,t,r)=>{var n=au(e,t);if(n!=null)return Tl(e,"xAxis",n,r)},ode=(e,t,r)=>{var n=su(e,t);if(n!=null)return Tl(e,"yAxis",n,r)},lde=(e,t,r)=>{var n=au(e,t);if(n!=null)return Pl(e,"xAxis",n,r)},cde=(e,t,r)=>{var n=su(e,t);if(n!=null)return Pl(e,"yAxis",n,r)},ude=et([ade,Zg],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),dde=et([tde,Zg],Nle),fde=et([pa,Sj,sde,ode,lde,cde,ude,qr,VM,sB,dde,Zg,Que],(e,t,r,n,i,a,s,o,c,u,d,h,m)=>{var{chartData:g,dataStartIndex:x,dataEndIndex:v}=c;if(!(h==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:y}=h,w;if(y!=null&&y.length>0?w=y:w=g?.slice(x,v+1),w!=null)return $de({layout:o,barSettings:h,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:w,offset:e,cells:m,dataStartIndex:x})}}),hde=["index"];function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oN.apply(null,arguments)}function pde(e,t){if(e==null)return{};var r,n,i=mde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oB=A.createContext(void 0),gde=e=>{var t=A.useContext(oB);if(t!=null)return t.stackId;if(e!=null)return F8(e)},vde=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),xde=e=>{var t=A.useContext(oB);if(t!=null){var{stackId:r}=t;return"url(#".concat(vde(r,e),")")}},yde=e=>{var{index:t}=e,r=pde(e,hde),n=xde(t);return A.createElement(Rn,oN({className:"recharts-bar-stack-layer",clipPath:n},r))},bde=["onMouseEnter","onMouseLeave","onClick"],wde=["value","background","tooltipPosition"],Sde=["id"],_de=["onMouseEnter","onClick","onMouseLeave"];function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(null,arguments)}function _D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(r),!0).forEach(function(n){Nde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nde(e,t,r){return(t=jde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jde(e){var t=Ade(e,"string");return typeof t=="symbol"?t:t+""}function Ade(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jy(e,t){if(e==null)return{};var r,n,i=Ede(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ede(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pde=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:iu(r,t),payload:e}]},Tde=A.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:iu(a,t),hide:s,type:c,color:i,unit:o,graphicalItemId:u}};return A.createElement(Yg,{tooltipEntrySettings:d})});function kde(e){var t=Yt(Ju),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=a,u=Jy(a,bde),d=jb(s,n,a.id),h=Ab(o),m=Eb(c,n,a.id);if(!i||r==null)return null;var g=rf(i);return A.createElement(as,{zIndex:jle(i,yi.barBackground)},r.map((x,v)=>{var{value:y,background:w,tooltipPosition:_}=x,S=Jy(x,wde);if(!w)return null;var E=d(x,v),T=h(x,v),D=m(x,v),C=Vs(Vs(Vs(Vs(Vs({option:i,isActive:String(v)===t},S),{},{fill:"#eee"},w),g),d0(u,x,v)),{},{onMouseEnter:E,onMouseLeave:T,onClick:D,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return A.createElement(Xy,Zu({key:"background-bar-".concat(v)},C))}))}function Cde(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Vs(Vs({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return A.createElement(wb,{value:t?i:void 0},r)}function Dde(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=Yt(Ju),c=Yt(CA),u=r&&String(a)===o&&(c==null||s===c),d=u?r:t;return u?A.createElement(as,{zIndex:yi.activeBar},A.createElement(Xy,Zu({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))):A.createElement(Xy,Zu({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function Ode(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return A.createElement(Xy,Zu({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function Ide(e){var t,{data:r,props:n}=e,i=(t=ns(n))!==null&&t!==void 0?t:{},{id:a}=i,s=Jy(i,Sde),{shape:o,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:h,onMouseLeave:m}=n,g=Jy(n,_de),x=jb(d,c,a),v=Ab(m),y=Eb(h,c,a);return r?A.createElement(A.Fragment,null,r.map((w,_)=>A.createElement(yde,Zu({index:_,key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(_),className:"recharts-bar-rectangle"},d0(g,w,_),{onMouseEnter:x(w,_),onMouseLeave:v(w,_),onClick:y(w,_)}),u?A.createElement(Dde,{shape:o,activeBar:u,baseProps:s,entry:w,index:_,dataKey:c}):A.createElement(Ode,{shape:o,baseProps:s,entry:w,index:_,dataKey:c})))):null}function Rde(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=r.current,m=Ph(t,"recharts-bar-"),[g,x]=A.useState(!1),v=!g,y=A.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),w=A.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return A.createElement(Cde,{showLabels:v,rects:n},A.createElement(Eh,{animationId:m,begin:s,duration:o,isActive:a,easing:c,onAnimationEnd:y,onAnimationStart:w,key:m},_=>{var S=_===1?n:n?.map((E,T)=>{var D=h&&h[T];if(D)return Vs(Vs({},E),{},{x:Gr(D.x,E.x,_),y:Gr(D.y,E.y,_),width:Gr(D.width,E.width,_),height:Gr(D.height,E.height,_)});if(i==="horizontal"){var C=Gr(0,E.height,_),O=Gr(E.stackedBarStart,E.y,_);return Vs(Vs({},E),{},{y:O,height:C})}var R=Gr(0,E.width,_),H=Gr(E.stackedBarStart,E.x,_);return Vs(Vs({},E),{},{width:R,x:H})});return _>0&&(r.current=S??null),S==null?null:A.createElement(Rn,null,A.createElement(Ide,{props:t,data:S}))}),A.createElement(Gg,{label:t.label}),t.children)}function Lde(e){var t=A.useRef(null);return A.createElement(Rde,{previousRectanglesRef:t,props:e})}var lB=0,Mde=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Yr(e,t)}};class Fde extends A.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=Xr("recharts-bar",i),h=u;return A.createElement(Rn,{className:d,id:u},o&&A.createElement("defs",null,A.createElement(Db,{clipPathId:h,xAxisId:a,yAxisId:s})),A.createElement(Rn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},A.createElement(kde,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),A.createElement(Lde,this.props)))}}var Bde={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:lB,xAxisId:0,yAxisId:0,zIndex:yi.bar};function Ude(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:h}=Jg(t,r),m=hf(),g=na(),x=Nb(e.children,Ch),v=Yt(_=>fde(_,e.id,g,x));if(m!=="vertical"&&m!=="horizontal")return null;var y,w=v?.[0];return w==null||w.height==null||w.width==null?y=0:y=m==="vertical"?w.height/2:w.width/2,A.createElement(qA,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:Mde,errorBarOffset:y},A.createElement(Fde,Zu({},e,{layout:m,needClip:h,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function $de(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:m,cells:g,parentViewBox:x,dataStartIndex:v}=e,y=t==="horizontal"?o:s,w=d?y.scale.domain():null,_=IX({numericAxis:y}),S=y.scale(_);return h.map((E,T)=>{var D,C,O,R,H,F;if(d){var U=d[T+v];if(U==null)return null;D=TX(U,w)}else D=Yr(E,r),Array.isArray(D)||(D=[_,D]);var M=Yue(n,lB)(D[1],T);if(t==="horizontal"){var q,[ee,ve]=[o.scale(D[0]),o.scale(D[1])];C=lT({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:E,index:T}),O=(q=ve??ee)!==null&&q!==void 0?q:void 0,R=i.size;var he=ee-ve;if(H=jl(he)?0:he,F={x:C,y:m.top,width:R,height:m.height},Math.abs(M)>0&&Math.abs(H)<Math.abs(M)){var ce=La(H||M)*(Math.abs(M)-Math.abs(H));O-=ce,H+=ce}}else{var[be,Oe]=[s.scale(D[0]),s.scale(D[1])];if(C=be,O=lT({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:E,index:T}),R=Oe-be,H=i.size,F={x:m.left,y:O,width:m.width,height:H},Math.abs(M)>0&&Math.abs(R)<Math.abs(M)){var ae=La(R||M)*(Math.abs(M)-Math.abs(R));R+=ae}}if(C==null||O==null||R==null||H==null)return null;var L=Vs(Vs({},E),{},{stackedBarStart:S,x:C,y:O,width:R,height:H,value:d?D:D[1],payload:E,background:F,tooltipPosition:{x:C+R/2,y:O+H/2},parentViewBox:x},g&&g[T]&&g[T].props);return L}).filter(Boolean)}function zde(e){var t=Jn(e,Bde),r=gde(t.stackId),n=na();return A.createElement(Xg,{id:t.id,type:"bar"},i=>A.createElement(A.Fragment,null,A.createElement(Pb,{legendPayload:Pde(t)}),A.createElement(Tde,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),A.createElement(Tb,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),A.createElement(as,{zIndex:t.zIndex},A.createElement(Ude,Zu({},t,{id:i})))))}var Zy=A.memo(zde,_0);Zy.displayName="Bar";var Wde=["option","isActive"];function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jm.apply(null,arguments)}function qde(e,t){if(e==null)return{};var r,n,i=Hde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Hde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vde(e){var{option:t,isActive:r}=e,n=qde(e,Wde);return typeof t=="string"?A.createElement(og,jm({option:A.createElement(L1,jm({type:t},n)),isActive:r,shapeType:"symbols"},n)):A.createElement(og,jm({option:t,isActive:r,shapeType:"symbols"},n))}var Kde=(e,t,r,n,i,a,s)=>Tl(e,"xAxis",t,s),Gde=(e,t,r,n,i,a,s)=>Pl(e,"xAxis",t,s),Yde=(e,t,r,n,i,a,s)=>Tl(e,"yAxis",r,s),Xde=(e,t,r,n,i,a,s)=>Pl(e,"yAxis",r,s),Jde=(e,t,r,n)=>tne(e,"zAxis",n,!1),Zde=(e,t,r,n,i)=>i,Qde=(e,t,r,n,i,a)=>a,efe=(e,t,r,n,i,a,s)=>lb(e,void 0,void 0,s),tfe=et([g0,Zde],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),rfe=et([efe,Kde,Gde,Yde,Xde,Jde,tfe,Qde],(e,t,r,n,i,a,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(s!=null){var h;if(s?.data!=null&&s.data.length>0?h=s.data:h=c?.slice(u,d+1),!(h==null||t==null||n==null||r==null||i==null||r?.length===0||i?.length===0))return gfe({displayedData:h,xAxis:t,yAxis:n,zAxis:a,scatterSettings:s,xAxisTicks:r,yAxisTicks:i,cells:o})}}),nfe=["id"],ife=["onMouseEnter","onClick","onMouseLeave"],afe=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function lN(e,t){if(e==null)return{};var r,n,i=sfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(null,arguments)}function ND(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(r),!0).forEach(function(n){ofe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ofe(e,t,r){return(t=lfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lfe(e){var t=cfe(e,"string");return typeof t=="symbol"?t:t+""}function cfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ufe=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:iu(r,t),payload:e}]},dfe=A.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,tooltipType:c,id:u}=e,d={dataDefinedOnItem:r?.map(h=>h.tooltipPayload),positions:r?.map(h=>h.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:a,nameKey:void 0,dataKey:t,name:iu(s,t),hide:o,type:c,color:a,unit:"",graphicalItemId:u}};return A.createElement(Yg,{tooltipEntrySettings:d})});function ffe(e){var{points:t,props:r}=e,{line:n,lineType:i,lineJointType:a}=r;if(!n)return null;var s=ns(r),o=rf(n),c,u;if(i==="joint")c=t.map(y=>{var w,_;return{x:(w=y.cx)!==null&&w!==void 0?w:null,y:(_=y.cy)!==null&&_!==void 0?_:null}});else if(i==="fitting"){var{xmin:d,xmax:h,a:m,b:g}=iG(t),x=y=>m*y+g;c=[{x:d,y:x(d)},{x:h,y:x(h)}]}var v=go(go(go({},s),{},{fill:"none",stroke:s&&s.fill},o),{},{points:c});return A.isValidElement(n)?u=A.cloneElement(n,v):typeof n=="function"?u=n(v):u=A.createElement(sh,bh({},v,{type:a})),A.createElement(Rn,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function hfe(e){var{showLabels:t,points:r,children:n}=e,i=Dg(),a=A.useMemo(()=>r?.map(s=>{var o,c,u={x:(o=s.x)!==null&&o!==void 0?o:0,y:(c=s.y)!==null&&c!==void 0?c:0,width:s.width,height:s.height,lowerWidth:s.width,upperWidth:s.width};return go(go({},u),{},{value:void 0,payload:s.payload,viewBox:u,parentViewBox:i,fill:void 0})}),[i,r]);return A.createElement(wb,{value:t?a:void 0},n)}function pfe(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:i,dataKey:a}=r,{id:s}=r,o=lN(r,nfe),c=Yt(Ju),{onMouseEnter:u,onClick:d,onMouseLeave:h}=r,m=lN(r,ife),g=jb(u,a,s),x=Ab(h),v=Eb(d,a,s);if(!vG(t))return null;var y=ns(o);return A.createElement(A.Fragment,null,A.createElement(ffe,{points:t,props:o}),t.map((w,_)=>{var S=i!=null&&i!==!1,E=S&&c===String(_),T=S&&E?i:n,D=go(go(go({},y),w),{},{[bj]:_,[wj]:String(s)});return A.createElement(as,{key:"symbol-".concat(w?.cx,"-").concat(w?.cy,"-").concat(w?.size,"-").concat(_),zIndex:E?yi.activeDot:void 0},A.createElement(Rn,bh({className:"recharts-scatter-symbol"},d0(m,w,_),{onMouseEnter:g(w,_),onMouseLeave:x(w,_),onClick:v(w,_)}),A.createElement(Vde,bh({option:T,isActive:E},D))))}))}function mfe(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o}=r,c=t.current,u=Ph(r,"recharts-scatter-"),[d,h]=A.useState(!1),m=A.useCallback(()=>{h(!1)},[]),g=A.useCallback(()=>{h(!0)},[]),x=!d;return A.createElement(hfe,{showLabels:x,points:n},r.children,A.createElement(Eh,{animationId:u,begin:a,duration:s,isActive:i,easing:o,onAnimationEnd:m,onAnimationStart:g,key:u},v=>{var y=v===1?n:n?.map((w,_)=>{var S=c&&c[_];return S?go(go({},w),{},{cx:w.cx==null?void 0:Gr(S.cx,w.cx,v),cy:w.cy==null?void 0:Gr(S.cy,w.cy,v),size:Gr(S.size,w.size,v)}):go(go({},w),{},{size:Gr(0,w.size,v)})});return v>0&&(t.current=y),A.createElement(Rn,null,A.createElement(pfe,{points:y,allOtherScatterProps:r,showLabels:x}))}),A.createElement(Gg,{label:r.label}))}function gfe(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:i,scatterSettings:a,xAxisTicks:s,yAxisTicks:o,cells:c}=e,u=pn(r.dataKey)?a.dataKey:r.dataKey,d=pn(n.dataKey)?a.dataKey:n.dataKey,h=i&&i.dataKey,m=i?i.range:Lu.range,g=m&&m[0],x=r.scale.bandwidth?r.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((y,w)=>{var _=Yr(y,u),S=Yr(y,d),E=!pn(h)&&Yr(y,h)||"-",T=[{name:pn(r.dataKey)?a.name:r.name||String(r.dataKey),unit:r.unit||"",value:_,payload:y,dataKey:u,type:a.tooltipType},{name:pn(n.dataKey)?a.name:n.name||String(n.dataKey),unit:n.unit||"",value:S,payload:y,dataKey:d,type:a.tooltipType}];E!=="-"&&T.push({name:i.name||i.dataKey,unit:i.unit||"",value:E,payload:y,dataKey:h,type:a.tooltipType});var D=e0({axis:r,ticks:s,bandSize:x,entry:y,index:w,dataKey:u}),C=e0({axis:n,ticks:o,bandSize:v,entry:y,index:w,dataKey:d}),O=E!=="-"?i.scale(E):g,R=Math.sqrt(Math.max(O,0)/Math.PI);return go(go({},y),{},{cx:D,cy:C,x:D==null?void 0:D-R,y:C==null?void 0:C-R,width:2*R,height:2*R,size:O,node:{x:_,y:S,z:E},tooltipPayload:T,tooltipPosition:{x:D,y:C},payload:y},c&&c[w]&&c[w].props)})}var vfe=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Yr(e,t)});function xfe(e){var{hide:t,points:r,className:n,needClip:i,xAxisId:a,yAxisId:s,id:o}=e,c=A.useRef(null);if(t)return null;var u=Xr("recharts-scatter",n),d=o;return A.createElement(as,{zIndex:e.zIndex},A.createElement(Rn,{className:u,clipPath:i?"url(#clipPath-".concat(d,")"):void 0,id:o},i&&A.createElement("defs",null,A.createElement(Db,{clipPathId:d,xAxisId:a,yAxisId:s})),A.createElement(qA,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:vfe,errorBarOffset:0},A.createElement(Rn,{key:"recharts-scatter-symbols"},A.createElement(mfe,{props:e,previousPointsRef:c})))))}var cB={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:yi.scatter};function yfe(e){var t=Jn(e,cB),{animationBegin:r,animationDuration:n,animationEasing:i,hide:a,isAnimationActive:s,legendType:o,lineJointType:c,lineType:u,shape:d,xAxisId:h,yAxisId:m,zAxisId:g}=t,x=lN(t,afe),{needClip:v}=Jg(h,m),y=A.useMemo(()=>Nb(e.children,Ch),[e.children]),w=na(),_=Yt(S=>rfe(S,h,m,g,e.id,y,w));return v==null||_==null?null:A.createElement(A.Fragment,null,A.createElement(dfe,{dataKey:e.dataKey,points:_,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),A.createElement(xfe,bh({},x,{xAxisId:h,yAxisId:m,zAxisId:g,lineType:u,lineJointType:c,legendType:o,shape:d,hide:a,isAnimationActive:s,animationBegin:r,animationDuration:n,animationEasing:i,points:_,needClip:v})))}function bfe(e){var t=Jn(e,cB),r=na();return A.createElement(Xg,{id:t.id,type:"scatter"},n=>A.createElement(A.Fragment,null,A.createElement(Pb,{legendPayload:ufe(t)}),A.createElement(Tb,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),A.createElement(yfe,bh({},t,{id:n}))))}var uB=A.memo(bfe,_0);uB.displayName="Scatter";var wfe=["domain","range"],Sfe=["domain","range"];function jD(e,t){if(e==null)return{};var r,n,i=_fe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _fe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AD(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function dB(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=jD(e,wfe),{domain:a,range:s}=t,o=jD(t,Sfe);return!AD(r,a)||!AD(n,s)?!1:_0(i,o)}var Nfe=["dangerouslySetInnerHTML","ticks","scale"],jfe=["id","scale"];function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cN.apply(null,arguments)}function ED(e,t){if(e==null)return{};var r,n,i=Afe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Afe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Efe(e){var t=Mn(),r=A.useRef(null);return A.useLayoutEffect(()=>{r.current===null?t(ele(e)):r.current!==e&&t(tle({prev:r.current,next:e})),r.current=e},[e,t]),A.useLayoutEffect(()=>()=>{r.current&&(t(rle(r.current)),r.current=null)},[t]),null}var Pfe=e=>{var{xAxisId:t,className:r}=e,n=Yt(Sj),i=na(),a="xAxis",s=Yt(w=>UF(w,a,t,i)),o=Yt(w=>LF(w,t)),c=Yt(w=>Yre(w,t)),u=Yt(w=>vF(w,t));if(o==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:h,scale:m}=e,g=ED(e,Nfe),{id:x,scale:v}=u,y=ED(u,jfe);return A.createElement(WA,cN({},g,y,{x:c.x,y:c.y,width:o.width,height:o.height,className:Xr("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},Tfe={allowDataOverflow:Ca.allowDataOverflow,allowDecimals:Ca.allowDecimals,allowDuplicatedCategory:Ca.allowDuplicatedCategory,angle:Ca.angle,axisLine:Bu.axisLine,height:Ca.height,hide:!1,includeHidden:Ca.includeHidden,interval:Ca.interval,minTickGap:Ca.minTickGap,mirror:Ca.mirror,orientation:Ca.orientation,padding:Ca.padding,reversed:Ca.reversed,scale:Ca.scale,tick:Ca.tick,tickCount:Ca.tickCount,tickLine:Bu.tickLine,tickSize:Bu.tickSize,type:Ca.type,xAxisId:0},kfe=e=>{var t=Jn(e,Tfe);return A.createElement(A.Fragment,null,A.createElement(Efe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(Pfe,t))},Gd=A.memo(kfe,dB);Gd.displayName="XAxis";var Cfe=["dangerouslySetInnerHTML","ticks","scale"],Dfe=["id","scale"];function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(null,arguments)}function PD(e,t){if(e==null)return{};var r,n,i=Ofe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ofe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ife(e){var t=Mn(),r=A.useRef(null);return A.useLayoutEffect(()=>{r.current===null?t(nle(e)):r.current!==e&&t(ile({prev:r.current,next:e})),r.current=e},[e,t]),A.useLayoutEffect(()=>()=>{r.current&&(t(ale(r.current)),r.current=null)},[t]),null}var Rfe=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=A.useRef(null),s=A.useRef(null),o=Yt(Sj),c=na(),u=Mn(),d="yAxis",h=Yt(D=>MF(D,t)),m=Yt(D=>Jre(D,t)),g=Yt(D=>UF(D,d,t,c)),x=Yt(D=>xF(D,t));if(A.useLayoutEffect(()=>{if(!(n!=="auto"||!h||LA(i)||A.isValidElement(i)||x==null)){var D=a.current;if(D){var C=D.getCalculatedWidth();Math.round(h.width)!==Math.round(C)&&u(cle({id:t,width:C}))}}},[g,h,u,i,t,n,x]),h==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:v,ticks:y,scale:w}=e,_=PD(e,Cfe),{id:S,scale:E}=x,T=PD(x,Dfe);return A.createElement(WA,uN({},_,T,{ref:a,labelRef:s,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Xr("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:g,axisType:d}))},Lfe={allowDataOverflow:Da.allowDataOverflow,allowDecimals:Da.allowDecimals,allowDuplicatedCategory:Da.allowDuplicatedCategory,angle:Da.angle,axisLine:Bu.axisLine,hide:!1,includeHidden:Da.includeHidden,interval:Da.interval,minTickGap:Da.minTickGap,mirror:Da.mirror,orientation:Da.orientation,padding:Da.padding,reversed:Da.reversed,scale:Da.scale,tick:Da.tick,tickCount:Da.tickCount,tickLine:Bu.tickLine,tickSize:Bu.tickSize,type:Da.type,width:Da.width,yAxisId:0},Mfe=e=>{var t=Jn(e,Lfe);return A.createElement(A.Fragment,null,A.createElement(Ife,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(Rfe,t))},Yd=A.memo(Mfe,dB);Yd.displayName="YAxis";function Ffe(e){var t=Mn(),r=A.useRef(null);return A.useLayoutEffect(()=>{r.current===null?t(sle(e)):r.current!==e&&t(ole({prev:r.current,next:e})),r.current=e},[e,t]),A.useLayoutEffect(()=>()=>{r.current&&(t(lle(r.current)),r.current=null)},[t]),null}var Bfe={zAxisId:0,range:Lu.range,scale:Lu.scale,type:Lu.type};function fB(e){var t=Jn(e,Bfe);return A.createElement(Ffe,{domain:t.domain,id:t.zAxisId,dataKey:t.dataKey,name:t.name,unit:t.unit,range:t.range,scale:t.scale,type:t.type,allowDuplicatedCategory:Lu.allowDuplicatedCategory,allowDataOverflow:Lu.allowDataOverflow,reversed:Lu.reversed,includeHidden:Lu.includeHidden})}fB.displayName="ZAxis";var Ufe=(e,t)=>t,VA=et([Ufe,qr,mF,ga,r7,ud,hie,pa],bie),KA=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},hB=Al("mouseClick"),pB=kg();pB.startListening({actionCreator:hB,effect:(e,t)=>{var r=e.payload,n=VA(t.getState(),KA(r));n?.activeIndex!=null&&t.dispatch(fne({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var dN=Al("mouseMove"),mB=kg(),px=null;mB.startListening({actionCreator:dN,effect:(e,t)=>{var r=e.payload;px!==null&&cancelAnimationFrame(px);var n=KA(r);px=requestAnimationFrame(()=>{var i=t.getState(),a=jA(i,i.tooltip.settings.shared);if(a==="axis"){var s=VA(i,n);s?.activeIndex!=null?t.dispatch(GF({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(KF())}px=null})}});function $fe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var TD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},gB=bo({name:"rootProps",initialState:TD,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:TD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),zfe=gB.reducer,{updateOptions:Wfe}=gB.actions,vB=bo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:qfe}=vB.actions,Hfe=vB.reducer,xB=Al("keyDown"),yB=Al("focus"),GA=kg();GA.startListening({actionCreator:xB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=AA(i,w0(r),Wg(r),Vg(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var c=ud(r);if(a==="Enter"){var u=Wy(r,"axis","hover",String(i.index));t.dispatch(Q_({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=rne(r),h=d==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,g=o+m*h;if(!(c==null||g>=c.length||g<0)){var x=Wy(r,"axis","hover",String(g));t.dispatch(Q_({active:!0,activeIndex:g.toString(),activeCoordinate:x}))}}}}}});GA.startListening({actionCreator:yB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Wy(r,"axis","hover",String(a));t.dispatch(Q_({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var xl=Al("externalEvent"),bB=kg(),C5=new Map;bB.startListening({actionCreator:xl,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=C5.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),c={activeCoordinate:Zne(o),activeDataKey:CA(o),activeIndex:Ju(o),activeLabel:a7(o),activeTooltipIndex:Ju(o),isTooltipActive:Qne(o)};r(c,n)}finally{C5.delete(i)}});C5.set(i,s)}}});var Vfe=et([y0],e=>e.tooltipItemPayloads),Kfe=et([Vfe,Hg,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.graphicalItemId===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),wB=Al("touchMove"),SB=kg();SB.startListening({actionCreator:wB,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=jA(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=VA(n,KA({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(GF({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(bj),h=(o=u.getAttribute(wj))!==null&&o!==void 0?o:void 0,m=b0(n).find(v=>v.id===h);if(d==null||m==null||h==null)return;var{dataKey:g}=m,x=Kfe(n,d,h);t.dispatch(VF({activeDataKey:g,activeIndex:d,activeCoordinate:x,activeGraphicalItemId:h}))}}}});var Gfe=o8({brush:Ale,cartesianAxis:ule,chartData:Jie,errorBars:_ce,graphicalItems:poe,layout:_X,legend:CJ,options:Vie,polarAxis:Pse,polarOptions:Hfe,referenceElements:Ole,rootProps:zfe,tooltip:hne,zIndex:Iie}),Yfe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return GY({reducer:Gfe,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([pB.middleware,mB.middleware,GA.middleware,bB.middleware,SB.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(S8({type:"raf"}))},devTools:{serialize:{replacer:$fe},name:"recharts-".concat(r)}})};function _B(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=na(),a=A.useRef(null);if(i)return r;a.current==null&&(a.current=Yfe(t,n));var s=hj;return A.createElement(Jce,{context:s,store:a.current},r)}function Xfe(e){var{layout:t,margin:r}=e,n=Mn(),i=na();return A.useEffect(()=>{i||(n(bX(t)),n(yX(r)))},[n,i,t,r]),null}var NB=A.memo(Xfe,_0);function jB(e){var t=Mn();return A.useEffect(()=>{t(Wfe(e))},[t,e]),null}function kD(e){var{zIndex:t,isPanorama:r}=e,n=A.useRef(null),i=Mn();return A.useLayoutEffect(()=>(n.current&&i(Die({zIndex:t,element:n.current,isPanorama:r})),()=>{i(Oie({zIndex:t,isPanorama:r}))}),[i,t,r]),A.createElement("g",{tabIndex:-1,ref:n})}function CD(e){var{children:t,isPanorama:r}=e,n=Yt(Sie);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return A.createElement(A.Fragment,null,i.map(s=>A.createElement(kD,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>A.createElement(kD,{key:s,zIndex:s,isPanorama:r})))}var Jfe=["children"];function Zfe(e,t){if(e==null)return{};var r,n,i=Qfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}var ehe={width:"100%",height:"100%",display:"block"},the=A.forwardRef((e,t)=>{var r=Nj(),n=jj(),i=tM();if(!eu(r)||!eu(n))return null;var{children:a,otherAttributes:s,title:o,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),A.createElement(nj,Qy({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:ehe,ref:t}),a)}),rhe=e=>{var{children:t}=e,r=Yt(X1);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return A.createElement(nj,{width:n,height:i,x:s,y:a},t)},DD=A.forwardRef((e,t)=>{var{children:r}=e,n=Zfe(e,Jfe),i=na();return i?A.createElement(rhe,null,A.createElement(CD,{isPanorama:!0},r)):A.createElement(the,Qy({ref:t},n),A.createElement(CD,{isPanorama:!1},r))});function nhe(){var e=Mn(),[t,r]=A.useState(null),n=Yt(UX);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Ln(a)&&a!==n&&e(SX(a))}},[t,e,n]),r}function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ihe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(n){ahe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ahe(e,t,r){return(t=she(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function she(e){var t=ohe(e,"string");return typeof t=="symbol"?t:t+""}function ohe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(null,arguments)}var lhe=()=>(sae(),null);function e1(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var che=A.forwardRef((e,t)=>{var r,n,i=A.useRef(null),[a,s]=A.useState({containerWidth:e1((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:e1((n=e.style)===null||n===void 0?void 0:n.height)}),o=A.useCallback((u,d)=>{s(h=>{var m=Math.round(u),g=Math.round(d);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),c=A.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var m=x=>{var{width:v,height:y}=x[0].contentRect;o(v,y)},g=new ResizeObserver(m);g.observe(u),i.current=g}},[t,o]);return A.useEffect(()=>()=>{var u=i.current;u?.disconnect()},[o]),A.createElement(A.Fragment,null,A.createElement(J1,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",wh({ref:c},e)))}),uhe=A.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=A.useState({containerWidth:e1(r),containerHeight:e1(n)}),s=A.useCallback((c,u)=>{a(d=>{var h=Math.round(c),m=Math.round(u);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),o=A.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return A.createElement(A.Fragment,null,A.createElement(J1,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",wh({ref:o},e)))}),dhe=A.forwardRef((e,t)=>{var{width:r,height:n}=e;return A.createElement(A.Fragment,null,A.createElement(J1,{width:r,height:n}),A.createElement("div",wh({ref:t},e)))}),fhe=A.forwardRef((e,t)=>{var{width:r,height:n}=e;return Hu(r)||Hu(n)?A.createElement(uhe,wh({},e,{ref:t})):A.createElement(dhe,wh({},e,{ref:t}))});function hhe(e){return e===!0?che:fhe}var phe=A.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:m,onTouchEnd:g,onTouchMove:x,onTouchStart:v,style:y,width:w,responsive:_,dispatchTouchEvents:S=!0}=e,E=A.useRef(null),T=Mn(),[D,C]=A.useState(null),[O,R]=A.useState(null),H=nhe(),F=_j(),U=F?.width>0?F.width:w,M=F?.height>0?F.height:i,q=A.useCallback(fe=>{H(fe),typeof t=="function"&&t(fe),C(fe),R(fe),fe!=null&&(E.current=fe)},[H,t,C,R]),ee=A.useCallback(fe=>{T(hB(fe)),T(xl({handler:a,reactEvent:fe}))},[T,a]),ve=A.useCallback(fe=>{T(dN(fe)),T(xl({handler:u,reactEvent:fe}))},[T,u]),he=A.useCallback(fe=>{T(KF()),T(xl({handler:d,reactEvent:fe}))},[T,d]),ce=A.useCallback(fe=>{T(dN(fe)),T(xl({handler:h,reactEvent:fe}))},[T,h]),be=A.useCallback(()=>{T(yB())},[T]),Oe=A.useCallback(fe=>{T(xB(fe.key))},[T]),ae=A.useCallback(fe=>{T(xl({handler:s,reactEvent:fe}))},[T,s]),L=A.useCallback(fe=>{T(xl({handler:o,reactEvent:fe}))},[T,o]),Y=A.useCallback(fe=>{T(xl({handler:c,reactEvent:fe}))},[T,c]),K=A.useCallback(fe=>{T(xl({handler:m,reactEvent:fe}))},[T,m]),J=A.useCallback(fe=>{T(xl({handler:v,reactEvent:fe}))},[T,v]),pe=A.useCallback(fe=>{S&&T(wB(fe)),T(xl({handler:x,reactEvent:fe}))},[T,S,x]),Ae=A.useCallback(fe=>{T(xl({handler:g,reactEvent:fe}))},[T,g]),Ne=hhe(_);return A.createElement(h7.Provider,{value:D},A.createElement(_L.Provider,{value:O},A.createElement(Ne,{width:U??y?.width,height:M??y?.height,className:Xr("recharts-wrapper",n),style:ihe({position:"relative",cursor:"default",width:U,height:M},y),onClick:ee,onContextMenu:ae,onDoubleClick:L,onFocus:be,onKeyDown:Oe,onMouseDown:Y,onMouseEnter:ve,onMouseLeave:he,onMouseMove:ce,onMouseUp:K,onTouchEnd:Ae,onTouchMove:pe,onTouchStart:J,ref:q},A.createElement(lhe,null),r)))}),mhe=["width","height","responsive","children","className","style","compact","title","desc"];function ghe(e,t){if(e==null)return{};var r,n,i=vhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AB=A.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:c,title:u,desc:d}=e,h=ghe(e,mhe),m=ns(h);return c?A.createElement(A.Fragment,null,A.createElement(J1,{width:r,height:n}),A.createElement(DD,{otherAttributes:m,title:u,desc:d},a)):A.createElement(phe,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(DD,{otherAttributes:m,title:u,desc:d,ref:t},A.createElement(Rle,null,a)))});function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fN.apply(null,arguments)}var xhe={top:5,right:5,bottom:5,left:5},yhe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:xhe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Qg=A.forwardRef(function(t,r){var n,i=Jn(t.categoricalChartProps,yhe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return A.createElement(_B,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},A.createElement(F7,{chartData:u.data}),A.createElement(NB,{layout:i.layout,margin:i.margin}),A.createElement(jB,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(AB,fN({},i,{ref:r})))}),bhe=["axis"],EB=A.forwardRef((e,t)=>A.createElement(Qg,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bhe,tooltipPayloadSearcher:S0,categoricalChartProps:e,ref:t})),whe=["axis","item"],PB=A.forwardRef((e,t)=>A.createElement(Qg,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:whe,tooltipPayloadSearcher:S0,categoricalChartProps:e,ref:t}));function She(e){var t=Mn();return A.useEffect(()=>{t(qfe(e))},[t,e]),null}var _he=["layout"];function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hN.apply(null,arguments)}function Nhe(e,t){if(e==null)return{};var r,n,i=jhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ahe={top:5,right:5,bottom:5,left:5},TB={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ahe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ehe=A.forwardRef(function(t,r){var n,i=Jn(t.categoricalChartProps,TB),{layout:a}=i,s=Nhe(i,_he),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,h={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return A.createElement(_B,{preloadedState:{options:h},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},A.createElement(F7,{chartData:i.data}),A.createElement(NB,{layout:a,margin:i.margin}),A.createElement(jB,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(She,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),A.createElement(AB,hN({},s,{ref:r})))});function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){Phe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Phe(e,t,r){return(t=The(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function The(e){var t=khe(e,"string");return typeof t=="symbol"?t:t+""}function khe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Che=["item"],Dhe=RD(RD({},TB),{},{layout:"centric",startAngle:0,endAngle:360}),kB=A.forwardRef((e,t)=>{var r=Jn(e,Dhe);return A.createElement(Ehe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Che,tooltipPayloadSearcher:S0,categoricalChartProps:r,ref:t})}),Ohe=["item"],Ihe=A.forwardRef((e,t)=>A.createElement(Qg,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ohe,tooltipPayloadSearcher:S0,categoricalChartProps:e,ref:t})),Rhe=["axis"],Lhe=A.forwardRef((e,t)=>A.createElement(Qg,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rhe,tooltipPayloadSearcher:S0,categoricalChartProps:e,ref:t})),Mhe=["axis"],Fhe=A.forwardRef((e,t)=>A.createElement(Qg,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Mhe,tooltipPayloadSearcher:S0,categoricalChartProps:e,ref:t}));const nc=({title:e,value:t,icon:r,color:n,trend:i,subtitle:a,onClick:s,className:o,shape:c="card"})=>c==="circle"?l.jsxs("div",{className:`w-32 h-32 bg-white rounded-xl shadow-md hover:shadow-lg flex flex-col items-center justify-center transition-all duration-300 hover:scale-105 hover:-translate-y-1 border border-slate-200 cursor-pointer group ${s?"hover:border-blue-300":""} ${o||""}`,onClick:s,role:s?"button":void 0,tabIndex:s?0:void 0,onKeyDown:s?u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),s())}:void 0,"aria-label":s?`${e}: ${t}`:void 0,children:[l.jsx("div",{className:`p-3 rounded-full ${n} shadow-sm mb-2 group-hover:shadow-md transition-shadow`,children:r}),l.jsx("p",{className:"text-xs text-slate-600 font-medium text-center px-1",children:e}),l.jsx("p",{className:"text-lg font-bold text-slate-800",children:t}),a&&l.jsx("p",{className:"text-xs text-slate-500 text-center px-1",children:a})]}):l.jsx("div",{className:`bg-white p-5 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-0.5 border border-slate-200 cursor-pointer group ${s?"hover:border-blue-300 hover:shadow-lg":""} ${o||""}`,onClick:s,role:s?"button":void 0,tabIndex:s?0:void 0,onKeyDown:s?u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),s())}:void 0,"aria-label":s?`${e}: ${t}`:void 0,children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`p-3 rounded-lg ${n} shadow-sm group-hover:shadow-md transition-shadow`,children:r}),l.jsxs("div",{className:"ms-4 flex-1",children:[l.jsx("p",{className:"text-sm text-slate-600 font-medium",children:e}),l.jsx("p",{className:"text-2xl font-bold text-slate-800 leading-none",children:t}),a&&l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:a}),i&&l.jsxs("div",{className:`flex items-center mt-2 text-xs font-semibold ${i.isPositive?"text-emerald-600":"text-red-600"}`,children:[l.jsx("svg",{className:`w-3 h-3 mr-1 ${i.isPositive?"":"rotate-180"}`,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),Math.abs(i.value),"%"]})]})]})}),LD=({clinicData:e,setCurrentView:t})=>{const{t:r,locale:n}=sr(),{patients:i,appointments:a,treatmentRecords:s,inventoryItems:o,labCases:c,dentists:u,payments:d,expenses:h,supplierInvoices:m,doctorPayments:g,prescriptions:x,prescriptionItems:v}=e,y=new Intl.NumberFormat(n,{style:"currency",currency:"EGP"}),w=new Intl.NumberFormat(n,{style:"currency",currency:"EGP"}),_=new Intl.DateTimeFormat(n,{day:"2-digit",month:"short"}),S=new Date;S.setHours(0,0,0,0);const E=a.filter(Te=>{const je=new Date(Te.startTime);return je.setHours(0,0,0,0),je.getTime()===S.getTime()}).length,T=A.useMemo(()=>d.filter(Te=>{const je=new Date(Te.date);return je.setHours(0,0,0,0),je.getTime()===S.getTime()}),[d,S]),D=A.useMemo(()=>T.reduce((Te,je)=>Te+je.amount,0),[T]),C=A.useMemo(()=>h.filter(Te=>{const je=new Date(Te.date);return je.setHours(0,0,0,0),je.getTime()===S.getTime()}).reduce((Te,je)=>Te+je.amount,0),[h,S]),O=A.useMemo(()=>T.reduce((Te,je)=>Te+je.doctorShare,0),[T]),R=A.useMemo(()=>D-C-O,[D,C,O]);A.useMemo(()=>{const Te=s.reduce((Le,$e)=>Le+$e.doctorShare,0),je=g.reduce((Le,$e)=>Le+$e.amount,0);return Te-je},[s,g]);const H=A.useMemo(()=>{const Te=new Date,je=a.filter(Le=>new Date(Le.startTime)>Te).sort((Le,$e)=>new Date(Le.startTime).getTime()-new Date($e.startTime).getTime());return je.length>0?je[0]:null},[a]),F=A.useMemo(()=>{const Te=new Date;return a.filter(je=>new Date(je.startTime)>Te).sort((je,Le)=>new Date(je.startTime).getTime()-new Date(Le.startTime).getTime()).slice(0,10)},[a]),U=A.useMemo(()=>{const Te=new Date,je=new Date(Te.getFullYear(),Te.getMonth(),1),Le=new Date(Te.getFullYear(),Te.getMonth()+1,0);return d.filter($e=>{const oe=new Date($e.date);return oe>=je&&oe<=Le}).reduce(($e,oe)=>$e+oe.amount,0)},[d]);A.useMemo(()=>{const Te=s.reduce((Le,$e)=>{const oe=e.treatmentDefinitions.find(at=>at.id===$e.treatmentDefinitionId);return Le+(oe?oe.basePrice:0)},0),je=d.reduce((Le,$e)=>Le+$e.amount,0);return Te-je},[s,d,e.treatmentDefinitions]);const M=A.useMemo(()=>{const Te=new Date,je=new Date(Te.getFullYear(),Te.getMonth(),1),Le=new Date(Te.getFullYear(),Te.getMonth()+1,0);return h.filter($e=>{const oe=new Date($e.date);return oe>=je&&oe<=Le}).reduce(($e,oe)=>$e+oe.amount,0)},[h]),q=A.useMemo(()=>{const Te=new Date,je=new Date(Te.getFullYear(),Te.getMonth(),1),Le=new Date(Te.getFullYear(),Te.getMonth()+1,0);return d.filter($e=>{const oe=new Date($e.date);return oe>=je&&oe<=Le}).reduce(($e,oe)=>$e+oe.doctorShare,0)},[d]),ee=A.useMemo(()=>U-q-M,[U,q,M]);A.useMemo(()=>{const Te=s.reduce((Le,$e)=>{const oe=e.treatmentDefinitions.find(at=>at.id===$e.treatmentDefinitionId);return Le+(oe?oe.basePrice:0)},0),je=d.reduce((Le,$e)=>Le+$e.amount,0);return Math.max(0,Te-je)},[s,d,e.treatmentDefinitions]);const ve=A.useMemo(()=>{const Te=new Date;return m.filter(je=>je.status==="UNPAID"&&je.dueDate&&new Date(je.dueDate)<Te).length},[m]),he=A.useMemo(()=>{const Te=new Date,je=new Date(Te.getFullYear(),Te.getMonth(),1),Le=new Date(Te.getFullYear(),Te.getMonth()+1,0);return i.filter($e=>{const oe=s.filter(Pt=>Pt.patientId===$e.id);if(oe.length===0)return!1;const at=oe.sort((Pt,ct)=>new Date(Pt.treatmentDate).getTime()-new Date(ct.treatmentDate).getTime())[0],lt=new Date(at.treatmentDate);return lt>=je&&lt<=Le}).length},[i,s]),ce=A.useMemo(()=>c.filter(Te=>![Ks.FITTED_TO_PATIENT,Ks.CANCELLED].includes(Te.status)).sort((Te,je)=>new Date(Te.dueDate).getTime()-new Date(je.dueDate).getTime()).slice(0,5),[c]),be=A.useMemo(()=>o.filter(je=>je.currentStock<=10).sort((je,Le)=>je.currentStock-Le.currentStock).slice(0,5),[o]),Oe=A.useMemo(()=>{const Te={};T.forEach(Le=>{const $e=s.find(oe=>oe.id===Le.treatmentRecordId);if($e){const oe=u.find(at=>at.id===$e.dentistId);oe&&(Te[oe.id]||(Te[oe.id]={name:oe.name,earnings:0,color:oe.color}),Te[oe.id].earnings+=Le.doctorShare)}});const je=Object.values(Te).reduce((Le,$e)=>Le+$e.earnings,0);return Object.values(Te).map(Le=>({...Le,percentage:je>0?Le.earnings/je*100:0})).sort((Le,$e)=>$e.earnings-Le.earnings)},[T,s,u]);A.useMemo(()=>[{name:r("dashboard.todaysRevenue"),value:D,color:"#10b981"},{name:r("dashboard.todaysExpenses")||" ",value:C,color:"#ef4444"},{name:r("dashboard.doctorsDuesToday")||"  ",value:O,color:"#f59e0b"}],[D,C,O,r]);const ae=A.useMemo(()=>{const Te=[],je=new Date;for(let Le=5;Le>=0;Le--){const $e=new Date(je.getFullYear(),je.getMonth()-Le,1),oe=new Date(je.getFullYear(),je.getMonth()-Le+1,0),at=d.filter(Pt=>{const ct=new Date(Pt.date);return ct>=$e&&ct<=oe}).reduce((Pt,ct)=>Pt+ct.amount,0),lt=h.filter(Pt=>{const ct=new Date(Pt.date);return ct>=$e&&ct<=oe}).reduce((Pt,ct)=>Pt+ct.amount,0);Te.push({month:$e.toLocaleDateString(n,{month:"short"}),revenue:at,expenses:lt,profit:at-lt})}return Te},[d,h,n]),L=A.useMemo(()=>{const Te=[];return a.forEach(je=>{const Le=i.find($e=>$e.id===je.patientId);Te.push({id:`apt-${je.id}`,type:"appointment",date:new Date(je.startTime),title:`${Le?.name} - ${je.reason}`,color:"#0ea5e9"})}),s.slice(0,20).forEach(je=>{const Le=i.find(oe=>oe.id===je.patientId),$e=e.treatmentDefinitions.find(oe=>oe.id===je.treatmentDefinitionId);Te.push({id:`tr-${je.id}`,type:"treatment",date:new Date(je.treatmentDate),title:`${Le?.name} - ${$e?.name||"Treatment"}`,color:"#8b5cf6"})}),d.slice(0,20).forEach(je=>{const Le=i.find($e=>$e.id===je.patientId);Te.push({id:`pay-${je.id}`,type:"payment",date:new Date(je.date),title:`${Le?.name} - Payment: ${y.format(je.amount)}`,color:"#10b981"})}),Te.sort((je,Le)=>Le.date.getTime()-je.date.getTime()).slice(0,50)},[a,s,d,i,e.treatmentDefinitions,y]),Y=l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.124-1.282-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.124-1.282.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),K=l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-sky-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),J=l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[" ",l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})," "]}),pe=l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),Ae=l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),Ne=l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),fe=l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),ke=l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center",children:[l.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-blue-600 rounded-full mr-3"}),r("dashboard.todaysFinancials")]}),l.jsx("button",{onClick:()=>t("reports"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors px-3 py-1 rounded-lg hover:bg-blue-50",children:r("dashboard.viewDetails")})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsx(nc,{title:r("dashboard.todaysRevenue")||" ",value:y.format(D),icon:Ae,color:"bg-emerald-50 border border-emerald-200",subtitle:r("dashboard.today")||""}),l.jsx(nc,{title:r("dashboard.todaysExpenses")||" ",value:y.format(C),icon:Ne,color:"bg-red-50 border border-red-200",subtitle:r("dashboard.today")||""}),l.jsx(nc,{title:r("dashboard.doctorsDuesToday")||"  ",value:y.format(O),icon:fe,color:"bg-orange-50 border border-orange-200",subtitle:r("dashboard.today")||""})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-slate-600",children:[r("dashboard.netToday"),": ",l.jsx("span",{className:`font-bold ${R>=0?"text-emerald-600":"text-red-600"}`,children:y.format(R)})]})})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center",children:[l.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-emerald-600 rounded-full mr-3"}),r("dashboard.monthlyTrends")||"Monthly Trends"]}),l.jsx("button",{onClick:()=>t("reports"),className:"text-sm text-emerald-600 hover:text-emerald-800 font-medium transition-colors px-3 py-1 rounded-lg hover:bg-emerald-50",children:r("dashboard.viewDetails")})]})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"h-64",children:l.jsx(wy,{width:"100%",height:"100%",children:l.jsxs(EB,{data:ae,children:[l.jsx(Kd,{strokeDasharray:"3 3"}),l.jsx(Gd,{dataKey:"month"}),l.jsx(Yd,{tickFormatter:Te=>y.format(Te)}),l.jsx(ku,{formatter:Te=>[y.format(Te),""]}),l.jsx(Qf,{}),l.jsx(ug,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:r("dashboard.monthlyRevenue")||"Revenue"}),l.jsx(ug,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",strokeWidth:2,name:r("dashboard.monthlyExpenses")})]})})})})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center",children:[l.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-sky-500 to-sky-600 rounded-full mr-3"}),r("dashboard.upcomingAppointments")]}),l.jsx("button",{onClick:()=>t("scheduler"),className:"text-sm text-sky-600 hover:text-sky-800 font-medium transition-colors px-3 py-1 rounded-lg hover:bg-sky-50",children:r("dashboard.viewAll")})]})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:F.length>0?F.map(Te=>l.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-800",children:i.find(je=>je.id===Te.patientId)?.name}),l.jsx("p",{className:"text-sm text-slate-600",children:Te.reason})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:new Intl.DateTimeFormat(n,{month:"short",day:"numeric"}).format(new Date(Te.startTime))}),l.jsx("p",{className:"text-xs text-slate-500",children:new Intl.DateTimeFormat(n,{hour:"2-digit",minute:"2-digit"}).format(new Date(Te.startTime))})]})]},Te.id)):l.jsx("p",{className:"text-sm text-slate-500 p-4 text-center",children:r("dashboard.noUpcomingAppointments")})})})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center",children:[l.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-purple-600 rounded-full mr-3"}),r("dashboard.activityTimeline")||"Activity Timeline"]}),l.jsx("button",{onClick:()=>t("reports"),className:"text-sm text-purple-600 hover:text-purple-800 font-medium transition-colors px-3 py-1 rounded-lg hover:bg-purple-50",children:r("dashboard.viewAll")})]})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:L.length>0?L.map(Te=>l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-3 h-3 rounded-full mt-2",style:{backgroundColor:Te.color}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:Te.title}),l.jsx("p",{className:"text-xs text-slate-500 ml-2 flex-shrink-0",children:new Intl.DateTimeFormat(n,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(Te.date)})]}),l.jsx("div",{className:"flex items-center mt-1",children:l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium capitalize ${Te.type==="appointment"?"bg-sky-100 text-sky-800":Te.type==="treatment"?"bg-purple-100 text-purple-800":"bg-emerald-100 text-emerald-800"}`,children:r(`dashboard.eventType.${Te.type}`)})})]})]},Te.id)):l.jsx("p",{className:"text-sm text-slate-500 p-4 text-center",children:r("dashboard.noRecentActivity")||"No recent activity"})})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center",children:[l.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-orange-500 to-orange-600 rounded-full mr-3"}),r("dashboard.atAGlance")]}),ve>0&&l.jsxs("div",{className:"flex items-center text-orange-600 text-sm font-medium bg-orange-50 px-3 py-1 rounded-full",children:[fe,l.jsxs("span",{className:"ml-1",children:[ve," ",r("dashboard.overdue")]})]})]})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-slate-600 mb-3 flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mr-2"}),r("dashboard.pendingLabCases")]}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:ce.length>0?ce.map(Te=>l.jsxs("button",{onClick:()=>t("labCases"),className:"w-full text-start p-3 rounded-lg hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 border border-transparent hover:border-slate-200",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("p",{className:"font-semibold text-slate-800",children:i.find(je=>je.id===Te.patientId)?.name}),l.jsxs("p",{className:"text-xs text-slate-500",children:[r("labCases.due"),": ",Te.dueDate?_.format(new Date(Te.dueDate)):"No due date"]})]}),l.jsx("p",{className:"text-xs text-slate-600 mt-1",children:Te.caseType})]},Te.id)):l.jsx("p",{className:"text-sm text-slate-500 p-3 text-center bg-slate-50 rounded-lg",children:r("dashboard.noPendingLabCases")})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-3",children:[fe,l.jsxs("h3",{className:"font-semibold text-slate-600 ml-2 flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),r("dashboard.lowStockItems")]})]}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:be.length>0?be.map(Te=>l.jsx("button",{onClick:()=>t("inventory"),className:"w-full text-start p-3 rounded-lg hover:bg-slate-50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 border border-transparent hover:border-slate-200",children:l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("p",{className:"font-semibold text-slate-800",children:Te.name}),l.jsxs("p",{className:"text-xs text-red-600 font-bold bg-red-50 px-2 py-1 rounded",children:[r("inventory.stock"),": ",Te.currentStock]})]})},Te.id)):l.jsx("p",{className:"text-sm text-slate-500 p-3 text-center bg-slate-50 rounded-lg",children:r("dashboard.noLowStockItems")})})]})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:l.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center",children:[l.jsx("div",{className:"w-1 h-5 bg-gradient-to-b from-indigo-500 to-indigo-600 rounded-full mr-3"}),r("dashboard.quickActions")]})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("button",{onClick:()=>t("patients"),className:"flex flex-col items-center justify-center p-4 bg-slate-50 hover:bg-emerald-50 rounded-xl transition-colors border border-slate-200 hover:border-emerald-200 group",children:[l.jsx("div",{className:"text-emerald-600 group-hover:text-emerald-700",children:Y}),l.jsx("span",{className:"mt-2 text-xs font-medium text-slate-700 group-hover:text-emerald-700",children:r("dashboard.addPatient")})]}),l.jsxs("button",{onClick:()=>t("scheduler"),className:"flex flex-col items-center justify-center p-4 bg-slate-50 hover:bg-sky-50 rounded-xl transition-colors border border-slate-200 hover:border-sky-200 group",children:[l.jsx("div",{className:"text-sky-600 group-hover:text-sky-700",children:K}),l.jsx("span",{className:"mt-2 text-xs font-medium text-slate-700 group-hover:text-sky-700",children:r("dashboard.schedule")})]}),l.jsxs("button",{onClick:()=>t("accountSelection"),className:"flex flex-col items-center justify-center p-4 bg-slate-50 hover:bg-green-50 rounded-xl transition-colors border border-slate-200 hover:border-green-200 group",children:[l.jsx("div",{className:"text-emerald-600 group-hover:text-emerald-700",children:J}),l.jsx("span",{className:"mt-2 text-xs font-medium text-slate-700 group-hover:text-emerald-700",children:r("dashboard.finance")})]}),l.jsxs("button",{onClick:()=>t("reports"),className:"flex flex-col items-center justify-center p-4 bg-slate-50 hover:bg-indigo-50 rounded-xl transition-colors border border-slate-200 hover:border-indigo-200 group",children:[l.jsx("div",{className:"text-indigo-600 group-hover:text-indigo-700",children:Ae}),l.jsx("span",{className:"mt-2 text-xs font-medium text-slate-700 group-hover:text-indigo-700",children:r("dashboard.reports")})]})]})})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center",children:[l.jsx("div",{className:"w-1 h-5 bg-gradient-to-b from-teal-500 to-teal-600 rounded-full mr-3"}),r("dashboard.doctorDailyPerformance")]}),l.jsx("button",{onClick:()=>t("doctors"),className:"text-sm text-teal-600 hover:text-teal-800 font-medium transition-colors px-2 py-1 rounded hover:bg-teal-50",children:r("dashboard.viewDetails")})]})}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"space-y-4 max-h-48 overflow-y-auto",children:Oe.length>0?Oe.map(Te=>l.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm font-semibold mb-2",children:[l.jsx("span",{className:"text-slate-700",children:Te.name}),l.jsx("span",{className:"text-slate-600",children:w.format(Te.earnings)})]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:l.jsx("div",{className:`${Te.color} h-2 rounded-full transition-all duration-300`,style:{width:`${Te.percentage}%`}})})]},Te.name)):l.jsx("p",{className:"text-sm text-slate-500 text-center py-4 bg-slate-50 rounded-lg",children:r("dashboard.noEarningsToday")})})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:l.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center",children:[l.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-purple-500 to-purple-600 rounded-full mr-3"}),r("dashboard.monthlyMetrics")]})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsx(nc,{title:r("dashboard.monthlyRevenue")||" ",value:y.format(U),icon:Ae,color:"bg-blue-50 border border-blue-200",subtitle:r("dashboard.thisMonth")||" "}),l.jsx(nc,{title:r("dashboard.monthlyExpenses")||" ",value:y.format(M),icon:Ne,color:"bg-red-50 border border-red-200",subtitle:r("dashboard.thisMonth")||" "}),l.jsx(nc,{title:r("dashboard.monthlyDoctorShares"),value:y.format(q),icon:J,color:"bg-orange-50 border border-orange-200",subtitle:r("dashboard.thisMonth")||" ",onClick:()=>t("doctors")}),l.jsx(nc,{title:r("dashboard.monthlyNetProfit")||" ",value:y.format(ee),icon:ee>=0?Ae:Ne,color:ee>=0?"bg-emerald-50 border border-emerald-200":"bg-red-50 border border-red-200",subtitle:r("dashboard.thisMonth")||" ",onClick:()=>t("reports")})]})})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:l.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center",children:[l.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-emerald-600 rounded-full mr-3"}),r("dashboard.operationalMetrics")]})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsx(nc,{title:r("dashboard.totalPatients"),value:i.length,icon:Y,color:"bg-emerald-50 border border-emerald-200",subtitle:r("dashboard.activePatients")}),l.jsx(nc,{title:r("dashboard.newPatientsThisMonth"),value:he,icon:pe,color:"bg-indigo-50 border border-indigo-200",subtitle:"This month"}),l.jsx(nc,{title:r("dashboard.appointmentsToday"),value:E,icon:K,color:"bg-sky-50 border border-sky-200",subtitle:r("dashboard.scheduledToday")}),l.jsx(nc,{title:r("dashboard.nextAppointment"),value:H?new Intl.DateTimeFormat(n,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(H.startTime)):r("dashboard.noUpcomingAppointments"),icon:ke,color:"bg-purple-50 border border-purple-200",subtitle:H?i.find(Te=>Te.id===H.patientId)?.name:"",onClick:()=>t("scheduler")})]})})]})]})]})})},CB=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),Bhe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),Uhe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})}),MD=({onClose:e,onSave:t,clinicData:r,initialDateTime:n,appointmentToEdit:i})=>{const{t:a}=sr(),{addNotification:s}=bi(),[o,c]=A.useState(()=>{const h=i||{patientId:"",dentistId:"",startTime:n||new Date,endTime:n?new Date(n.getTime()+36e5):new Date(Date.now()+36e5),reason:"",status:Vm.SCHEDULED,reminderTime:"1_day_before",reminderSent:!1},m=g=>{const x=new Date().getTimezoneOffset()*6e4;return new Date(g.getTime()-x).toISOString().slice(0,16)};return{...h,startTime:m(new Date(h.startTime)),endTime:m(new Date(h.endTime))}}),u=h=>{const{name:m,value:g}=h.target;c(x=>({...x,[m]:g}))},d=h=>{if(h.preventDefault(),console.log("DEBUG: handleSubmit called with formData:",o),!o.patientId||!o.dentistId||!o.startTime||!o.endTime){console.log("DEBUG: Validation failed - missing required fields"),s(a("addAppointmentModal.alertFillAllFields"),gt.ERROR);return}console.log("DEBUG: Validation passed, calling onSave"),t({patientId:o.patientId,dentistId:o.dentistId,startTime:new Date(o.startTime),endTime:new Date(o.endTime),reason:o.reason,status:o.status,reminderTime:o.reminderTime,reminderSent:o.reminderSent}),console.log("DEBUG: onSave called successfully"),e()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:a(i?"scheduler.editAppointment":"scheduler.newAppointment")}),l.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":a("addAppointmentModal.closeAriaLabel"),children:l.jsx(CB,{})})]}),l.jsxs("form",{onSubmit:d,className:"p-6 space-y-4 overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"patientId",className:"block text-sm font-medium text-slate-600",children:a("addAppointmentModal.patient")}),l.jsxs("select",{name:"patientId",id:"patientId",value:o.patientId,onChange:u,className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"",children:a("addAppointmentModal.selectPatient")}),r.patients.map(h=>l.jsx("option",{value:h.id,children:h.name},h.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dentistId",className:"block text-sm font-medium text-slate-600",children:a("addAppointmentModal.dentist")}),l.jsxs("select",{name:"dentistId",id:"dentistId",value:o.dentistId,onChange:u,className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"",children:a("addAppointmentModal.selectDentist")}),r.dentists.map(h=>l.jsx("option",{value:h.id,children:h.name},h.id))]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startTime",className:"block text-sm font-medium text-slate-600",children:a("addAppointmentModal.startTime")}),l.jsx("input",{type:"datetime-local",id:"startTime",name:"startTime",value:o.startTime,onChange:u,className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endTime",className:"block text-sm font-medium text-slate-600",children:a("addAppointmentModal.endTime")}),l.jsx("input",{type:"datetime-local",id:"endTime",name:"endTime",value:o.endTime,onChange:u,className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-slate-600",children:a("addAppointmentModal.reasonForVisit")}),l.jsx("textarea",{name:"reason",id:"reason",value:o.reason,onChange:u,className:"mt-1 p-2 border border-slate-300 rounded-lg w-full h-24 focus:ring-primary focus:border-primary",placeholder:a("addAppointmentModal.reasonPlaceholder"),required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-600",children:a("scheduler.status")}),l.jsx("select",{name:"status",id:"status",value:o.status,onChange:u,className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:Object.values(Vm).map(h=>l.jsx("option",{value:h,children:a(`appointmentStatus.${h}`)},h))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"reminderTime",className:"block text-sm font-medium text-slate-600",children:a("reminders.reminderTime")}),l.jsxs("select",{name:"reminderTime",id:"reminderTime",value:o.reminderTime,onChange:u,className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"none",children:a("reminders.none")}),l.jsx("option",{value:"1_hour_before",children:a("reminders.1_hour_before")}),l.jsx("option",{value:"2_hours_before",children:a("reminders.2_hours_before")}),l.jsx("option",{value:"1_day_before",children:a("reminders.1_day_before")})]})]})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:a("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:a("addAppointmentModal.schedule")})]})]})]})})},$he=({appointment:e,patient:t,dentist:r,onClose:n,onEdit:i,onDelete:a})=>{const{t:s,locale:o}=sr(),c=new Intl.DateTimeFormat(o,{dateStyle:"full",timeStyle:"short"}),[u,d]=A.useState(!1),h=()=>{a(),n()};return l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40 p-4","aria-modal":"true",role:"dialog",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:s("scheduler.appointmentDetails")}),l.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":s("common.closeForm"),children:l.jsx(CB,{})})]}),l.jsxs("main",{className:"p-6 space-y-4",children:[l.jsxs("p",{children:[l.jsxs("strong",{children:[s("addAppointmentModal.patient"),":"]})," ",t?.name||s("common.unknownPatient")]}),l.jsxs("p",{children:[l.jsxs("strong",{children:[s("addAppointmentModal.dentist"),":"]})," ",r?.name||s("common.unknownDentist")]}),l.jsxs("p",{children:[l.jsxs("strong",{children:[s("addAppointmentModal.reasonForVisit"),":"]})," ",e.reason]}),l.jsxs("p",{children:[l.jsxs("strong",{children:[s("scheduler.dateTime"),":"]})," ",c.format(e.startTime)]}),l.jsxs("p",{children:[l.jsxs("strong",{children:[s("scheduler.duration"),":"]})," ",(e.endTime.getTime()-e.startTime.getTime())/6e4," ",s("scheduler.minutes")]}),l.jsxs("p",{children:[l.jsxs("strong",{children:[s("scheduler.status"),":"]})," ",l.jsx("span",{className:"font-semibold",children:s(`appointmentStatus.${e.status}`)})]})]}),l.jsxs("footer",{className:"pt-2 p-4 flex justify-between items-center bg-slate-50",children:[l.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-300",children:s("common.delete")}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:s("common.close")}),l.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:s("common.edit")})]})]})]}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm",children:[l.jsx("header",{className:"p-4 border-b",children:l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:s("scheduler.confirmDelete")})}),l.jsx("main",{className:"p-6",children:l.jsx("p",{children:s("scheduler.deleteAppointmentConfirm")})}),l.jsxs("footer",{className:"pt-2 p-4 flex justify-end space-x-4 bg-slate-50",children:[l.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:s("common.cancel")}),l.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-300",children:s("common.delete")})]})]})})]})},D5=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),FD=e=>{const t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0");return`${t}-${r}-${n}`},zhe=({clinicData:e})=>{const{appointments:t,patients:r,dentists:n,addAppointment:i,updateAppointment:a,deleteAppointment:s}=e,{t:o,locale:c}=sr(),[u,d]=A.useState(new Date),[h,m]=A.useState(new Date),[g,x]=A.useState({type:null}),[v,y]=A.useState(14),[w,_]=A.useState(24),S=new Intl.DateTimeFormat(c,{hour:"numeric",minute:"2-digit",hour12:!0}),E=A.useMemo(()=>{const he=new Map;return t.forEach(ce=>{const be=FD(ce.startTime),Oe=n.find(ae=>ae.id===ce.dentistId);Oe&&(he.has(be)||he.set(be,new Set),he.get(be).add(Oe.color))}),he},[t,n]),{daysInMonth:T,firstDayOfMonth:D}=A.useMemo(()=>{const he=h.getFullYear(),ce=h.getMonth();return{daysInMonth:new Date(he,ce+1,0).getDate(),firstDayOfMonth:new Date(he,ce,1).getDay()}},[h]),C=()=>m(he=>new Date(he.getFullYear(),he.getMonth()-1,1)),O=()=>m(he=>new Date(he.getFullYear(),he.getMonth()+1,1)),R=A.useMemo(()=>t.filter(he=>D5(he.startTime,u)).sort((he,ce)=>he.startTime.getTime()-ce.startTime.getTime()),[t,u]),H=A.useMemo(()=>w<=v?[]:Array.from({length:w-v},(he,ce)=>v+ce),[v,w]),F=he=>{console.log("DEBUG: handleSaveAppointment called with data:",he),g.type==="edit"?(console.log("DEBUG: Editing existing appointment"),a({...he,id:g.data.id})):(console.log("DEBUG: Adding new appointment"),i(he)),x({type:null})},U=he=>{s(he),x({type:null})},M=he=>{const ce=new Date(u);ce.setHours(he,0,0,0),x({type:"add",data:{initialDateTime:ce}})},q=new Intl.DateTimeFormat(c,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),ee=new Intl.DateTimeFormat(c,{month:"long",year:"numeric"}),ve=new Intl.DateTimeFormat(c,{weekday:"short"});return l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md flex flex-col h-full",children:[l.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4 print:hidden",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:q.format(u)}),l.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-2 text-sm text-slate-600 mt-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("label",{htmlFor:"start-hour",className:"font-medium",children:[o("scheduler.showFrom"),":"]}),l.jsx("select",{id:"start-hour",value:v,onChange:he=>y(parseInt(he.target.value,10)),className:"p-1 border border-slate-300 rounded-md bg-white focus:ring-primary focus:border-primary",children:Array.from({length:24}).map((he,ce)=>l.jsx("option",{value:ce,children:S.format(new Date(0,0,0,ce))},ce))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("label",{htmlFor:"end-hour",className:"font-medium",children:[o("scheduler.to"),":"]}),l.jsx("select",{id:"end-hour",value:w,onChange:he=>_(parseInt(he.target.value,10)),className:"p-1 border border-slate-300 rounded-md bg-white focus:ring-primary focus:border-primary",children:Array.from({length:25}).map((he,ce)=>ce>0&&l.jsx("option",{value:ce,children:S.format(new Date(0,0,0,ce))},ce))})]})]})]}),l.jsx("button",{onClick:()=>x({type:"add",data:{initialDateTime:u}}),className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-primary-light self-start sm:self-center",children:o("scheduler.newAppointment")})]}),l.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-6 overflow-hidden",children:[l.jsxs("div",{className:"w-full md:w-72 flex-shrink-0 print:hidden",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"font-semibold text-slate-700",children:ee.format(h)}),l.jsxs("div",{className:"flex",children:[l.jsx("button",{onClick:C,className:"p-2 rounded-full hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":o("scheduler.previousWeek"),children:l.jsx(Bhe,{})}),l.jsx("button",{onClick:O,className:"p-2 rounded-full hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":o("scheduler.nextWeek"),children:l.jsx(Uhe,{})})]})]}),l.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map((he,ce)=>l.jsx("div",{className:"text-slate-500 font-semibold text-xs",children:ve.format(new Date(2023,0,ce+1))},ce)),Array.from({length:D}).map((he,ce)=>l.jsx("div",{},`empty-${ce}`)),Array.from({length:T}).map((he,ce)=>{const be=new Date(h.getFullYear(),h.getMonth(),ce+1),Oe=FD(be),ae=D5(be,u),L=D5(be,new Date),Y=E.get(Oe);return l.jsxs("button",{onClick:()=>d(be),className:`relative p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-light ${ae?"bg-primary text-white":L?"bg-slate-200":"hover:bg-slate-100"}`,children:[ce+1,Y&&l.jsx("div",{className:"absolute bottom-1 start-1/2 -translate-x-1/2 flex gap-0.5",children:Array.from(Y).slice(0,3).map(K=>l.jsx("span",{className:`block w-1.5 h-1.5 rounded-full ${K}`},K))})]},Oe)})]})]}),l.jsx("div",{className:"flex-1 relative overflow-y-auto border-s border-e border-slate-200",children:l.jsxs("div",{className:"grid grid-cols-[auto_1fr] h-full",children:[l.jsx("div",{className:"w-16 text-end text-sm text-slate-500",children:H.map(he=>l.jsx("div",{className:"h-16 relative -top-2 pe-2",children:S.format(new Date(0,0,0,he))},he))}),l.jsx("div",{className:"relative",children:H.map(he=>{const ce=he,be=he+1,Oe=R.filter(ae=>{const L=ae.startTime.getHours();return L>=ce&&L<be});return l.jsx("div",{className:"h-16 border-t border-slate-200 flex items-start gap-1 p-1",onClick:()=>M(he),role:"button",children:Oe.map(ae=>{const L=ae.startTime.getHours()*60+ae.startTime.getMinutes(),K=ae.endTime.getHours()*60+ae.endTime.getMinutes()-L,J=Math.max(K/60*4,1),pe=r.find(Ne=>Ne.id===ae.patientId),Ae=n.find(Ne=>Ne.id===ae.dentistId);return l.jsxs("div",{className:`flex-1 p-2 rounded-lg text-white shadow-md overflow-hidden cursor-pointer transition-all hover:shadow-lg ${Ae?.color||"bg-slate-500"}`,style:{height:`${J}rem`,minWidth:"120px"},onClick:Ne=>{Ne.stopPropagation(),x({type:"details",data:ae})},children:[l.jsx("p",{className:"font-semibold text-xs truncate",children:pe?.name}),l.jsx("p",{className:"text-xs opacity-90 truncate",children:ae.reason}),l.jsx("p",{className:"text-xs opacity-75 truncate",children:Ae?.name})]},ae.id)})},he)})})]})})]}),g.type==="add"&&l.jsx(MD,{onClose:()=>x({type:null}),onSave:F,clinicData:e,initialDateTime:g.data.initialDateTime}),g.type==="edit"&&l.jsx(MD,{onClose:()=>x({type:null}),onSave:F,clinicData:e,appointmentToEdit:g.data}),g.type==="details"&&l.jsx($he,{appointment:g.data,patient:r.find(he=>he.id===g.data.patientId),dentist:n.find(he=>he.id===g.data.dentistId),onClose:()=>x({type:null}),onEdit:()=>x({type:"edit",data:g.data}),onDelete:()=>U(g.data.id)})]})},Whe=()=>{const e={};return["UR","UL","LL","LR"].forEach(r=>{for(let n=1;n<=8;n++)e[`${r}${n}`]={status:kn.HEALTHY,notes:""}}),e},Ob=()=>{const{user:e}=tf(),{addNotification:t}=bi(),[r,n]=A.useState([]),[i,a]=A.useState([]),[s,o]=A.useState([]),[c,u]=A.useState([]),[d,h]=A.useState([]),[m,g]=A.useState([]),[x,v]=A.useState([]),[y,w]=A.useState([]),[_,S]=A.useState([]),[E,T]=A.useState([]),[D,C]=A.useState([]),[O,R]=A.useState([]),[H,F]=A.useState([]),[U,M]=A.useState([]),[q,ee]=A.useState([]),[ve,he]=A.useState({name:"",address:"",phone:"",email:""}),[ce,be]=A.useState(" {patientName}     {clinicName}     {appointmentDate}  {appointmentTime}.  .{doctorName}"),[Oe,ae]=A.useState(" {patientName}     {clinicName}     {appointmentDate}  {appointmentTime}.  .{doctorName}"),L=Pe=>{ae(Pe),localStorage.setItem("curasoft_reminder_template",Pe),t("Reminder message template updated successfully",gt.SUCCESS)},Y=A.useCallback(async()=>{if(!e||!jt)return;console.log("Fetching data from all tables...");const V=["patients","dentists","appointments","suppliers","inventory_items","expenses","treatment_definitions","treatment_records","lab_cases","payments","supplier_invoices","doctor_payments","prescriptions","prescription_items","patient_attachments"].map(It=>jt.from(It).select("*")),Q=await Promise.all(V),[X,se,te,me,Ce,qe,Ue,Me,Ve,rt,xt,yt,bt,St,or]=Q;if(console.log("Data fetch results:",{patients:X.data?.length||0,dentists:se.data?.length||0,appointments:te.data?.length||0,suppliers:me.data?.length||0,inventoryItems:Ce.data?.length||0,expenses:qe.data?.length||0,treatmentDefinitions:Ue.data?.length||0,treatmentRecords:Me.data?.length||0,labCases:Ve.data?.length||0,payments:rt.data?.length||0,supplierInvoices:xt.data?.length||0,doctorPayments:yt.data?.length||0,prescriptions:bt.data?.length||0,prescriptionItems:St.data?.length||0,patientAttachments:or.data?.length||0}),te.data&&(console.log("Appointments data sample:",te.data.slice(0,2)),console.log("Appointments columns check:",Object.keys(te.data[0]||{})),te.data[0]&&!("reminder_sent"in te.data[0])&&console.error("CRITICAL: reminder_sent column missing from appointments table response")),te.error&&console.error("Appointments fetch error:",te.error),X.data){console.log("Setting patients data:",X.data.length);const It=X.data.map(Ye=>({id:Ye.id,name:Ye.name,dob:Ye.dob,gender:Ye.gender,phone:Ye.phone,email:Ye.email,address:Ye.address,medicalHistory:Ye.medical_history,treatmentNotes:Ye.treatment_notes,lastVisit:Ye.last_visit,allergies:Ye.allergies,medications:Ye.medications,insuranceProvider:Ye.insurance_provider,insurancePolicyNumber:Ye.insurance_policy_number,emergencyContactName:Ye.emergency_contact_name,emergencyContactPhone:Ye.emergency_contact_phone,dentalChart:Ye.dental_chart,images:Ye.images,attachments:Ye.attachments||[]}));n(It)}if(se.data&&(console.log("Setting dentists data:",se.data.length),a(se.data)),te.data){console.log("Setting appointments data:",te.data.length);const It=te.data.map(Ye=>({id:Ye.id,patientId:Ye.patient_id,dentistId:Ye.dentist_id,startTime:new Date(Ye.start_time),endTime:new Date(Ye.end_time),reason:Ye.reason,status:Ye.status,reminderTime:Ye.reminder_time,reminderSent:Ye.reminder_sent,userId:Ye.user_id,createdAt:Ye.created_at,updatedAt:Ye.updated_at}));o(It)}if(me.data&&(console.log("Setting suppliers data:",me.data.length),u(me.data)),Ce.data){console.log("Setting inventory items data:",Ce.data.length);const It=Ce.data.map(Ye=>({id:Ye.id,name:Ye.name,description:Ye.description,supplierId:Ye.supplier_id,currentStock:Ye.current_stock,unitCost:Ye.unit_cost,minStockLevel:Ye.min_stock_level,expiryDate:Ye.expiry_date}));h(It)}if(qe.data){console.log("Setting expenses data:",qe.data.length);const It=qe.data.map(Ye=>({id:Ye.id,date:Ye.date,description:Ye.description,amount:Ye.amount,category:Ye.category,supplierId:Ye.supplier_id,supplierInvoiceId:Ye.supplier_invoice_id}));g(It)}if(Ue.data){console.log("Setting treatment definitions data:",Ue.data.length);const It=Ue.data.map(Ye=>({id:Ye.id,name:Ye.name,description:Ye.description,basePrice:Number(Ye.base_price)||0,doctorPercentage:Number(Ye.doctor_percentage)||0,clinicPercentage:Number(Ye.clinic_percentage)||0}));v(It)}if(Me.data){console.log("Setting treatment records data:",Me.data.length);const It=Me.data.map(Ye=>({id:Ye.id,patientId:Ye.patient_id,dentistId:Ye.dentist_id,treatmentDate:Ye.treatment_date,treatmentDefinitionId:Ye.treatment_definition_id,notes:Ye.notes,inventoryItemsUsed:Ye.inventory_items_used,doctorShare:Ye.doctor_share,clinicShare:Ye.clinic_share,affectedTeeth:Ye.affected_teeth,totalTreatmentCost:Ye.total_treatment_cost||0}));w(It)}if(Ve.data){console.log("Setting lab cases data:",Ve.data.length);const It=Ve.data.map(Ye=>({id:Ye.id,patientId:Ye.patient_id,labId:Ye.lab_id,caseType:Ye.case_type,sentDate:Ye.sent_date,dueDate:Ye.due_date,returnDate:Ye.return_date,status:Ye.status,labCost:Ye.lab_cost,notes:Ye.notes}));S(It)}if(rt.data){console.log("Setting payments data:",rt.data.length);const It=rt.data.map(Ye=>({id:Ye.id,patientId:Ye.patient_id,date:Ye.date,amount:Ye.amount,method:Ye.method,notes:Ye.notes,treatmentRecordId:Ye.treatment_record_id,clinicShare:Ye.clinic_share,doctorShare:Ye.doctor_share}));T(It)}if(xt.data){console.log("Setting supplier invoices data:",xt.data.length);const It=xt.data.map(Ye=>({id:Ye.id,supplierId:Ye.supplier_id,invoiceNumber:Ye.invoice_number,invoiceDate:Ye.invoice_date,dueDate:Ye.due_date,amount:Ye.amount,status:Ye.status,items:Ye.items,invoiceImageUrl:Ye.invoice_image_url,images:Ye.images,payments:Ye.payments}));C(It)}if(yt.data){console.log("Setting doctor payments data:",yt.data.length);const It=yt.data.map(Ye=>({id:Ye.id,dentistId:Ye.dentist_id,amount:Ye.amount,date:Ye.date,notes:Ye.notes}));R(It)}if(bt.data){console.log("Setting prescriptions data:",bt.data.length);const It=bt.data.map(Ye=>({id:Ye.id,patientId:Ye.patient_id,dentistId:Ye.dentist_id,prescriptionDate:Ye.prescription_date,notes:Ye.notes,userId:Ye.user_id,createdAt:Ye.created_at,updatedAt:Ye.updated_at}));F(It)}if(St.data){console.log("Setting prescription items data:",St.data.length);const It=St.data.map(Ye=>({id:Ye.id,prescriptionId:Ye.prescription_id,medicationName:Ye.medication_name,dosage:Ye.dosage,quantity:Ye.quantity,instructions:Ye.instructions,userId:Ye.user_id,createdAt:Ye.created_at,updatedAt:Ye.updated_at}));M(It)}if(or.data){console.log("Setting attachments data:",or.data.length);const It=or.data.map(Ye=>({id:Ye.id,patientId:Ye.patient_id,filename:Ye.filename,originalFilename:Ye.original_filename,fileType:Ye.file_type,fileSize:Ye.file_size,fileUrl:Ye.file_url,thumbnailUrl:Ye.thumbnail_url,description:Ye.description,uploadedBy:Ye.uploaded_by,createdAt:Ye.created_at,updatedAt:Ye.updated_at}));ee(It)}const Rr=Q.find(It=>It.error);Rr?(console.error("Error fetching data:",Rr),t(Rr?.error?.message||"Unknown error occurred",gt.ERROR)):console.log("All data fetched successfully")},[e,t]);A.useEffect(()=>{jt&&Y()},[Y]),A.useEffect(()=>{const Pe=localStorage.getItem("curasoft_clinic_info");if(Pe)try{const X=JSON.parse(Pe);he(X)}catch(X){console.error("Failed to parse clinic info from localStorage:",X)}const V=localStorage.getItem("curasoft_whatsapp_template");V?(console.log("Loading WhatsApp template from localStorage:",V),be(V)):console.log("No saved WhatsApp template found, using default");const Q=localStorage.getItem("curasoft_reminder_template");Q?(console.log("Loading reminder template from localStorage:",Q),ae(Q)):console.log("No saved reminder template found, using default")},[]);const K=async(Pe,V,Q)=>{if(!jt)return;const{id:X,...se}=V;console.log(`Updating data in table: ${Pe}`,{id:X,updateData:se});const{error:te}=await jt.from(Pe).update(se).eq("id",X);te?(console.error(`Error updating data in ${Pe}:`,te),t(te.message,gt.ERROR)):(console.log(`Successfully updated data in ${Pe} for id: ${X}`),Q(me=>me.map(Ce=>Ce.id===X?V:Ce)),await Y())},J=async(Pe,V,Q)=>{if(!jt)return;console.log(`Deleting data from table: ${Pe}`,{id:V});const{error:X}=await jt.from(Pe).delete().eq("id",V);X?(console.error(`Error deleting data from ${Pe}:`,X),console.error("Error details:",X.details,X.hint,X.code),t(X.message,gt.ERROR)):(console.log(`Successfully deleted data from ${Pe} for id: ${V}`),Q(se=>se.filter(te=>te.id!==V)))},pe=async Pe=>{await J("patients",Pe,n)},Ae=async Pe=>{await J("dentists",Pe,a)},Ne=async Pe=>{await J("appointments",Pe,o)},fe=async Pe=>{await J("suppliers",Pe,u)},ke=async Pe=>{await J("inventory_items",Pe,h)},Te=async Pe=>{await J("expenses",Pe,g)},je=async Pe=>{await J("treatment_definitions",Pe,v)},Le=async Pe=>{await J("treatment_records",Pe,w)},$e=async Pe=>{await J("lab_cases",Pe,S)},oe=async Pe=>{await J("payments",Pe,T)},at=async Pe=>{await J("supplier_invoices",Pe,C)},lt=async Pe=>{await J("doctor_payments",Pe,R)},Pt=async Pe=>{await J("prescriptions",Pe,F)},ct=async Pe=>{await J("prescription_items",Pe,M)},$t=async Pe=>{if(!jt)return;console.log("Deleting attachment from table: patient_attachments",{id:Pe});const{error:V}=await jt.from("patient_attachments").delete().eq("id",Pe);V?(console.error("Error deleting attachment:",V),console.error("Error details:",V.details,V.hint,V.code),t(V.message,gt.ERROR)):(console.log(`Successfully deleted attachment for id: ${Pe}`),ee(Q=>Q.filter(X=>X.id!==Pe)))},Dt=async Pe=>{if(!e||!jt)return;const V={dentist_id:Pe.dentistId,amount:Pe.amount,date:Pe.date,notes:Pe.notes||null};console.log("Adding doctor payment with data:",V);const{data:Q,error:X}=await jt.from("doctor_payments").insert(V).select();if(X)console.error("Error adding doctor payment:",X),console.error("Error details:",X.details,X.hint,X.code),t(X.message,gt.ERROR);else if(Q){console.log("Successfully added doctor payment:",Q);const se=Q.map(te=>({id:te.id,dentistId:te.dentist_id,amount:te.amount,date:te.date,notes:te.notes}));R(te=>[...te,...se])}},Xt=async Pe=>{if(!jt)return;const{id:V,dentistId:Q,amount:X,date:se,notes:te}=Pe,me={dentist_id:Q,amount:X,date:se,notes:te||null};console.log("Updating doctor payment data:",{id:V,supabaseData:me});const{error:Ce}=await jt.from("doctor_payments").update(me).eq("id",V);Ce?(console.error("Error updating doctor payment:",Ce),console.error("Error details:",Ce.details,Ce.hint,Ce.code),t(Ce.message,gt.ERROR)):(console.log(`Successfully updated doctor payment for id: ${V}`),R(qe=>qe.map(Ue=>Ue.id===V?Pe:Ue)))},Ht=async Pe=>{if(!e||!jt){console.error("User not authenticated or Supabase not configured"),t("User not authenticated",gt.ERROR);return}const V={name:Pe.name,dob:Pe.dob,gender:Pe.gender,phone:Pe.phone,email:Pe.email||null,address:Pe.address||null,medical_history:Pe.medicalHistory||null,treatment_notes:Pe.treatmentNotes||null,last_visit:Pe.lastVisit||null,allergies:Pe.allergies||null,medications:Pe.medications||null,insurance_provider:Pe.insuranceProvider||null,insurance_policy_number:Pe.insurancePolicyNumber||null,emergency_contact_name:Pe.emergencyContactName||null,emergency_contact_phone:Pe.emergencyContactPhone||null,dental_chart:Whe(),images:Pe.images||[],user_id:e.id};console.log("User ID:",e.id),console.log("Adding patient with data:",JSON.stringify(V,null,2));const{data:Q,error:X}=await jt.from("patients").insert(V).select();if(X)console.error("Supabase error:",X),console.error("Error details:",X.details,X.hint,X.code),console.error("Full error object:",JSON.stringify(X,null,2)),t(`Failed to add patient: ${X.message}`,gt.ERROR);else if(Q){console.log("Raw response from Supabase:",Q);const se=Q.map(te=>({id:te.id,name:te.name,dob:te.dob,gender:te.gender,phone:te.phone,email:te.email,address:te.address,medicalHistory:te.medical_history,treatmentNotes:te.treatment_notes,lastVisit:te.last_visit,allergies:te.allergies,medications:te.medications,insuranceProvider:te.insurance_provider,insurancePolicyNumber:te.insurance_policy_number,emergencyContactName:te.emergency_contact_name,emergencyContactPhone:te.emergency_contact_phone,dentalChart:te.dental_chart,images:te.images}));n(te=>[...te,...se]),t("Patient added successfully",gt.SUCCESS)}},xr=async Pe=>{if(!jt)return;const{id:V,name:Q,dob:X,gender:se,phone:te,email:me,address:Ce,medicalHistory:qe,treatmentNotes:Ue,lastVisit:Me,allergies:Ve,medications:rt,insuranceProvider:xt,insurancePolicyNumber:yt,emergencyContactName:bt,emergencyContactPhone:St,dentalChart:or,images:Rr}=Pe,It={name:Q,dob:X,gender:se,phone:te,email:me||null,address:Ce||null,medical_history:qe||null,treatment_notes:Ue||null,last_visit:Me||null,allergies:Ve||null,medications:rt||null,insurance_provider:xt||null,insurance_policy_number:yt||null,emergency_contact_name:bt||null,emergency_contact_phone:St||null,dental_chart:or,images:Rr||[]};console.log("useClinicData: updatePatient called with patient:",Pe),console.log("useClinicData: dentalChart data:",or),console.log("useClinicData: supabaseData:",It);const{error:Ye}=await jt.from("patients").update(It).eq("id",V);Ye?(console.error("Error updating patient:",Ye),console.error("Error details:",Ye.details,Ye.hint,Ye.code),t(Ye.message,gt.ERROR)):(console.log(`Successfully updated patient for id: ${V}`),n(Ua=>Ua.map(Zn=>Zn.id===V?Pe:Zn)),await Y())},Nr=async Pe=>{if(!e||!jt)return;console.log("Adding doctor with data:",{...Pe,user_id:e.id});const{data:V,error:Q}=await jt.from("dentists").insert({...Pe,user_id:e.id}).select();Q?(console.error("Error adding doctor:",Q),console.error("Error details:",Q.details,Q.hint,Q.code),t(Q.message,gt.ERROR)):V&&(console.log("Successfully added doctor:",V),a(X=>[...X,...V]))},ze=async Pe=>{await K("dentists",Pe,a)},kt=async Pe=>{if(!e||!jt)return;const{patientId:V,dentistId:Q,startTime:X,endTime:se,reminderTime:te,reason:me,status:Ce}=Pe,qe={reason:me,status:Ce,patient_id:V,dentist_id:Q,start_time:X,end_time:se,reminder_time:te,user_id:e.id};console.log("Adding appointment with data:",JSON.stringify(qe,null,2));const{data:Ue,error:Me}=await jt.from("appointments").insert(qe).select("*");if(Me?console.error("Add appointment error details:",{code:Me.code,message:Me.message,details:Me.details,hint:Me.hint}):Ue&&console.log("Add appointment success - returned columns:",Object.keys(Ue[0]||{})),Me)console.error("Error adding appointment:",Me),console.error("Error details:",Me.details,Me.hint,Me.code),t(Me.message,gt.ERROR);else if(Ue){console.log("Successfully added appointment:",Ue);const Ve=Ue.map(rt=>({id:rt.id,patientId:rt.patient_id,dentistId:rt.dentist_id,startTime:new Date(rt.start_time),endTime:new Date(rt.end_time),reason:rt.reason,status:rt.status,reminderTime:rt.reminder_time,reminderSent:!1,userId:rt.user_id,createdAt:rt.created_at,updatedAt:rt.updated_at}));o(rt=>[...rt,...Ve])}},fr=async Pe=>{if(!e||!jt)return;const{id:V,patientId:Q,dentistId:X,startTime:se,endTime:te,reminderTime:me,reminderSent:Ce,...qe}=Pe,Ue={...qe,patient_id:Q,dentist_id:X,start_time:se,end_time:te,reminder_time:me},{error:Me}=await jt.from("appointments").update(Ue).eq("id",V).select("*");Me?console.error("Update appointment error details:",{code:Me.code,message:Me.message,details:Me.details,hint:Me.hint}):console.log("Update appointment success"),Me?t(Me.message,gt.ERROR):o(Ve=>Ve.map(rt=>rt.id===V?Pe:rt))},zt=async(Pe,V)=>{if(!e||!jt)return;const{dentistId:Q,treatmentDate:X,treatmentDefinitionId:se,notes:te,inventoryItemsUsed:me,doctorShare:Ce,clinicShare:qe,affectedTeeth:Ue}=V,Me={patient_id:Pe,dentist_id:Q,treatment_date:X,treatment_definition_id:se,notes:te||null,inventory_items_used:me,doctor_share:Number(Ce)||0,clinic_share:Number(qe)||0,affected_teeth:Ue||[],user_id:e.id};console.log("Adding treatment record with data:",Me);const{data:Ve,error:rt}=await jt.from("treatment_records").insert(Me).select();if(rt)console.error("Error adding treatment record:",rt),console.error("Error details:",rt.details,rt.hint,rt.code),t(rt.message,gt.ERROR);else if(Ve){console.log("Successfully added treatment record:",Ve);const xt=Ve.map(yt=>({id:yt.id,patientId:yt.patient_id,dentistId:yt.dentist_id,treatmentDate:yt.treatment_date,treatmentDefinitionId:yt.treatment_definition_id,notes:yt.notes,inventoryItemsUsed:yt.inventory_items_used,doctorShare:yt.doctor_share,clinicShare:yt.clinic_share,affectedTeeth:yt.affected_teeth,totalTreatmentCost:yt.total_treatment_cost||0}));w(yt=>[...yt,...xt])}},dr=async(Pe,V)=>{if(!jt)return;const{id:Q,patientId:X,dentistId:se,treatmentDate:te,treatmentDefinitionId:me,notes:Ce,inventoryItemsUsed:qe,doctorShare:Ue,clinicShare:Me,affectedTeeth:Ve}=V,rt={patient_id:X,dentist_id:se,treatment_date:te,treatment_definition_id:me,notes:Ce||null,inventory_items_used:qe,doctor_share:Number(Ue)||0,clinic_share:Number(Me)||0,affected_teeth:Ve||[]};console.log("Updating treatment record data:",{id:Q,supabaseData:rt});const{error:xt}=await jt.from("treatment_records").update(rt).eq("id",Q);xt?(console.error("Error updating treatment record:",xt),console.error("Error details:",xt.details,xt.hint,xt.code),t(xt.message,gt.ERROR)):(console.log(`Successfully updated treatment record for id: ${Q}`),w(yt=>yt.map(bt=>bt.id===Q?V:bt)))},Bt=async Pe=>{if(!e||!jt)return;let V=0,Q=0;if(Pe.treatmentRecordId){const me=y.find(Ce=>Ce.id===Pe.treatmentRecordId);if(me){const Ce=x.find(qe=>qe.id===me.treatmentDefinitionId);Ce&&(Q=Pe.amount*Ce.doctorPercentage,V=Pe.amount-Q)}}const X={patient_id:Pe.patientId,date:Pe.date,amount:Pe.amount,method:Pe.method,notes:Pe.notes||null,treatment_record_id:Pe.treatmentRecordId||null,clinic_share:V,doctor_share:Q,user_id:e.id};console.log("Adding payment with data:",X);const{data:se,error:te}=await jt.from("payments").insert(X).select();if(te)console.error("Error adding payment:",te),console.error("Error details:",te.details,te.hint,te.code),t(te.message,gt.ERROR);else if(se){console.log("Successfully added payment:",se);const me=se.map(Ce=>({id:Ce.id,patientId:Ce.patient_id,date:Ce.date,amount:Ce.amount,method:Ce.method,notes:Ce.notes,treatmentRecordId:Ce.treatment_record_id,clinicShare:Ce.clinic_share,doctorShare:Ce.doctor_share}));if(T(Ce=>[...Ce,...me]),Q>0&&Pe.treatmentRecordId){const Ce=y.find(qe=>qe.id===Pe.treatmentRecordId);if(Ce){const qe={dentistId:Ce.dentistId,amount:Q,date:Pe.date,notes:`Payment share from treatment on ${new Date(Ce.treatmentDate).toLocaleDateString()}`};await Dt(qe)}}}},Jr=async Pe=>{if(!jt)return;const{id:V,patientId:Q,date:X,amount:se,method:te,notes:me}=Pe,Ce={patient_id:Q,date:X,amount:se,method:te,notes:me||null};console.log("Updating payment data:",{id:V,supabaseData:Ce});const{error:qe}=await jt.from("payments").update(Ce).eq("id",V);qe?(console.error("Error updating payment:",qe),console.error("Error details:",qe.details,qe.hint,qe.code),t(qe.message,gt.ERROR)):(console.log(`Successfully updated payment for id: ${V}`),T(Ue=>Ue.map(Me=>Me.id===V?Pe:Me)))},Tr=async Pe=>{if(!e||!jt)return;const V={name:Pe.name,contact_person:Pe.contactPerson||null,phone:Pe.phone||null,email:Pe.email||null,type:Pe.type,user_id:e.id};console.log("Adding supplier with data:",V);const{data:Q,error:X}=await jt.from("suppliers").insert(V).select();X?(console.error("Error adding supplier:",X),console.error("Error details:",X.details,X.hint,X.code),console.error("Full error object:",JSON.stringify(X,null,2)),t(X.message,gt.ERROR)):Q&&(console.log("Successfully added supplier:",Q),u(se=>[...se,...Q]),t("Supplier added successfully",gt.SUCCESS))},mr=async Pe=>{await K("suppliers",Pe,u)},yr=async Pe=>{if(!e||!jt)return;const V={name:Pe.name,description:Pe.description||null,supplier_id:Pe.supplierId||null,current_stock:Number(Pe.currentStock)||0,unit_cost:Number(Pe.unitCost)||0,min_stock_level:Number(Pe.minStockLevel)||0,expiry_date:Pe.expiryDate||null,user_id:e.id};console.log("Adding inventory item with data:",JSON.stringify(V,null,2));const{data:Q,error:X}=await jt.from("inventory_items").insert(V).select();if(X)console.error("Error adding inventory item:",X),console.error("Error details:",X.details,X.hint,X.code),console.error("Full error object:",JSON.stringify(X,null,2)),t(X.message,gt.ERROR);else if(Q){console.log("Successfully added inventory item:",Q);const se=Q.map(te=>({id:te.id,name:te.name,description:te.description,supplierId:te.supplier_id,currentStock:te.current_stock,unitCost:te.unit_cost,minStockLevel:te.min_stock_level,expiryDate:te.expiry_date}));h(te=>[...te,...se]),t("Inventory item added successfully",gt.SUCCESS)}},Fr=async Pe=>{if(!jt)return;const{id:V,name:Q,description:X,supplierId:se,currentStock:te,unitCost:me,minStockLevel:Ce,expiryDate:qe}=Pe,Ue={name:Q,description:X||null,supplier_id:se||null,current_stock:Number(te)||0,unit_cost:Number(me)||0,min_stock_level:Number(Ce)||0,expiry_date:qe||null};console.log("Updating inventory item data:",{id:V,supabaseData:Ue});const{error:Me}=await jt.from("inventory_items").update(Ue).eq("id",V);Me?(console.error("Error updating inventory item:",Me),console.error("Error details:",Me.details,Me.hint,Me.code),t(Me.message,gt.ERROR)):(console.log(`Successfully updated inventory item for id: ${V}`),h(Ve=>Ve.map(rt=>rt.id===V?Pe:rt)))},it=async Pe=>{if(!e||!jt)return;const V={date:Pe.date,description:Pe.description,amount:Number(Pe.amount)||0,category:Pe.category,supplier_id:Pe.supplierId||null,supplier_invoice_id:Pe.supplierInvoiceId||null,user_id:e.id};console.log("Adding expense with data:",V);const{data:Q,error:X}=await jt.from("expenses").insert(V).select();if(X)console.error("Error adding expense:",X),console.error("Error details:",X.details,X.hint,X.code),console.error("Full error object:",JSON.stringify(X,null,2)),t(X.message,gt.ERROR);else if(Q&&(console.log("Successfully added expense:",Q),g(se=>[...se,...Q]),t("Expense added successfully",gt.SUCCESS),Pe.supplierInvoiceId)){const se=Q[0].id,{data:te,error:me}=await jt.from("supplier_invoices").select("*").eq("id",Pe.supplierInvoiceId).single();if(te){const Ce=[...te.payments||[],{expenseId:se,amount:Pe.amount,date:Pe.date}];await K("supplier_invoices",{...te,payments:Ce},C)}}},Ut=async Pe=>{await K("expenses",Pe,g)},Mt=async Pe=>{if(!e||!jt)return;const V={name:Pe.name,description:Pe.description||null,base_price:Number(Pe.basePrice)||0,doctor_percentage:Number(Pe.doctorPercentage)||0,clinic_percentage:Number(Pe.clinicPercentage)||0,user_id:e.id};console.log("Adding treatment definition with data:",V);const{data:Q,error:X}=await jt.from("treatment_definitions").insert(V).select();if(X)console.error("Error adding treatment definition:",X),console.error("Error details:",X.details,X.hint,X.code),console.error("Full error object:",JSON.stringify(X,null,2)),t(X.message,gt.ERROR);else if(Q){console.log("Successfully added treatment definition:",Q);const se=Q.map(te=>({id:te.id,name:te.name,description:te.description,basePrice:Number(te.base_price)||0,doctorPercentage:Number(te.doctor_percentage)||0,clinicPercentage:Number(te.clinic_percentage)||0}));v(te=>[...te,...se]),t("Treatment definition added successfully",gt.SUCCESS)}},Ft=async Pe=>{if(!jt)return;const{id:V,name:Q,description:X,basePrice:se,doctorPercentage:te,clinicPercentage:me}=Pe,Ce={name:Q,description:X||null,base_price:Number(se)||0,doctor_percentage:Number(te)||0,clinic_percentage:Number(me)||0};console.log("Updating treatment definition data:",{id:V,supabaseData:Ce});const{error:qe}=await jt.from("treatment_definitions").update(Ce).eq("id",V);qe?(console.error("Error updating treatment definition:",qe),console.error("Error details:",qe.details,qe.hint,qe.code),t(qe.message,gt.ERROR)):(console.log(`Successfully updated treatment definition for id: ${V}`),v(Ue=>Ue.map(Me=>Me.id===V?Pe:Me)))},br=async Pe=>{if(!e||!jt)return;const V={patient_id:Pe.patientId,lab_id:Pe.labId,case_type:Pe.caseType,sent_date:Pe.sentDate,due_date:Pe.dueDate,return_date:Pe.returnDate||null,status:Pe.status,lab_cost:Number(Pe.labCost)||0,notes:Pe.notes||null,user_id:e.id};console.log("Adding lab case with data:",V);const{data:Q,error:X}=await jt.from("lab_cases").insert(V).select();if(X)console.error("Error adding lab case:",X),console.error("Error details:",X.details,X.hint,X.code),console.error("Full error object:",JSON.stringify(X,null,2)),t(X.message,gt.ERROR);else if(Q){console.log("Successfully added lab case:",Q);const se=Q.map(te=>({id:te.id,patientId:te.patient_id,labId:te.lab_id,caseType:te.case_type,sentDate:te.sent_date,dueDate:te.due_date,returnDate:te.return_date,status:te.status,labCost:te.lab_cost,notes:te.notes}));S(te=>[...te,...se]),t("Lab case added successfully",gt.SUCCESS)}},hr=async Pe=>{if(!jt)return;const{id:V,patientId:Q,labId:X,caseType:se,sentDate:te,dueDate:me,returnDate:Ce,status:qe,labCost:Ue,notes:Me}=Pe,Ve={patient_id:Q,lab_id:X,case_type:se,sent_date:te,due_date:me,return_date:Ce||null,status:qe,lab_cost:Number(Ue)||0,notes:Me||null};console.log("Updating lab case data:",{id:V,supabaseData:Ve});const{error:rt}=await jt.from("lab_cases").update(Ve).eq("id",V);rt?(console.error("Error updating lab case:",rt),console.error("Error details:",rt.details,rt.hint,rt.code),t(rt.message,gt.ERROR)):(console.log(`Successfully updated lab case for id: ${V}`),S(xt=>xt.map(yt=>yt.id===V?Pe:yt)))},Gt=async Pe=>{if(!e||!jt)return;const V={supplier_id:Pe.supplierId,invoice_number:Pe.invoiceNumber||null,invoice_date:Pe.invoiceDate,due_date:Pe.dueDate||null,amount:Number(Pe.amount)||0,status:Pe.status,items:Pe.items||[],invoice_image_url:Pe.invoiceImageUrl||null,payments:[],user_id:e.id};console.log("Adding supplier invoice with data:",V);const{data:Q,error:X}=await jt.from("supplier_invoices").insert(V).select();X?(console.error("Error adding supplier invoice:",X),console.error("Error details:",X.details,X.hint,X.code),console.error("Full error object:",JSON.stringify(X,null,2)),t(X.message,gt.ERROR)):Q&&(console.log("Successfully added supplier invoice:",Q),C(se=>[...se,...Q]),t("Supplier invoice added successfully",gt.SUCCESS))},Cr=async Pe=>{await K("supplier_invoices",Pe,C)},xa=async Pe=>{if(!jt)return;const V=Pe.payments.reduce((se,te)=>se+te.amount,0),Q=Pe.amount-V;if(Q<=0)return;const X={date:new Date().toISOString().split("T")[0],description:`Payment for invoice #${Pe.invoiceNumber||Pe.id.slice(-4)}`,amount:Q,category:dc.SUPPLIES,supplierId:Pe.supplierId,supplierInvoiceId:Pe.id};await it(X)},on=async Pe=>{if(!e||!jt)return;const V={patient_id:Pe.patientId,dentist_id:Pe.dentistId,prescription_date:Pe.prescriptionDate,notes:Pe.notes||null,user_id:e.id};console.log("Adding prescription with data:",V);const{data:Q,error:X}=await jt.from("prescriptions").insert(V).select();if(X)console.error("Error adding prescription:",X),console.error("Error details:",X.details,X.hint,X.code),t(X.message,gt.ERROR);else if(Q){console.log("Successfully added prescription:",Q);const se=Q.map(te=>({id:te.id,patientId:te.patient_id,dentistId:te.dentist_id,prescriptionDate:te.prescription_date,notes:te.notes,userId:te.user_id,createdAt:te.created_at,updatedAt:te.updated_at}));return F(te=>[...te,...se]),t("Prescription added successfully",gt.SUCCESS),se[0]}};return{patients:r,addPatient:Ht,updatePatient:xr,deletePatient:pe,dentists:i,addDoctor:Nr,updateDoctor:ze,deleteDoctor:Ae,appointments:s,addAppointment:kt,updateAppointment:fr,deleteAppointment:Ne,suppliers:c,addSupplier:Tr,updateSupplier:mr,deleteSupplier:fe,inventoryItems:d,addInventoryItem:yr,updateInventoryItem:Fr,deleteInventoryItem:ke,expenses:m,addExpense:it,updateExpense:Ut,deleteExpense:Te,treatmentDefinitions:x,addTreatmentDefinition:Mt,updateTreatmentDefinition:Ft,deleteTreatmentDefinition:je,treatmentRecords:y,addTreatmentRecord:zt,updateTreatmentRecord:dr,deleteTreatmentRecord:Le,labCases:_,addLabCase:br,updateLabCase:hr,deleteLabCase:$e,payments:E,addPayment:Bt,updatePayment:Jr,deletePayment:oe,supplierInvoices:D,addSupplierInvoice:Gt,updateSupplierInvoice:Cr,deleteSupplierInvoice:at,paySupplierInvoice:xa,doctorPayments:O,addDoctorPayment:Dt,updateDoctorPayment:Xt,deleteDoctorPayment:lt,prescriptions:H,addPrescription:async Pe=>await on(Pe)||{id:"",patientId:"",dentistId:"",prescriptionDate:"",notes:"",userId:"",createdAt:"",updatedAt:""},updatePrescription:async Pe=>{if(!jt)return;const{id:V,patientId:Q,dentistId:X,prescriptionDate:se,notes:te}=Pe,me={patient_id:Q,dentist_id:X,prescription_date:se,notes:te||null};console.log("Updating prescription data:",{id:V,supabaseData:me});const{error:Ce}=await jt.from("prescriptions").update(me).eq("id",V);Ce?(console.error("Error updating prescription:",Ce),console.error("Error details:",Ce.details,Ce.hint,Ce.code),t(Ce.message,gt.ERROR)):(console.log(`Successfully updated prescription for id: ${V}`),F(qe=>qe.map(Ue=>Ue.id===V?Pe:Ue)),t("Prescription updated successfully",gt.SUCCESS))},deletePrescription:Pt,prescriptionItems:U,addPrescriptionItem:async(Pe,V)=>{if(!e||!jt)return;const Q={prescription_id:Pe,medication_name:V.medicationName,dosage:V.dosage||null,quantity:V.quantity,instructions:V.instructions||null,user_id:e.id};console.log("Adding prescription item with data:",Q);const{data:X,error:se}=await jt.from("prescription_items").insert(Q).select();if(se)console.error("Error adding prescription item:",se),console.error("Error details:",se.details,se.hint,se.code),t(se.message,gt.ERROR);else if(X){console.log("Successfully added prescription item:",X);const te=X.map(me=>({id:me.id,prescriptionId:me.prescription_id,medicationName:me.medication_name,dosage:me.dosage,quantity:me.quantity,instructions:me.instructions,userId:me.user_id,createdAt:me.created_at,updatedAt:me.updated_at}));M(me=>[...me,...te]),t("Prescription item added successfully",gt.SUCCESS)}},updatePrescriptionItem:async Pe=>{if(!jt)return;const{id:V,prescriptionId:Q,medicationName:X,dosage:se,quantity:te,instructions:me}=Pe,Ce={prescription_id:Q,medication_name:X,dosage:se||null,quantity:te,instructions:me||null};console.log("Updating prescription item data:",{id:V,supabaseData:Ce});const{error:qe}=await jt.from("prescription_items").update(Ce).eq("id",V);qe?(console.error("Error updating prescription item:",qe),console.error("Error details:",qe.details,qe.hint,qe.code),t(qe.message,gt.ERROR)):(console.log(`Successfully updated prescription item for id: ${V}`),M(Ue=>Ue.map(Me=>Me.id===V?Pe:Me)),t("Prescription item updated successfully",gt.SUCCESS))},deletePrescriptionItem:ct,attachments:q,addAttachment:async Pe=>{if(!e||!jt)return;const V="00000000-0000-0000-0000-000000000001";let Q=e.id;try{const{data:me}=await jt.from("users").select("id").eq("id",e.id).single();me||(console.warn("User not found in auth.users table, using system user for attachment"),Q=V)}catch(me){console.warn("Error checking user existence, using system user for attachment:",me),Q=V}const X={patient_id:Pe.patientId,filename:Pe.filename,original_filename:Pe.originalFilename,file_type:Pe.fileType,file_size:Pe.fileSize,file_url:Pe.fileUrl,thumbnail_url:Pe.thumbnailUrl,description:Pe.description||null,uploaded_by:Q,user_id:Q};console.log("Adding attachment with data:",X);const{data:se,error:te}=await jt.from("patient_attachments").insert(X).select();if(te)console.error("Error adding attachment:",te),console.error("Error details:",te.details,te.hint,te.code),t(te.message,gt.ERROR);else if(se){console.log("Successfully added attachment:",se);const me=se.map(Ce=>({id:Ce.id,patientId:Ce.patient_id,filename:Ce.filename,originalFilename:Ce.original_filename,fileType:Ce.file_type,fileSize:Ce.file_size,fileUrl:Ce.file_url,thumbnailUrl:Ce.thumbnail_url,description:Ce.description,uploadedBy:Ce.uploaded_by,createdAt:Ce.created_at,updatedAt:Ce.updated_at}));ee(Ce=>[...Ce,...me]),t("Attachment added successfully",gt.SUCCESS)}},updateAttachment:async Pe=>{if(!jt)return;const V="00000000-0000-0000-0000-000000000001";let Q=Pe.uploadedBy;try{const{data:yt}=await jt.from("users").select("id").eq("id",Pe.uploadedBy).single();yt||(console.warn("User not found in auth.users table, using system user for attachment update"),Q=V)}catch(yt){console.warn("Error checking user existence, using system user for attachment update:",yt),Q=V}const{id:X,patientId:se,filename:te,originalFilename:me,fileType:Ce,fileSize:qe,fileUrl:Ue,thumbnailUrl:Me,description:Ve}=Pe,rt={patient_id:se,filename:te,original_filename:me,file_type:Ce,file_size:qe,file_url:Ue,thumbnail_url:Me,description:Ve||null,uploaded_by:Q};console.log("Updating attachment data:",{id:X,supabaseData:rt});const{error:xt}=await jt.from("patient_attachments").update(rt).eq("id",X);xt?(console.error("Error updating attachment:",xt),console.error("Error details:",xt.details,xt.hint,xt.code),t(xt.message,gt.ERROR)):(console.log(`Successfully updated attachment for id: ${X}`),ee(yt=>yt.map(bt=>bt.id===X?Pe:bt)),t("Attachment updated successfully",gt.SUCCESS))},deleteAttachment:$t,clinicInfo:ve,updateClinicInfo:Pe=>{he(Pe),localStorage.setItem("curasoft_clinic_info",JSON.stringify(Pe)),t("Clinic information updated successfully",gt.SUCCESS)},whatsappMessageTemplate:ce,updateWhatsappMessageTemplate:Pe=>{be(Pe),localStorage.setItem("curasoft_whatsapp_template",Pe),t("WhatsApp message template updated successfully",gt.SUCCESS)},reminderMessageTemplate:Oe,updateReminderMessageTemplate:L,restoreData:async Pe=>{if(console.warn("Restoring from local file will not sync to the cloud."),!(!e||!jt))try{const V=["patients","dentists","appointments","suppliers","inventory_items","expenses","treatment_definitions","treatment_records","lab_cases","payments","supplier_invoices"];for(const Q of V)await jt.from(Q).delete().eq("user_id",e.id);if(Pe.patients)for(const Q of Pe.patients){const X={...Q,id:Q.id.startsWith("sample-")?void 0:Q.id,user_id:e.id};await jt.from("patients").insert(X)}if(Pe.dentists)for(const Q of Pe.dentists){const X={...Q,id:Q.id.startsWith("sample-")?void 0:Q.id,user_id:e.id};await jt.from("dentists").insert(X)}if(Pe.appointments)for(const Q of Pe.appointments){const{patientId:X,dentistId:se,startTime:te,endTime:me,reminderTime:Ce,reminderSent:qe,...Ue}=Q,Me={...Ue,patient_id:X,dentist_id:se,start_time:te,end_time:me,reminder_time:Ce,reminder_sent:qe||!1,id:Q.id.startsWith("sample-")?void 0:Q.id,user_id:e.id};await jt.from("appointments").insert(Me)}if(Pe.suppliers)for(const Q of Pe.suppliers){const X={...Q,id:Q.id.startsWith("sample-")?void 0:Q.id,user_id:e.id};await jt.from("suppliers").insert(X)}if(Pe.inventoryItems)for(const Q of Pe.inventoryItems){const X={...Q,id:Q.id.startsWith("sample-")?void 0:Q.id,user_id:e.id};await jt.from("inventory_items").insert(X)}if(Pe.expenses)for(const Q of Pe.expenses){const X={...Q,id:Q.id.startsWith("sample-")?void 0:Q.id,user_id:e.id};await jt.from("expenses").insert(X)}if(Pe.treatmentDefinitions)for(const Q of Pe.treatmentDefinitions){const X={...Q,id:Q.id.startsWith("sample-")?void 0:Q.id,user_id:e.id};await jt.from("treatment_definitions").insert(X)}if(Pe.treatmentRecords)for(const Q of Pe.treatmentRecords){const X={...Q,id:Q.id.startsWith("sample-")?void 0:Q.id,user_id:e.id};await jt.from("treatment_records").insert(X)}if(Pe.labCases)for(const Q of Pe.labCases){const X={...Q,id:Q.id.startsWith("sample-")?void 0:Q.id,user_id:e.id};await jt.from("lab_cases").insert(X)}if(Pe.payments)for(const Q of Pe.payments){const X={...Q,id:Q.id.startsWith("sample-")?void 0:Q.id,user_id:e.id};await jt.from("payments").insert(X)}if(Pe.supplierInvoices)for(const Q of Pe.supplierInvoices){const X={...Q,id:Q.id.startsWith("sample-")?void 0:Q.id,user_id:e.id};await jt.from("supplier_invoices").insert(X)}await Y()}catch(V){console.error("Restore failed:",V),t("Failed to restore data",gt.ERROR)}}}},qhe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),Hhe=({dentistId:e,onClose:t,onAdd:r,doctorPayments:n})=>{const{t:i}=sr(),{addNotification:a}=bi(),{dentists:s,treatmentRecords:o}=Ob(),[c,u]=A.useState({dentistId:e,date:new Date().toISOString().split("T")[0],amount:0,notes:""}),d=m=>{const{name:g,value:x}=m.target;u(v=>({...v,[g]:g==="amount"?parseFloat(x):x}))},h=m=>{if(m.preventDefault(),!c.date||!c.amount){a(i("addDoctorPaymentModal.alertRequiredFields"),gt.ERROR);return}if(c.amount<=0){a(i("addDoctorPaymentModal.alertPositiveAmount"),gt.ERROR);return}const g=new Date(c.date);if(isNaN(g.getTime())){a(i("addDoctorPaymentModal.alertInvalidDate"),gt.ERROR);return}const x=new Date;if(x.setHours(0,0,0,0),g>x){a(i("addDoctorPaymentModal.alertFutureDate"),gt.ERROR);return}if(!s.find(T=>T.id===e)){a(i("addDoctorPaymentModal.alertDoctorNotFound"),gt.ERROR);return}const w=o.filter(T=>T.dentistId===e).reduce((T,D)=>T+D.doctorShare,0),_=n.filter(T=>T.dentistId===e).reduce((T,D)=>T+D.amount,0),S=w-_;if(S<=0){a("     ",gt.ERROR);return}if(c.amount>S){a(`    : ${S.toFixed(2)}`,gt.ERROR);return}if(n.some(T=>T.dentistId===e&&T.date===c.date&&T.amount===c.amount)){a(i("addDoctorPaymentModal.alertDuplicatePayment"),gt.ERROR);return}r(c),t()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:i("addDoctorPaymentModal.title")}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":i("common.closeForm"),children:l.jsx(qhe,{})})]}),l.jsxs("form",{onSubmit:h,className:"p-6 overflow-y-auto flex-1 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"paymentDate",className:"block text-sm font-medium text-slate-600 mb-1",children:i("addDoctorPaymentModal.paymentDate")}),l.jsx("input",{id:"paymentDate",name:"date",type:"date",value:c.date,onChange:d,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 mb-1",children:i("addDoctorPaymentModal.amount")}),l.jsx("input",{id:"amount",name:"amount",type:"number",step:"0.01",value:c.amount,onChange:d,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,min:"0.01"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-slate-600 mb-1",children:i("addDoctorPaymentModal.notes")}),l.jsx("textarea",{id:"notes",name:"notes",value:c.notes||"",onChange:d,placeholder:i("addDoctorPaymentModal.notesPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-20 focus:ring-primary focus:border-primary"})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4 flex-shrink-0",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:i("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:i("addDoctorPaymentModal.savePayment")})]})]})]})})},DB=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),Vhe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),Khe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),pN=["bg-sky-500","bg-emerald-500","bg-amber-500","bg-rose-500","bg-indigo-500","bg-teal-500","bg-orange-500","bg-purple-500"],Ghe=({doctor:e,onClose:t,onUpdate:r,clinicData:n})=>{const{t:i,locale:a}=sr(),{addNotification:s}=bi(),{appointments:o,patients:c,treatmentRecords:u,treatmentDefinitions:d,doctorPayments:h}=n,[m,g]=A.useState(!1),[x,v]=A.useState(e),[y,w]=A.useState("details"),[_,S]=A.useState(!1),E=A.useMemo(()=>o.filter(ee=>ee.dentistId===e.id).sort((ee,ve)=>ve.startTime.getTime()-ee.startTime.getTime()),[o,e.id]),T=A.useMemo(()=>u.filter(ee=>ee.dentistId===e.id).sort((ee,ve)=>new Date(ve.treatmentDate).getTime()-new Date(ee.treatmentDate).getTime()),[u,e.id]),D=A.useMemo(()=>(h||[]).filter(ee=>ee.dentistId===e.id).sort((ee,ve)=>new Date(ve.date).getTime()-new Date(ee.date).getTime()),[h,e.id]),C=A.useMemo(()=>{const ee=T.reduce((be,Oe)=>{const ae=d.find(L=>L.id===Oe.treatmentDefinitionId);return be+(ae?ae.basePrice:0)},0),ve=T.reduce((be,Oe)=>be+Oe.doctorShare,0),he=D.reduce((be,Oe)=>be+Oe.amount,0),ce=ve-he;return{totalRevenue:ee,totalEarnings:ve,totalPaymentsReceived:he,netBalance:ce}},[T,D,d]),O=ee=>{v(ve=>({...ve,[ee.target.name]:ee.target.value}))},R=ee=>{v(ve=>({...ve,color:ee}))},H=()=>{r(x),g(!1)},F=A.useCallback(ee=>{n.addDoctorPayment(ee),S(!1),s(i("notifications.paymentAdded"),gt.SUCCESS)},[n,s,i]),U=new Intl.DateTimeFormat(a,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),M=new Intl.DateTimeFormat(a,{year:"numeric",month:"short",day:"numeric"}),q=new Intl.NumberFormat(a,{style:"currency",currency:"EGP"});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:e.name}),l.jsxs("div",{className:"flex items-center gap-2",children:[!m&&l.jsxs("button",{onClick:()=>g(!0),className:"flex items-center px-3 py-1 bg-slate-100 rounded-lg hover:bg-slate-200 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-slate-300",children:[l.jsx(Khe,{})," ",i("common.edit")]}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":i("doctorDetails.closeAriaLabel"),children:l.jsx(DB,{})})]})]}),l.jsx("nav",{className:"border-b border-slate-200 bg-slate-50 flex-shrink-0",children:l.jsx("ul",{className:"-mb-px flex space-x-4 rtl:space-x-reverse overflow-x-auto text-sm font-medium text-center text-slate-500",children:[{key:"details",label:"doctorDetails.tabDetails"},{key:"treatments",label:"doctorDetails.tabTreatments"},{key:"financials",label:"doctorDetails.tabFinancials"}].map(({key:ee,label:ve})=>l.jsx("li",{children:l.jsx("button",{onClick:()=>w(ee),className:`inline-block p-4 border-b-2 ${y===ee?"border-primary text-primary":"border-transparent hover:text-slate-700 hover:border-slate-300"}`,children:i(ve)})},ee))})}),l.jsxs("main",{className:"p-6 overflow-y-auto flex-1 bg-neutral",children:[y==="details"&&l.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm space-y-4",children:m?l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{htmlFor:"edit-doctor-name",className:"sr-only",children:i("doctorDetails.fullName")}),l.jsx("input",{id:"edit-doctor-name",name:"name",value:x.name,onChange:O,placeholder:i("doctorDetails.fullName"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"}),l.jsx("label",{htmlFor:"edit-doctor-specialty",className:"sr-only",children:i("doctorDetails.specialty")}),l.jsx("input",{id:"edit-doctor-specialty",name:"specialty",value:x.specialty,onChange:O,placeholder:i("doctorDetails.specialty"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:i("doctorDetails.colorTag")}),l.jsx("div",{className:"flex flex-wrap gap-2",children:pN.map(ee=>l.jsx("button",{type:"button",onClick:()=>R(ee),className:`w-8 h-8 rounded-full ${ee} ${x.color===ee?"ring-2 ring-offset-2 ring-primary":""} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light`,"aria-label":i("doctorDetails.selectColorAriaLabel",{color:ee.replace("bg-","")})},ee))})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("strong",{className:"text-slate-500 block",children:[i("doctorDetails.specialty"),":"]})," ",e.specialty]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-600 mb-2",children:i("doctorDetails.appointmentSchedule")}),l.jsx("div",{className:"bg-neutral p-4 rounded-lg text-sm text-slate-600 max-h-48 overflow-y-auto shadow-inner",children:E.length>0?l.jsx("ul",{className:"space-y-2",children:E.map(ee=>{const ve=c.find(he=>he.id===ee.patientId);return l.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded-md shadow-sm",children:[l.jsxs("span",{children:[U.format(ee.startTime),": ",ve?.name," (",ee.reason,")"]}),l.jsx("span",{className:"text-xs p-1 bg-slate-200 rounded",children:i(`appointmentStatus.${ee.status}`)})]},ee.id)})}):l.jsx("p",{children:i("doctorDetails.noAppointmentsFound")})})]})]})}),y==="treatments"&&l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-4",children:i("doctorDetails.treatmentsPerformed")}),l.jsx("div",{className:"bg-neutral p-4 rounded-lg text-sm text-slate-600 max-h-96 overflow-y-auto shadow-inner",children:T.length>0?l.jsx("ul",{className:"space-y-2",children:T.map(ee=>{const ve=c.find(ce=>ce.id===ee.patientId),he=d.find(ce=>ce.id===ee.treatmentDefinitionId);return l.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded-md shadow-sm",children:[l.jsxs("span",{children:[M.format(new Date(ee.treatmentDate)),": ",he?.name," (",ve?.name,")"]}),l.jsx("span",{className:"font-semibold",children:q.format(ee.doctorShare)})]},ee.id)})}):l.jsx("p",{children:i("doctorDetails.noTreatmentsFound")})})]}),y==="financials"&&l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-4",children:i("doctorDetails.financialSummary")}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-neutral-light p-3 rounded-lg text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:i("doctorDetails.totalEarnings")}),l.jsx("p",{className:"text-xl font-bold text-slate-800",children:q.format(C.totalEarnings)})]}),l.jsxs("div",{className:"bg-neutral-light p-3 rounded-lg text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:i("doctorDetails.totalPaymentsReceived")}),l.jsx("p",{className:"text-xl font-bold text-slate-800",children:q.format(C.totalPaymentsReceived)})]}),l.jsxs("div",{className:`col-span-1 sm:col-span-2 p-3 rounded-lg text-center ${C.netBalance>=0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[l.jsx("p",{className:"text-sm font-semibold",children:i("doctorDetails.netBalance")}),l.jsx("p",{className:"text-xl font-bold",children:q.format(C.netBalance)}),l.jsx("p",{className:"text-xs mt-1",children:C.netBalance>=0?i("financials.amountDue"):i("financials.overpaid")})]})]}),l.jsx("div",{className:"flex justify-start gap-3 mb-6 flex-wrap"}),l.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-4",children:i("doctorDetails.transactions")}),l.jsx("div",{className:"bg-neutral p-4 rounded-lg shadow-inner max-h-96 overflow-y-auto",children:D.length===0&&T.length===0?l.jsx("p",{className:"text-center text-slate-500 py-4",children:i("doctorDetails.noTransactions")}):l.jsxs("div",{className:"space-y-2",children:[D.map(ee=>l.jsxs("div",{className:"bg-white p-3 rounded-md shadow-sm flex justify-between items-center border-l-4 border-green-500",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800",children:i("doctorDetails.payments")}),l.jsxs("p",{className:"text-sm text-slate-600",children:[M.format(new Date(ee.date)),ee.notes&&l.jsx("span",{className:"ms-2 ps-2 border-s border-slate-300",children:ee.notes})]})]}),l.jsx("span",{className:"font-bold text-green-700",children:q.format(ee.amount)})]},ee.id)),T.map(ee=>{const ve=c.find(ce=>ce.id===ee.patientId),he=d.find(ce=>ce.id===ee.treatmentDefinitionId);return l.jsxs("div",{className:"bg-white p-3 rounded-md shadow-sm flex justify-between items-center border-l-4 border-blue-500",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800",children:[i("doctorDetails.earnings")," - ",he?.name," (",ve?.name,")"]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[M.format(new Date(ee.treatmentDate)),ee.notes&&l.jsxs("span",{className:"ms-2 ps-2 border-s border-slate-300",children:[ee.notes.slice(0,50),"..."]})]})]}),l.jsx("span",{className:"font-bold text-blue-700",children:q.format(ee.doctorShare)})]},ee.id)})]})})]})]}),m&&l.jsxs("footer",{className:"p-4 border-t flex justify-end space-x-4 bg-slate-50 rounded-b-xl",children:[l.jsx("button",{type:"button",onClick:()=>{g(!1),v(e)},className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:i("common.cancel")}),l.jsx("button",{type:"button",onClick:H,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:i("common.saveChanges")})]}),_&&l.jsx(Hhe,{dentistId:e.id,onClose:()=>S(!1),onAdd:F,doctorPayments:n.doctorPayments})]})})},Yhe=({onClose:e,onAdd:t})=>{const{t:r}=sr(),[n,i]=A.useState({name:"",specialty:"",color:pN[0]}),a=c=>{i(u=>({...u,[c.target.name]:c.target.value}))},s=c=>{i(u=>({...u,color:c}))},o=c=>{c.preventDefault(),t(n),e()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:r("addDoctorModal.title")}),l.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":r("addDoctorModal.closeAriaLabel"),children:l.jsx(DB,{})})]}),l.jsxs("form",{onSubmit:o,className:"p-6 space-y-4 overflow-y-auto",children:[l.jsx("label",{htmlFor:"add-doctor-name",className:"sr-only",children:r("addDoctorModal.fullName")}),l.jsx("input",{id:"add-doctor-name",name:"name",value:n.name,onChange:a,placeholder:r("addDoctorModal.fullName"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0}),l.jsx("label",{htmlFor:"add-doctor-specialty",className:"sr-only",children:r("addDoctorModal.specialty")}),l.jsx("input",{id:"add-doctor-specialty",name:"specialty",value:n.specialty,onChange:a,placeholder:r("addDoctorModal.specialty"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:r("addDoctorModal.colorTag")}),l.jsx("div",{className:"flex flex-wrap gap-2",children:pN.map(c=>l.jsx("button",{type:"button",onClick:()=>s(c),className:`w-8 h-8 rounded-full ${c} ${n.color===c?"ring-2 ring-offset-2 ring-primary":""} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light`,"aria-label":r("doctorDetails.selectColorAriaLabel",{color:c.replace("bg-","")})},c))})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:r("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:r("addDoctorModal.saveDoctor")})]})]})]})})},Xhe=({clinicData:e})=>{const{dentists:t,addDoctor:r,updateDoctor:n,treatmentRecords:i,doctorPayments:a}=e,{t:s}=sr(),[o,c]=A.useState(null),[u,d]=A.useState(!1),h=new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"});return l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs("button",{onClick:()=>d(!0),className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-primary-light",children:[l.jsx(Vhe,{}),s("doctorList.addNewDoctor")]})}),l.jsx("div",{className:"space-y-3",children:t.map(m=>{const g=i.filter(y=>y.dentistId===m.id).reduce((y,w)=>y+w.doctorShare,0),x=a.filter(y=>y.dentistId===m.id).reduce((y,w)=>y+w.amount,0),v=g-x;return l.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 flex justify-between items-center gap-3 hover:bg-slate-50 shadow-sm transition-shadow duration-200",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`w-4 h-4 rounded-full ${m.color}`}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800",children:m.name}),l.jsx("p",{className:"text-sm text-slate-600",children:m.specialty}),v>0&&l.jsxs("p",{className:"text-xs font-semibold text-blue-600 mt-1",children:[" : ",h.format(v)]})]})]}),l.jsx("div",{children:l.jsx("button",{onClick:()=>c(m),className:"text-primary hover:text-primary-dark font-semibold px-4 py-2 rounded-lg bg-primary/10 hover:bg-primary/20 text-sm focus:outline-none focus:ring-2 focus:ring-primary-light",children:s("doctorList.viewDetails")})})]},m.id)})}),o&&l.jsx(Ghe,{doctor:o,onUpdate:n,onClose:()=>c(null),clinicData:e}),u&&l.jsx(Yhe,{onAdd:r,onClose:()=>d(!1)})]})},Nl=(e,t)=>{const r=window.open("","_blank","height=800,width=1000");if(!r){alert("Please allow popups for this website to print reports.");return}r.document.title=e,r.document.write(`
        <!DOCTYPE html>
        <html dir="rtl" lang="ar">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>${e}</title>
            <script src="https://cdn.tailwindcss.com"><\/script>
            <script>
                tailwind.config = {
                    corePlugins: {
                        preflight: false,
                    }
                }
            <\/script>
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap');
                body {
                    font-family: 'Cairo', sans-serif;
                    direction: rtl;
                }
                @media print {
                    body { margin: 0; }
                    .no-print { display: none; }
                }
                /* Ensure Arabic text renders properly */
                * {
                    text-rendering: optimizeLegibility;
                }
                /* Force RTL for all elements */
                * {
                    direction: rtl !important;
                }
            </style>
        </head>
        <body class="bg-white">
            <div id="print-root"></div>
        </body>
        </html>
    `);const n=r.document.getElementById("print-root");if(!n){console.error("Failed to create print root element");return}JR.createRoot(n).render(l.jsx(jg.StrictMode,{children:l.jsx(xL,{children:l.jsx(QR,{children:t})})})),setTimeout(()=>{try{const a=r.document.getElementById("print-root");a&&a.innerHTML.trim()===""?(console.warn("Print content not loaded yet, retrying..."),setTimeout(()=>{r.focus(),r.print()},1e3)):(r.focus(),r.print())}catch(a){console.error("Print failed:",a),alert("   .    .")}},3e3)},Jhe=()=>l.jsx("style",{children:`
    @media print {
      @page {
        size: A4;
        margin: 1cm;
      }
      body {
        font-size: 12px;
        line-height: 1.4;
      }
      .print-header {
        margin-bottom: 1.5rem;
        page-break-after: avoid;
      }
      .print-section {
        margin-bottom: 1rem;
        page-break-inside: avoid;
      }
      table {
        font-size: 10px;
      }
      h1 {
        font-size: 18px;
      }
      h2, h3, h4 {
        font-size: 14px;
      }
    }
  `}),Ro=({title:e,headers:t,data:r})=>l.jsxs("div",{className:"mb-6 break-inside-avoid",children:[l.jsx("h4",{className:"text-md font-bold text-slate-800 mb-2",children:e}),l.jsxs("table",{className:"w-full text-sm border-collapse border border-slate-400",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsx("tr",{children:t.map(n=>l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:n},n))})}),l.jsx("tbody",{children:r.map((n,i)=>l.jsx("tr",{className:"border-b border-slate-200",children:n.map((a,s)=>l.jsx("td",{className:"p-2 border border-slate-300",children:a},s))},i))})]})]}),YA=({clinicData:e,activeTab:t,startDate:r,endDate:n})=>{const{t:i,locale:a}=sr(),{patients:s,appointments:o,expenses:c,inventoryItems:u,treatmentDefinitions:d,dentists:h,treatmentRecords:m,labCases:g,payments:x,supplierInvoices:v,suppliers:y,clinicInfo:w}=e,_=new Intl.NumberFormat(a,{style:"currency",currency:"EGP"}),S=new Intl.DateTimeFormat(a,{year:"numeric",month:"short",day:"numeric"}),E=(M,q)=>{if(!r||!n)return M;const ee=new Date(r);ee.setHours(0,0,0,0);const ve=new Date(n);return ve.setHours(23,59,59,999),M.filter(he=>{const ce=he[q],be=new Date(ce);return!isNaN(be.getTime())&&be>=ee&&be<=ve})},T=A.useMemo(()=>{const M=s.filter(he=>{if(!r||!n)return!0;const ce=new Date(r);ce.setHours(0,0,0,0);const be=new Date(n);be.setHours(23,59,59,999);const Oe=new Date(he.lastVisit);return Oe>=ce&&Oe<=be}),q=M.reduce((he,ce)=>(he[ce.gender]=(he[ce.gender]||0)+1,he),{}),ee={"0-18":0,"19-35":0,"36-55":0,"56+":0};M.forEach(he=>{const ce=new Date(he.dob),be=Date.now()-ce.getTime(),Oe=new Date(be),ae=Math.abs(Oe.getUTCFullYear()-1970);ae<=18?ee["0-18"]++:ae<=35?ee["19-35"]++:ae<=55?ee["36-55"]++:ee["56+"]++});const ve=s.filter(he=>{const ce=new Date(he.lastVisit);if(!r||!n)return!1;const be=new Date(r);be.setHours(0,0,0,0);const Oe=new Date(n);return Oe.setHours(23,59,59,999),ce>=be&&ce<=Oe}).length;return{totalPatients:M.length,genderDistribution:q,ageDistribution:ee,newPatientsThisPeriod:ve}},[s,r,n]),D=A.useMemo(()=>{E(m,"treatmentDate");const M=E(c,"date"),q=E(x,"date"),ee=q.reduce((ae,L)=>ae+L.amount,0),ve=M.reduce((ae,L)=>ae+L.amount,0),he=e.doctorPayments.reduce((ae,L)=>ae+L.amount,0),ce=ee-(ve+he),be={};q.forEach(ae=>{const L=i(`paymentMethod.${ae.method}`);be[L]=(be[L]||0)+ae.amount});const Oe={[dc.RENT]:0,[dc.SALARIES]:0,[dc.UTILITIES]:0,[dc.LAB_FEES]:0,[dc.SUPPLIES]:0,[dc.MARKETING]:0,[dc.MISC]:0};return M.forEach(ae=>{Oe[ae.category]+=ae.amount}),{totalIncome:ee,totalExpenses:ve,netProfit:ce,incomeByTreatment:be,expensesByCategory:Oe}},[x,c,r,n,i]),C=A.useMemo(()=>{const M=E(o,"startTime"),q=M.length,ee=M.filter(be=>be.status===Vm.COMPLETED).length,ve=M.filter(be=>be.status===Vm.CANCELLED).length,he=q>0?ee/q*100:0,ce={};return M.forEach(be=>{const Oe=h.find(ae=>ae.id===be.dentistId)?.name||i("common.unknownDentist");ce[Oe]=(ce[Oe]||0)+1}),{totalAppointments:q,completedAppointments:ee,cancelledAppointments:ve,completionRate:he,appointmentsByDentist:ce}},[o,h,r,n,i]),O=A.useMemo(()=>{const q=u.filter(ve=>ve.currentStock<=5),ee=u.reduce((ve,he)=>ve+he.currentStock*he.unitCost,0);return{lowStockItems:q,allInventoryItems:u,allItemsValue:ee}},[u]),R=A.useMemo(()=>{const M=E(m,"treatmentDate"),q={};return M.forEach(ve=>{const he=d.find(ce=>ce.id===ve.treatmentDefinitionId)?.name||i("common.unknownTreatment");q[he]||(q[he]={count:0,totalRevenue:0,totalClinicShare:0,totalDoctorShare:0}),q[he].count++,q[he].totalRevenue+=ve.totalTreatmentCost,q[he].totalClinicShare+=ve.clinicShare,q[he].totalDoctorShare+=ve.doctorShare}),{allTreatmentPerformance:Object.entries(q).map(([ve,he])=>({treatment:ve,count:he.count,averagePrice:he.count>0?he.totalRevenue/he.count:0,totalRevenue:he.totalRevenue,totalClinicShare:he.totalClinicShare,totalDoctorShare:he.totalDoctorShare})).sort((ve,he)=>he.totalRevenue-ve.totalRevenue)}},[m,d,r,n,i]),H=A.useMemo(()=>({filteredLabCases:E(g,"sentDate")}),[g,r,n]);A.useMemo(()=>({filteredPayments:E(x,"date")}),[x,r,n]);const F=A.useMemo(()=>({filteredSupplierInvoices:E(v,"invoiceDate")}),[v,r,n]),U={patientStats:i("reports.tabPatientStatistics"),financialSummary:i("reports.tabFinancialSummary"),appointmentOverview:i("reports.tabAppointmentOverview"),inventoryReport:i("reports.tabInventoryReport"),treatmentPerformance:i("reports.tabTreatmentPerformance"),labCasesReport:i("reports.tabLabCasesReport"),paymentsReport:i("reports.tabPaymentsReport"),supplierInvoicesReport:i("reports.tabSupplierInvoicesReport"),dentistsReport:i("reports.tabDentistsReport"),suppliersReport:i("reports.tabSuppliersReport"),dailyFinancialSummary:i("reports.dailyFinancialSummary.title"),monthlyFinancialSummary:i("reports.monthlyFinancialSummary.title"),quarterlyAnnualOverview:i("reports.quarterlyAnnualOverview.title")};return l.jsxs(l.Fragment,{children:[l.jsx(Jhe,{}),l.jsxs("div",{className:"p-4 bg-white text-slate-900",dir:"rtl",children:[l.jsxs("header",{className:"print-header text-center mb-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-1",children:w.name||i("appName")}),l.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[w.address&&l.jsx("p",{children:w.address}),l.jsxs("div",{className:"flex justify-center gap-4",children:[w.phone&&l.jsxs("span",{children:[i("common.phone"),": ",w.phone]}),w.email&&l.jsxs("span",{children:[i("common.email"),": ",w.email]})]})]})]}),l.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-2",children:U[t]}),l.jsxs("p",{className:"text-md text-slate-600",children:[i("reports.dateRange"),": ",r?S.format(new Date(r)):i("common.na")," - ",n?S.format(new Date(n)):i("common.na")]})]}),l.jsxs("main",{children:[t==="patientStats"&&l.jsxs("div",{className:"print-section space-y-6",children:[l.jsx(Ro,{title:i("reports.patientStats.genderDistribution"),headers:[i("patientDetails.gender"),i("reports.treatmentPerformance.count")],data:Object.entries(T.genderDistribution).map(([M,q])=>[i(M.toLowerCase()),q])}),l.jsx(Ro,{title:i("reports.patientStats.ageDistribution"),headers:[i("reports.patientStats.ageGroup"),i("reports.treatmentPerformance.count")],data:Object.entries(T.ageDistribution).map(([M,q])=>[M,q])})]}),t==="financialSummary"&&l.jsxs("div",{className:"print-section space-y-6",children:[l.jsx(Ro,{title:i("reports.financialSummary.incomeByTreatment"),headers:[i("reports.treatmentPerformance.treatment"),i("reports.financialSummary.totalIncome")],data:Object.entries(D.incomeByTreatment).map(([M,q])=>[M,_.format(q)])}),l.jsx(Ro,{title:i("reports.financialSummary.expensesByCategory"),headers:[i("expenses.category"),i("expenses.amount")],data:Object.entries(D.expensesByCategory).filter(([,M])=>M>0).map(([M,q])=>[i(`expenseCategory.${M}`),_.format(q)])})]}),t==="appointmentOverview"&&l.jsx("div",{className:"print-section space-y-6",children:l.jsx(Ro,{title:i("reports.appointmentOverview.appointmentsByDentist"),headers:[i("addAppointmentModal.dentist"),i("reports.appointmentOverview.totalAppointments")],data:Object.entries(C.appointmentsByDentist).map(([M,q])=>[M,q])})}),t==="inventoryReport"&&l.jsx("div",{className:"print-section space-y-6",children:l.jsxs("table",{className:"min-w-full text-sm text-slate-700 border-collapse border border-slate-300",children:[l.jsx("caption",{className:"text-md font-bold text-slate-800 mb-2 text-start p-2 bg-slate-100",children:i("reports.inventoryReport.allInventoryItems")}),l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("reports.inventoryReport.itemName")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("reports.inventoryReport.currentStock")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("reports.inventoryReport.unitCost")})]})}),l.jsx("tbody",{children:O.allInventoryItems.map(M=>l.jsxs("tr",{className:"border-b border-slate-200 last:border-b-0",children:[l.jsx("td",{className:"p-2 border border-slate-300",children:M.name}),l.jsx("td",{className:"p-2 border border-slate-300",children:M.currentStock}),l.jsx("td",{className:"p-2 border border-slate-300",children:_.format(M.unitCost)})]},M.id))})]})}),t==="treatmentPerformance"&&l.jsx("div",{className:"print-section",children:l.jsxs("table",{className:"min-w-full text-sm text-slate-700 border-collapse border border-slate-300",children:[l.jsx("caption",{className:"text-md font-bold text-slate-800 mb-2 text-start p-2 bg-slate-100",children:i("reports.treatmentPerformance.allTreatmentPerformance")}),l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("reports.treatmentPerformance.treatment")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("reports.treatmentPerformance.count")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("reports.treatmentPerformance.averagePrice")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("reports.treatmentPerformance.totalRevenue")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("reports.treatmentPerformance.totalClinicShare")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("reports.treatmentPerformance.totalDoctorShare")})]})}),l.jsx("tbody",{children:R.allTreatmentPerformance.map(M=>l.jsxs("tr",{className:"border-b border-slate-200 last:border-b-0",children:[l.jsx("td",{className:"p-2 border border-slate-300",children:M.treatment}),l.jsx("td",{className:"p-2 border border-slate-300",children:M.count}),l.jsx("td",{className:"p-2 border border-slate-300",children:_.format(M.averagePrice)}),l.jsx("td",{className:"p-2 border border-slate-300",children:_.format(M.totalRevenue)}),l.jsx("td",{className:"p-2 border border-slate-300",children:_.format(M.totalClinicShare)}),l.jsx("td",{className:"p-2 border border-slate-300",children:_.format(M.totalDoctorShare)})]},M.treatment))})]})}),t==="labCasesReport"&&l.jsx("div",{className:"print-section",children:l.jsxs("table",{className:"min-w-full text-sm text-slate-700 border-collapse border border-slate-300",children:[l.jsx("caption",{className:"text-md font-bold text-slate-800 mb-2 text-start p-2 bg-slate-100",children:i("reports.labCasesReport.allLabCases")}),l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("labCase.patientName")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("labCase.caseType")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("labCase.status")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("labCase.cost")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("labCase.dueDate")})]})}),l.jsx("tbody",{children:H.filteredLabCases.map(M=>l.jsxs("tr",{className:"border-b border-slate-200 last:border-b-0",children:[l.jsx("td",{className:"p-2 border border-slate-300",children:s.find(q=>q.id===M.patientId)?.name||i("common.unknownPatient")}),l.jsx("td",{className:"p-2 border border-slate-300",children:M.caseType}),l.jsx("td",{className:"p-2 border border-slate-300",children:i(`labCaseStatus.${M.status}`)}),l.jsx("td",{className:"p-2 border border-slate-300",children:_.format(M.labCost)}),l.jsx("td",{className:"p-2 border border-slate-300",children:S.format(new Date(M.dueDate))})]},M.id))})]})}),t==="paymentsReport"&&l.jsx("div",{className:"print-section",children:l.jsxs("table",{className:"min-w-full text-sm text-slate-700 border-collapse border border-slate-300",children:[l.jsx("caption",{className:"text-md font-bold text-slate-800 mb-2 text-start p-2 bg-slate-100",children:i("reports.paymentsReport.allPayments")}),l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("payment.patientName")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("payment.amount")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("payment.method")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("payment.date")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("payment.notes")})]})}),l.jsx("tbody",{children:x.map(M=>l.jsxs("tr",{className:"border-b border-slate-200 last:border-b-0",children:[l.jsx("td",{className:"p-2 border border-slate-300",children:s.find(q=>q.id===M.patientId)?.name||i("common.unknownPatient")}),l.jsx("td",{className:"p-2 border border-slate-300",children:_.format(M.amount)}),l.jsx("td",{className:"p-2 border border-slate-300",children:i(`paymentMethod.${M.method}`)}),l.jsx("td",{className:"p-2 border border-slate-300",children:S.format(new Date(M.date))}),l.jsx("td",{className:"p-2 border border-slate-300",children:M.notes||"-"})]},M.id))})]})}),t==="supplierInvoicesReport"&&l.jsx("div",{className:"print-section",children:l.jsxs("table",{className:"min-w-full text-sm text-slate-700 border-collapse border border-slate-300",children:[l.jsx("caption",{className:"text-md font-bold text-slate-800 mb-2 text-start p-2 bg-slate-100",children:i("reports.supplierInvoicesReport.allSupplierInvoices")}),l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("supplierInvoice.supplierName")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("supplierInvoice.invoiceNumber")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("supplierInvoice.totalAmount")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("supplierInvoice.date")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("supplierInvoice.status")})]})}),l.jsx("tbody",{children:F.filteredSupplierInvoices.map(M=>l.jsxs("tr",{className:"border-b border-slate-200 last:border-b-0",children:[l.jsx("td",{className:"p-2 border border-slate-300",children:y.find(q=>q.id===M.supplierId)?.name||i("common.unknownSupplier")}),l.jsx("td",{className:"p-2 border border-slate-300",children:M.invoiceNumber}),l.jsx("td",{className:"p-2 border border-slate-300",children:_.format(M.amount)}),l.jsx("td",{className:"p-2 border border-slate-300",children:S.format(new Date(M.invoiceDate))}),l.jsx("td",{className:"p-2 border border-slate-300",children:i(`supplierInvoiceStatus.${M.status}`)})]},M.id))})]})}),t==="dentistsReport"&&l.jsx("div",{className:"print-section",children:l.jsxs("table",{className:"min-w-full text-sm text-slate-700 border-collapse border border-slate-300",children:[l.jsx("caption",{className:"text-md font-bold text-slate-800 mb-2 text-start p-2 bg-slate-100",children:i("reports.dentistsReport.allDentists")}),l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("dentist.name")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("dentist.specialty")})]})}),l.jsx("tbody",{children:h.map(M=>l.jsxs("tr",{className:"border-b border-slate-200 last:border-b-0",children:[l.jsx("td",{className:"p-2 border border-slate-300",children:M.name}),l.jsx("td",{className:"p-2 border border-slate-300",children:M.specialty})]},M.id))})]})}),t==="suppliersReport"&&l.jsx("div",{className:"print-section",children:l.jsxs("table",{className:"min-w-full text-sm text-slate-700 border-collapse border border-slate-300",children:[l.jsx("caption",{className:"text-md font-bold text-slate-800 mb-2 text-start p-2 bg-slate-100",children:i("reports.suppliersReport.allSuppliers")}),l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("supplier.name")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("supplier.contactPerson")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("supplier.phone")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:i("supplier.email")})]})}),l.jsx("tbody",{children:y.map(M=>l.jsxs("tr",{className:"border-b border-slate-200 last:border-b-0",children:[l.jsx("td",{className:"p-2 border border-slate-300",children:M.name}),l.jsx("td",{className:"p-2 border border-slate-300",children:M.contactPerson}),l.jsx("td",{className:"p-2 border border-slate-300",children:M.phone}),l.jsx("td",{className:"p-2 border border-slate-300",children:M.email})]},M.id))})]})}),t==="dailyFinancialSummary"&&l.jsxs("div",{className:"print-section space-y-8",children:[l.jsxs("div",{className:"text-center border-b-2 border-slate-300 pb-4 mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:r===n?i("reports.dailyFinancialSummary.title"):"  "}),l.jsx("p",{className:"text-lg text-slate-600",children:r===n?new Date(r).toLocaleDateString(a,{weekday:"long",year:"numeric",month:"long",day:"numeric"}):`${S.format(new Date(r))} - ${S.format(new Date(n))}`})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:(()=>{const M=m.filter(Ne=>{const fe=new Date(Ne.treatmentDate),ke=new Date(r),Te=new Date(n);return fe>=ke&&fe<=Te}),q=x.filter(Ne=>{const fe=new Date(Ne.date),ke=new Date(r),Te=new Date(n);return fe>=ke&&fe<=Te}),ee=c.filter(Ne=>{const fe=new Date(Ne.date),ke=new Date(r),Te=new Date(n);return fe>=ke&&fe<=Te}),ve=M.reduce((Ne,fe)=>Ne+fe.totalTreatmentCost,0),he=M.reduce((Ne,fe)=>Ne+fe.doctorShare,0),ce=ee.reduce((Ne,fe)=>Ne+fe.amount,0),be=ve-ce-he,Oe=m.filter(Ne=>new Date(Ne.treatmentDate)<=new Date(n)).reduce((Ne,fe)=>Ne+fe.totalTreatmentCost,0)-x.filter(Ne=>new Date(Ne.date)<=new Date(n)).reduce((Ne,fe)=>Ne+fe.amount,0),ae=m.filter(Ne=>{const fe=new Date(Ne.treatmentDate);return(new Date(n).getTime()-fe.getTime())/(1e3*60*60*24)>30&&Ne.totalTreatmentCost>x.filter(Te=>Te.patientId===Ne.patientId).reduce((Te,je)=>Te+je.amount,0)}).reduce((Ne,fe)=>Ne+fe.totalTreatmentCost,0),L=q.length,Y=ee.length,K=o.filter(Ne=>{const fe=new Date(Ne.startTime),ke=new Date(r),Te=new Date(n);return fe>=ke&&fe<=Te}).length,J=new Set(q.map(Ne=>Ne.patientId)).size,pe=ve>0?he/ve*100:0;return[{title:r===n?" ":" ",value:ve,icon:"",color:"blue"},{title:r===n?"  ":"  ",value:he,icon:"",color:"green"},{title:r===n?" ":" ",value:ce,icon:"",color:"red"},{title:r===n?" ":" ",value:be,icon:"",color:be>=0?"green":"red"},{title:" ",value:Math.max(0,Oe),icon:"",color:"orange"},{title:" ",value:Math.max(0,ae),icon:"",color:"purple"},{title:" ",value:L,icon:"",color:"indigo"},{title:" ",value:Y,icon:"",color:"pink"},{title:r===n?" ":" ",value:K,icon:"",color:"teal"},{title:r===n?" ":"  ",value:J,icon:"",color:"cyan"},{title:" ",value:`${pe.toFixed(1)}%`,icon:"",color:"lime"}].map((Ne,fe)=>l.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 border border-slate-200 rounded-lg p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-2xl",children:Ne.icon}),l.jsx("span",{className:"text-sm font-medium text-slate-600",children:Ne.title})]}),l.jsx("div",{className:"text-xl font-bold text-slate-800",children:typeof Ne.value=="number"&&Ne.title!==" "?_.format(Ne.value):Ne.value})]},fe))})()}),l.jsxs("div",{className:"border border-slate-200 rounded-lg p-6 mb-6",children:[l.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-4",children:r===n?i("reports.dailyFinancialSummary.revenueTrend"):"  "}),l.jsx("div",{className:"text-center text-slate-500 py-8",children:"[    -   ]"})]}),l.jsxs("div",{className:"border border-slate-200 rounded-lg p-6 mb-6",children:[l.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-4",children:r===n?i("reports.dailyFinancialSummary.expensesBreakdown"):"  "}),l.jsx("div",{className:"text-center text-slate-500 py-8",children:"[     -   ]"})]}),l.jsxs("div",{className:"border border-slate-200 rounded-lg p-6 mb-6",children:[l.jsx("h4",{className:"text-lg font-bold text-slate-800 mb-4",children:r===n?"  ":"  "}),l.jsx("div",{className:"text-center text-slate-500 py-8",children:"[    -   ]"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Ro,{title:r===n?i("reports.dailyFinancialSummary.todaysPayments"):" ",headers:[i("common.patient"),i("payment.amount"),i("payment.method"),i("common.date")],data:x.filter(M=>{const q=new Date(M.date),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).map(M=>[s.find(ee=>ee.id===M.patientId)?.name||i("common.unknown"),_.format(M.amount),i(`paymentMethod.${M.method}`),S.format(new Date(M.date))])}),l.jsx(Ro,{title:r===n?i("reports.dailyFinancialSummary.todaysExpenses"):" ",headers:[i("expense.description"),i("expense.amount"),i("expense.category"),i("common.date")],data:c.filter(M=>{const q=new Date(M.date),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).map(M=>[M.description,_.format(M.amount),i(`expenseCategory.${M.category}`),S.format(new Date(M.date))])})]}),l.jsxs("div",{className:"text-center text-sm text-slate-500 border-t border-slate-200 pt-4 mt-8",children:[l.jsxs("p",{children:["     ",new Date().toLocaleString(a)]}),l.jsxs("p",{children:["    - ",w.name||i("appName")]})]})]}),t==="monthlyFinancialSummary"&&l.jsxs("div",{className:"print-section space-y-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:[i("reports.monthlyFinancialSummary.title")," - ",new Date(r).toLocaleDateString(a,{month:"long",year:"numeric"})]}),l.jsx(Ro,{title:i("reports.monthlyFinancialSummary.kpiCards"),headers:[i("common.metric"),i("common.value")],data:[[i("reports.monthlyFinancialSummary.thisMonthRevenue"),_.format(m.filter(M=>{const q=new Date(M.treatmentDate),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.totalTreatmentCost,0))],[i("dashboard.totalEarnings"),_.format(m.filter(M=>{const q=new Date(M.treatmentDate),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.doctorShare,0))],[i("reports.monthlyFinancialSummary.thisMonthExpenses"),_.format(c.filter(M=>{const q=new Date(M.date),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.amount,0))],[i("reports.monthlyFinancialSummary.clinicProfitThisMonth"),_.format(m.filter(M=>{const q=new Date(M.treatmentDate),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.totalTreatmentCost,0)-c.filter(M=>{const q=new Date(M.date),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.amount,0)-m.filter(M=>{const q=new Date(M.treatmentDate),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.doctorShare,0))]]}),l.jsx(Ro,{title:i("reports.monthlyFinancialSummary.monthlyPayments"),headers:[i("common.patient"),i("payment.amount"),i("common.date")],data:x.filter(M=>{const q=new Date(M.date),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).slice(0,20).map(M=>[s.find(ee=>ee.id===M.patientId)?.name||i("common.unknown"),_.format(M.amount),S.format(new Date(M.date))])}),l.jsx(Ro,{title:i("reports.monthlyFinancialSummary.monthlyExpenses"),headers:[i("expense.description"),i("expense.amount"),i("expense.category")],data:c.filter(M=>{const q=new Date(M.date),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).slice(0,20).map(M=>[M.description,_.format(M.amount),i(`expenseCategory.${M.category}`)])})]}),t==="quarterlyAnnualOverview"&&l.jsxs("div",{className:"print-section space-y-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:[i("reports.quarterlyAnnualOverview.title")," - ",r.split("-")[0]]}),l.jsx(Ro,{title:i("reports.quarterlyAnnualOverview.kpiCards"),headers:[i("common.metric"),i("common.value")],data:[[i("reports.quarterlyAnnualOverview.totalRevenue"),_.format(m.filter(M=>{const q=new Date(M.treatmentDate),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.totalTreatmentCost,0))],[i("dashboard.totalEarnings"),_.format(m.filter(M=>{const q=new Date(M.treatmentDate),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.doctorShare,0))],[i("reports.quarterlyAnnualOverview.totalExpenses"),_.format(c.filter(M=>{const q=new Date(M.date),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.amount,0))],[i("reports.quarterlyAnnualOverview.cumulativeProfit"),_.format(m.filter(M=>{const q=new Date(M.treatmentDate),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.totalTreatmentCost,0)-c.filter(M=>{const q=new Date(M.date),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.amount,0)-m.filter(M=>{const q=new Date(M.treatmentDate),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).reduce((M,q)=>M+q.doctorShare,0))]]}),l.jsx(Ro,{title:i("reports.quarterlyAnnualOverview.periodPayments"),headers:[i("common.patient"),i("payment.amount"),i("common.date")],data:x.filter(M=>{const q=new Date(M.date),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).slice(0,20).map(M=>[s.find(ee=>ee.id===M.patientId)?.name||i("common.unknown"),_.format(M.amount),S.format(new Date(M.date))])}),l.jsx(Ro,{title:i("reports.quarterlyAnnualOverview.periodExpenses"),headers:[i("expense.description"),i("expense.amount"),i("expense.category")],data:c.filter(M=>{const q=new Date(M.date),ee=new Date(r),ve=new Date(n);return q>=ee&&q<=ve}).slice(0,20).map(M=>[M.description,_.format(M.amount),i(`expenseCategory.${M.category}`)])})]})]})]})]})},Am=({title:e,data:t,type:r,height:n=300,colors:i=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"],showLegend:a=!0,showGrid:s=!0,formatValue:o,onSegmentClick:c})=>{const u=({active:h,payload:m,label:g})=>h&&m&&m.length?l.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[l.jsx("p",{className:"font-semibold text-gray-800",children:g}),m.map((x,v)=>l.jsxs("p",{className:"text-sm",style:{color:x.color},children:[x.dataKey,": ",o?o(x.value):x.value.toLocaleString()]},v))]}):null,d=()=>{switch(r){case"bar":return l.jsxs(PB,{data:t,children:[s&&l.jsx(Kd,{strokeDasharray:"3 3"}),l.jsx(Gd,{dataKey:"name"}),l.jsx(Yd,{tickFormatter:o}),l.jsx(ku,{content:l.jsx(u,{})}),a&&l.jsx(Qf,{}),l.jsx(Zy,{dataKey:"value",fill:i[0],radius:[4,4,0,0]})]});case"line":return l.jsxs(EB,{data:t,children:[s&&l.jsx(Kd,{strokeDasharray:"3 3"}),l.jsx(Gd,{dataKey:"name"}),l.jsx(Yd,{tickFormatter:o}),l.jsx(ku,{content:l.jsx(u,{})}),a&&l.jsx(Qf,{}),l.jsx(ug,{type:"monotone",dataKey:"value",stroke:i[0],strokeWidth:2,dot:{fill:i[0],strokeWidth:2,r:4},activeDot:{r:6,stroke:i[0],strokeWidth:2}})]});case"pie":return l.jsxs(kB,{children:[l.jsx(UA,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:h,percent:m})=>`${h} ${(m*100).toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",onClick:(h,m)=>c&&c(h),children:t.map((h,m)=>l.jsx(Ch,{fill:i[m%i.length]},`cell-${m}`))}),l.jsx(ku,{content:l.jsx(u,{})})]});case"area":return l.jsxs(Lhe,{data:t,children:[s&&l.jsx(Kd,{strokeDasharray:"3 3"}),l.jsx(Gd,{dataKey:"name"}),l.jsx(Yd,{tickFormatter:o}),l.jsx(ku,{content:l.jsx(u,{})}),a&&l.jsx(Qf,{}),l.jsx(aB,{type:"monotone",dataKey:"value",stackId:"1",stroke:i[0],fill:i[0],fillOpacity:.3})]});case"composed":return l.jsxs(Fhe,{data:t,children:[s&&l.jsx(Kd,{strokeDasharray:"3 3"}),l.jsx(Gd,{dataKey:"name"}),l.jsx(Yd,{tickFormatter:o}),l.jsx(ku,{content:l.jsx(u,{})}),a&&l.jsx(Qf,{}),l.jsx(Zy,{dataKey:"value",barSize:20,fill:i[0]}),l.jsx(ug,{type:"monotone",dataKey:"value",stroke:i[1],strokeWidth:2})]});case"scatter":return l.jsxs(Ihe,{children:[l.jsx(Kd,{}),l.jsx(Gd,{dataKey:"name"}),l.jsx(Yd,{tickFormatter:o}),l.jsx(fB,{dataKey:"value",range:[64,4096]}),l.jsx(ku,{content:l.jsx(u,{})}),l.jsx(uB,{name:"A school",data:t,fill:i[0]})]});default:return null}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:e}),l.jsx(wy,{width:"100%",height:n,children:d()})]})},XA=A.createContext({});function JA(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ib=A.createContext(null),ZA=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Zhe extends A.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Qhe({children:e,isPresent:t}){const r=A.useId(),n=A.useRef(null),i=A.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=A.useContext(ZA);return A.useInsertionEffect(()=>{const{width:s,height:o,top:c,left:u}=i.current;if(t||!n.current||!s||!o)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),l.jsx(Zhe,{isPresent:t,childRef:n,sizeRef:i,children:A.cloneElement(e,{ref:n})})}const epe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=JA(tpe),c=A.useId(),u=A.useCallback(h=>{o.set(h,!0);for(const m of o.values())if(!m)return;n&&n()},[o,n]),d=A.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:u,register:h=>(o.set(h,!1),()=>o.delete(h))}),a?[Math.random(),u]:[r,u]);return A.useMemo(()=>{o.forEach((h,m)=>o.set(m,!1))},[r]),A.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),s==="popLayout"&&(e=l.jsx(Qhe,{isPresent:r,children:e})),l.jsx(Ib.Provider,{value:d,children:e})};function tpe(){return new Map}function OB(e=!0){const t=A.useContext(Ib);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,a=A.useId();A.useEffect(()=>{e&&i(a)},[e]);const s=A.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,s]:[!0]}const mx=e=>e.key||"";function BD(e){const t=[];return A.Children.forEach(e,r=>{A.isValidElement(r)&&t.push(r)}),t}const QA=typeof window<"u",IB=QA?A.useLayoutEffect:A.useEffect,rpe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1})=>{const[o,c]=OB(s),u=A.useMemo(()=>BD(e),[e]),d=s&&!o?[]:u.map(mx),h=A.useRef(!0),m=A.useRef(u),g=JA(()=>new Map),[x,v]=A.useState(u),[y,w]=A.useState(u);IB(()=>{h.current=!1,m.current=u;for(let E=0;E<y.length;E++){const T=mx(y[E]);d.includes(T)?g.delete(T):g.get(T)!==!0&&g.set(T,!1)}},[y,d.length,d.join("-")]);const _=[];if(u!==x){let E=[...u];for(let T=0;T<y.length;T++){const D=y[T],C=mx(D);d.includes(C)||(E.splice(T,0,D),_.push(D))}a==="wait"&&_.length&&(E=_),w(BD(E)),v(u);return}const{forceRender:S}=A.useContext(XA);return l.jsx(l.Fragment,{children:y.map(E=>{const T=mx(E),D=s&&!o?!1:u===y||d.includes(T),C=()=>{if(g.has(T))g.set(T,!0);else return;let O=!0;g.forEach(R=>{R||(O=!1)}),O&&(S?.(),w(m.current),s&&c?.(),n&&n())};return l.jsx(epe,{isPresent:D,initial:!h.current||r?void 0:!1,custom:D?void 0:t,presenceAffectsLayout:i,mode:a,onExitComplete:D?void 0:C,children:E},T)})})},Yo=e=>e;let RB=Yo;function e4(e){let t;return()=>(t===void 0&&(t=e()),t)}const s0=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Uu=e=>e*1e3,$u=e=>e/1e3,npe={useManualTiming:!1};function ipe(e){let t=new Set,r=new Set,n=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(u){a.has(u)&&(c.schedule(u),e()),u(s)}const c={schedule:(u,d=!1,h=!1)=>{const g=h&&n?t:r;return d&&a.add(u),g.has(u)||g.add(u),u},cancel:u=>{r.delete(u),a.delete(u)},process:u=>{if(s=u,n){i=!0;return}n=!0,[t,r]=[r,t],t.forEach(o),t.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const gx=["read","resolveKeyframes","update","preRender","render","postRender"],ape=40;function LB(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,s=gx.reduce((w,_)=>(w[_]=ipe(a),w),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:m}=s,g=()=>{const w=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,ape),1),i.timestamp=w,i.isProcessing=!0,o.process(i),c.process(i),u.process(i),d.process(i),h.process(i),m.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(g))},x=()=>{r=!0,n=!0,i.isProcessing||e(g)};return{schedule:gx.reduce((w,_)=>{const S=s[_];return w[_]=(E,T=!1,D=!1)=>(r||x(),S.schedule(E,T,D)),w},{}),cancel:w=>{for(let _=0;_<gx.length;_++)s[gx[_]].cancel(w)},state:i,steps:s}}const{schedule:Yn,cancel:of,state:Ja,steps:O5}=LB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yo,!0),MB=A.createContext({strict:!1}),UD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},o0={};for(const e in UD)o0[e]={isEnabled:t=>UD[e].some(r=>!!t[r])};function spe(e){for(const t in e)o0[t]={...o0[t],...e[t]}}const ope=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function t1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ope.has(e)}let FB=e=>!t1(e);function lpe(e){e&&(FB=t=>t.startsWith("on")?!t1(t):e(t))}try{lpe(require("@emotion/is-prop-valid").default)}catch{}function cpe(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(FB(i)||r===!0&&t1(i)||!t&&!t1(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function upe(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Rb=A.createContext({});function dg(e){return typeof e=="string"||Array.isArray(e)}function Lb(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const t4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],r4=["initial",...t4];function Mb(e){return Lb(e.animate)||r4.some(t=>dg(e[t]))}function BB(e){return!!(Mb(e)||e.variants)}function dpe(e,t){if(Mb(e)){const{initial:r,animate:n}=e;return{initial:r===!1||dg(r)?r:void 0,animate:dg(n)?n:void 0}}return e.inherit!==!1?t:{}}function fpe(e){const{initial:t,animate:r}=dpe(e,A.useContext(Rb));return A.useMemo(()=>({initial:t,animate:r}),[$D(t),$D(r)])}function $D(e){return Array.isArray(e)?e.join(" "):e}const hpe=Symbol.for("motionComponentSymbol");function Ip(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ppe(e,t,r){return A.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ip(r)&&(r.current=n))},[t])}const n4=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mpe="framerAppearId",UB="data-"+n4(mpe),{schedule:i4}=LB(queueMicrotask,!1),$B=A.createContext({});function gpe(e,t,r,n,i){var a,s;const{visualElement:o}=A.useContext(Rb),c=A.useContext(MB),u=A.useContext(Ib),d=A.useContext(ZA).reducedMotion,h=A.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,g=A.useContext($B);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&vpe(h.current,r,i,g);const x=A.useRef(!1);A.useInsertionEffect(()=>{m&&x.current&&m.update(r,u)});const v=r[UB],y=A.useRef(!!v&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,v))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,v)));return IB(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),i4.render(m.render),y.current&&m.animationState&&m.animationState.animateChanges())}),A.useEffect(()=>{m&&(!y.current&&m.animationState&&m.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,v)}),y.current=!1))}),m}function vpe(e,t,r,n){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:zB(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&Ip(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function zB(e){if(e)return e.options.allowProjection!==!1?e.projection:zB(e.parent)}function xpe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){var a,s;e&&spe(e);function o(u,d){let h;const m={...A.useContext(ZA),...u,layoutId:ype(u)},{isStatic:g}=m,x=fpe(u),v=n(u,g);if(!g&&QA){bpe();const y=wpe(m);h=y.MeasureLayout,x.visualElement=gpe(i,v,m,t,y.ProjectionNode)}return l.jsxs(Rb.Provider,{value:x,children:[h&&x.visualElement?l.jsx(h,{visualElement:x.visualElement,...m}):null,r(i,u,ppe(v,x.visualElement,d),v,g,x.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const c=A.forwardRef(o);return c[hpe]=i,c}function ype({layoutId:e}){const t=A.useContext(XA).id;return t&&e!==void 0?t+"-"+e:e}function bpe(e,t){A.useContext(MB).strict}function wpe(e){const{drag:t,layout:r}=o0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Spe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function a4(e){return typeof e!="string"||e.includes("-")?!1:!!(Spe.indexOf(e)>-1||/[A-Z]/u.test(e))}function zD(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function s4(e,t,r,n){if(typeof t=="function"){const[i,a]=zD(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=zD(n);t=t(r!==void 0?r:e.custom,i,a)}return t}const mN=e=>Array.isArray(e),_pe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Npe=e=>mN(e)?e[e.length-1]||0:e,Es=e=>!!(e&&e.getVelocity);function Vx(e){const t=Es(e)?e.get():e;return _pe(t)?t.toValue():t}function jpe({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,i,a){const s={latestValues:Ape(n,i,a,e),renderState:t()};return r&&(s.onMount=o=>r({props:n,current:o,...s}),s.onUpdate=o=>r(o)),s}const WB=e=>(t,r)=>{const n=A.useContext(Rb),i=A.useContext(Ib),a=()=>jpe(e,t,n,i);return r?a():JA(a)};function Ape(e,t,r,n){const i={},a=n(e,{});for(const m in a)i[m]=Vx(a[m]);let{initial:s,animate:o}=e;const c=Mb(e),u=BB(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||s===!1;const h=d?o:s;if(h&&typeof h!="boolean"&&!Lb(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const x=s4(e,m[g]);if(x){const{transitionEnd:v,transition:y,...w}=x;for(const _ in w){let S=w[_];if(Array.isArray(S)){const E=d?S.length-1:0;S=S[E]}S!==null&&(i[_]=S)}for(const _ in v)i[_]=v[_]}}}return i}const N0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dh=new Set(N0),qB=e=>t=>typeof t=="string"&&t.startsWith(e),HB=qB("--"),Epe=qB("var(--"),o4=e=>Epe(e)?Ppe.test(e.split("/*")[0].trim()):!1,Ppe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,VB=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Qu=(e,t,r)=>r>t?t:r<e?e:r,j0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fg={...j0,transform:e=>Qu(0,1,e)},vx={...j0,default:1},ev=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$d=ev("deg"),Jc=ev("%"),Sr=ev("px"),Tpe=ev("vh"),kpe=ev("vw"),WD={...Jc,parse:e=>Jc.parse(e)/100,transform:e=>Jc.transform(e*100)},Cpe={borderWidth:Sr,borderTopWidth:Sr,borderRightWidth:Sr,borderBottomWidth:Sr,borderLeftWidth:Sr,borderRadius:Sr,radius:Sr,borderTopLeftRadius:Sr,borderTopRightRadius:Sr,borderBottomRightRadius:Sr,borderBottomLeftRadius:Sr,width:Sr,maxWidth:Sr,height:Sr,maxHeight:Sr,top:Sr,right:Sr,bottom:Sr,left:Sr,padding:Sr,paddingTop:Sr,paddingRight:Sr,paddingBottom:Sr,paddingLeft:Sr,margin:Sr,marginTop:Sr,marginRight:Sr,marginBottom:Sr,marginLeft:Sr,backgroundPositionX:Sr,backgroundPositionY:Sr},Dpe={rotate:$d,rotateX:$d,rotateY:$d,rotateZ:$d,scale:vx,scaleX:vx,scaleY:vx,scaleZ:vx,skew:$d,skewX:$d,skewY:$d,distance:Sr,translateX:Sr,translateY:Sr,translateZ:Sr,x:Sr,y:Sr,z:Sr,perspective:Sr,transformPerspective:Sr,opacity:fg,originX:WD,originY:WD,originZ:Sr},qD={...j0,transform:Math.round},l4={...Cpe,...Dpe,zIndex:qD,size:Sr,fillOpacity:fg,strokeOpacity:fg,numOctaves:qD},Ope={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ipe=N0.length;function Rpe(e,t,r){let n="",i=!0;for(let a=0;a<Ipe;a++){const s=N0[a],o=e[s];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(s.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const u=VB(o,l4[s]);if(!c){i=!1;const d=Ope[s]||s;n+=`${d}(${u}) `}r&&(t[s]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function c4(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const c in t){const u=t[c];if(Dh.has(c)){s=!0;continue}else if(HB(c)){i[c]=u;continue}else{const d=VB(u,l4[c]);c.startsWith("origin")?(o=!0,a[c]=d):n[c]=d}}if(t.transform||(s||r?n.transform=Rpe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}const Lpe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mpe={offset:"strokeDashoffset",array:"strokeDasharray"};function Fpe(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?Lpe:Mpe;e[a.offset]=Sr.transform(-n);const s=Sr.transform(t),o=Sr.transform(r);e[a.array]=`${s} ${o}`}function HD(e,t,r){return typeof e=="string"?e:Sr.transform(t+r*e)}function Bpe(e,t,r){const n=HD(t,e.x,e.width),i=HD(r,e.y,e.height);return`${n} ${i}`}function u4(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...u},d,h){if(c4(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:x}=e;m.transform&&(x&&(g.transform=m.transform),delete m.transform),x&&(i!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=Bpe(x,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),s!==void 0&&Fpe(m,s,o,c,!1)}const d4=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),KB=()=>({...d4(),attrs:{}}),f4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function GB(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const YB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XB(e,t,r,n){GB(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(YB.has(i)?i:n4(i),t.attrs[i])}const r1={};function Upe(e){Object.assign(r1,e)}function JB(e,{layout:t,layoutId:r}){return Dh.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!r1[e]||e==="opacity")}function h4(e,t,r){var n;const{style:i}=e,a={};for(const s in i)(Es(i[s])||t.style&&Es(t.style[s])||JB(s,e)||((n=r?.getValue(s))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function ZB(e,t,r){const n=h4(e,t,r);for(const i in e)if(Es(e[i])||Es(t[i])){const a=N0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}function $pe(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const VD=["x","y","width","height","cx","cy","r"],zpe={useVisualState:WB({scrapeMotionValuesFromProps:ZB,createRenderState:KB,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:i})=>{if(!r)return;let a=!!e.drag;if(!a){for(const o in i)if(Dh.has(o)){a=!0;break}}if(!a)return;let s=!t;if(t)for(let o=0;o<VD.length;o++){const c=VD[o];e[c]!==t[c]&&(s=!0)}s&&Yn.read(()=>{$pe(r,n),Yn.render(()=>{u4(n,i,f4(r.tagName),e.transformTemplate),XB(r,n)})})}})},Wpe={useVisualState:WB({scrapeMotionValuesFromProps:h4,createRenderState:d4})};function QB(e,t,r){for(const n in t)!Es(t[n])&&!JB(n,r)&&(e[n]=t[n])}function qpe({transformTemplate:e},t){return A.useMemo(()=>{const r=d4();return c4(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Hpe(e,t){const r=e.style||{},n={};return QB(n,r,e),Object.assign(n,qpe(e,t)),n}function Vpe(e,t){const r={},n=Hpe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function Kpe(e,t,r,n){const i=A.useMemo(()=>{const a=KB();return u4(a,t,f4(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};QB(a,e.style,e),i.style={...a,...i.style}}return i}function Gpe(e=!1){return(r,n,i,{latestValues:a},s)=>{const c=(a4(r)?Kpe:Vpe)(n,a,s,r),u=cpe(n,typeof r=="string",e),d=r!==A.Fragment?{...u,...c,ref:i}:{},{children:h}=n,m=A.useMemo(()=>Es(h)?h.get():h,[h]);return A.createElement(r,{...d,children:m})}}function Ype(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...a4(n)?zpe:Wpe,preloadedFeatures:e,useRender:Gpe(i),createVisualElement:t,Component:n};return xpe(s)}}function e9(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Fb(e,t,r){const n=e.getProps();return s4(n,t,r!==void 0?r:n.custom,e)}const Xpe=e4(()=>window.ScrollTimeline!==void 0);class Jpe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>{if(Xpe()&&i.attachTimeline)return i.attachTimeline(t);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Zpe extends Jpe{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function p4(e,t){return e?e[t]||e.default||e:void 0}const gN=2e4;function t9(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<gN;)t+=r,n=e.next(t);return t>=gN?1/0:t}function m4(e){return typeof e=="function"}function KD(e,t){e.timeline=t,e.onfinish=null}const g4=e=>Array.isArray(e)&&typeof e[0]=="number",Qpe={linearEasing:void 0};function e0e(e,t){const r=e4(e);return()=>{var n;return(n=Qpe[t])!==null&&n!==void 0?n:r()}}const n1=e0e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),r9=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=e(s0(0,i-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function n9(e){return!!(typeof e=="function"&&n1()||!e||typeof e=="string"&&(e in vN||n1())||g4(e)||Array.isArray(e)&&e.every(n9))}const xm=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,vN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xm([0,.65,.55,1]),circOut:xm([.55,0,1,.45]),backIn:xm([.31,.01,.66,-.59]),backOut:xm([.33,1.53,.69,.99])};function i9(e,t){if(e)return typeof e=="function"&&n1()?r9(e,t):g4(e)?xm(e):Array.isArray(e)?e.map(r=>i9(r,t)||vN.easeOut):vN[e]}const lc={x:!1,y:!1};function a9(){return lc.x||lc.y}function t0e(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function s9(e,t){const r=t0e(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function GD(e){return t=>{t.pointerType==="touch"||a9()||e(t)}}function r0e(e,t,r={}){const[n,i,a]=s9(e,r),s=GD(o=>{const{target:c}=o,u=t(o);if(typeof u!="function"||!c)return;const d=GD(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return n.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const o9=(e,t)=>t?e===t?!0:o9(e,t.parentElement):!1,v4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,n0e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function i0e(e){return n0e.has(e.tagName)||e.tabIndex!==-1}const ym=new WeakSet;function YD(e){return t=>{t.key==="Enter"&&e(t)}}function I5(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const a0e=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=YD(()=>{if(ym.has(r))return;I5(r,"down");const i=YD(()=>{I5(r,"up")}),a=()=>I5(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function XD(e){return v4(e)&&!a9()}function s0e(e,t,r={}){const[n,i,a]=s9(e,r),s=o=>{const c=o.currentTarget;if(!XD(o)||ym.has(c))return;ym.add(c);const u=t(o),d=(g,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!XD(g)||!ym.has(c))&&(ym.delete(c),typeof u=="function"&&u(g,{success:x}))},h=g=>{d(g,r.useGlobalTarget||o9(c,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return n.forEach(o=>{!i0e(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",u=>a0e(u,i),i)}),a}function o0e(e){return e==="x"||e==="y"?lc[e]?null:(lc[e]=!0,()=>{lc[e]=!1}):lc.x||lc.y?null:(lc.x=lc.y=!0,()=>{lc.x=lc.y=!1})}const l9=new Set(["width","height","top","left","right","bottom",...N0]);let Kx;function l0e(){Kx=void 0}const Zc={now:()=>(Kx===void 0&&Zc.set(Ja.isProcessing||npe.useManualTiming?Ja.timestamp:performance.now()),Kx),set:e=>{Kx=e,queueMicrotask(l0e)}};function x4(e,t){e.indexOf(t)===-1&&e.push(t)}function y4(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class b4{constructor(){this.subscriptions=[]}add(t){return x4(this.subscriptions,t),()=>y4(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function c9(e,t){return t?e*(1e3/t):0}const JD=30,c0e=e=>!isNaN(parseFloat(e));class u0e{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const a=Zc.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Zc.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=c0e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new b4);const n=this.events[t].add(r);return t==="change"?()=>{n(),Yn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Zc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>JD)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,JD);return c9(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hg(e,t){return new u0e(e,t)}function d0e(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,hg(r))}function f0e(e,t){const r=Fb(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const s in a){const o=Npe(a[s]);d0e(e,s,o)}}function h0e(e){return!!(Es(e)&&e.add)}function xN(e,t){const r=e.getValue("willChange");if(h0e(r))return r.add(t)}function u9(e){return e.props[UB]}const d9=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,p0e=1e-7,m0e=12;function g0e(e,t,r,n,i){let a,s,o=0;do s=t+(r-t)/2,a=d9(s,n,i)-e,a>0?r=s:t=s;while(Math.abs(a)>p0e&&++o<m0e);return s}function tv(e,t,r,n){if(e===t&&r===n)return Yo;const i=a=>g0e(a,0,1,e,r);return a=>a===0||a===1?a:d9(i(a),t,n)}const f9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,h9=e=>t=>1-e(1-t),p9=tv(.33,1.53,.69,.99),w4=h9(p9),m9=f9(w4),g9=e=>(e*=2)<1?.5*w4(e):.5*(2-Math.pow(2,-10*(e-1))),S4=e=>1-Math.sin(Math.acos(e)),v9=h9(S4),x9=f9(S4),y9=e=>/^0[^.\s]+$/u.test(e);function v0e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||y9(e):!0}const Em=e=>Math.round(e*1e5)/1e5,_4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function x0e(e){return e==null}const y0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,N4=(e,t)=>r=>!!(typeof r=="string"&&y0e.test(r)&&r.startsWith(e)||t&&!x0e(r)&&Object.prototype.hasOwnProperty.call(r,t)),b9=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,s,o]=n.match(_4);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},b0e=e=>Qu(0,255,e),R5={...j0,transform:e=>Math.round(b0e(e))},ih={test:N4("rgb","red"),parse:b9("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+R5.transform(e)+", "+R5.transform(t)+", "+R5.transform(r)+", "+Em(fg.transform(n))+")"};function w0e(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const yN={test:N4("#"),parse:w0e,transform:ih.transform},Rp={test:N4("hsl","hue"),parse:b9("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Jc.transform(Em(t))+", "+Jc.transform(Em(r))+", "+Em(fg.transform(n))+")"},js={test:e=>ih.test(e)||yN.test(e)||Rp.test(e),parse:e=>ih.test(e)?ih.parse(e):Rp.test(e)?Rp.parse(e):yN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ih.transform(e):Rp.transform(e)},S0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _0e(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_4))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(S0e))===null||r===void 0?void 0:r.length)||0)>0}const w9="number",S9="color",N0e="var",j0e="var(",ZD="${}",A0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(A0e,c=>(js.test(c)?(n.color.push(a),i.push(S9),r.push(js.parse(c))):c.startsWith(j0e)?(n.var.push(a),i.push(N0e),r.push(c)):(n.number.push(a),i.push(w9),r.push(parseFloat(c))),++a,ZD)).split(ZD);return{values:r,split:o,indexes:n,types:i}}function _9(e){return pg(e).values}function N9(e){const{split:t,types:r}=pg(e),n=t.length;return i=>{let a="";for(let s=0;s<n;s++)if(a+=t[s],i[s]!==void 0){const o=r[s];o===w9?a+=Em(i[s]):o===S9?a+=js.transform(i[s]):a+=i[s]}return a}}const E0e=e=>typeof e=="number"?0:e;function P0e(e){const t=_9(e);return N9(e)(t.map(E0e))}const lf={test:_0e,parse:_9,createTransformer:N9,getAnimatableNone:P0e},T0e=new Set(["brightness","contrast","saturate","opacity"]);function k0e(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(_4)||[];if(!n)return e;const i=r.replace(n,"");let a=T0e.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const C0e=/\b([a-z-]*)\(.*?\)/gu,bN={...lf,getAnimatableNone:e=>{const t=e.match(C0e);return t?t.map(k0e).join(" "):e}},D0e={...l4,color:js,backgroundColor:js,outlineColor:js,fill:js,stroke:js,borderColor:js,borderTopColor:js,borderRightColor:js,borderBottomColor:js,borderLeftColor:js,filter:bN,WebkitFilter:bN},j4=e=>D0e[e];function j9(e,t){let r=j4(e);return r!==bN&&(r=lf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const O0e=new Set(["auto","none","0"]);function I0e(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!O0e.has(a)&&pg(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=j9(r,i)}const QD=e=>e===j0||e===Sr,e6=(e,t)=>parseFloat(e.split(", ")[t]),t6=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return e6(i[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?e6(a[1],e):0}},R0e=new Set(["x","y","z"]),L0e=N0.filter(e=>!R0e.has(e));function M0e(e){const t=[];return L0e.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const l0={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:t6(4,13),y:t6(5,14)};l0.translateX=l0.x;l0.translateY=l0.y;const uh=new Set;let wN=!1,SN=!1;function A9(){if(SN){const e=Array.from(uh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=M0e(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,s])=>{var o;(o=n.getValue(a))===null||o===void 0||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}SN=!1,wN=!1,uh.forEach(e=>e.complete()),uh.clear()}function E9(){uh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(SN=!0)})}function F0e(){E9(),A9()}class A4{constructor(t,r,n,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(uh.add(this),wN||(wN=!0,Yn.read(E9),Yn.resolveKeyframes(A9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const s=i?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const c=n.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),uh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,uh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const P9=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),B0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function U0e(e){const t=B0e.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function T9(e,t,r=1){const[n,i]=U0e(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const s=a.trim();return P9(s)?parseFloat(s):s}return o4(i)?T9(i,t,r+1):i}const k9=e=>t=>t.test(e),$0e={test:e=>e==="auto",parse:e=>e},C9=[j0,Sr,Jc,$d,kpe,Tpe,$0e],r6=e=>C9.find(k9(e));class D9 extends A4{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),o4(u))){const d=T9(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!l9.has(n)||t.length!==2)return;const[i,a]=t,s=r6(i),o=r6(a);if(s!==o)if(QD(s)&&QD(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)v0e(t[i])&&n.push(i);n.length&&I0e(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=l0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=l0[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const n6=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(lf.test(e)||e==="0")&&!e.startsWith("url("));function z0e(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function W0e(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=n6(i,t),o=n6(a,t);return!s||!o?!1:z0e(e)||(r==="spring"||m4(r))&&n}const q0e=e=>e!==null;function Bb(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(q0e),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const H0e=40;class O9{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Zc.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>H0e?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&F0e(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Zc.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:a,delay:s,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!W0e(t,n,i,a))if(s)this.options.duration=0;else{c&&c(Bb(t,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const xi=(e,t,r)=>e+(t-e)*r;function L5(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function V0e({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,s=0;if(!t)i=a=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;i=L5(c,o,e+1/3),a=L5(c,o,e),s=L5(c,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:n}}function i1(e,t){return r=>r>0?t:e}const M5=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},K0e=[yN,ih,Rp],G0e=e=>K0e.find(t=>t.test(e));function i6(e){const t=G0e(e);if(!t)return!1;let r=t.parse(e);return t===Rp&&(r=V0e(r)),r}const a6=(e,t)=>{const r=i6(e),n=i6(t);if(!r||!n)return i1(e,t);const i={...r};return a=>(i.red=M5(r.red,n.red,a),i.green=M5(r.green,n.green,a),i.blue=M5(r.blue,n.blue,a),i.alpha=xi(r.alpha,n.alpha,a),ih.transform(i))},Y0e=(e,t)=>r=>t(e(r)),rv=(...e)=>e.reduce(Y0e),_N=new Set(["none","hidden"]);function X0e(e,t){return _N.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function J0e(e,t){return r=>xi(e,t,r)}function E4(e){return typeof e=="number"?J0e:typeof e=="string"?o4(e)?i1:js.test(e)?a6:eme:Array.isArray(e)?I9:typeof e=="object"?js.test(e)?a6:Z0e:i1}function I9(e,t){const r=[...e],n=r.length,i=e.map((a,s)=>E4(a)(a,t[s]));return a=>{for(let s=0;s<n;s++)r[s]=i[s](a);return r}}function Z0e(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=E4(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function Q0e(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],o=e.indexes[s][i[s]],c=(r=e.values[o])!==null&&r!==void 0?r:0;n[a]=c,i[s]++}return n}const eme=(e,t)=>{const r=lf.createTransformer(t),n=pg(e),i=pg(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?_N.has(e)&&!i.values.length||_N.has(t)&&!n.values.length?X0e(e,t):rv(I9(Q0e(n,i),i.values),r):i1(e,t)};function R9(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?xi(e,t,r):E4(e)(e,t)}const tme=5;function L9(e,t,r){const n=Math.max(t-tme,0);return c9(r-e(n),t-n)}const Di={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},F5=.001;function rme({duration:e=Di.duration,bounce:t=Di.bounce,velocity:r=Di.velocity,mass:n=Di.mass}){let i,a,s=1-t;s=Qu(Di.minDamping,Di.maxDamping,s),e=Qu(Di.minDuration,Di.maxDuration,$u(e)),s<1?(i=u=>{const d=u*s,h=d*e,m=d-r,g=NN(u,s),x=Math.exp(-h);return F5-m/g*x},a=u=>{const h=u*s*e,m=h*r+r,g=Math.pow(s,2)*Math.pow(u,2)*e,x=Math.exp(-h),v=NN(Math.pow(u,2),s);return(-i(u)+F5>0?-1:1)*((m-g)*x)/v}):(i=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-F5+d*h},a=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const o=5/e,c=ime(i,a,o);if(e=Uu(e),isNaN(c))return{stiffness:Di.stiffness,damping:Di.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:e}}}const nme=12;function ime(e,t,r){let n=r;for(let i=1;i<nme;i++)n=n-e(n)/t(n);return n}function NN(e,t){return e*Math.sqrt(1-t*t)}const ame=["duration","bounce"],sme=["stiffness","damping","mass"];function s6(e,t){return t.some(r=>e[r]!==void 0)}function ome(e){let t={velocity:Di.velocity,stiffness:Di.stiffness,damping:Di.damping,mass:Di.mass,isResolvedFromDuration:!1,...e};if(!s6(e,sme)&&s6(e,ame))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*Qu(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Di.mass,stiffness:i,damping:a}}else{const r=rme(e);t={...t,...r,mass:Di.mass},t.isResolvedFromDuration=!0}return t}function M9(e=Di.visualDuration,t=Di.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:g}=ome({...r,velocity:-$u(r.velocity||0)}),x=m||0,v=u/(2*Math.sqrt(c*d)),y=s-a,w=$u(Math.sqrt(c/d)),_=Math.abs(y)<5;n||(n=_?Di.restSpeed.granular:Di.restSpeed.default),i||(i=_?Di.restDelta.granular:Di.restDelta.default);let S;if(v<1){const T=NN(w,v);S=D=>{const C=Math.exp(-v*w*D);return s-C*((x+v*w*y)/T*Math.sin(T*D)+y*Math.cos(T*D))}}else if(v===1)S=T=>s-Math.exp(-w*T)*(y+(x+w*y)*T);else{const T=w*Math.sqrt(v*v-1);S=D=>{const C=Math.exp(-v*w*D),O=Math.min(T*D,300);return s-C*((x+v*w*y)*Math.sinh(O)+T*y*Math.cosh(O))/T}}const E={calculatedDuration:g&&h||null,next:T=>{const D=S(T);if(g)o.done=T>=h;else{let C=0;v<1&&(C=T===0?Uu(x):L9(S,T,D));const O=Math.abs(C)<=n,R=Math.abs(s-D)<=i;o.done=O&&R}return o.value=o.done?s:D,o},toString:()=>{const T=Math.min(t9(E),gN),D=r9(C=>E.next(T*C).value,T,30);return T+"ms "+D}};return E}function o6({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},g=O=>o!==void 0&&O<o||c!==void 0&&O>c,x=O=>o===void 0?c:c===void 0||Math.abs(o-O)<Math.abs(c-O)?o:c;let v=r*t;const y=h+v,w=s===void 0?y:s(y);w!==y&&(v=w-h);const _=O=>-v*Math.exp(-O/n),S=O=>w+_(O),E=O=>{const R=_(O),H=S(O);m.done=Math.abs(R)<=u,m.value=m.done?w:H};let T,D;const C=O=>{g(m.value)&&(T=O,D=M9({keyframes:[m.value,x(m.value)],velocity:L9(S,O,m.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:O=>{let R=!1;return!D&&T===void 0&&(R=!0,E(O),C(O)),T!==void 0&&O>=T?D.next(O-T):(!R&&E(O),m)}}}const lme=tv(.42,0,1,1),cme=tv(0,0,.58,1),F9=tv(.42,0,.58,1),ume=e=>Array.isArray(e)&&typeof e[0]!="number",dme={linear:Yo,easeIn:lme,easeInOut:F9,easeOut:cme,circIn:S4,circInOut:x9,circOut:v9,backIn:w4,backInOut:m9,backOut:p9,anticipate:g9},l6=e=>{if(g4(e)){RB(e.length===4);const[t,r,n,i]=e;return tv(t,r,n,i)}else if(typeof e=="string")return dme[e];return e};function fme(e,t,r){const n=[],i=r||R9,a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Yo:t;o=rv(c,o)}n.push(o)}return n}function hme(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(RB(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=fme(t,n,i),c=o.length,u=d=>{if(s&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const m=s0(e[h],e[h+1],d);return o[h](m)};return r?d=>u(Qu(e[0],e[a-1],d)):u}function pme(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=s0(0,t,n);e.push(xi(r,1,i))}}function mme(e){const t=[0];return pme(t,e.length-1),t}function gme(e,t){return e.map(r=>r*t)}function vme(e,t){return e.map(()=>t||F9).splice(0,e.length-1)}function a1({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=ume(n)?n.map(l6):l6(n),a={done:!1,value:t[0]},s=gme(r&&r.length===t.length?r:mme(t),e),o=hme(s,t,{ease:Array.isArray(i)?i:vme(t,i)});return{calculatedDuration:e,next:c=>(a.value=o(c),a.done=c>=e,a)}}const xme=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Yn.update(t,!0),stop:()=>of(t),now:()=>Ja.isProcessing?Ja.timestamp:Zc.now()}},yme={decay:o6,inertia:o6,tween:a1,keyframes:a1,spring:M9},bme=e=>e/100;class P4 extends O9{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:a}=this.options,s=i?.KeyframeResolver||A4,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new s(a,o,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=m4(r)?r:yme[r]||a1;let c,u;o!==a1&&typeof t[0]!="number"&&(c=rv(bme,R9(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});a==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=t9(d));const{calculatedDuration:h}=d,m=h+i,g=m*(n+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:O}=this.options;return{done:!0,value:O[O.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return a.next(0);const{delay:m,repeat:g,repeatType:x,repeatDelay:v,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-m*(this.speed>=0?1:-1),_=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,E=a;if(g){const O=Math.min(this.currentTime,d)/h;let R=Math.floor(O),H=O%1;!H&&O>=1&&(H=1),H===1&&R--,R=Math.min(R,g+1),R%2&&(x==="reverse"?(H=1-H,v&&(H-=v/h)):x==="mirror"&&(E=s)),S=Qu(0,1,H)*h}const T=_?{done:!1,value:c[0]}:E.next(S);o&&(T.value=o(T.value));let{done:D}=T;!_&&u!==null&&(D=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return C&&i!==void 0&&(T.value=Bb(c,this.options,i)),y&&y(T.value),C&&this.finish(),T}get duration(){const{resolved:t}=this;return t?$u(t.calculatedDuration):0}get time(){return $u(this.currentTime)}set time(t){t=Uu(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=$u(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=xme,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const wme=new Set(["opacity","clipPath","filter","transform"]);function Sme(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=i9(o,i);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const _me=e4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),s1=10,Nme=2e4;function jme(e){return m4(e.type)||e.type==="spring"||!n9(e.ease)}function Ame(e,t){const r=new P4({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let a=0;for(;!n.done&&a<Nme;)n=r.sample(a),i.push(n.value),a+=s1;return{times:void 0,keyframes:i,duration:a-s1,ease:"linear"}}const B9={anticipate:g9,backInOut:m9,circInOut:x9};function Eme(e){return e in B9}class c6 extends O9{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:a}=this.options;this.resolver=new D9(a,(s,o)=>this.onKeyframesResolved(s,o),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:i,ease:a,type:s,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&n1()&&Eme(a)&&(a=B9[a]),jme(this.options)){const{onComplete:h,onUpdate:m,motionValue:g,element:x,...v}=this.options,y=Ame(t,v);t=y.keyframes,t.length===1&&(t[1]=t[0]),n=y.duration,i=y.times,a=y.ease,s="keyframes"}const d=Sme(o.owner.current,c,t,{...this.options,duration:n,times:i,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(KD(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(Bb(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:s,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return $u(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return $u(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Uu(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Yo;const{animation:n}=r;KD(n,t)}return Yo}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:a,ease:s,times:o}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:m,...g}=this.options,x=new P4({...g,keyframes:n,duration:i,type:a,ease:s,times:o,isGenerator:!0}),v=Uu(this.time);u.setWithVelocity(x.sample(v-s1).value,x.sample(v).value,s1)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:a,damping:s,type:o}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return _me()&&n&&wme.has(n)&&!c&&!u&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const Pme={type:"spring",stiffness:500,damping:25,restSpeed:10},Tme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),kme={type:"keyframes",duration:.8},Cme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dme=(e,{keyframes:t})=>t.length>2?kme:Dh.has(e)?e.startsWith("scale")?Tme(t[1]):Pme:Cme;function Ome({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const T4=(e,t,r,n={},i,a)=>s=>{const o=p4(n,e)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Uu(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};Ome(o)||(d={...d,...Dme(e,d)}),d.duration&&(d.duration=Uu(d.duration)),d.repeatDelay&&(d.repeatDelay=Uu(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const m=Bb(d.keyframes,o);if(m!==void 0)return Yn.update(()=>{d.onUpdate(m),d.onComplete()}),new Zpe([])}return!a&&c6.supports(d)?new c6(d):new P4(d)};function Ime({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function U9(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var a;let{transition:s=e.getDefaultTransition(),transitionEnd:o,...c}=t;n&&(s=n);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in c){const m=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),g=c[h];if(g===void 0||d&&Ime(d,h))continue;const x={delay:r,...p4(s||{},h)};let v=!1;if(window.MotionHandoffAnimation){const w=u9(e);if(w){const _=window.MotionHandoffAnimation(w,h,Yn);_!==null&&(x.startTime=_,v=!0)}}xN(e,h),m.start(T4(h,m,g,e.shouldReduceMotion&&l9.has(h)?{type:!1}:x,e,v));const y=m.animation;y&&u.push(y)}return o&&Promise.all(u).then(()=>{Yn.update(()=>{o&&f0e(e,o)})}),u}function jN(e,t,r={}){var n;const i=Fb(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const s=i?()=>Promise.all(U9(e,i,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=a;return Rme(e,t,d+u,h,m,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(r.delay)])}function Rme(e,t,r=0,n=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(e.variantChildren).sort(Lme).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(jN(u,t,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function Lme(e,t){return e.sortNodePosition(t)}function Mme(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>jN(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=jN(e,t,r);else{const i=typeof t=="function"?Fb(e,t,r.custom):t;n=Promise.all(U9(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Fme=r4.length;function $9(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?$9(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Fme;r++){const n=r4[r],i=e.props[n];(dg(i)||i===!1)&&(t[n]=i)}return t}const Bme=[...t4].reverse(),Ume=t4.length;function $me(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Mme(e,r,n)))}function zme(e){let t=$me(e),r=u6(),n=!0;const i=c=>(u,d)=>{var h;const m=Fb(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:g,transitionEnd:x,...v}=m;u={...u,...v,...x}}return u};function a(c){t=c(e)}function s(c){const{props:u}=e,d=$9(e.parent)||{},h=[],m=new Set;let g={},x=1/0;for(let y=0;y<Ume;y++){const w=Bme[y],_=r[w],S=u[w]!==void 0?u[w]:d[w],E=dg(S),T=w===c?_.isActive:null;T===!1&&(x=y);let D=S===d[w]&&S!==u[w]&&E;if(D&&n&&e.manuallyAnimateOnMount&&(D=!1),_.protectedKeys={...g},!_.isActive&&T===null||!S&&!_.prevProp||Lb(S)||typeof S=="boolean")continue;const C=Wme(_.prevProp,S);let O=C||w===c&&_.isActive&&!D&&E||y>x&&E,R=!1;const H=Array.isArray(S)?S:[S];let F=H.reduce(i(w),{});T===!1&&(F={});const{prevResolvedValues:U={}}=_,M={...U,...F},q=he=>{O=!0,m.has(he)&&(R=!0,m.delete(he)),_.needsAnimating[he]=!0;const ce=e.getValue(he);ce&&(ce.liveStyle=!1)};for(const he in M){const ce=F[he],be=U[he];if(g.hasOwnProperty(he))continue;let Oe=!1;mN(ce)&&mN(be)?Oe=!e9(ce,be):Oe=ce!==be,Oe?ce!=null?q(he):m.add(he):ce!==void 0&&m.has(he)?q(he):_.protectedKeys[he]=!0}_.prevProp=S,_.prevResolvedValues=F,_.isActive&&(g={...g,...F}),n&&e.blockInitialAnimation&&(O=!1),O&&(!(D&&C)||R)&&h.push(...H.map(he=>({animation:he,options:{type:w}})))}if(m.size){const y={};m.forEach(w=>{const _=e.getBaseTarget(w),S=e.getValue(w);S&&(S.liveStyle=!0),y[w]=_??null}),h.push({animation:y})}let v=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(h):Promise.resolve()}function o(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const h=s(c);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>r,reset:()=>{r=u6(),n=!0}}}function Wme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!e9(t,e):!1}function Uf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function u6(){return{animate:Uf(!0),whileInView:Uf(),whileHover:Uf(),whileTap:Uf(),whileDrag:Uf(),whileFocus:Uf(),exit:Uf()}}class gf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class qme extends gf{constructor(t){super(t),t.animationState||(t.animationState=zme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Lb(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Hme=0;class Vme extends gf{constructor(){super(...arguments),this.id=Hme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Kme={animation:{Feature:qme},exit:{Feature:Vme}};function mg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function nv(e){return{point:{x:e.pageX,y:e.pageY}}}const Gme=e=>t=>v4(t)&&e(t,nv(t));function Pm(e,t,r,n){return mg(e,t,Gme(r),n)}const d6=(e,t)=>Math.abs(e-t);function Yme(e,t){const r=d6(e.x,t.x),n=d6(e.y,t.y);return Math.sqrt(r**2+n**2)}class z9{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=U5(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=Yme(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:x}=h,{timestamp:v}=Ja;this.history.push({...x,timestamp:v});const{onStart:y,onMove:w}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=B5(m,this.transformPagePoint),Yn.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=U5(h.type==="pointercancel"?this.lastMoveEventInfo:B5(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,y),x&&x(h,y)},!v4(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const s=nv(t),o=B5(s,this.transformPagePoint),{point:c}=o,{timestamp:u}=Ja;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,U5(o,this.history)),this.removeListeners=rv(Pm(this.contextWindow,"pointermove",this.handlePointerMove),Pm(this.contextWindow,"pointerup",this.handlePointerUp),Pm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),of(this.updatePoint)}}function B5(e,t){return t?{point:t(e.point)}:e}function f6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function U5({point:e},t){return{point:e,delta:f6(e,W9(t)),offset:f6(e,Xme(t)),velocity:Jme(t,.1)}}function Xme(e){return e[0]}function W9(e){return e[e.length-1]}function Jme(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=W9(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Uu(t)));)r--;if(!n)return{x:0,y:0};const a=$u(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const q9=1e-4,Zme=1-q9,Qme=1+q9,H9=.01,ege=0-H9,tge=0+H9;function Jo(e){return e.max-e.min}function rge(e,t,r){return Math.abs(e-t)<=r}function h6(e,t,r,n=.5){e.origin=n,e.originPoint=xi(t.min,t.max,e.origin),e.scale=Jo(r)/Jo(t),e.translate=xi(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Zme&&e.scale<=Qme||isNaN(e.scale))&&(e.scale=1),(e.translate>=ege&&e.translate<=tge||isNaN(e.translate))&&(e.translate=0)}function Tm(e,t,r,n){h6(e.x,t.x,r.x,n?n.originX:void 0),h6(e.y,t.y,r.y,n?n.originY:void 0)}function p6(e,t,r){e.min=r.min+t.min,e.max=e.min+Jo(t)}function nge(e,t,r){p6(e.x,t.x,r.x),p6(e.y,t.y,r.y)}function m6(e,t,r){e.min=t.min-r.min,e.max=e.min+Jo(t)}function km(e,t,r){m6(e.x,t.x,r.x),m6(e.y,t.y,r.y)}function ige(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?xi(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?xi(r,e,n.max):Math.min(e,r)),e}function g6(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function age(e,{top:t,left:r,bottom:n,right:i}){return{x:g6(e.x,r,i),y:g6(e.y,t,n)}}function v6(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function sge(e,t){return{x:v6(e.x,t.x),y:v6(e.y,t.y)}}function oge(e,t){let r=.5;const n=Jo(e),i=Jo(t);return i>n?r=s0(t.min,t.max-n,e.min):n>i&&(r=s0(e.min,e.max-i,t.min)),Qu(0,1,r)}function lge(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const AN=.35;function cge(e=AN){return e===!1?e=0:e===!0&&(e=AN),{x:x6(e,"left","right"),y:x6(e,"top","bottom")}}function x6(e,t,r){return{min:y6(e,t),max:y6(e,r)}}function y6(e,t){return typeof e=="number"?e:e[t]||0}const b6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lp=()=>({x:b6(),y:b6()}),w6=()=>({min:0,max:0}),Wi=()=>({x:w6(),y:w6()});function wl(e){return[e("x"),e("y")]}function V9({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function uge({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dge(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function $5(e){return e===void 0||e===1}function EN({scale:e,scaleX:t,scaleY:r}){return!$5(e)||!$5(t)||!$5(r)}function Hf(e){return EN(e)||K9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function K9(e){return S6(e.x)||S6(e.y)}function S6(e){return e&&e!=="0%"}function o1(e,t,r){const n=e-r,i=t*n;return r+i}function _6(e,t,r,n,i){return i!==void 0&&(e=o1(e,i,n)),o1(e,r,n)+t}function PN(e,t=0,r=1,n,i){e.min=_6(e.min,t,r,n,i),e.max=_6(e.max,t,r,n,i)}function G9(e,{x:t,y:r}){PN(e.x,t.translate,t.scale,t.originPoint),PN(e.y,r.translate,r.scale,r.originPoint)}const N6=.999999999999,j6=1.0000000000001;function fge(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=r[o],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Fp(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,G9(e,s)),n&&Hf(a.latestValues)&&Fp(e,a.latestValues))}t.x<j6&&t.x>N6&&(t.x=1),t.y<j6&&t.y>N6&&(t.y=1)}function Mp(e,t){e.min=e.min+t,e.max=e.max+t}function A6(e,t,r,n,i=.5){const a=xi(e.min,e.max,i);PN(e,t,r,a,n)}function Fp(e,t){A6(e.x,t.x,t.scaleX,t.scale,t.originX),A6(e.y,t.y,t.scaleY,t.scale,t.originY)}function Y9(e,t){return V9(dge(e.getBoundingClientRect(),t))}function hge(e,t,r){const n=Y9(e,r),{scroll:i}=t;return i&&(Mp(n.x,i.offset.x),Mp(n.y,i.offset.y)),n}const X9=({current:e})=>e?e.ownerDocument.defaultView:null,pge=new WeakMap;class mge{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wi(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(nv(d).point)},a=(d,h)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=o0e(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wl(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Jc.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const S=_.layout.layoutBox[y];S&&(w=Jo(S)*(parseFloat(w)/100))}}this.originPoint[y]=w}),x&&Yn.postRender(()=>x(d,h)),xN(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(d,h)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(g&&this.currentDirection===null){this.currentDirection=gge(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),v&&v(d,h)},o=(d,h)=>this.stop(d,h),c=()=>wl(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new z9(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:X9(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Yn.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!xx(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=ige(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&Ip(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=age(i.layoutBox,r):this.constraints=!1,this.elastic=cge(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&wl(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=lge(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ip(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=hge(n,i.root,this.visualElement.getTransformPagePoint());let s=sge(i.layout.layoutBox,a);if(r){const o=r(uge(s));this.hasMutatedConstraints=!!o,o&&(s=V9(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=wl(d=>{if(!xx(d,r,this.currentDirection))return;let h=c&&c[d]||{};s&&(h={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return xN(this.visualElement,t),n.start(T4(t,n,0,r,this.visualElement,!1))}stopAnimation(){wl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wl(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){wl(r=>{const{drag:n}=this.getProps();if(!xx(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[r];a.set(t[r]-xi(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ip(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wl(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const c=o.get();i[s]=oge({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wl(s=>{if(!xx(s,t,null))return;const o=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];o.set(xi(c,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;pge.set(this.visualElement,this);const t=this.visualElement.current,r=Pm(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ip(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Yn.read(n);const s=mg(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(wl(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())}));return()=>{s(),r(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=AN,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function xx(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function gge(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class vge extends gf{constructor(t){super(t),this.removeGroupControls=Yo,this.removeListeners=Yo,this.controls=new mge(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yo}unmount(){this.removeGroupControls(),this.removeListeners()}}const E6=e=>(t,r)=>{e&&Yn.postRender(()=>e(t,r))};class xge extends gf{constructor(){super(...arguments),this.removePointerDownListener=Yo}onPointerDown(t){this.session=new z9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:E6(t),onStart:E6(r),onMove:n,onEnd:(a,s)=>{delete this.session,i&&Yn.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Pm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function P6(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const um={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Sr.test(e))e=parseFloat(e);else return e;const r=P6(e,t.target.x),n=P6(e,t.target.y);return`${r}% ${n}%`}},yge={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=lf.parse(e);if(i.length>5)return n;const a=lf.createTransformer(e),s=typeof i[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;i[0+s]/=o,i[1+s]/=c;const u=xi(o,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class bge extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;Upe(wge),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Gx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,s=n.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==r||r===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||Yn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),i4.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function J9(e){const[t,r]=OB(),n=A.useContext(XA);return l.jsx(bge,{...e,layoutGroup:n,switchLayoutGroup:A.useContext($B),isPresent:t,safeToRemove:r})}const wge={borderRadius:{...um,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:um,borderTopRightRadius:um,borderBottomLeftRadius:um,borderBottomRightRadius:um,boxShadow:yge};function Sge(e,t,r){const n=Es(e)?e:hg(e);return n.start(T4("",n,t,r)),n.animation}function _ge(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Nge=(e,t)=>e.depth-t.depth;class jge{constructor(){this.children=[],this.isDirty=!1}add(t){x4(this.children,t),this.isDirty=!0}remove(t){y4(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Nge),this.isDirty=!1,this.children.forEach(t)}}function Age(e,t){const r=Zc.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(of(n),e(a-t))};return Yn.read(n,!0),()=>of(n)}const Z9=["TopLeft","TopRight","BottomLeft","BottomRight"],Ege=Z9.length,T6=e=>typeof e=="string"?parseFloat(e):e,k6=e=>typeof e=="number"||Sr.test(e);function Pge(e,t,r,n,i,a){i?(e.opacity=xi(0,r.opacity!==void 0?r.opacity:1,Tge(n)),e.opacityExit=xi(t.opacity!==void 0?t.opacity:1,0,kge(n))):a&&(e.opacity=xi(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let s=0;s<Ege;s++){const o=`border${Z9[s]}Radius`;let c=C6(t,o),u=C6(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||k6(c)===k6(u)?(e[o]=Math.max(xi(T6(c),T6(u),n),0),(Jc.test(u)||Jc.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=xi(t.rotate||0,r.rotate||0,n))}function C6(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Tge=Q9(0,.5,v9),kge=Q9(.5,.95,Yo);function Q9(e,t,r){return n=>n<e?0:n>t?1:r(s0(e,t,n))}function D6(e,t){e.min=t.min,e.max=t.max}function vl(e,t){D6(e.x,t.x),D6(e.y,t.y)}function O6(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function I6(e,t,r,n,i){return e-=t,e=o1(e,1/r,n),i!==void 0&&(e=o1(e,1/i,n)),e}function Cge(e,t=0,r=1,n=.5,i,a=e,s=e){if(Jc.test(t)&&(t=parseFloat(t),t=xi(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=xi(a.min,a.max,n);e===a&&(o-=t),e.min=I6(e.min,t,r,o,i),e.max=I6(e.max,t,r,o,i)}function R6(e,t,[r,n,i],a,s){Cge(e,t[r],t[n],t[i],t.scale,a,s)}const Dge=["x","scaleX","originX"],Oge=["y","scaleY","originY"];function L6(e,t,r,n){R6(e.x,t,Dge,r?r.x:void 0,n?n.x:void 0),R6(e.y,t,Oge,r?r.y:void 0,n?n.y:void 0)}function M6(e){return e.translate===0&&e.scale===1}function eU(e){return M6(e.x)&&M6(e.y)}function F6(e,t){return e.min===t.min&&e.max===t.max}function Ige(e,t){return F6(e.x,t.x)&&F6(e.y,t.y)}function B6(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function tU(e,t){return B6(e.x,t.x)&&B6(e.y,t.y)}function U6(e){return Jo(e.x)/Jo(e.y)}function $6(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Rge{constructor(){this.members=[]}add(t){x4(this.members,t),t.scheduleRender()}remove(t){if(y4(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lge(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=r?.z||0;if((i||a||s)&&(n=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:g,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),g&&(n+=`skewX(${g}deg) `),x&&(n+=`skewY(${x}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const Vf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},bm=typeof window<"u"&&window.MotionDebug!==void 0,z5=["","X","Y","Z"],Mge={visibility:"hidden"},z6=1e3;let Fge=0;function W5(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function rU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=u9(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Yn,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&rU(n)}function nU({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},o=t?.()){this.id=Fge++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bm&&(Vf.totalNodes=Vf.resolvedTargetDeltas=Vf.recalculatedProjection=0),this.nodes.forEach($ge),this.nodes.forEach(Vge),this.nodes.forEach(Kge),this.nodes.forEach(zge),bm&&window.MotionDebug.record(Vf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new jge)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new b4),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const c=this.eventHandlers.get(s);c&&c.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_ge(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Age(m,250),Gx.hasAnimatedSinceResize&&(Gx.hasAnimatedSinceResize=!1,this.nodes.forEach(q6))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||Zge,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=d.getProps(),_=!this.targetLayout||!tU(this.targetLayout,x)||g,S=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const E={...p4(v,"layout"),onPlay:y,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else m||q6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,of(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gge),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W6);return}this.isUpdating||this.nodes.forEach(qge),this.isUpdating=!1,this.nodes.forEach(Hge),this.nodes.forEach(Bge),this.nodes.forEach(Uge),this.clearAllSnapshots();const o=Zc.now();Ja.delta=Qu(0,1e3/60,o-Ja.timestamp),Ja.timestamp=o,Ja.isProcessing=!0,O5.update.process(Ja),O5.preRender.process(Ja),O5.render.process(Ja),Ja.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,i4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wge),this.sharedNodes.forEach(Yge)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!eU(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(o||Hf(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return s&&(c=this.removeTransform(c)),Qge(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return Wi();const c=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(eve))){const{scroll:d}=this.root;d&&(Mp(c.x,d.offset.x),Mp(c.y,d.offset.y))}return c}removeElementScroll(s){var o;const c=Wi();if(vl(c,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&vl(c,s),Mp(c.x,h.offset.x),Mp(c.y,h.offset.y))}return c}applyTransform(s,o=!1){const c=Wi();vl(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Fp(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Hf(d.latestValues)&&Fp(c,d.latestValues)}return Hf(this.latestValues)&&Fp(c,this.latestValues),c}removeTransform(s){const o=Wi();vl(o,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Hf(u.latestValues))continue;EN(u.latestValues)&&u.updateSnapshot();const d=Wi(),h=u.measurePageBox();vl(d,h),L6(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Hf(this.latestValues)&&L6(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ja.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Ja.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wi(),this.relativeTargetOrigin=Wi(),km(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),vl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wi(),this.targetWithTransforms=Wi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vl(this.target,this.layout.layoutBox),G9(this.target,this.targetDelta)):vl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wi(),this.relativeTargetOrigin=Wi(),km(this.relativeTargetOrigin,this.target,g.target),vl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bm&&Vf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||EN(this.parent.latestValues)||K9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ja.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;vl(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;fge(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wi());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(O6(this.prevProjectionDelta.x,this.projectionDelta.x),O6(this.prevProjectionDelta.y,this.projectionDelta.y)),Tm(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!$6(this.projectionDelta.x,this.prevProjectionDelta.x)||!$6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),bm&&Vf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lp(),this.projectionDelta=Lp(),this.projectionDeltaWithTransform=Lp()}setAnimationOrigin(s,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Lp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Wi(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,y=this.getStack(),w=!y||y.members.length<=1,_=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(Jge));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const T=E/1e3;H6(h.x,s.x,T),H6(h.y,s.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(km(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Xge(this.relativeTarget,this.relativeTargetOrigin,m,T),S&&Ige(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Wi()),vl(S,this.relativeTarget)),v&&(this.animationValues=d,Pge(d,u,this.latestValues,T,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(of(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yn.update(()=>{Gx.hasAnimatedSinceResize=!0,this.currentAnimation=Sge(0,z6,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=s;if(!(!o||!c||!u)){if(this!==s&&this.layout&&u&&iU(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Wi();const h=Jo(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+h;const m=Jo(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+m}vl(o,c),Fp(o,d),Tm(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Rge),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&W5("z",s,u,this.animationValues);for(let d=0;d<z5.length;d++)W5(`rotate${z5[d]}`,s,u,this.animationValues),W5(`skew${z5[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}getProjectionStyles(s){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Mge;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Vx(s?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Vx(s?.pointerEvents)||""),this.hasProjected&&!Hf(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Lge(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:g,y:x}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=m.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in r1){if(m[v]===void 0)continue;const{correct:y,applyTo:w}=r1[v],_=u.transform==="none"?m[v]:y(m[v],h);if(w){const S=w.length;for(let E=0;E<S;E++)u[w[E]]=_}else u[v]=_}return this.options.layoutId&&(u.pointerEvents=h===this?Vx(s?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(W6),this.root.sharedNodes.clear()}}}function Bge(e){e.updateLayout()}function Uge(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,s=r.source!==e.layout.source;a==="size"?wl(h=>{const m=s?r.measuredBox[h]:r.layoutBox[h],g=Jo(m);m.min=n[h].min,m.max=m.min+g}):iU(a,r.layoutBox,n)&&wl(h=>{const m=s?r.measuredBox[h]:r.layoutBox[h],g=Jo(n[h]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const o=Lp();Tm(o,n,r.layoutBox);const c=Lp();s?Tm(c,e.applyTransform(i,!0),r.measuredBox):Tm(c,n,r.layoutBox);const u=!eU(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const x=Wi();km(x,r.layoutBox,m.layoutBox);const v=Wi();km(v,n,g.layoutBox),tU(x,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function $ge(e){bm&&Vf.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zge(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Wge(e){e.clearSnapshot()}function W6(e){e.clearMeasurements()}function qge(e){e.isLayoutDirty=!1}function Hge(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function q6(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Vge(e){e.resolveTargetDelta()}function Kge(e){e.calcProjection()}function Gge(e){e.resetSkewAndRotation()}function Yge(e){e.removeLeadSnapshot()}function H6(e,t,r){e.translate=xi(t.translate,0,r),e.scale=xi(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function V6(e,t,r,n){e.min=xi(t.min,r.min,n),e.max=xi(t.max,r.max,n)}function Xge(e,t,r,n){V6(e.x,t.x,r.x,n),V6(e.y,t.y,r.y,n)}function Jge(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Zge={duration:.45,ease:[.4,0,.1,1]},K6=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),G6=K6("applewebkit/")&&!K6("chrome/")?Math.round:Yo;function Y6(e){e.min=G6(e.min),e.max=G6(e.max)}function Qge(e){Y6(e.x),Y6(e.y)}function iU(e,t,r){return e==="position"||e==="preserve-aspect"&&!rge(U6(t),U6(r),.2)}function eve(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const tve=nU({attachResizeListener:(e,t)=>mg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),q5={current:void 0},aU=nU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!q5.current){const e=new tve({});e.mount(window),e.setOptions({layoutScroll:!0}),q5.current=e}return q5.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),rve={pan:{Feature:xge},drag:{Feature:vge,ProjectionNode:aU,MeasureLayout:J9}};function X6(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&Yn.postRender(()=>a(t,nv(t)))}class nve extends gf{mount(){const{current:t}=this.node;t&&(this.unmount=r0e(t,r=>(X6(this.node,r,"Start"),n=>X6(this.node,n,"End"))))}unmount(){}}class ive extends gf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rv(mg(this.node.current,"focus",()=>this.onFocus()),mg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function J6(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&Yn.postRender(()=>a(t,nv(t)))}class ave extends gf{mount(){const{current:t}=this.node;t&&(this.unmount=s0e(t,r=>(J6(this.node,r,"Start"),(n,{success:i})=>J6(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const TN=new WeakMap,H5=new WeakMap,sve=e=>{const t=TN.get(e.target);t&&t(e)},ove=e=>{e.forEach(sve)};function lve({root:e,...t}){const r=e||document;H5.has(r)||H5.set(r,{});const n=H5.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(ove,{root:e,...t})),n[i]}function cve(e,t,r){const n=lve(t);return TN.set(e,r),n.observe(e),()=>{TN.delete(e),n.unobserve(e)}}const uve={some:0,all:1};class dve extends gf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:uve[i]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return cve(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(fve(t,r))&&this.startObserver()}unmount(){}}function fve({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const hve={inView:{Feature:dve},tap:{Feature:ave},focus:{Feature:ive},hover:{Feature:nve}},pve={layout:{ProjectionNode:aU,MeasureLayout:J9}},kN={current:null},sU={current:!1};function mve(){if(sU.current=!0,!!QA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kN.current=e.matches;e.addListener(t),t()}else kN.current=!1}const gve=[...C9,js,lf],vve=e=>gve.find(k9(e)),Z6=new WeakMap;function xve(e,t,r){for(const n in t){const i=t[n],a=r[n];if(Es(i))e.addValue(n,i);else if(Es(a))e.addValue(n,hg(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(n);e.addValue(n,hg(s!==void 0?s:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Q6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yve{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=A4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Zc.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Yn.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=s;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=Mb(r),this.isVariantNode=BB(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in m){const x=m[g];c[g]!==void 0&&Es(x)&&x.set(c[g],!1)}}mount(t){this.current=t,Z6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),sU.current||mve(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Z6.delete(this.current),this.projection&&this.projection.unmount(),of(this.notifyUpdate),of(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Dh.has(t),i=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Yn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in o0){const r=o0[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Q6.length;n++){const i=Q6[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=xve(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=hg(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(P9(i)||y9(i))?i=parseFloat(i):!vve(i)&&lf.test(r)&&(i=j9(t,r)),this.setBaseTarget(t,Es(i)?i.get():i)),Es(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const s=s4(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);s&&(i=s[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Es(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new b4),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class oU extends yve{constructor(){super(...arguments),this.KeyframeResolver=D9}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Es(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function bve(e){return window.getComputedStyle(e)}class wve extends oU{constructor(){super(...arguments),this.type="html",this.renderInstance=GB}readValueFromInstance(t,r){if(Dh.has(r)){const n=j4(r);return n&&n.default||0}else{const n=bve(t),i=(HB(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Y9(t,r)}build(t,r,n){c4(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return h4(t,r,n)}}class Sve extends oU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wi}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Dh.has(r)){const n=j4(r);return n&&n.default||0}return r=YB.has(r)?r:n4(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return ZB(t,r,n)}build(t,r,n){u4(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){XB(t,r,n,i)}mount(t){this.isSVGTag=f4(t.tagName),super.mount(t)}}const _ve=(e,t)=>a4(e)?new Sve(t):new wve(t,{allowProjection:e!==A.Fragment}),Nve=Ype({...Kme,...hve,...rve,...pve},_ve),CN=upe(Nve),eO={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",red:"from-red-500 to-red-600",yellow:"from-yellow-500 to-yellow-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",indigo:"from-indigo-500 to-indigo-600",pink:"from-pink-500 to-pink-600",teal:"from-teal-500 to-teal-600",cyan:"from-cyan-500 to-cyan-600",lime:"from-lime-500 to-lime-600"},lU=({children:e})=>l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e}),vi=({title:e,value:t,subtitle:r,icon:n,trend:i,color:a="blue",formatValue:s})=>{const o=s?s(t):t,c=typeof t=="number"&&t>=0,u=typeof t=="number"&&t<0;return l.jsxs(CN.div,{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[n&&l.jsx("div",{className:"p-2 bg-gradient-to-r from-gray-100 to-gray-200 rounded-lg",children:n}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:e}),r&&l.jsx("p",{className:"text-xs text-gray-500",children:r})]})]}),i&&l.jsxs("div",{className:`flex items-center space-x-1 text-sm ${i.isPositive?"text-green-600":"text-red-600"}`,children:[l.jsx("span",{children:i.isPositive?"":""}),l.jsxs("span",{children:[Math.abs(i.value),"%"]}),l.jsx("span",{className:"text-gray-500",children:i.label})]})]}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o}),typeof t=="number"&&l.jsx("div",{className:"flex space-x-2 text-xs text-gray-500",children:l.jsx("span",{className:c?"text-green-600":u?"text-red-600":"text-gray-600",children:c?"":u?"":""})})]}),l.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${eO[a]} rounded-full flex items-center justify-center shadow-lg`,children:n&&jg.cloneElement(n,{className:"w-8 h-8 text-white"})})]}),l.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${eO[a]} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]})},cU=({selectedDate:e,onDateChange:t,onDateRangeChange:r,showRangeSelector:n=!1,label:i=" "})=>{const[a,s]=A.useState(!1),[o,c]=A.useState(e),[u,d]=A.useState(e),[h,m]=A.useState(!1);A.useEffect(()=>{r&&a&&r(o,u)},[o,u,a]);const g=[{label:"",value:"today"},{label:"",value:"yesterday"},{label:" 7 ",value:"last7"},{label:" 30 ",value:"last30"},{label:" ",value:"thisMonth"},{label:" ",value:"lastMonth"}],x=y=>{const w=new Date;let _=new Date,S=new Date;switch(y){case"today":_=new Date,S=new Date;break;case"yesterday":_=new Date(w),_.setDate(w.getDate()-1),S=new Date(_);break;case"last7":_=new Date(w),_.setDate(w.getDate()-6),S=w;break;case"last30":_=new Date(w),_.setDate(w.getDate()-29),S=w;break;case"thisMonth":_=new Date(w.getFullYear(),w.getMonth(),1),S=w;break;case"lastMonth":_=new Date(w.getFullYear(),w.getMonth()-1,1),S=new Date(w.getFullYear(),w.getMonth(),0);break}c(_.toISOString().split("T")[0]),d(S.toISOString().split("T")[0]),s(!0)},v=()=>o===u?new Date(o).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):`${new Date(o).toLocaleDateString("ar-EG",{month:"short",day:"numeric"})} - ${new Date(u).toLocaleDateString("ar-EG",{month:"short",day:"numeric",year:"numeric"})}`;return l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:i}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[n&&l.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>s(!1),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${a?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:" "}),l.jsx("button",{onClick:()=>s(!0),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" "})]}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:a?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"date",value:o,onChange:y=>c(y.target.value),className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"}),l.jsx("span",{className:"text-gray-500 self-center",children:""}),l.jsx("input",{type:"date",value:u,onChange:y=>d(y.target.value),className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]}):l.jsx("input",{type:"date",value:e,onChange:y=>t(y.target.value),className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsx("button",{onClick:()=>m(!h),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:""}),l.jsx("button",{onClick:()=>{a?(c(new Date().toISOString().split("T")[0]),d(new Date().toISOString().split("T")[0])):t(new Date().toISOString().split("T")[0])},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:""})]})]}),h&&l.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4",children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:g.map(y=>l.jsx("button",{onClick:()=>x(y.value),className:"px-3 py-2 text-sm bg-gray-50 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:y.label},y.value))})}),l.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:" :"}),l.jsx("p",{className:"text-lg font-semibold text-gray-900",children:v()})]})]})},tO=({columns:e,data:t,title:r,searchable:n=!1,sortable:i=!0,pageSize:a=10,className:s="",emptyMessage:o="  "})=>{const[c,u]=A.useState(""),[d,h]=A.useState(null),[m,g]=A.useState(1),x=A.useMemo(()=>{let S=t;return c&&(S=t.filter(E=>Object.values(E).some(T=>String(T).toLowerCase().includes(c.toLowerCase())))),d&&(S=[...S].sort((E,T)=>{const D=E[d.key],C=T[d.key];return D<C?d.direction==="asc"?-1:1:D>C?d.direction==="asc"?1:-1:0})),S},[t,c,d]),v=Math.ceil(x.length/a),y=A.useMemo(()=>{const S=(m-1)*a;return x.slice(S,S+a)},[x,m,a]),w=S=>{i&&(d?.key===S?h({key:S,direction:d.direction==="asc"?"desc":"asc"}):h({key:S,direction:"asc"}),g(1))},_=S=>!d||d.key!==S?"":d.direction==="asc"?"":"";return l.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 ${s}`,children:[r&&l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:r}),n&&l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"...",value:c,onChange:S=>{u(S.target.value),g(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"}),l.jsx("span",{className:"absolute left-3 top-2.5 text-gray-400",children:""})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse",children:[l.jsx("thead",{children:l.jsx("tr",{className:"border-b border-gray-200",children:e.map(S=>l.jsx("th",{className:`px-4 py-3 text-right text-sm font-semibold text-gray-700 cursor-pointer transition-colors ${S.sortable?"hover:bg-gray-50":""} ${S.className||""}`,onClick:()=>S.sortable&&w(S.key),children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("span",{children:S.title}),S.sortable&&l.jsx("span",{className:"text-gray-400",children:_(S.key)})]})},S.key))})}),l.jsx("tbody",{children:l.jsx(rpe,{children:y.length>0?y.map((S,E)=>l.jsx(CN.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:e.map(T=>l.jsx("td",{className:`px-4 py-3 text-sm text-gray-600 ${T.className||""}`,children:T.render?T.render(S[T.key],S):S[T.key]},T.key))},S.id||E)):l.jsx(CN.tr,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:l.jsx("td",{colSpan:e.length,className:"py-8 text-gray-500",children:o})})})})]})}),v>1&&l.jsxs("div",{className:"flex justify-between items-center mt-4",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:[" ",(m-1)*a+1,"  ",Math.min(m*a,x.length),"  ",x.length," "]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>g(Math.max(1,m-1)),disabled:m===1,className:"px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""}),l.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(5,v)},(S,E)=>{const T=m<=3?E+1:m+E-2;return T>v?null:l.jsx("button",{onClick:()=>g(T),className:`px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors ${m===T?"bg-blue-500 text-white border-blue-500":""}`,children:T},T)})}),l.jsx("button",{onClick:()=>g(Math.min(v,m+1)),disabled:m===v,className:"px-3 py-1 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})]})};var l1={};l1.version="0.18.5";var uU=1252,jve=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],dU=function(e){jve.indexOf(e)!=-1&&(uU=e)};function Ave(){dU(1252)}var gg=function(e){dU(e)};function Eve(){gg(1200),Ave()}var yx=function(t){return String.fromCharCode(t)},rO=function(t){return String.fromCharCode(t)},c1,Jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function vg(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,i=e.charCodeAt(u++),o=(n&15)<<2|i>>6,c=i&63,isNaN(n)?o=c=64:isNaN(i)&&(c=64),t+=Jd.charAt(a)+Jd.charAt(s)+Jd.charAt(o)+Jd.charAt(c);return t}function ed(e){var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Jd.indexOf(e.charAt(u++)),s=Jd.indexOf(e.charAt(u++)),r=a<<2|s>>4,t+=String.fromCharCode(r),o=Jd.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=Jd.indexOf(e.charAt(u++)),i=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var un=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),dd=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Sh(e){return un?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function nO(e){return un?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var mc=function(t){return un?dd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Ub(e){if(typeof ArrayBuffer>"u")return mc(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function iv(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Pve(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var es=un?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:dd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Tve(e){for(var t=[],r=0,n=e.length+250,i=Sh(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Sh(65535),n=65530)}return t.push(i.slice(0,r)),es(t)}var Cm=/\u0000/g,bx=/[\u0001-\u0006]/g;function qp(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function gc(e,t){var r=""+e;return r.length>=t?r:Ii("0",t-r.length)+r}function k4(e,t){var r=""+e;return r.length>=t?r:Ii(" ",t-r.length)+r}function u1(e,t){var r=""+e;return r.length>=t?r:r+Ii(" ",t-r.length)}function kve(e,t){var r=""+Math.round(e);return r.length>=t?r:Ii("0",t-r.length)+r}function Cve(e,t){var r=""+e;return r.length>=t?r:Ii("0",t-r.length)+r}var iO=Math.pow(2,32);function vp(e,t){if(e>iO||e<-iO)return kve(e,t);var r=Math.round(e);return Cve(r,t)}function d1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var aO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],V5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Dve(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ri={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},sO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Ove={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function f1(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,s=1,o=0,c=1,u=0,d=0,h=Math.floor(i);u<t&&(h=Math.floor(i),o=h*s+a,d=h*u+c,!(i-h<5e-8));)i=1/(i-h),a=s,s=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=a):(d=u,o=s)),!r)return[0,n*o,d];var m=Math.floor(n*o/d);return[m,n*o-m*d,d]}function wx(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,s=[],o={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=Uve(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var fU=new Date(1899,11,31,0,0,0),Ive=fU.getTime(),Rve=new Date(1900,2,1,0,0,0);function hU(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Rve&&(r+=1440*60*1e3),(r-(Ive+(e.getTimezoneOffset()-fU.getTimezoneOffset())*6e4))/(1440*60*1e3)}function C4(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Lve(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Mve(e){var t=e<0?12:11,r=C4(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Fve(e){var t=C4(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Bve(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Mve(e):t===10?r=e.toFixed(10).substr(0,12):r=Fve(e),C4(Lve(r.toUpperCase()))}function DN(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Bve(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return cf(14,hU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Uve(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function $ve(e,t,r,n){var i="",a=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return V5[r.m-1][1];case 5:return V5[r.m-1][0];default:return V5[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return aO[r.q][0];default:return aO[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?gc(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=gc(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?gc(c,u):"";return d}function Zd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var pU=/%/g;function zve(e,t,r){var n=t.replace(pU,""),i=t.length-n.length;return zu(e,n,r*Math.pow(10,2*i))+Ii("%",i)}function Wve(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return zu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function mU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+mU(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var gU=/# (\?+)( ?)\/( ?)(\d+)/;function qve(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?Ii(" ",e[1].length+1+e[4].length):k4(s,e[1].length)+e[2]+"/"+e[3]+gc(o,e[4].length))}function Hve(e,t,r){return r+(t===0?"":""+t)+Ii(" ",e[1].length+2+e[4].length)}var vU=/^#*0*\.([0#]+)/,xU=/\).*[0#]/,yU=/\(###\) ###\\?-####/;function qs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function oO(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function lO(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Vve(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Kve(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function yl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(xU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?yl("n",n,r):"("+yl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Wve(e,t,r);if(t.indexOf("%")!==-1)return zve(e,t,r);if(t.indexOf("E")!==-1)return mU(t,r);if(t.charCodeAt(0)===36)return"$"+yl(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+vp(c,t.length);if(t.match(/^[#?]+$/))return i=vp(r,0),i==="0"&&(i=""),i.length>t.length?i:qs(t.substr(0,t.length-i.length))+i;if(a=t.match(gU))return qve(a,c,u);if(t.match(/^#+0+$/))return u+vp(c,t.length-t.indexOf("0"));if(a=t.match(vU))return i=oO(r,a[1].length).replace(/^([^\.]+)$/,"$1."+qs(a[1])).replace(/\.$/,"."+qs(a[1])).replace(/\.(\d*)$/,function(x,v){return"."+v+Ii("0",qs(a[1]).length-v.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+oO(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Zd(vp(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+yl(e,t,-r):Zd(""+(Math.floor(r)+Vve(r,a[1].length)))+"."+gc(lO(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return yl(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=qp(yl(e,t.replace(/[\\-]/g,""),r)),s=0,qp(qp(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<i.length?i.charAt(s++):x==="0"?"0":""}));if(t.match(yU))return i=yl(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=f1(c,Math.pow(10,s)-1,!1),i=""+u,d=zu("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=u1(o[2],s),d.length<a[4].length&&(d=qs(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=f1(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?k4(o[1],s)+a[2]+"/"+a[3]+u1(o[2],s):Ii(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=vp(r,0),t.length<=i.length?i:qs(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=t.indexOf(".")-s,m=t.length-i.length-h;return qs(t.substr(0,h)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=lO(r,a[1].length),r<0?"-"+yl(e,t,-r):Zd(Kve(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?gc(0,3-x.length):"")+x})+"."+gc(s,a[1].length);switch(t){case"###,##0.00":return yl(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=Zd(vp(c,0));return g!=="0"?u+g:"";case"###,###.00":return yl(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return yl(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Gve(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return zu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Yve(e,t,r){var n=t.replace(pU,""),i=t.length-n.length;return zu(e,n,r*Math.pow(10,2*i))+Ii("%",i)}function bU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+bU(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function qc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(xU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?qc("n",n,r):"("+qc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Gve(e,t,r);if(t.indexOf("%")!==-1)return Yve(e,t,r);if(t.indexOf("E")!==-1)return bU(t,r);if(t.charCodeAt(0)===36)return"$"+qc(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+gc(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:qs(t.substr(0,t.length-i.length))+i;if(a=t.match(gU))return Hve(a,c,u);if(t.match(/^#+0+$/))return u+gc(c,t.length-t.indexOf("0"));if(a=t.match(vU))return i=(""+r).replace(/^([^\.]+)$/,"$1."+qs(a[1])).replace(/\.$/,"."+qs(a[1])),i=i.replace(/\.(\d*)$/,function(x,v){return"."+v+Ii("0",qs(a[1]).length-v.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Zd(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+qc(e,t,-r):Zd(""+r)+"."+Ii("0",a[1].length);if(a=t.match(/^#,#*,#0/))return qc(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=qp(qc(e,t.replace(/[\\-]/g,""),r)),s=0,qp(qp(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<i.length?i.charAt(s++):x==="0"?"0":""}));if(t.match(yU))return i=qc(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=f1(c,Math.pow(10,s)-1,!1),i=""+u,d=zu("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=u1(o[2],s),d.length<a[4].length&&(d=qs(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=f1(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?k4(o[1],s)+a[2]+"/"+a[3]+u1(o[2],s):Ii(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:qs(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=t.indexOf(".")-s,m=t.length-i.length-h;return qs(t.substr(0,h)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+qc(e,t,-r):Zd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?gc(0,3-x.length):"")+x})+"."+gc(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=Zd(""+c);return g!=="0"?u+g:"";default:if(t.match(/\.[0#?]*$/))return qc(e,t.slice(0,t.lastIndexOf(".")),r)+qs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function zu(e,t,r){return(r|0)===r?qc(e,t,r):yl(e,t,r)}function Xve(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var wU=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function SU(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":d1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(wU))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Jve(e,t,r,n){for(var i=[],a="",s=0,o="",c="t",u,d,h,m="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!d1(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(h=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(h);i[i.length]={t:"t",v:a},++s;break;case"\\":var g=e.charAt(++s),x=g==="("||g===")"?g:"t";i[i.length]={t:x,v:g},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=wx(t,r,e.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=wx(t,r),u==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=m),i[i.length]={t:o,v:a},c=o;break;case"A":case"a":case"":var v={t:o,v:o};if(u==null&&(u=wx(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",m="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",s+=5,m="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(v.v=u.H>=12?"":""),v.t="T",s+=5,m="h"):(v.t="t",++s),u==null&&v.t==="T")return"";i[i.length]=v,c=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(wU)){if(u==null&&(u=wx(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",SU(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var y=0,w=0,_;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=m,c="h",y<1&&(y=1);break;case"s":(_=i[s].v.match(/\.0+$/))&&(w=Math.max(w,_[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[s].v.match(/[Hh]/)&&(y=1),y<2&&i[s].v.match(/[Mm]/)&&(y=2),y<3&&i[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var S="",E;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=$ve(i[s].t.charCodeAt(0),i[s].v,u,w),i[s].t="t";break;case"n":case"?":for(E=s+1;i[E]!=null&&((o=i[E].t)==="?"||o==="D"||(o===" "||o==="t")&&i[E+1]!=null&&(i[E+1].t==="?"||i[E+1].t==="t"&&i[E+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[E].v==="/"||i[E].v===" "&&i[E+1]!=null&&i[E+1].t=="?"));)i[s].v+=i[E].v,i[E]={v:"",t:";"},++E;S+=i[s].v,s=E-1;break;case"G":i[s].t="t",i[s].v=DN(t,r);break}var T="",D,C;if(S.length>0){S.charCodeAt(0)==40?(D=t<0&&S.charCodeAt(0)===45?-t:t,C=zu("n",S,D)):(D=t<0&&n>1?-t:t,C=zu("n",S,D),D<0&&i[0]&&i[0].t=="t"&&(C=C.substr(1),i[0].v="-"+i[0].v)),E=C.length-1;var O=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){O=s;break}var R=i.length;if(O===i.length&&C.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(E>=i[s].v.length-1?(E-=i[s].v.length,i[s].v=C.substr(E+1,i[s].v.length)):E<0?i[s].v="":(i[s].v=C.substr(0,E+1),E=-1),i[s].t="t",R=s);E>=0&&R<i.length&&(i[R].v=C.substr(0,E+1)+i[R].v)}else if(O!==i.length&&C.indexOf("E")===-1){for(E=C.indexOf(".")-1,s=O;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(d=i[s].v.indexOf(".")>-1&&s===O?i[s].v.indexOf(".")-1:i[s].v.length-1,T=i[s].v.substr(d+1);d>=0;--d)E>=0&&(i[s].v.charAt(d)==="0"||i[s].v.charAt(d)==="#")&&(T=C.charAt(E--)+T);i[s].v=T,i[s].t="t",R=s}for(E>=0&&R<i.length&&(i[R].v=C.substr(0,E+1)+i[R].v),E=C.indexOf(".")+1,s=O;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==O)){for(d=i[s].v.indexOf(".")>-1&&s===O?i[s].v.indexOf(".")+1:0,T=i[s].v.substr(0,d);d<i[s].v.length;++d)E<C.length&&(T+=C.charAt(E++));i[s].v=T,i[s].t="t",R=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(D=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=zu(i[s].t,i[s].v,D),i[s].t="t");var H="";for(s=0;s!==i.length;++s)i[s]!=null&&(H+=i[s].v);return H}var cO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uO(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Zve(e,t){var r=Xve(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(cO),o=r[1].match(cO);return uO(t,s)?[n,r[0]]:uO(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function cf(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ri)[e],n==null&&(n=r.table&&r.table[sO[e]]||Ri[sO[e]]),n==null&&(n=Ove[e]||"General");break}if(d1(n,0))return DN(t,r);t instanceof Date&&(t=hU(t,r.date1904));var i=Zve(n,t);if(d1(i[1]))return DN(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Jve(i[1],t,r,i[0])}function _U(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ri[r]==null){t<0&&(t=r);continue}if(Ri[r]==e){t=r;break}}t<0&&(t=391)}return Ri[t]=e,t}function $b(e){for(var t=0;t!=392;++t)e[t]!==void 0&&_U(e[t],t)}function zb(){Ri=Dve()}var NU=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Qve(e){var t=typeof e=="number"?Ri[e]:e;return t=t.replace(NU,"(\\d+)"),new RegExp("^"+t+"$")}function exe(e,t,r){var n=-1,i=-1,a=-1,s=-1,o=-1,c=-1;(t.match(NU)||[]).forEach(function(h,m){var g=parseInt(r[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=g;break;case"d":a=g;break;case"h":s=g;break;case"s":c=g;break;case"m":s>=0?o=g:i=g;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&i==-1&&a==-1?d:u+"T"+d}var txe=(function(){var e={};e.version="1.2.0";function t(){for(var C=0,O=new Array(256),R=0;R!=256;++R)C=R,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,O[R]=C;return typeof Int32Array<"u"?new Int32Array(O):O}var r=t();function n(C){var O=0,R=0,H=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)F[H]=C[H];for(H=0;H!=256;++H)for(R=C[H],O=256+H;O<4096;O+=256)R=F[O]=R>>>8^C[R&255];var U=[];for(H=1;H!=16;++H)U[H-1]=typeof Int32Array<"u"?F.subarray(H*256,H*256+256):F.slice(H*256,H*256+256);return U}var i=n(r),a=i[0],s=i[1],o=i[2],c=i[3],u=i[4],d=i[5],h=i[6],m=i[7],g=i[8],x=i[9],v=i[10],y=i[11],w=i[12],_=i[13],S=i[14];function E(C,O){for(var R=O^-1,H=0,F=C.length;H<F;)R=R>>>8^r[(R^C.charCodeAt(H++))&255];return~R}function T(C,O){for(var R=O^-1,H=C.length-15,F=0;F<H;)R=S[C[F++]^R&255]^_[C[F++]^R>>8&255]^w[C[F++]^R>>16&255]^y[C[F++]^R>>>24]^v[C[F++]]^x[C[F++]]^g[C[F++]]^m[C[F++]]^h[C[F++]]^d[C[F++]]^u[C[F++]]^c[C[F++]]^o[C[F++]]^s[C[F++]]^a[C[F++]]^r[C[F++]];for(H+=15;F<H;)R=R>>>8^r[(R^C[F++])&255];return~R}function D(C,O){for(var R=O^-1,H=0,F=C.length,U=0,M=0;H<F;)U=C.charCodeAt(H++),U<128?R=R>>>8^r[(R^U)&255]:U<2048?(R=R>>>8^r[(R^(192|U>>6&31))&255],R=R>>>8^r[(R^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,M=C.charCodeAt(H++)&1023,R=R>>>8^r[(R^(240|U>>8&7))&255],R=R>>>8^r[(R^(128|U>>2&63))&255],R=R>>>8^r[(R^(128|M>>6&15|(U&3)<<4))&255],R=R>>>8^r[(R^(128|M&63))&255]):(R=R>>>8^r[(R^(224|U>>12&15))&255],R=R>>>8^r[(R^(128|U>>6&63))&255],R=R>>>8^r[(R^(128|U&63))&255]);return~R}return e.table=r,e.bstr=E,e.buf=T,e.str=D,e})(),Tn=(function(){var t={};t.version="1.2.1";function r(V,Q){for(var X=V.split("/"),se=Q.split("/"),te=0,me=0,Ce=Math.min(X.length,se.length);te<Ce;++te){if(me=X[te].length-se[te].length)return me;if(X[te]!=se[te])return X[te]<se[te]?-1:1}return X.length-se.length}function n(V){if(V.charAt(V.length-1)=="/")return V.slice(0,-1).indexOf("/")===-1?V:n(V.slice(0,-1));var Q=V.lastIndexOf("/");return Q===-1?V:V.slice(0,Q+1)}function i(V){if(V.charAt(V.length-1)=="/")return i(V.slice(0,-1));var Q=V.lastIndexOf("/");return Q===-1?V:V.slice(Q+1)}function a(V,Q){typeof Q=="string"&&(Q=new Date(Q));var X=Q.getHours();X=X<<6|Q.getMinutes(),X=X<<5|Q.getSeconds()>>>1,V.write_shift(2,X);var se=Q.getFullYear()-1980;se=se<<4|Q.getMonth()+1,se=se<<5|Q.getDate(),V.write_shift(2,se)}function s(V){var Q=V.read_shift(2)&65535,X=V.read_shift(2)&65535,se=new Date,te=X&31;X>>>=5;var me=X&15;X>>>=4,se.setMilliseconds(0),se.setFullYear(X+1980),se.setMonth(me-1),se.setDate(te);var Ce=Q&31;Q>>>=5;var qe=Q&63;return Q>>>=6,se.setHours(Q),se.setMinutes(qe),se.setSeconds(Ce<<1),se}function o(V){Uo(V,0);for(var Q={},X=0;V.l<=V.length-4;){var se=V.read_shift(2),te=V.read_shift(2),me=V.l+te,Ce={};se===21589&&(X=V.read_shift(1),X&1&&(Ce.mtime=V.read_shift(4)),te>5&&(X&2&&(Ce.atime=V.read_shift(4)),X&4&&(Ce.ctime=V.read_shift(4))),Ce.mtime&&(Ce.mt=new Date(Ce.mtime*1e3))),V.l=me,Q[se]=Ce}return Q}var c;function u(){return c||(c={})}function d(V,Q){if(V[0]==80&&V[1]==75)return Ft(V,Q);if((V[0]|32)==109&&(V[1]|32)==105)return nr(V,Q);if(V.length<512)throw new Error("CFB file size "+V.length+" < 512");var X=3,se=512,te=0,me=0,Ce=0,qe=0,Ue=0,Me=[],Ve=V.slice(0,512);Uo(Ve,0);var rt=h(Ve);switch(X=rt[0],X){case 3:se=512;break;case 4:se=4096;break;case 0:if(rt[1]==0)return Ft(V,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+X)}se!==512&&(Ve=V.slice(0,se),Uo(Ve,28));var xt=V.slice(0,se);m(Ve,X);var yt=Ve.read_shift(4,"i");if(X===3&&yt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+yt);Ve.l+=4,Ce=Ve.read_shift(4,"i"),Ve.l+=4,Ve.chk("00100000","Mini Stream Cutoff Size: "),qe=Ve.read_shift(4,"i"),te=Ve.read_shift(4,"i"),Ue=Ve.read_shift(4,"i"),me=Ve.read_shift(4,"i");for(var bt=-1,St=0;St<109&&(bt=Ve.read_shift(4,"i"),!(bt<0));++St)Me[St]=bt;var or=g(V,se);y(Ue,me,or,se,Me);var Rr=_(or,Ce,Me,se);Rr[Ce].name="!Directory",te>0&&qe!==M&&(Rr[qe].name="!MiniFAT"),Rr[Me[0]].name="!FAT",Rr.fat_addrs=Me,Rr.ssz=se;var It={},Ye=[],Ua=[],Zn=[];S(Ce,Rr,or,Ye,te,It,Ua,qe),x(Ua,Zn,Ye),Ye.shift();var ba={FileIndex:Ua,FullPaths:Zn};return Q&&Q.raw&&(ba.raw={header:xt,sectors:or}),ba}function h(V){if(V[V.l]==80&&V[V.l+1]==75)return[0,0];V.chk(q,"Header Signature: "),V.l+=16;var Q=V.read_shift(2,"u");return[V.read_shift(2,"u"),Q]}function m(V,Q){var X=9;switch(V.l+=2,X=V.read_shift(2)){case 9:if(Q!=3)throw new Error("Sector Shift: Expected 9 saw "+X);break;case 12:if(Q!=4)throw new Error("Sector Shift: Expected 12 saw "+X);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+X)}V.chk("0600","Mini Sector Shift: "),V.chk("000000000000","Reserved: ")}function g(V,Q){for(var X=Math.ceil(V.length/Q)-1,se=[],te=1;te<X;++te)se[te-1]=V.slice(te*Q,(te+1)*Q);return se[X-1]=V.slice(X*Q),se}function x(V,Q,X){for(var se=0,te=0,me=0,Ce=0,qe=0,Ue=X.length,Me=[],Ve=[];se<Ue;++se)Me[se]=Ve[se]=se,Q[se]=X[se];for(;qe<Ve.length;++qe)se=Ve[qe],te=V[se].L,me=V[se].R,Ce=V[se].C,Me[se]===se&&(te!==-1&&Me[te]!==te&&(Me[se]=Me[te]),me!==-1&&Me[me]!==me&&(Me[se]=Me[me])),Ce!==-1&&(Me[Ce]=se),te!==-1&&se!=Me[se]&&(Me[te]=Me[se],Ve.lastIndexOf(te)<qe&&Ve.push(te)),me!==-1&&se!=Me[se]&&(Me[me]=Me[se],Ve.lastIndexOf(me)<qe&&Ve.push(me));for(se=1;se<Ue;++se)Me[se]===se&&(me!==-1&&Me[me]!==me?Me[se]=Me[me]:te!==-1&&Me[te]!==te&&(Me[se]=Me[te]));for(se=1;se<Ue;++se)if(V[se].type!==0){if(qe=se,qe!=Me[qe])do qe=Me[qe],Q[se]=Q[qe]+"/"+Q[se];while(qe!==0&&Me[qe]!==-1&&qe!=Me[qe]);Me[se]=-1}for(Q[0]+="/",se=1;se<Ue;++se)V[se].type!==2&&(Q[se]+="/")}function v(V,Q,X){for(var se=V.start,te=V.size,me=[],Ce=se;X&&te>0&&Ce>=0;)me.push(Q.slice(Ce*U,Ce*U+U)),te-=U,Ce=Xf(X,Ce*4);return me.length===0?ht(0):es(me).slice(0,V.size)}function y(V,Q,X,se,te){var me=M;if(V===M){if(Q!==0)throw new Error("DIFAT chain shorter than expected")}else if(V!==-1){var Ce=X[V],qe=(se>>>2)-1;if(!Ce)return;for(var Ue=0;Ue<qe&&(me=Xf(Ce,Ue*4))!==M;++Ue)te.push(me);y(Xf(Ce,se-4),Q-1,X,se,te)}}function w(V,Q,X,se,te){var me=[],Ce=[];te||(te=[]);var qe=se-1,Ue=0,Me=0;for(Ue=Q;Ue>=0;){te[Ue]=!0,me[me.length]=Ue,Ce.push(V[Ue]);var Ve=X[Math.floor(Ue*4/se)];if(Me=Ue*4&qe,se<4+Me)throw new Error("FAT boundary crossed: "+Ue+" 4 "+se);if(!V[Ve])break;Ue=Xf(V[Ve],Me)}return{nodes:me,data:xO([Ce])}}function _(V,Q,X,se){var te=V.length,me=[],Ce=[],qe=[],Ue=[],Me=se-1,Ve=0,rt=0,xt=0,yt=0;for(Ve=0;Ve<te;++Ve)if(qe=[],xt=Ve+Q,xt>=te&&(xt-=te),!Ce[xt]){Ue=[];var bt=[];for(rt=xt;rt>=0;){bt[rt]=!0,Ce[rt]=!0,qe[qe.length]=rt,Ue.push(V[rt]);var St=X[Math.floor(rt*4/se)];if(yt=rt*4&Me,se<4+yt)throw new Error("FAT boundary crossed: "+rt+" 4 "+se);if(!V[St]||(rt=Xf(V[St],yt),bt[rt]))break}me[xt]={nodes:qe,data:xO([Ue])}}return me}function S(V,Q,X,se,te,me,Ce,qe){for(var Ue=0,Me=se.length?2:0,Ve=Q[V].data,rt=0,xt=0,yt;rt<Ve.length;rt+=128){var bt=Ve.slice(rt,rt+128);Uo(bt,64),xt=bt.read_shift(2),yt=L4(bt,0,xt-Me),se.push(yt);var St={name:yt,type:bt.read_shift(1),color:bt.read_shift(1),L:bt.read_shift(4,"i"),R:bt.read_shift(4,"i"),C:bt.read_shift(4,"i"),clsid:bt.read_shift(16),state:bt.read_shift(4,"i"),start:0,size:0},or=bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2);or!==0&&(St.ct=E(bt,bt.l-8));var Rr=bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2);Rr!==0&&(St.mt=E(bt,bt.l-8)),St.start=bt.read_shift(4,"i"),St.size=bt.read_shift(4,"i"),St.size<0&&St.start<0&&(St.size=St.type=0,St.start=M,St.name=""),St.type===5?(Ue=St.start,te>0&&Ue!==M&&(Q[Ue].name="!StreamData")):St.size>=4096?(St.storage="fat",Q[St.start]===void 0&&(Q[St.start]=w(X,St.start,Q.fat_addrs,Q.ssz)),Q[St.start].name=St.name,St.content=Q[St.start].data.slice(0,St.size)):(St.storage="minifat",St.size<0?St.size=0:Ue!==M&&St.start!==M&&Q[Ue]&&(St.content=v(St,Q[Ue].data,(Q[qe]||{}).data))),St.content&&Uo(St.content,0),me[yt]=St,Ce.push(St)}}function E(V,Q){return new Date((zo(V,Q+4)/1e7*Math.pow(2,32)+zo(V,Q)/1e7-11644473600)*1e3)}function T(V,Q){return u(),d(c.readFileSync(V),Q)}function D(V,Q){var X=Q&&Q.type;switch(X||un&&Buffer.isBuffer(V)&&(X="buffer"),X||"base64"){case"file":return T(V,Q);case"base64":return d(mc(ed(V)),Q);case"binary":return d(mc(V),Q)}return d(V,Q)}function C(V,Q){var X=Q||{},se=X.root||"Root Entry";if(V.FullPaths||(V.FullPaths=[]),V.FileIndex||(V.FileIndex=[]),V.FullPaths.length!==V.FileIndex.length)throw new Error("inconsistent CFB structure");V.FullPaths.length===0&&(V.FullPaths[0]=se+"/",V.FileIndex[0]={name:se,type:5}),X.CLSID&&(V.FileIndex[0].clsid=X.CLSID),O(V)}function O(V){var Q="Sh33tJ5";if(!Tn.find(V,"/"+Q)){var X=ht(4);X[0]=55,X[1]=X[3]=50,X[2]=54,V.FileIndex.push({name:Q,type:2,content:X,size:4,L:69,R:69,C:69}),V.FullPaths.push(V.FullPaths[0]+Q),R(V)}}function R(V,Q){C(V);for(var X=!1,se=!1,te=V.FullPaths.length-1;te>=0;--te){var me=V.FileIndex[te];switch(me.type){case 0:se?X=!0:(V.FileIndex.pop(),V.FullPaths.pop());break;case 1:case 2:case 5:se=!0,isNaN(me.R*me.L*me.C)&&(X=!0),me.R>-1&&me.L>-1&&me.R==me.L&&(X=!0);break;default:X=!0;break}}if(!(!X&&!Q)){var Ce=new Date(1987,1,19),qe=0,Ue=Object.create?Object.create(null):{},Me=[];for(te=0;te<V.FullPaths.length;++te)Ue[V.FullPaths[te]]=!0,V.FileIndex[te].type!==0&&Me.push([V.FullPaths[te],V.FileIndex[te]]);for(te=0;te<Me.length;++te){var Ve=n(Me[te][0]);se=Ue[Ve],se||(Me.push([Ve,{name:i(Ve).replace("/",""),type:1,clsid:ve,ct:Ce,mt:Ce,content:null}]),Ue[Ve]=!0)}for(Me.sort(function(yt,bt){return r(yt[0],bt[0])}),V.FullPaths=[],V.FileIndex=[],te=0;te<Me.length;++te)V.FullPaths[te]=Me[te][0],V.FileIndex[te]=Me[te][1];for(te=0;te<Me.length;++te){var rt=V.FileIndex[te],xt=V.FullPaths[te];if(rt.name=i(xt).replace("/",""),rt.L=rt.R=rt.C=-(rt.color=1),rt.size=rt.content?rt.content.length:0,rt.start=0,rt.clsid=rt.clsid||ve,te===0)rt.C=Me.length>1?1:-1,rt.size=0,rt.type=5;else if(xt.slice(-1)=="/"){for(qe=te+1;qe<Me.length&&n(V.FullPaths[qe])!=xt;++qe);for(rt.C=qe>=Me.length?-1:qe,qe=te+1;qe<Me.length&&n(V.FullPaths[qe])!=n(xt);++qe);rt.R=qe>=Me.length?-1:qe,rt.type=1}else n(V.FullPaths[te+1]||"")==n(xt)&&(rt.R=te+1),rt.type=2}}}function H(V,Q){var X=Q||{};if(X.fileType=="mad")return _i(V,X);if(R(V),X.fileType==="zip")return hr(V,X);var se=(function(yt){for(var bt=0,St=0,or=0;or<yt.FileIndex.length;++or){var Rr=yt.FileIndex[or];if(Rr.content){var It=Rr.content.length;It>0&&(It<4096?bt+=It+63>>6:St+=It+511>>9)}}for(var Ye=yt.FullPaths.length+3>>2,Ua=bt+7>>3,Zn=bt+127>>7,ba=Ua+St+Ye+Zn,qn=ba+127>>7,Qo=qn<=109?0:Math.ceil((qn-109)/127);ba+qn+Qo+127>>7>qn;)Qo=++qn<=109?0:Math.ceil((qn-109)/127);var Kr=[1,Qo,qn,Zn,Ye,St,bt,0];return yt.FileIndex[0].size=bt<<6,Kr[7]=(yt.FileIndex[0].start=Kr[0]+Kr[1]+Kr[2]+Kr[3]+Kr[4]+Kr[5])+(Kr[6]+7>>3),Kr})(V),te=ht(se[7]<<9),me=0,Ce=0;{for(me=0;me<8;++me)te.write_shift(1,ee[me]);for(me=0;me<8;++me)te.write_shift(2,0);for(te.write_shift(2,62),te.write_shift(2,3),te.write_shift(2,65534),te.write_shift(2,9),te.write_shift(2,6),me=0;me<3;++me)te.write_shift(2,0);for(te.write_shift(4,0),te.write_shift(4,se[2]),te.write_shift(4,se[0]+se[1]+se[2]+se[3]-1),te.write_shift(4,0),te.write_shift(4,4096),te.write_shift(4,se[3]?se[0]+se[1]+se[2]-1:M),te.write_shift(4,se[3]),te.write_shift(-4,se[1]?se[0]-1:M),te.write_shift(4,se[1]),me=0;me<109;++me)te.write_shift(-4,me<se[2]?se[1]+me:-1)}if(se[1])for(Ce=0;Ce<se[1];++Ce){for(;me<236+Ce*127;++me)te.write_shift(-4,me<se[2]?se[1]+me:-1);te.write_shift(-4,Ce===se[1]-1?M:Ce+1)}var qe=function(yt){for(Ce+=yt;me<Ce-1;++me)te.write_shift(-4,me+1);yt&&(++me,te.write_shift(-4,M))};for(Ce=me=0,Ce+=se[1];me<Ce;++me)te.write_shift(-4,he.DIFSECT);for(Ce+=se[2];me<Ce;++me)te.write_shift(-4,he.FATSECT);qe(se[3]),qe(se[4]);for(var Ue=0,Me=0,Ve=V.FileIndex[0];Ue<V.FileIndex.length;++Ue)Ve=V.FileIndex[Ue],Ve.content&&(Me=Ve.content.length,!(Me<4096)&&(Ve.start=Ce,qe(Me+511>>9)));for(qe(se[6]+7>>3);te.l&511;)te.write_shift(-4,he.ENDOFCHAIN);for(Ce=me=0,Ue=0;Ue<V.FileIndex.length;++Ue)Ve=V.FileIndex[Ue],Ve.content&&(Me=Ve.content.length,!(!Me||Me>=4096)&&(Ve.start=Ce,qe(Me+63>>6)));for(;te.l&511;)te.write_shift(-4,he.ENDOFCHAIN);for(me=0;me<se[4]<<2;++me){var rt=V.FullPaths[me];if(!rt||rt.length===0){for(Ue=0;Ue<17;++Ue)te.write_shift(4,0);for(Ue=0;Ue<3;++Ue)te.write_shift(4,-1);for(Ue=0;Ue<12;++Ue)te.write_shift(4,0);continue}Ve=V.FileIndex[me],me===0&&(Ve.start=Ve.size?Ve.start-1:M);var xt=me===0&&X.root||Ve.name;if(Me=2*(xt.length+1),te.write_shift(64,xt,"utf16le"),te.write_shift(2,Me),te.write_shift(1,Ve.type),te.write_shift(1,Ve.color),te.write_shift(-4,Ve.L),te.write_shift(-4,Ve.R),te.write_shift(-4,Ve.C),Ve.clsid)te.write_shift(16,Ve.clsid,"hex");else for(Ue=0;Ue<4;++Ue)te.write_shift(4,0);te.write_shift(4,Ve.state||0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,Ve.start),te.write_shift(4,Ve.size),te.write_shift(4,0)}for(me=1;me<V.FileIndex.length;++me)if(Ve=V.FileIndex[me],Ve.size>=4096)if(te.l=Ve.start+1<<9,un&&Buffer.isBuffer(Ve.content))Ve.content.copy(te,te.l,0,Ve.size),te.l+=Ve.size+511&-512;else{for(Ue=0;Ue<Ve.size;++Ue)te.write_shift(1,Ve.content[Ue]);for(;Ue&511;++Ue)te.write_shift(1,0)}for(me=1;me<V.FileIndex.length;++me)if(Ve=V.FileIndex[me],Ve.size>0&&Ve.size<4096)if(un&&Buffer.isBuffer(Ve.content))Ve.content.copy(te,te.l,0,Ve.size),te.l+=Ve.size+63&-64;else{for(Ue=0;Ue<Ve.size;++Ue)te.write_shift(1,Ve.content[Ue]);for(;Ue&63;++Ue)te.write_shift(1,0)}if(un)te.l=te.length;else for(;te.l<te.length;)te.write_shift(1,0);return te}function F(V,Q){var X=V.FullPaths.map(function(Ue){return Ue.toUpperCase()}),se=X.map(function(Ue){var Me=Ue.split("/");return Me[Me.length-(Ue.slice(-1)=="/"?2:1)]}),te=!1;Q.charCodeAt(0)===47?(te=!0,Q=X[0].slice(0,-1)+Q):te=Q.indexOf("/")!==-1;var me=Q.toUpperCase(),Ce=te===!0?X.indexOf(me):se.indexOf(me);if(Ce!==-1)return V.FileIndex[Ce];var qe=!me.match(bx);for(me=me.replace(Cm,""),qe&&(me=me.replace(bx,"!")),Ce=0;Ce<X.length;++Ce)if((qe?X[Ce].replace(bx,"!"):X[Ce]).replace(Cm,"")==me||(qe?se[Ce].replace(bx,"!"):se[Ce]).replace(Cm,"")==me)return V.FileIndex[Ce];return null}var U=64,M=-2,q="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],ve="00000000000000000000000000000000",he={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ve,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(V,Q,X){u();var se=H(V,X);c.writeFileSync(Q,se)}function be(V){for(var Q=new Array(V.length),X=0;X<V.length;++X)Q[X]=String.fromCharCode(V[X]);return Q.join("")}function Oe(V,Q){var X=H(V,Q);switch(Q&&Q.type||"buffer"){case"file":return u(),c.writeFileSync(Q.filename,X),X;case"binary":return typeof X=="string"?X:be(X);case"base64":return vg(typeof X=="string"?X:be(X));case"buffer":if(un)return Buffer.isBuffer(X)?X:dd(X);case"array":return typeof X=="string"?mc(X):X}return X}var ae;function L(V){try{var Q=V.InflateRaw,X=new Q;if(X._processChunk(new Uint8Array([3,0]),X._finishFlushFlag),X.bytesRead)ae=V;else throw new Error("zlib does not expose bytesRead")}catch(se){console.error("cannot use native zlib: "+(se.message||se))}}function Y(V,Q){if(!ae)return Ut(V,Q);var X=ae.InflateRaw,se=new X,te=se._processChunk(V.slice(V.l),se._finishFlushFlag);return V.l+=se.bytesRead,te}function K(V){return ae?ae.deflateRawSync(V):dr(V)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(V){var Q=(V<<1|V<<11)&139536|(V<<5|V<<15)&558144;return(Q>>16|Q>>8|Q)&255}for(var fe=typeof Uint8Array<"u",ke=fe?new Uint8Array(256):[],Te=0;Te<256;++Te)ke[Te]=Ne(Te);function je(V,Q){var X=ke[V&255];return Q<=8?X>>>8-Q:(X=X<<8|ke[V>>8&255],Q<=16?X>>>16-Q:(X=X<<8|ke[V>>16&255],X>>>24-Q))}function Le(V,Q){var X=Q&7,se=Q>>>3;return(V[se]|(X<=6?0:V[se+1]<<8))>>>X&3}function $e(V,Q){var X=Q&7,se=Q>>>3;return(V[se]|(X<=5?0:V[se+1]<<8))>>>X&7}function oe(V,Q){var X=Q&7,se=Q>>>3;return(V[se]|(X<=4?0:V[se+1]<<8))>>>X&15}function at(V,Q){var X=Q&7,se=Q>>>3;return(V[se]|(X<=3?0:V[se+1]<<8))>>>X&31}function lt(V,Q){var X=Q&7,se=Q>>>3;return(V[se]|(X<=1?0:V[se+1]<<8))>>>X&127}function Pt(V,Q,X){var se=Q&7,te=Q>>>3,me=(1<<X)-1,Ce=V[te]>>>se;return X<8-se||(Ce|=V[te+1]<<8-se,X<16-se)||(Ce|=V[te+2]<<16-se,X<24-se)||(Ce|=V[te+3]<<24-se),Ce&me}function ct(V,Q,X){var se=Q&7,te=Q>>>3;return se<=5?V[te]|=(X&7)<<se:(V[te]|=X<<se&255,V[te+1]=(X&7)>>8-se),Q+3}function $t(V,Q,X){var se=Q&7,te=Q>>>3;return X=(X&1)<<se,V[te]|=X,Q+1}function Dt(V,Q,X){var se=Q&7,te=Q>>>3;return X<<=se,V[te]|=X&255,X>>>=8,V[te+1]=X,Q+8}function Xt(V,Q,X){var se=Q&7,te=Q>>>3;return X<<=se,V[te]|=X&255,X>>>=8,V[te+1]=X&255,V[te+2]=X>>>8,Q+16}function Ht(V,Q){var X=V.length,se=2*X>Q?2*X:Q+5,te=0;if(X>=Q)return V;if(un){var me=nO(se);if(V.copy)V.copy(me);else for(;te<V.length;++te)me[te]=V[te];return me}else if(fe){var Ce=new Uint8Array(se);if(Ce.set)Ce.set(V);else for(;te<X;++te)Ce[te]=V[te];return Ce}return V.length=se,V}function xr(V){for(var Q=new Array(V),X=0;X<V;++X)Q[X]=0;return Q}function Nr(V,Q,X){var se=1,te=0,me=0,Ce=0,qe=0,Ue=V.length,Me=fe?new Uint16Array(32):xr(32);for(me=0;me<32;++me)Me[me]=0;for(me=Ue;me<X;++me)V[me]=0;Ue=V.length;var Ve=fe?new Uint16Array(Ue):xr(Ue);for(me=0;me<Ue;++me)Me[te=V[me]]++,se<te&&(se=te),Ve[me]=0;for(Me[0]=0,me=1;me<=se;++me)Me[me+16]=qe=qe+Me[me-1]<<1;for(me=0;me<Ue;++me)qe=V[me],qe!=0&&(Ve[me]=Me[qe+16]++);var rt=0;for(me=0;me<Ue;++me)if(rt=V[me],rt!=0)for(qe=je(Ve[me],se)>>se-rt,Ce=(1<<se+4-rt)-1;Ce>=0;--Ce)Q[qe|Ce<<rt]=rt&15|me<<4;return se}var ze=fe?new Uint16Array(512):xr(512),kt=fe?new Uint16Array(32):xr(32);if(!fe){for(var fr=0;fr<512;++fr)ze[fr]=0;for(fr=0;fr<32;++fr)kt[fr]=0}(function(){for(var V=[],Q=0;Q<32;Q++)V.push(5);Nr(V,kt,32);var X=[];for(Q=0;Q<=143;Q++)X.push(8);for(;Q<=255;Q++)X.push(9);for(;Q<=279;Q++)X.push(7);for(;Q<=287;Q++)X.push(8);Nr(X,ze,288)})();var zt=(function(){for(var Q=fe?new Uint8Array(32768):[],X=0,se=0;X<Ae.length-1;++X)for(;se<Ae[X+1];++se)Q[se]=X;for(;se<32768;++se)Q[se]=29;var te=fe?new Uint8Array(259):[];for(X=0,se=0;X<pe.length-1;++X)for(;se<pe[X+1];++se)te[se]=X;function me(qe,Ue){for(var Me=0;Me<qe.length;){var Ve=Math.min(65535,qe.length-Me),rt=Me+Ve==qe.length;for(Ue.write_shift(1,+rt),Ue.write_shift(2,Ve),Ue.write_shift(2,~Ve&65535);Ve-- >0;)Ue[Ue.l++]=qe[Me++]}return Ue.l}function Ce(qe,Ue){for(var Me=0,Ve=0,rt=fe?new Uint16Array(32768):[];Ve<qe.length;){var xt=Math.min(65535,qe.length-Ve);if(xt<10){for(Me=ct(Ue,Me,+(Ve+xt==qe.length)),Me&7&&(Me+=8-(Me&7)),Ue.l=Me/8|0,Ue.write_shift(2,xt),Ue.write_shift(2,~xt&65535);xt-- >0;)Ue[Ue.l++]=qe[Ve++];Me=Ue.l*8;continue}Me=ct(Ue,Me,+(Ve+xt==qe.length)+2);for(var yt=0;xt-- >0;){var bt=qe[Ve];yt=(yt<<5^bt)&32767;var St=-1,or=0;if((St=rt[yt])&&(St|=Ve&-32768,St>Ve&&(St-=32768),St<Ve))for(;qe[St+or]==qe[Ve+or]&&or<250;)++or;if(or>2){bt=te[or],bt<=22?Me=Dt(Ue,Me,ke[bt+1]>>1)-1:(Dt(Ue,Me,3),Me+=5,Dt(Ue,Me,ke[bt-23]>>5),Me+=3);var Rr=bt<8?0:bt-4>>2;Rr>0&&(Xt(Ue,Me,or-pe[bt]),Me+=Rr),bt=Q[Ve-St],Me=Dt(Ue,Me,ke[bt]>>3),Me-=3;var It=bt<4?0:bt-2>>1;It>0&&(Xt(Ue,Me,Ve-St-Ae[bt]),Me+=It);for(var Ye=0;Ye<or;++Ye)rt[yt]=Ve&32767,yt=(yt<<5^qe[Ve])&32767,++Ve;xt-=or-1}else bt<=143?bt=bt+48:Me=$t(Ue,Me,1),Me=Dt(Ue,Me,ke[bt]),rt[yt]=Ve&32767,++Ve}Me=Dt(Ue,Me,0)-1}return Ue.l=(Me+7)/8|0,Ue.l}return function(Ue,Me){return Ue.length<8?me(Ue,Me):Ce(Ue,Me)}})();function dr(V){var Q=ht(50+Math.floor(V.length*1.1)),X=zt(V,Q);return Q.slice(0,X)}var Bt=fe?new Uint16Array(32768):xr(32768),Jr=fe?new Uint16Array(32768):xr(32768),Tr=fe?new Uint16Array(128):xr(128),mr=1,yr=1;function Fr(V,Q){var X=at(V,Q)+257;Q+=5;var se=at(V,Q)+1;Q+=5;var te=oe(V,Q)+4;Q+=4;for(var me=0,Ce=fe?new Uint8Array(19):xr(19),qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ue=1,Me=fe?new Uint8Array(8):xr(8),Ve=fe?new Uint8Array(8):xr(8),rt=Ce.length,xt=0;xt<te;++xt)Ce[J[xt]]=me=$e(V,Q),Ue<me&&(Ue=me),Me[me]++,Q+=3;var yt=0;for(Me[0]=0,xt=1;xt<=Ue;++xt)Ve[xt]=yt=yt+Me[xt-1]<<1;for(xt=0;xt<rt;++xt)(yt=Ce[xt])!=0&&(qe[xt]=Ve[yt]++);var bt=0;for(xt=0;xt<rt;++xt)if(bt=Ce[xt],bt!=0){yt=ke[qe[xt]]>>8-bt;for(var St=(1<<7-bt)-1;St>=0;--St)Tr[yt|St<<bt]=bt&7|xt<<3}var or=[];for(Ue=1;or.length<X+se;)switch(yt=Tr[lt(V,Q)],Q+=yt&7,yt>>>=3){case 16:for(me=3+Le(V,Q),Q+=2,yt=or[or.length-1];me-- >0;)or.push(yt);break;case 17:for(me=3+$e(V,Q),Q+=3;me-- >0;)or.push(0);break;case 18:for(me=11+lt(V,Q),Q+=7;me-- >0;)or.push(0);break;default:or.push(yt),Ue<yt&&(Ue=yt);break}var Rr=or.slice(0,X),It=or.slice(X);for(xt=X;xt<286;++xt)Rr[xt]=0;for(xt=se;xt<30;++xt)It[xt]=0;return mr=Nr(Rr,Bt,286),yr=Nr(It,Jr,30),Q}function it(V,Q){if(V[0]==3&&!(V[1]&3))return[Sh(Q),2];for(var X=0,se=0,te=nO(Q||1<<18),me=0,Ce=te.length>>>0,qe=0,Ue=0;(se&1)==0;){if(se=$e(V,X),X+=3,se>>>1)se>>1==1?(qe=9,Ue=5):(X=Fr(V,X),qe=mr,Ue=yr);else{X&7&&(X+=8-(X&7));var Me=V[X>>>3]|V[(X>>>3)+1]<<8;if(X+=32,Me>0)for(!Q&&Ce<me+Me&&(te=Ht(te,me+Me),Ce=te.length);Me-- >0;)te[me++]=V[X>>>3],X+=8;continue}for(;;){!Q&&Ce<me+32767&&(te=Ht(te,me+32767),Ce=te.length);var Ve=Pt(V,X,qe),rt=se>>>1==1?ze[Ve]:Bt[Ve];if(X+=rt&15,rt>>>=4,(rt>>>8&255)===0)te[me++]=rt;else{if(rt==256)break;rt-=257;var xt=rt<8?0:rt-4>>2;xt>5&&(xt=0);var yt=me+pe[rt];xt>0&&(yt+=Pt(V,X,xt),X+=xt),Ve=Pt(V,X,Ue),rt=se>>>1==1?kt[Ve]:Jr[Ve],X+=rt&15,rt>>>=4;var bt=rt<4?0:rt-2>>1,St=Ae[rt];for(bt>0&&(St+=Pt(V,X,bt),X+=bt),!Q&&Ce<yt&&(te=Ht(te,yt+100),Ce=te.length);me<yt;)te[me]=te[me-St],++me}}}return Q?[te,X+7>>>3]:[te.slice(0,me),X+7>>>3]}function Ut(V,Q){var X=V.slice(V.l||0),se=it(X,Q);return V.l+=se[1],se[0]}function Mt(V,Q){if(V)typeof console<"u"&&console.error(Q);else throw new Error(Q)}function Ft(V,Q){var X=V;Uo(X,0);var se=[],te=[],me={FileIndex:se,FullPaths:te};C(me,{root:Q.root});for(var Ce=X.length-4;(X[Ce]!=80||X[Ce+1]!=75||X[Ce+2]!=5||X[Ce+3]!=6)&&Ce>=0;)--Ce;X.l=Ce+4,X.l+=4;var qe=X.read_shift(2);X.l+=6;var Ue=X.read_shift(4);for(X.l=Ue,Ce=0;Ce<qe;++Ce){X.l+=20;var Me=X.read_shift(4),Ve=X.read_shift(4),rt=X.read_shift(2),xt=X.read_shift(2),yt=X.read_shift(2);X.l+=8;var bt=X.read_shift(4),St=o(X.slice(X.l+rt,X.l+rt+xt));X.l+=rt+xt+yt;var or=X.l;X.l=bt+4,br(X,Me,Ve,me,St),X.l=or}return me}function br(V,Q,X,se,te){V.l+=2;var me=V.read_shift(2),Ce=V.read_shift(2),qe=s(V);if(me&8257)throw new Error("Unsupported ZIP encryption");for(var Ue=V.read_shift(4),Me=V.read_shift(4),Ve=V.read_shift(4),rt=V.read_shift(2),xt=V.read_shift(2),yt="",bt=0;bt<rt;++bt)yt+=String.fromCharCode(V[V.l++]);if(xt){var St=o(V.slice(V.l,V.l+xt));(St[21589]||{}).mt&&(qe=St[21589].mt),((te||{})[21589]||{}).mt&&(qe=te[21589].mt)}V.l+=xt;var or=V.slice(V.l,V.l+Me);switch(Ce){case 8:or=Y(V,Ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ce)}var Rr=!1;me&8&&(Ue=V.read_shift(4),Ue==134695760&&(Ue=V.read_shift(4),Rr=!0),Me=V.read_shift(4),Ve=V.read_shift(4)),Me!=Q&&Mt(Rr,"Bad compressed size: "+Q+" != "+Me),Ve!=X&&Mt(Rr,"Bad uncompressed size: "+X+" != "+Ve),Wn(se,yt,or,{unsafe:!0,mt:qe})}function hr(V,Q){var X=Q||{},se=[],te=[],me=ht(1),Ce=X.compression?8:0,qe=0,Ue=0,Me=0,Ve=0,rt=0,xt=V.FullPaths[0],yt=xt,bt=V.FileIndex[0],St=[],or=0;for(Ue=1;Ue<V.FullPaths.length;++Ue)if(yt=V.FullPaths[Ue].slice(xt.length),bt=V.FileIndex[Ue],!(!bt.size||!bt.content||yt=="Sh33tJ5")){var Rr=Ve,It=ht(yt.length);for(Me=0;Me<yt.length;++Me)It.write_shift(1,yt.charCodeAt(Me)&127);It=It.slice(0,It.l),St[rt]=txe.buf(bt.content,0);var Ye=bt.content;Ce==8&&(Ye=K(Ye)),me=ht(30),me.write_shift(4,67324752),me.write_shift(2,20),me.write_shift(2,qe),me.write_shift(2,Ce),bt.mt?a(me,bt.mt):me.write_shift(4,0),me.write_shift(-4,St[rt]),me.write_shift(4,Ye.length),me.write_shift(4,bt.content.length),me.write_shift(2,It.length),me.write_shift(2,0),Ve+=me.length,se.push(me),Ve+=It.length,se.push(It),Ve+=Ye.length,se.push(Ye),me=ht(46),me.write_shift(4,33639248),me.write_shift(2,0),me.write_shift(2,20),me.write_shift(2,qe),me.write_shift(2,Ce),me.write_shift(4,0),me.write_shift(-4,St[rt]),me.write_shift(4,Ye.length),me.write_shift(4,bt.content.length),me.write_shift(2,It.length),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(4,0),me.write_shift(4,Rr),or+=me.l,te.push(me),or+=It.length,te.push(It),++rt}return me=ht(22),me.write_shift(4,101010256),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,rt),me.write_shift(2,rt),me.write_shift(4,or),me.write_shift(4,Ve),me.write_shift(2,0),es([es(se),es(te),me])}var Gt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Cr(V,Q){if(V.ctype)return V.ctype;var X=V.name||"",se=X.match(/\.([^\.]+)$/);return se&&Gt[se[1]]||Q&&(se=(X=Q).match(/[\.\\]([^\.\\])+$/),se&&Gt[se[1]])?Gt[se[1]]:"application/octet-stream"}function xa(V){for(var Q=vg(V),X=[],se=0;se<Q.length;se+=76)X.push(Q.slice(se,se+76));return X.join(`\r
`)+`\r
`}function on(V){var Q=V.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Me){var Ve=Me.charCodeAt(0).toString(16).toUpperCase();return"="+(Ve.length==1?"0"+Ve:Ve)});Q=Q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Q.charAt(0)==`
`&&(Q="=0D"+Q.slice(1)),Q=Q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var X=[],se=Q.split(`\r
`),te=0;te<se.length;++te){var me=se[te];if(me.length==0){X.push("");continue}for(var Ce=0;Ce<me.length;){var qe=76,Ue=me.slice(Ce,Ce+qe);Ue.charAt(qe-1)=="="?qe--:Ue.charAt(qe-2)=="="?qe-=2:Ue.charAt(qe-3)=="="&&(qe-=3),Ue=me.slice(Ce,Ce+qe),Ce+=qe,Ce<me.length&&(Ue+="="),X.push(Ue)}}return X.join(`\r
`)}function aa(V){for(var Q=[],X=0;X<V.length;++X){for(var se=V[X];X<=V.length&&se.charAt(se.length-1)=="=";)se=se.slice(0,se.length-1)+V[++X];Q.push(se)}for(var te=0;te<Q.length;++te)Q[te]=Q[te].replace(/[=][0-9A-Fa-f]{2}/g,function(me){return String.fromCharCode(parseInt(me.slice(1),16))});return mc(Q.join(`\r
`))}function Si(V,Q,X){for(var se="",te="",me="",Ce,qe=0;qe<10;++qe){var Ue=Q[qe];if(!Ue||Ue.match(/^\s*$/))break;var Me=Ue.match(/^(.*?):\s*([^\s].*)$/);if(Me)switch(Me[1].toLowerCase()){case"content-location":se=Me[2].trim();break;case"content-type":me=Me[2].trim();break;case"content-transfer-encoding":te=Me[2].trim();break}}switch(++qe,te.toLowerCase()){case"base64":Ce=mc(ed(Q.slice(qe).join("")));break;case"quoted-printable":Ce=aa(Q.slice(qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+te)}var Ve=Wn(V,se.slice(X.length),Ce,{unsafe:!0});me&&(Ve.ctype=me)}function nr(V,Q){if(be(V.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var X=Q&&Q.root||"",se=(un&&Buffer.isBuffer(V)?V.toString("binary"):be(V)).split(`\r
`),te=0,me="";for(te=0;te<se.length;++te)if(me=se[te],!!/^Content-Location:/i.test(me)&&(me=me.slice(me.indexOf("file")),X||(X=me.slice(0,me.lastIndexOf("/")+1)),me.slice(0,X.length)!=X))for(;X.length>0&&(X=X.slice(0,X.length-1),X=X.slice(0,X.lastIndexOf("/")+1),me.slice(0,X.length)!=X););var Ce=(se[1]||"").match(/boundary="(.*?)"/);if(!Ce)throw new Error("MAD cannot find boundary");var qe="--"+(Ce[1]||""),Ue=[],Me=[],Ve={FileIndex:Ue,FullPaths:Me};C(Ve);var rt,xt=0;for(te=0;te<se.length;++te){var yt=se[te];yt!==qe&&yt!==qe+"--"||(xt++&&Si(Ve,se.slice(rt,te),X),rt=te)}return Ve}function _i(V,Q){var X=Q||{},se=X.boundary||"SheetJS";se="------="+se;for(var te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+se.slice(2)+'"',"","",""],me=V.FullPaths[0],Ce=me,qe=V.FileIndex[0],Ue=1;Ue<V.FullPaths.length;++Ue)if(Ce=V.FullPaths[Ue].slice(me.length),qe=V.FileIndex[Ue],!(!qe.size||!qe.content||Ce=="Sh33tJ5")){Ce=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(or){return"_x"+or.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(or){return"_u"+or.charCodeAt(0).toString(16)+"_"});for(var Me=qe.content,Ve=un&&Buffer.isBuffer(Me)?Me.toString("binary"):be(Me),rt=0,xt=Math.min(1024,Ve.length),yt=0,bt=0;bt<=xt;++bt)(yt=Ve.charCodeAt(bt))>=32&&yt<128&&++rt;var St=rt>=xt*4/5;te.push(se),te.push("Content-Location: "+(X.root||"file:///C:/SheetJS/")+Ce),te.push("Content-Transfer-Encoding: "+(St?"quoted-printable":"base64")),te.push("Content-Type: "+Cr(qe,Ce)),te.push(""),te.push(St?on(Ve):xa(Ve))}return te.push(se+`--\r
`),te.join(`\r
`)}function ya(V){var Q={};return C(Q,V),Q}function Wn(V,Q,X,se){var te=se&&se.unsafe;te||C(V);var me=!te&&Tn.find(V,Q);if(!me){var Ce=V.FullPaths[0];Q.slice(0,Ce.length)==Ce?Ce=Q:(Ce.slice(-1)!="/"&&(Ce+="/"),Ce=(Ce+Q).replace("//","/")),me={name:i(Q),type:2},V.FileIndex.push(me),V.FullPaths.push(Ce),te||Tn.utils.cfb_gc(V)}return me.content=X,me.size=X?X.length:0,se&&(se.CLSID&&(me.clsid=se.CLSID),se.mt&&(me.mt=se.mt),se.ct&&(me.ct=se.ct)),me}function sa(V,Q){C(V);var X=Tn.find(V,Q);if(X){for(var se=0;se<V.FileIndex.length;++se)if(V.FileIndex[se]==X)return V.FileIndex.splice(se,1),V.FullPaths.splice(se,1),!0}return!1}function Zr(V,Q,X){C(V);var se=Tn.find(V,Q);if(se){for(var te=0;te<V.FileIndex.length;++te)if(V.FileIndex[te]==se)return V.FileIndex[te].name=i(X),V.FullPaths[te]=X,!0}return!1}function Pe(V){R(V,!0)}return t.find=F,t.read=D,t.parse=d,t.write=Oe,t.writeFile=ce,t.utils={cfb_new:ya,cfb_add:Wn,cfb_del:sa,cfb_mov:Zr,cfb_gc:Pe,ReadShift:Om,CheckField:zU,prep_blob:Uo,bconcat:es,use_zlib:L,_deflateRaw:dr,_inflateRaw:Ut,consts:he},t})();function rxe(e){return typeof e=="string"?Ub(e):Array.isArray(e)?Pve(e):e}function av(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Ub(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?yg(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([rxe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=iv(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function is(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function dO(e,t){for(var r=[],n=is(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function D4(e){for(var t=[],r=is(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Wb(e){for(var t=[],r=is(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function nxe(e){for(var t=[],r=is(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var h1=new Date(1899,11,30,0,0,0);function xo(e,t){var r=e.getTime(),n=h1.getTime()+(e.getTimezoneOffset()-h1.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var jU=new Date,ixe=h1.getTime()+(jU.getTimezoneOffset()-h1.getTimezoneOffset())*6e4,fO=jU.getTimezoneOffset();function AU(e){var t=new Date;return t.setTime(e*24*60*60*1e3+ixe),t.getTimezoneOffset()!==fO&&t.setTime(t.getTime()+(t.getTimezoneOffset()-fO)*6e4),t}var hO=new Date("2017-02-19T19:06:09.000Z"),EU=isNaN(hO.getFullYear())?new Date("2/19/17"):hO,axe=EU.getFullYear()==2017;function Ys(e,t){var r=new Date(e);if(axe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(EU.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function qb(e,t){if(un&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function yo(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=yo(e[r]));return t}function Ii(e,t){for(var r="";r.length<t;)r+=e;return r}function Wu(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var sxe=["january","february","march","april","may","june","july","august","september","october","november","december"];function xg(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&sxe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Mr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return un?n=dd(r):n=Tve(r),Tn.utils.cfb_add(e,t,n)}Tn.utils.cfb_add(e,t,r)}else e.file(t,r)}function O4(){return Tn.utils.cfb_new()}var ia=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,oxe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},I4=D4(oxe),R4=/[&<>'"]/g,lxe=/[\u0000-\u0008\u000b-\u001f]/g;function Nn(e){var t=e+"";return t.replace(R4,function(r){return I4[r]}).replace(lxe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function pO(e){return Nn(e).replace(/ /g,"_x0020_")}var PU=/[\u0000-\u001f]/g;function cxe(e){var t=e+"";return t.replace(R4,function(r){return I4[r]}).replace(/\n/g,"<br/>").replace(PU,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function uxe(e){var t=e+"";return t.replace(R4,function(r){return I4[r]}).replace(PU,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function dxe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function fxe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function K5(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function mO(e){var t=Sh(2*e.length),r,n,i=1,a=0,s=0,o;for(n=0;n<e.length;n+=i)i=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function gO(e){return dd(e,"binary").toString("utf8")}var Sx="foo bar baz",Dm=un&&(gO(Sx)==K5(Sx)&&gO||mO(Sx)==K5(Sx)&&mO)||K5,yg=un?function(e){return dd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},hxe=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}})(),TU=/(^\s|\s$|\n)/;function ts(e,t){return"<"+e+(t.match(TU)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function bg(e){return is(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ot(e,t,r){return"<"+e+(r!=null?bg(r):"")+(t!=null?(t.match(TU)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ON(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function pxe(e,t){switch(typeof e){case"string":var r=Ot("vt:lpwstr",Nn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ot((e|0)==e?"vt:i4":"vt:r8",Nn(String(e)));case"boolean":return Ot("vt:bool",e?"true":"false")}if(e instanceof Date)return Ot("vt:filetime",ON(e));throw new Error("Unable to serialize "+e)}var Ra={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},A0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],$o={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function mxe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function gxe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var vO=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},xO=un?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:dd(t)})):vO(e)}:vO,yO=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(wm(e,i)));return n.join("").replace(Cm,"")},L4=un?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Cm,""):yO(e,t,r)}:yO,bO=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},kU=un?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):bO(e,t,r)}:bO,wO=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Ep(e,i)));return n.join("")},sv=un?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):wO(t,r,n)}:wO,CU=function(e,t){var r=zo(e,t);return r>0?sv(e,t+4,t+4+r-1):""},DU=CU,OU=function(e,t){var r=zo(e,t);return r>0?sv(e,t+4,t+4+r-1):""},IU=OU,RU=function(e,t){var r=2*zo(e,t);return r>0?sv(e,t+4,t+4+r-1):""},LU=RU,MU=function(t,r){var n=zo(t,r);return n>0?L4(t,r+4,r+4+n):""},FU=MU,BU=function(e,t){var r=zo(e,t);return r>0?sv(e,t+4,t+4+r):""},UU=BU,$U=function(e,t){return mxe(e,t)},p1=$U,M4=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};un&&(DU=function(t,r){if(!Buffer.isBuffer(t))return CU(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},IU=function(t,r){if(!Buffer.isBuffer(t))return OU(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},LU=function(t,r){if(!Buffer.isBuffer(t))return RU(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},FU=function(t,r){if(!Buffer.isBuffer(t))return MU(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},UU=function(t,r){if(!Buffer.isBuffer(t))return BU(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},p1=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):$U(t,r)},M4=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Ep=function(e,t){return e[t]},wm=function(e,t){return e[t+1]*256+e[t]},vxe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},zo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Xf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},xxe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Om(e,t){var r="",n,i,a=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,un&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(wm(this,u)),u+=2;e*=2;break;case"utf8":r=sv(this,this.l,this.l+e);break;case"utf16le":e*=2,r=L4(this,this.l,this.l+e);break;case"wstr":return Om.call(this,e,"dbcs");case"lpstr-ansi":r=DU(this,this.l),e=4+zo(this,this.l);break;case"lpstr-cp":r=IU(this,this.l),e=4+zo(this,this.l);break;case"lpwstr":r=LU(this,this.l),e=4+2*zo(this,this.l);break;case"lpp4":e=4+zo(this,this.l),r=FU(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+zo(this,this.l),r=UU(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Ep(this,this.l+e++))!==0;)a.push(yx(s));r=a.join("");break;case"_wstr":for(e=0,r="";(s=wm(this,this.l+e))!==0;)a.push(yx(s)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Ep(this,u),this.l=u+1,o=Om.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(yx(wm(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Ep(this,u),this.l=u+1,o=Om.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(yx(Ep(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=Ep(this,this.l),this.l++,n;case 2:return n=(t==="i"?vxe:wm)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Xf:xxe)(this,this.l),this.l+=4,n):(i=zo(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=p1(this,this.l):i=p1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=kU(this,this.l,e);break}}return this.l+=e,r}var yxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},bxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},wxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Sxe(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)wxe(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,yxe(this,t,this.l);break;case 8:if(n=8,r==="f"){gxe(this,t,this.l);break}case 16:break;case-4:n=4,bxe(this,t,this.l);break}return this.l+=n,this}function zU(e,t){var r=kU(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Uo(e,t){e.l=t,e.read_shift=Om,e.chk=zU,e.write_shift=Sxe}function ru(e,t){e.l+=t}function ht(e){var t=Sh(e);return Uo(t,0),t}function vo(){var e=[],t=un?256:2048,r=function(u){var d=ht(u);return Uo(d,0),d},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},s=function(){return i(),es(e)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function Nt(e,t,r,n){var i=+t,a;if(!isNaN(i)){n||(n=m5e[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=e.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&M4(r)&&e.push(r)}}function Im(e,t,r){var n=yo(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function SO(e,t,r){var n=yo(e);return n.s=Im(n.s,t.s,r),n.e=Im(n.e,t.s,r),n}function Rm(e,t){if(e.cRel&&e.c<0)for(e=yo(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=yo(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=jn(e);return!e.cRel&&e.cRel!=null&&(r=jxe(r)),!e.rRel&&e.rRel!=null&&(r=_xe(r)),r}function G5(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ts(e.s.c)+":"+(e.e.cRel?"":"$")+Ts(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+rs(e.s.r)+":"+(e.e.rRel?"":"$")+rs(e.e.r):Rm(e.s,t.biff)+":"+Rm(e.e,t.biff)}function F4(e){return parseInt(Nxe(e),10)-1}function rs(e){return""+(e+1)}function _xe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Nxe(e){return e.replace(/\$(\d+)$/,"$1")}function B4(e){for(var t=Axe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ts(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function jxe(e){return e.replace(/^([A-Z])/,"$$$1")}function Axe(e){return e.replace(/^\$([A-Z])/,"$1")}function Exe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ma(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function jn(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Zo(e){var t=e.indexOf(":");return t==-1?{s:Ma(e),e:Ma(e)}:{s:Ma(e.slice(0,t)),e:Ma(e.slice(t+1))}}function ra(e,t){return typeof t>"u"||typeof t=="number"?ra(e.s,e.e):(typeof e!="string"&&(e=jn(e)),typeof t!="string"&&(t=jn(t)),e==t?e:e+":"+t)}function Xn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function _O(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=cf(e.z,r?xo(t):t)}catch{}try{return e.w=cf((e.XF||{}).numFmtId||(r?14:0),r?xo(t):t)}catch{return""+t}}function td(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?ov[e.v]||e.v:t==null?_O(e,e.v):_O(e,t))}function Oh(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function WU(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Ma(n.origin):n.origin;s=c.r,o=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=Xn(a["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[h].length;++m)if(!(typeof t[h][m]>"u")){var g={v:t[h][m]},x=s+h,v=o+m;if(u.s.r>x&&(u.s.r=x),u.s.c>v&&(u.s.c=v),u.e.r<x&&(u.e.r=x),u.e.c<v&&(u.e.c=v),t[h][m]&&typeof t[h][m]=="object"&&!Array.isArray(t[h][m])&&!(t[h][m]instanceof Date))g=t[h][m];else if(Array.isArray(g.v)&&(g.f=t[h][m][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||Ri[14],n.cellDates?(g.t="d",g.w=cf(g.z,xo(g.v))):(g.t="n",g.v=xo(g.v),g.w=cf(g.z,g.v))):g.t="s";if(i)a[x]||(a[x]=[]),a[x][v]&&a[x][v].z&&(g.z=a[x][v].z),a[x][v]=g;else{var y=jn({c:v,r:x});a[y]&&a[y].z&&(g.z=a[y].z),a[y]=g}}}return u.s.c<1e7&&(a["!ref"]=ra(u)),a}function E0(e,t){return WU(null,e,t)}function Pxe(e){return e.read_shift(4,"i")}function xc(e,t){return t||(t=ht(4)),t.write_shift(4,e),t}function ks(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Fa(e,t){var r=!1;return t==null&&(r=!0,t=ht(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Txe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function kxe(e,t){return t||(t=ht(4)),t.write_shift(2,0),t.write_shift(2,0),t}function U4(e,t){var r=e.l,n=e.read_shift(1),i=ks(e),a=[],s={t:i,h:i};if((n&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)a.push(Txe(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function Cxe(e,t){var r=!1;return t==null&&(r=!0,t=ht(15+4*e.t.length)),t.write_shift(1,0),Fa(e.t,t),r?t.slice(0,t.l):t}var Dxe=U4;function Oxe(e,t){var r=!1;return t==null&&(r=!0,t=ht(23+4*e.t.length)),t.write_shift(1,1),Fa(e.t,t),t.write_shift(4,1),kxe({},t),r?t.slice(0,t.l):t}function Dl(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ih(e,t){return t==null&&(t=ht(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Rh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Lh(e,t){return t==null&&(t=ht(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Ixe=ks,qU=Fa;function $4(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function m1(e,t){var r=!1;return t==null&&(r=!0,t=ht(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Rxe=ks,IN=$4,z4=m1;function HU(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?p1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Xf(t,0)>>2;return r?i/100:i}function VU(e,t){t==null&&(t=ht(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function KU(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Lxe(e,t){return t||(t=ht(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Mh=KU,P0=Lxe;function T0(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function _h(e,t){return(t||ht(8)).write_shift(8,e,"f")}function Mxe(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=Vxe[i];u&&(t.rgb=IO(u));break;case 2:t.rgb=IO([s,o,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function g1(e,t){if(t||(t=ht(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Fxe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Bxe(e,t){t||(t=ht(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var GU=2,Fo=3,_x=11,v1=19,Nx=64,Uxe=65,$xe=71,zxe=4108,Wxe=4126,Qa=80,NO={1:{n:"CodePage",t:GU},2:{n:"Category",t:Qa},3:{n:"PresentationFormat",t:Qa},4:{n:"ByteCount",t:Fo},5:{n:"LineCount",t:Fo},6:{n:"ParagraphCount",t:Fo},7:{n:"SlideCount",t:Fo},8:{n:"NoteCount",t:Fo},9:{n:"HiddenCount",t:Fo},10:{n:"MultimediaClipCount",t:Fo},11:{n:"ScaleCrop",t:_x},12:{n:"HeadingPairs",t:zxe},13:{n:"TitlesOfParts",t:Wxe},14:{n:"Manager",t:Qa},15:{n:"Company",t:Qa},16:{n:"LinksUpToDate",t:_x},17:{n:"CharacterCount",t:Fo},19:{n:"SharedDoc",t:_x},22:{n:"HyperlinksChanged",t:_x},23:{n:"AppVersion",t:Fo,p:"version"},24:{n:"DigSig",t:Uxe},26:{n:"ContentType",t:Qa},27:{n:"ContentStatus",t:Qa},28:{n:"Language",t:Qa},29:{n:"Version",t:Qa},255:{},2147483648:{n:"Locale",t:v1},2147483651:{n:"Behavior",t:v1},1919054434:{}},jO={1:{n:"CodePage",t:GU},2:{n:"Title",t:Qa},3:{n:"Subject",t:Qa},4:{n:"Author",t:Qa},5:{n:"Keywords",t:Qa},6:{n:"Comments",t:Qa},7:{n:"Template",t:Qa},8:{n:"LastAuthor",t:Qa},9:{n:"RevNumber",t:Qa},10:{n:"EditTime",t:Nx},11:{n:"LastPrinted",t:Nx},12:{n:"CreatedDate",t:Nx},13:{n:"ModifiedDate",t:Nx},14:{n:"PageCount",t:Fo},15:{n:"WordCount",t:Fo},16:{n:"CharCount",t:Fo},17:{n:"Thumbnail",t:$xe},18:{n:"Application",t:Qa},19:{n:"DocSecurity",t:Fo},255:{},2147483648:{n:"Locale",t:v1},2147483651:{n:"Behavior",t:v1},1919054434:{}};function qxe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Hxe=qxe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Vxe=yo(Hxe),ov={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Kxe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},jx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function YU(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function XU(e,t){var r=nxe(Kxe),n=[],i;n[n.length]=ia,n[n.length]=Ot("Types",null,{xmlns:Ra.CT,"xmlns:xsd":Ra.xsd,"xmlns:xsi":Ra.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ot("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){e[c]&&e[c].length>0&&(i=e[c][0],n[n.length]=Ot("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:jx[c][t.bookType]||jx[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ot("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:jx[c][t.bookType]||jx[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Ot("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var an={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function JU(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Hp(e){var t=[ia,Ot("Relationships",null,{xmlns:Ra.RELS})];return is(e["!id"]).forEach(function(r){t[t.length]=Ot("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function wn(e,t,r,n,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,[an.HLINK,an.XPATH,an.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function Gxe(e){var t=[ia];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function AO(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Yxe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Xxe(e){var t=[ia];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(AO(e[r][0],e[r][1])),t.push(Yxe("",e[r][0]));return t.push(AO("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function ZU(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+l1.version+"</meta:generator></office:meta></office:document-meta>"}var dh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Y5(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=Nn(t),n[n.length]=r?Ot(e,t,r):ts(e,t))}function QU(e,t){var r=t||{},n=[ia,Ot("cp:coreProperties",null,{"xmlns:cp":Ra.CORE_PROPS,"xmlns:dc":Ra.dc,"xmlns:dcterms":Ra.dcterms,"xmlns:dcmitype":Ra.dcmitype,"xmlns:xsi":Ra.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Y5("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:ON(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&Y5("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:ON(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=dh.length;++a){var s=dh[a],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Y5(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Vp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],e$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function t$(e){var t=[],r=Ot;return e||(e={}),e.Application="SheetJS",t[t.length]=ia,t[t.length]=Ot("Properties",null,{xmlns:Ra.EXT_PROPS,"xmlns:vt":Ra.vt}),Vp.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Nn(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Nn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function r$(e){var t=[ia,Ot("Properties",null,{xmlns:Ra.CUST_PROPS,"xmlns:vt":Ra.vt})];if(!e)return t.join("");var r=1;return is(e).forEach(function(i){++r,t[t.length]=Ot("property",pxe(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Nn(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var EO={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Jxe(e,t){var r=[];return is(EO).map(function(n){for(var i=0;i<dh.length;++i)if(dh[i][1]==n)return dh[i];for(i=0;i<Vp.length;++i)if(Vp[i][1]==n)return Vp[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];n[2]==="date"&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(ts(EO[n[1]]||n[1],i))}}),Ot("DocumentProperties",r.join(""),{xmlns:$o.o})}function Zxe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&is(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var s=0;s<dh.length;++s)if(a==dh[s][1])return;for(s=0;s<Vp.length;++s)if(a==Vp[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var o=e[a],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),i.push(Ot(pO(a),o,{"dt:dt":c}))}}),t&&is(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var s=t[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(Ot(pO(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+$o.o+'">'+i.join("")+"</"+n+">"}function Qxe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=ht(8);return s.write_shift(4,n),s.write_shift(4,i),s}function PO(e,t){var r=ht(4),n=ht(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ht(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Qxe(t);break;case 31:case 80:for(n=ht(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return es([r,n])}var n$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function eye(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function TO(e,t,r){var n=ht(8),i=[],a=[],s=8,o=0,c=ht(8),u=ht(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),i.push(u),s+=8+c.length,!t){u=ht(8),u.write_shift(4,0),i.unshift(u);var d=[ht(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var h=e[o][0];for(c=ht(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=es(d),a.unshift(c),s+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(n$.indexOf(e[o][0])>-1||e$.indexOf(e[o][0])>-1)&&e[o][1]!=null){var m=e[o][1],g=0;if(t){g=+t[e[o][0]];var x=r[g];if(x.p=="version"&&typeof m=="string"){var v=m.split(".");m=(+v[0]<<16)+(+v[1]||0)}c=PO(x.t,m)}else{var y=eye(m);y==-1&&(y=31,m=String(m)),c=PO(y,m)}a.push(c),u=ht(8),u.write_shift(4,t?g:2+o),i.push(u),s+=8+c.length}var w=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,w),w+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),es([n].concat(i).concat(a))}function kO(e,t,r,n,i,a){var s=ht(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Tn.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var c=TO(e,r,n);if(o.push(c),i){var u=TO(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+c.length),o.push(u)}return es(o)}function tye(e,t){t||(t=ht(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function rye(e,t){return e.read_shift(t)===1}function Hs(e,t){return t||(t=ht(2)),t.write_shift(2,+!!e),t}function i$(e){return e.read_shift(2,"u")}function Sl(e,t){return t||(t=ht(2)),t.write_shift(2,e),t}function a$(e,t,r){return r||(r=ht(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function s$(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?e.read_shift(n,i):"";return s}function nye(e){var t=e.t||"",r=ht(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=ht(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return es(i)}function iye(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function aye(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):iye(e,n,r)}function sye(e,t,r){if(r.biff>5)return aye(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function o$(e,t,r){return r||(r=ht(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function CO(e,t){t||(t=ht(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function oye(e){var t=ht(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(a==28)n=n.slice(1),CO(n,t);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),a&8&&CO(i>-1?n.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Nh(e,t,r,n){return n||(n=ht(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function lye(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[i,a,s]}function cye(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function l$(e,t){return t||(t=ht(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function W4(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=ht(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function uye(e,t){var r=!t||t.biff==8,n=ht(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function dye(e,t){var r=!t||t.biff>=8?2:1,n=ht(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function fye(e,t){var r=ht(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=nye(e[i]);var a=es([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function hye(){var e=ht(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function pye(e){var t=ht(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function mye(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,a=ht(i);return a.write_shift(2,e.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function gye(e,t,r,n){var i=ht(10);return Nh(e,t,n,i),i.write_shift(4,r),i}function vye(e,t,r,n,i){var a=!i||i.biff==8,s=ht(8+ +a+(1+a)*r.length);return Nh(e,t,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function xye(e,t,r,n){var i=r&&r.biff==5;n||(n=ht(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function yye(e,t){var r=t.biff==8||!t.biff?4:2,n=ht(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function DO(e,t,r,n){var i=r&&r.biff==5;n||(n=ht(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function bye(e){var t=ht(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function wye(e,t,r,n,i,a){var s=ht(8);return Nh(e,t,n,s),a$(r,a,s),s}function Sye(e,t,r,n){var i=ht(14);return Nh(e,t,n,i),_h(r,i),i}function _ye(e,t,r){if(r.biff<8)return Nye(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(lye(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function Nye(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=s$(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function jye(e){var t=ht(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)l$(e[r],t);return t}function Aye(e){var t=ht(24),r=Ma(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return es([t,oye(e[1])])}function Eye(e){var t=e[1].Tooltip,r=ht(10+2*(t.length+1));r.write_shift(2,2048);var n=Ma(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function Pye(e){return e||(e=ht(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Tye(e,t,r){if(!r.cellStyles)return ru(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function kye(e,t){var r=ht(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Cye(e){for(var t=ht(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Dye(e,t,r){var n=ht(15);return cv(n,e,t),n.write_shift(8,r,"f"),n}function Oye(e,t,r){var n=ht(9);return cv(n,e,t),n.write_shift(2,r),n}var Iye=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=D4({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=Sh(1);switch(c.type){case"base64":d=mc(ed(o));break;case"binary":d=mc(o);break;case"buffer":case"array":d=o;break}Uo(d,0);var h=d.read_shift(1),m=!!(h&136),g=!1,x=!1;switch(h){case 2:break;case 3:break;case 48:g=!0,m=!0;break;case 49:g=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,y=521;h==2&&(v=d.read_shift(2)),d.l+=3,h!=2&&(v=d.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(y=d.read_shift(2));var w=d.read_shift(2),_=c.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(_=e[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var S=[],E={},T=Math.min(d.length,h==2?521:y-10-(g?264:0)),D=x?32:11;d.l<T&&d[d.l]!=13;)switch(E={},E.name=c1.utils.decode(_,d.slice(d.l,d.l+D)).replace(/[\u0000\r\n].*$/g,""),d.l+=D,E.type=String.fromCharCode(d.read_shift(1)),h!=2&&!x&&(E.offset=d.read_shift(4)),E.len=d.read_shift(1),h==2&&(E.offset=d.read_shift(2)),E.dec=d.read_shift(1),E.name.length&&S.push(E),h!=2&&(d.l+=x?13:14),E.type){case"B":(!g||E.len!=8)&&c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var C=0,O=0;for(u[0]=[],O=0;O!=S.length;++O)u[0][O]=S[O].name;for(;v-- >0;){if(d[d.l]===42){d.l+=w;continue}for(++d.l,u[++C]=[],O=0,O=0;O!=S.length;++O){var R=d.slice(d.l,d.l+S[O].len);d.l+=S[O].len,Uo(R,0);var H=c1.utils.decode(_,R);switch(S[O].type){case"C":H.trim().length&&(u[C][O]=H.replace(/\s+$/,""));break;case"D":H.length===8?u[C][O]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):u[C][O]=H;break;case"F":u[C][O]=parseFloat(H.trim());break;case"+":case"I":u[C][O]=x?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":u[C][O]=!0;break;case"N":case"F":u[C][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[C][O]="##MEMO##"+(x?parseInt(H.trim(),10):R.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(u[C][O]=+H||0);break;case"@":u[C][O]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":u[C][O]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":u[C][O]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[C][O]=-R.read_shift(-8,"f");break;case"B":if(g&&S[O].len==8){u[C][O]=R.read_shift(8,"f");break}case"G":case"P":R.l+=S[O].len;break;case"0":if(S[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[O].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=S,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=E0(r(o,u),u);return d["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,d}function i(o,c){try{return Oh(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&gg(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=vo(),h=S1(o,{header:1,raw:!0,cellDates:!0}),m=h[0],g=h.slice(1),x=o["!cols"]||[],v=0,y=0,w=0,_=1;for(v=0;v<m.length;++v){if(((x[v]||{}).DBF||{}).name){m[v]=x[v].DBF.name,++w;continue}if(m[v]!=null){if(++w,typeof m[v]=="number"&&(m[v]=m[v].toString(10)),typeof m[v]!="string")throw new Error("DBF Invalid column name "+m[v]+" |"+typeof m[v]+"|");if(m.indexOf(m[v])!==v){for(y=0;y<1024;++y)if(m.indexOf(m[v]+"_"+y)==-1){m[v]+="_"+y;break}}}}var S=Xn(o["!ref"]),E=[],T=[],D=[];for(v=0;v<=S.e.c-S.s.c;++v){var C="",O="",R=0,H=[];for(y=0;y<g.length;++y)g[y][v]!=null&&H.push(g[y][v]);if(H.length==0||m[v]==null){E[v]="?";continue}for(y=0;y<H.length;++y){switch(typeof H[y]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=H[y]instanceof Date?"D":"C";break;default:O="C"}R=Math.max(R,String(H[y]).length),C=C&&C!=O?"C":O}R>250&&(R=250),O=((x[v]||{}).DBF||{}).type,O=="C"&&x[v].DBF.len>R&&(R=x[v].DBF.len),C=="B"&&O=="N"&&(C="N",D[v]=x[v].DBF.dec,R=x[v].DBF.len),T[v]=C=="C"||O=="N"?R:a[C]||0,_+=T[v],E[v]=C}var F=d.next(32);for(F.write_shift(4,318902576),F.write_shift(4,g.length),F.write_shift(2,296+32*w),F.write_shift(2,_),v=0;v<4;++v)F.write_shift(4,0);for(F.write_shift(4,0|(+t[uU]||3)<<8),v=0,y=0;v<m.length;++v)if(m[v]!=null){var U=d.next(32),M=(m[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,M,"sbcs"),U.write_shift(1,E[v]=="?"?"C":E[v],"sbcs"),U.write_shift(4,y),U.write_shift(1,T[v]||a[E[v]]||0),U.write_shift(1,D[v]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),y+=T[v]||a[E[v]]||0}var q=d.next(264);for(q.write_shift(4,13),v=0;v<65;++v)q.write_shift(4,0);for(v=0;v<g.length;++v){var ee=d.next(_);for(ee.write_shift(1,0),y=0;y<m.length;++y)if(m[y]!=null)switch(E[y]){case"L":ee.write_shift(1,g[v][y]==null?63:g[v][y]?84:70);break;case"B":ee.write_shift(8,g[v][y]||0,"f");break;case"N":var ve="0";for(typeof g[v][y]=="number"&&(ve=g[v][y].toFixed(D[y]||0)),w=0;w<T[y]-ve.length;++w)ee.write_shift(1,32);ee.write_shift(1,ve,"sbcs");break;case"D":g[v][y]?(ee.write_shift(4,("0000"+g[v][y].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(g[v][y].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+g[v][y].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var he=String(g[v][y]!=null?g[v][y]:"").slice(0,T[y]);for(ee.write_shift(1,he,"sbcs"),w=0;w<T[y]-he.length;++w)ee.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}})(),Rye=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+is(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,g){var x=e[g];return typeof x=="number"?rO(x):x},n=function(m,g,x){var v=g.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return v==59?m:rO(v)};e["|"]=254;function i(m,g){switch(g.type){case"base64":return a(ed(m),g);case"binary":return a(m,g);case"buffer":return a(un&&Buffer.isBuffer(m)?m.toString("binary"):iv(m),g);case"array":return a(qb(m),g)}throw new Error("Unrecognized type "+g.type)}function a(m,g){var x=m.split(/[\n\r]+/),v=-1,y=-1,w=0,_=0,S=[],E=[],T=null,D={},C=[],O=[],R=[],H=0,F;for(+g.codepage>=0&&gg(+g.codepage);w!==x.length;++w){H=0;var U=x[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),M=U.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),q=M[0],ee;if(U.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&E.push(U.slice(3).replace(/;;/g,";"));break;case"C":var ve=!1,he=!1,ce=!1,be=!1,Oe=-1,ae=-1;for(_=1;_<M.length;++_)switch(M[_].charAt(0)){case"A":break;case"X":y=parseInt(M[_].slice(1))-1,he=!0;break;case"Y":for(v=parseInt(M[_].slice(1))-1,he||(y=0),F=S.length;F<=v;++F)S[F]=[];break;case"K":ee=M[_].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(Wu(ee))?isNaN(xg(ee).getDate())||(ee=Ys(ee)):(ee=Wu(ee),T!==null&&SU(T)&&(ee=AU(ee))),ve=!0;break;case"E":be=!0;var L=O1e(M[_].slice(1),{r:v,c:y});S[v][y]=[S[v][y],L];break;case"S":ce=!0,S[v][y]=[S[v][y],"S5S"];break;case"G":break;case"R":Oe=parseInt(M[_].slice(1))-1;break;case"C":ae=parseInt(M[_].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}if(ve&&(S[v][y]&&S[v][y].length==2?S[v][y][0]=ee:S[v][y]=ee,T=null),ce){if(be)throw new Error("SYLK shared formula cannot have own formula");var Y=Oe>-1&&S[Oe][ae];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");S[v][y][1]=I1e(Y[1],{r:v-Oe,c:y-ae})}break;case"F":var K=0;for(_=1;_<M.length;++_)switch(M[_].charAt(0)){case"X":y=parseInt(M[_].slice(1))-1,++K;break;case"Y":for(v=parseInt(M[_].slice(1))-1,F=S.length;F<=v;++F)S[F]=[];break;case"M":H=parseInt(M[_].slice(1))/20;break;case"F":break;case"G":break;case"P":T=E[parseInt(M[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=M[_].slice(1).split(" "),F=parseInt(R[0],10);F<=parseInt(R[1],10);++F)H=parseInt(R[2],10),O[F-1]=H===0?{hidden:!0}:{wch:H},q4(O[F-1]);break;case"C":y=parseInt(M[_].slice(1))-1,O[y]||(O[y]={});break;case"R":v=parseInt(M[_].slice(1))-1,C[v]||(C[v]={}),H>0?(C[v].hpt=H,C[v].hpx=h$(H)):H===0&&(C[v].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}K<1&&(T=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}}return C.length>0&&(D["!rows"]=C),O.length>0&&(D["!cols"]=O),g&&g.sheetRows&&(S=S.slice(0,g.sheetRows)),[S,D]}function s(m,g){var x=i(m,g),v=x[0],y=x[1],w=E0(v,g);return is(y).forEach(function(_){w[_]=y[_]}),w}function o(m,g){return Oh(s(m,g),g)}function c(m,g,x,v){var y="C;Y"+(x+1)+";X"+(v+1)+";K";switch(m.t){case"n":y+=m.v||0,m.f&&!m.F&&(y+=";E"+V4(m.f,{r:x,c:v}));break;case"b":y+=m.v?"TRUE":"FALSE";break;case"e":y+=m.w||m.v;break;case"d":y+='"'+(m.w||m.v)+'"';break;case"s":y+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(m,g){g.forEach(function(x,v){var y="F;W"+(v+1)+" "+(v+1)+" ";x.hidden?y+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=x1(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=y1(x.wpx)),typeof x.wch=="number"&&(y+=Math.round(x.wch))),y.charAt(y.length-1)!=" "&&m.push(y)})}function d(m,g){g.forEach(function(x,v){var y="F;";x.hidden?y+="M0;":x.hpt?y+="M"+20*x.hpt+";":x.hpx&&(y+="M"+20*b1(x.hpx)+";"),y.length>2&&m.push(y+"R"+(v+1))})}function h(m,g){var x=["ID;PWXL;N;E"],v=[],y=Xn(m["!ref"]),w,_=Array.isArray(m),S=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&u(x,m["!cols"]),m["!rows"]&&d(x,m["!rows"]),x.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var E=y.s.r;E<=y.e.r;++E)for(var T=y.s.c;T<=y.e.c;++T){var D=jn({r:E,c:T});w=_?(m[E]||[])[T]:m[D],!(!w||w.v==null&&(!w.f||w.F))&&v.push(c(w,m,E,T))}return x.join(S)+S+v.join(S)+S+"E"+S}return{to_workbook:o,to_sheet:s,from_sheet:h}})(),Lye=(function(){function e(a,s){switch(s.type){case"base64":return t(ed(a),s);case"binary":return t(a,s);case"buffer":return t(un&&Buffer.isBuffer(a)?a.toString("binary"):iv(a),s);case"array":return t(qb(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),c=-1,u=-1,d=0,h=[];d!==o.length;++d){if(o[d].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var m=o[d].trim().split(","),g=m[0],x=m[1];++d;for(var v=o[d]||"";(v.match(/["]/g)||[]).length&1&&d<o.length-1;)v+=`
`+o[++d];switch(v=v.trim(),+g){case-1:if(v==="BOT"){h[++c]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[c][u]=!0:v==="FALSE"?h[c][u]=!1:isNaN(Wu(x))?isNaN(xg(x).getDate())?h[c][u]=x:h[c][u]=Ys(x):h[c][u]=Wu(x),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[c][u++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(h=h.slice(0,s.sheetRows)),h}function r(a,s){return E0(e(a,s),s)}function n(a,s){return Oh(r(a,s),s)}var i=(function(){var a=function(c,u,d,h,m){c.push(u),c.push(d+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},s=function(c,u,d,h){c.push(u+","+d),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],d=Xn(c["!ref"]),h,m=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,d.e.r-d.s.r+1,""),a(u,"TUPLES",0,d.e.c-d.s.c+1,""),a(u,"DATA",0,0,"");for(var g=d.s.r;g<=d.e.r;++g){s(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var v=jn({r:g,c:x});if(h=m?(c[g]||[])[x]:c[v],!h){s(u,1,0,"");continue}switch(h.t){case"n":var y=h.w;!y&&h.v!=null&&(y=h.v),y==null?h.f&&!h.F?s(u,1,0,"="+h.f):s(u,1,0,""):s(u,0,y,"V");break;case"b":s(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=cf(h.z||Ri[14],xo(Ys(h.v)))),s(u,0,h.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var w=`\r
`,_=u.join(w);return _}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),c$=(function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,m){for(var g=h.split(`
`),x=-1,v=-1,y=0,w=[];y!==g.length;++y){var _=g[y].trim().split(":");if(_[0]==="cell"){var S=Ma(_[1]);if(w.length<=S.r)for(x=w.length;x<=S.r;++x)w[x]||(w[x]=[]);switch(x=S.r,v=S.c,_[2]){case"t":w[x][v]=e(_[3]);break;case"v":w[x][v]=+_[3];break;case"vtf":var E=_[_.length-1];case"vtc":_[3]==="nl"?w[x][v]=!!+_[4]:w[x][v]=+_[4],_[2]=="vtf"&&(w[x][v]=[w[x][v],E])}}}return m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),w}function n(h,m){return E0(r(h,m),m)}function i(h,m){return Oh(n(h,m),m)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var m=[],g=[],x,v="",y=Zo(h["!ref"]),w=Array.isArray(h),_=y.s.r;_<=y.e.r;++_)for(var S=y.s.c;S<=y.e.c;++S)if(v=jn({r:_,c:S}),x=w?(h[_]||[])[S]:h[v],!(!x||x.v==null||x.t==="z")){switch(g=["cell",v,"t"],x.t){case"s":case"str":g.push(t(x.v));break;case"n":x.f?(g[2]="vtf",g[3]="n",g[4]=x.v,g[5]=t(x.f)):(g[2]="v",g[3]=x.v);break;case"b":g[2]="vt"+(x.f?"f":"c"),g[3]="nl",g[4]=x.v?"1":"0",g[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var E=xo(Ys(x.v));g[2]="vtc",g[3]="nd",g[4]=""+E,g[5]=x.w||cf(x.z||Ri[14],E);break;case"e":continue}m.push(g.join(":"))}return m.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(h){return[a,s,o,s,u(h),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}})(),Mye=(function(){function e(d,h,m,g,x){x.raw?h[m][g]=d:d===""||(d==="TRUE"?h[m][g]=!0:d==="FALSE"?h[m][g]=!1:isNaN(Wu(d))?isNaN(xg(d).getDate())?h[m][g]=d:h[m][g]=Ys(d):h[m][g]=Wu(d))}function t(d,h){var m=h||{},g=[];if(!d||d.length===0)return g;for(var x=d.split(/[\r\n]/),v=x.length-1;v>=0&&x[v].length===0;)--v;for(var y=10,w=0,_=0;_<=v;++_)w=x[_].indexOf(" "),w==-1?w=x[_].length:w++,y=Math.max(y,w);for(_=0;_<=v;++_){g[_]=[];var S=0;for(e(x[_].slice(0,y).trim(),g,_,S,m),S=1;S<=(x[_].length-y)/10+1;++S)e(x[_].slice(y+(S-1)*10,y+S*10).trim(),g,_,S,m)}return m.sheetRows&&(g=g.slice(0,m.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var h={},m=!1,g=0,x=0;g<d.length;++g)(x=d.charCodeAt(g))==34?m=!m:!m&&x in r&&(h[x]=(h[x]||0)+1);x=[];for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&x.push([h[g],g]);if(!x.length){h=n;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&x.push([h[g],g])}return x.sort(function(v,y){return v[0]-y[0]||n[v[1]]-n[y[1]]}),r[x.pop()[1]]||44}function a(d,h){var m=h||{},g="",x=m.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(g=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(g=d.charAt(4),d=d.slice(6)):g=i(d.slice(0,1024)):m&&m.FS?g=m.FS:g=i(d.slice(0,1024));var y=0,w=0,_=0,S=0,E=0,T=g.charCodeAt(0),D=!1,C=0,O=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var R=m.dateNF!=null?Qve(m.dateNF):null;function H(){var F=d.slice(S,E),U={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)U.t="z";else if(m.raw)U.t="s",U.v=F;else if(F.trim().length===0)U.t="s",U.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(U.t="s",U.v=F.slice(2,-1).replace(/""/g,'"')):R1e(F)?(U.t="n",U.f=F.slice(1)):(U.t="s",U.v=F);else if(F=="TRUE")U.t="b",U.v=!0;else if(F=="FALSE")U.t="b",U.v=!1;else if(!isNaN(_=Wu(F)))U.t="n",m.cellText!==!1&&(U.w=F),U.v=_;else if(!isNaN(xg(F).getDate())||R&&F.match(R)){U.z=m.dateNF||Ri[14];var M=0;R&&F.match(R)&&(F=exe(F,m.dateNF,F.match(R)||[]),M=1),m.cellDates?(U.t="d",U.v=Ys(F,M)):(U.t="n",U.v=xo(Ys(F,M))),m.cellText!==!1&&(U.w=cf(U.z,U.v instanceof Date?xo(U.v):U.v)),m.cellNF||delete U.z}else U.t="s",U.v=F;if(U.t=="z"||(m.dense?(x[y]||(x[y]=[]),x[y][w]=U):x[jn({c:w,r:y})]=U),S=E+1,O=d.charCodeAt(S),v.e.c<w&&(v.e.c=w),v.e.r<y&&(v.e.r=y),C==T)++w;else if(w=0,++y,m.sheetRows&&m.sheetRows<=y)return!0}e:for(;E<d.length;++E)switch(C=d.charCodeAt(E)){case 34:O===34&&(D=!D);break;case T:case 10:case 13:if(!D&&H())break e;break}return E-S>0&&H(),x["!ref"]=ra(v),x}function s(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,h):E0(t(d,h),h)}function o(d,h){var m="",g=h.type=="string"?[0,0,0,0]:Y5e(d,h);switch(h.type){case"base64":m=ed(d);break;case"binary":m=d;break;case"buffer":h.codepage==65001?m=d.toString("utf8"):h.codepage&&typeof c1<"u"||(m=un&&Buffer.isBuffer(d)?d.toString("binary"):iv(d));break;case"array":m=qb(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+h.type)}return g[0]==239&&g[1]==187&&g[2]==191?m=Dm(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=Dm(m):h.type=="binary"&&typeof c1<"u",m.slice(0,19)=="socialcalc:version:"?c$.to_sheet(h.type=="string"?m:Dm(m),h):s(m,h)}function c(d,h){return Oh(o(d,h),h)}function u(d){for(var h=[],m=Xn(d["!ref"]),g,x=Array.isArray(d),v=m.s.r;v<=m.e.r;++v){for(var y=[],w=m.s.c;w<=m.e.c;++w){var _=jn({r:v,c:w});if(g=x?(d[v]||[])[w]:d[_],!g||g.v==null){y.push("          ");continue}for(var S=(g.w||(td(g),g.w)||"").slice(0,10);S.length<10;)S+=" ";y.push(S+(w===0?" ":""))}h.push(y.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}})(),OO=(function(){function e(L,Y,K){if(L){Uo(L,L.l||0);for(var J=K.Enum||Oe;L.l<L.length;){var pe=L.read_shift(2),Ae=J[pe]||J[65535],Ne=L.read_shift(2),fe=L.l+Ne,ke=Ae.f&&Ae.f(L,Ne,K);if(L.l=fe,Y(ke,Ae,pe))return}}}function t(L,Y){switch(Y.type){case"base64":return r(mc(ed(L)),Y);case"binary":return r(mc(L),Y);case"buffer":case"array":return r(L,Y)}throw"Unsupported type "+Y.type}function r(L,Y){if(!L)return L;var K=Y||{},J=K.dense?[]:{},pe="Sheet1",Ae="",Ne=0,fe={},ke=[],Te=[],je={s:{r:0,c:0},e:{r:0,c:0}},Le=K.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)K.Enum=Oe,e(L,function(lt,Pt,ct){switch(ct){case 0:K.vers=lt,lt>=4096&&(K.qpro=!0);break;case 6:je=lt;break;case 204:lt&&(Ae=lt);break;case 222:Ae=lt;break;case 15:case 51:K.qpro||(lt[1].v=lt[1].v.slice(1));case 13:case 14:case 16:ct==14&&(lt[2]&112)==112&&(lt[2]&15)>1&&(lt[2]&15)<15&&(lt[1].z=K.dateNF||Ri[14],K.cellDates&&(lt[1].t="d",lt[1].v=AU(lt[1].v))),K.qpro&&lt[3]>Ne&&(J["!ref"]=ra(je),fe[pe]=J,ke.push(pe),J=K.dense?[]:{},je={s:{r:0,c:0},e:{r:0,c:0}},Ne=lt[3],pe=Ae||"Sheet"+(Ne+1),Ae="");var $t=K.dense?(J[lt[0].r]||[])[lt[0].c]:J[jn(lt[0])];if($t){$t.t=lt[1].t,$t.v=lt[1].v,lt[1].z!=null&&($t.z=lt[1].z),lt[1].f!=null&&($t.f=lt[1].f);break}K.dense?(J[lt[0].r]||(J[lt[0].r]=[]),J[lt[0].r][lt[0].c]=lt[1]):J[jn(lt[0])]=lt[1];break}},K);else if(L[2]==26||L[2]==14)K.Enum=ae,L[2]==14&&(K.qpro=!0,L.l=0),e(L,function(lt,Pt,ct){switch(ct){case 204:pe=lt;break;case 22:lt[1].v=lt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(lt[3]>Ne&&(J["!ref"]=ra(je),fe[pe]=J,ke.push(pe),J=K.dense?[]:{},je={s:{r:0,c:0},e:{r:0,c:0}},Ne=lt[3],pe="Sheet"+(Ne+1)),Le>0&&lt[0].r>=Le)break;K.dense?(J[lt[0].r]||(J[lt[0].r]=[]),J[lt[0].r][lt[0].c]=lt[1]):J[jn(lt[0])]=lt[1],je.e.c<lt[0].c&&(je.e.c=lt[0].c),je.e.r<lt[0].r&&(je.e.r=lt[0].r);break;case 27:lt[14e3]&&(Te[lt[14e3][0]]=lt[14e3][1]);break;case 1537:Te[lt[0]]=lt[1],lt[0]==Ne&&(pe=lt[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(J["!ref"]=ra(je),fe[Ae||pe]=J,ke.push(Ae||pe),!Te.length)return{SheetNames:ke,Sheets:fe};for(var $e={},oe=[],at=0;at<Te.length;++at)fe[ke[at]]?(oe.push(Te[at]||ke[at]),$e[Te[at]]=fe[Te[at]]||fe[ke[at]]):(oe.push(Te[at]),$e[Te[at]]={"!ref":"A1"});return{SheetNames:oe,Sheets:$e}}function n(L,Y){var K=Y||{};if(+K.codepage>=0&&gg(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var J=vo(),pe=Xn(L["!ref"]),Ae=Array.isArray(L),Ne=[];Rt(J,0,a(1030)),Rt(J,6,c(pe));for(var fe=Math.min(pe.e.r,8191),ke=pe.s.r;ke<=fe;++ke)for(var Te=rs(ke),je=pe.s.c;je<=pe.e.c;++je){ke===pe.s.r&&(Ne[je]=Ts(je));var Le=Ne[je]+Te,$e=Ae?(L[ke]||[])[je]:L[Le];if(!(!$e||$e.t=="z"))if($e.t=="n")($e.v|0)==$e.v&&$e.v>=-32768&&$e.v<=32767?Rt(J,13,g(ke,je,$e.v)):Rt(J,14,v(ke,je,$e.v));else{var oe=td($e);Rt(J,15,h(ke,je,oe.slice(0,239)))}}return Rt(J,1),J.end()}function i(L,Y){var K=Y||{};if(+K.codepage>=0&&gg(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var J=vo();Rt(J,0,s(L));for(var pe=0,Ae=0;pe<L.SheetNames.length;++pe)(L.Sheets[L.SheetNames[pe]]||{})["!ref"]&&Rt(J,27,be(L.SheetNames[pe],Ae++));var Ne=0;for(pe=0;pe<L.SheetNames.length;++pe){var fe=L.Sheets[L.SheetNames[pe]];if(!(!fe||!fe["!ref"])){for(var ke=Xn(fe["!ref"]),Te=Array.isArray(fe),je=[],Le=Math.min(ke.e.r,8191),$e=ke.s.r;$e<=Le;++$e)for(var oe=rs($e),at=ke.s.c;at<=ke.e.c;++at){$e===ke.s.r&&(je[at]=Ts(at));var lt=je[at]+oe,Pt=Te?(fe[$e]||[])[at]:fe[lt];if(!(!Pt||Pt.t=="z"))if(Pt.t=="n")Rt(J,23,H($e,at,Ne,Pt.v));else{var ct=td(Pt);Rt(J,22,C($e,at,Ne,ct.slice(0,239)))}}++Ne}}return Rt(J,1),J.end()}function a(L){var Y=ht(2);return Y.write_shift(2,L),Y}function s(L){var Y=ht(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var K=0,J=0,pe=0,Ae=0;Ae<L.SheetNames.length;++Ae){var Ne=L.SheetNames[Ae],fe=L.Sheets[Ne];if(!(!fe||!fe["!ref"])){++pe;var ke=Zo(fe["!ref"]);K<ke.e.r&&(K=ke.e.r),J<ke.e.c&&(J=ke.e.c)}}return K>8191&&(K=8191),Y.write_shift(2,K),Y.write_shift(1,pe),Y.write_shift(1,J),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function o(L,Y,K){var J={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&K.qpro?(J.s.c=L.read_shift(1),L.l++,J.s.r=L.read_shift(2),J.e.c=L.read_shift(1),L.l++,J.e.r=L.read_shift(2),J):(J.s.c=L.read_shift(2),J.s.r=L.read_shift(2),Y==12&&K.qpro&&(L.l+=2),J.e.c=L.read_shift(2),J.e.r=L.read_shift(2),Y==12&&K.qpro&&(L.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function c(L){var Y=ht(8);return Y.write_shift(2,L.s.c),Y.write_shift(2,L.s.r),Y.write_shift(2,L.e.c),Y.write_shift(2,L.e.r),Y}function u(L,Y,K){var J=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(J[0].c=L.read_shift(1),J[3]=L.read_shift(1),J[0].r=L.read_shift(2),L.l+=2):(J[2]=L.read_shift(1),J[0].c=L.read_shift(2),J[0].r=L.read_shift(2)),J}function d(L,Y,K){var J=L.l+Y,pe=u(L,Y,K);if(pe[1].t="s",K.vers==20768){L.l++;var Ae=L.read_shift(1);return pe[1].v=L.read_shift(Ae,"utf8"),pe}return K.qpro&&L.l++,pe[1].v=L.read_shift(J-L.l,"cstr"),pe}function h(L,Y,K){var J=ht(7+K.length);J.write_shift(1,255),J.write_shift(2,Y),J.write_shift(2,L),J.write_shift(1,39);for(var pe=0;pe<J.length;++pe){var Ae=K.charCodeAt(pe);J.write_shift(1,Ae>=128?95:Ae)}return J.write_shift(1,0),J}function m(L,Y,K){var J=u(L,Y,K);return J[1].v=L.read_shift(2,"i"),J}function g(L,Y,K){var J=ht(7);return J.write_shift(1,255),J.write_shift(2,Y),J.write_shift(2,L),J.write_shift(2,K,"i"),J}function x(L,Y,K){var J=u(L,Y,K);return J[1].v=L.read_shift(8,"f"),J}function v(L,Y,K){var J=ht(13);return J.write_shift(1,255),J.write_shift(2,Y),J.write_shift(2,L),J.write_shift(8,K,"f"),J}function y(L,Y,K){var J=L.l+Y,pe=u(L,Y,K);if(pe[1].v=L.read_shift(8,"f"),K.qpro)L.l=J;else{var Ae=L.read_shift(2);E(L.slice(L.l,L.l+Ae),pe),L.l+=Ae}return pe}function w(L,Y,K){var J=Y&32768;return Y&=-32769,Y=(J?L:0)+(Y>=8192?Y-16384:Y),(J?"":"$")+(K?Ts(Y):rs(Y))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(L,Y){Uo(L,0);for(var K=[],J=0,pe="",Ae="",Ne="",fe="";L.l<L.length;){var ke=L[L.l++];switch(ke){case 0:K.push(L.read_shift(8,"f"));break;case 1:Ae=w(Y[0].c,L.read_shift(2),!0),pe=w(Y[0].r,L.read_shift(2),!1),K.push(Ae+pe);break;case 2:{var Te=w(Y[0].c,L.read_shift(2),!0),je=w(Y[0].r,L.read_shift(2),!1);Ae=w(Y[0].c,L.read_shift(2),!0),pe=w(Y[0].r,L.read_shift(2),!1),K.push(Te+je+":"+Ae+pe)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(L.read_shift(2));break;case 6:{for(var Le="";ke=L[L.l++];)Le+=String.fromCharCode(ke);K.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:fe=K.pop(),Ne=K.pop(),K.push(["AND","OR"][ke-20]+"("+Ne+","+fe+")");break;default:if(ke<32&&S[ke])fe=K.pop(),Ne=K.pop(),K.push(Ne+S[ke]+fe);else if(_[ke]){if(J=_[ke][1],J==69&&(J=L[L.l++]),J>K.length){console.error("WK1 bad formula parse 0x"+ke.toString(16)+":|"+K.join("|")+"|");return}var $e=K.slice(-J);K.length-=J,K.push(_[ke][0]+"("+$e.join(",")+")")}else return ke<=7?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=24?console.error("WK1 unsupported op "+ke.toString(16)):ke<=30?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=115?console.error("WK1 unsupported function opcode "+ke.toString(16)):console.error("WK1 unrecognized opcode "+ke.toString(16))}}K.length==1?Y[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function T(L){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=L.read_shift(2),Y[3]=L[L.l++],Y[0].c=L[L.l++],Y}function D(L,Y){var K=T(L);return K[1].t="s",K[1].v=L.read_shift(Y-4,"cstr"),K}function C(L,Y,K,J){var pe=ht(6+J.length);pe.write_shift(2,L),pe.write_shift(1,K),pe.write_shift(1,Y),pe.write_shift(1,39);for(var Ae=0;Ae<J.length;++Ae){var Ne=J.charCodeAt(Ae);pe.write_shift(1,Ne>=128?95:Ne)}return pe.write_shift(1,0),pe}function O(L,Y){var K=T(L);K[1].v=L.read_shift(2);var J=K[1].v>>1;if(K[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return K[1].v=J,K}function R(L,Y){var K=T(L),J=L.read_shift(4),pe=L.read_shift(4),Ae=L.read_shift(2);if(Ae==65535)return J===0&&pe===3221225472?(K[1].t="e",K[1].v=15):J===0&&pe===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var Ne=Ae&32768;return Ae=(Ae&32767)-16446,K[1].v=(1-Ne*2)*(pe*Math.pow(2,Ae+32)+J*Math.pow(2,Ae)),K}function H(L,Y,K,J){var pe=ht(14);if(pe.write_shift(2,L),pe.write_shift(1,K),pe.write_shift(1,Y),J==0)return pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(2,65535),pe;var Ae=0,Ne=0,fe=0,ke=0;return J<0&&(Ae=1,J=-J),Ne=Math.log2(J)|0,J/=Math.pow(2,Ne-31),ke=J>>>0,(ke&2147483648)==0&&(J/=2,++Ne,ke=J>>>0),J-=ke,ke|=2147483648,ke>>>=0,J*=Math.pow(2,32),fe=J>>>0,pe.write_shift(4,fe),pe.write_shift(4,ke),Ne+=16383+(Ae?32768:0),pe.write_shift(2,Ne),pe}function F(L,Y){var K=R(L);return L.l+=Y-14,K}function U(L,Y){var K=T(L),J=L.read_shift(4);return K[1].v=J>>6,K}function M(L,Y){var K=T(L),J=L.read_shift(8,"f");return K[1].v=J,K}function q(L,Y){var K=M(L);return L.l+=Y-10,K}function ee(L,Y){return L[L.l+Y-1]==0?L.read_shift(Y,"cstr"):""}function ve(L,Y){var K=L[L.l++];K>Y-1&&(K=Y-1);for(var J="";J.length<K;)J+=String.fromCharCode(L[L.l++]);return J}function he(L,Y,K){if(!(!K.qpro||Y<21)){var J=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var pe=L.read_shift(Y-21,"cstr");return[J,pe]}}function ce(L,Y){for(var K={},J=L.l+Y;L.l<J;){var pe=L.read_shift(2);if(pe==14e3){for(K[pe]=[0,""],K[pe][0]=L.read_shift(2);L[L.l];)K[pe][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return K}function be(L,Y){var K=ht(5+L.length);K.write_shift(2,14e3),K.write_shift(2,Y);for(var J=0;J<L.length;++J){var pe=L.charCodeAt(J);K[K.l++]=pe>127?95:pe}return K[K.l++]=0,K}var Oe={0:{n:"BOF",f:i$},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:ve},65535:{n:""}},ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:he},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}})(),Fye=/^\s|\s$|[\t\n\r]/;function u$(e,t){if(!t.bookSST)return"";var r=[ia];r[r.length]=Ot("sst",null,{xmlns:A0[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(Fye)&&(a+=' xml:space="preserve"'),a+=">"+Nn(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Bye(e){return[e.read_shift(4),e.read_shift(4)]}function Uye(e,t){return t||(t=ht(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var $ye=Cxe;function zye(e){var t=vo();Nt(t,159,Uye(e));for(var r=0;r<e.length;++r)Nt(t,19,$ye(e[r]));return Nt(t,160),t.end()}function Wye(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function d$(e){var t=0,r,n=Wye(e),i=n.length+1,a,s,o,c,u;for(r=Sh(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=(t&16384)===0?0:1,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var qye=(function(){function e(i,a){switch(a.type){case"base64":return t(ed(i),a);case"binary":return t(i,a);case"buffer":return t(un&&Buffer.isBuffer(i)?i.toString("binary"):iv(i),a);case"array":return t(qb(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,h){Array.isArray(o)&&(o[h]=[]);for(var m=/\\\w+\b/g,g=0,x,v=-1;x=m.exec(d);){switch(x[0]){case"\\cell":var y=d.slice(g,m.lastIndex-x[0].length);if(y[0]==" "&&(y=y.slice(1)),++v,y.length){var w={v:y,t:"s"};Array.isArray(o)?o[h][v]=w:o[jn({r:h,c:v})]=w}break}g=m.lastIndex}v>u.e.c&&(u.e.c=v)}),o["!ref"]=ra(u),o}function r(i,a){return Oh(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=Xn(i["!ref"]),o,c=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var h=jn({r:u,c:d});o=c?(i[u]||[])[d]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(td(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function IO(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Hye=6,qu=Hye;function x1(e){return Math.floor((e+Math.round(128/qu)/256)*qu)}function y1(e){return Math.floor((e-5)/qu*100+.5)/100}function RN(e){return Math.round((e*qu+5)/qu*256)/256}function q4(e){e.width?(e.wpx=x1(e.width),e.wch=y1(e.wpx),e.MDW=qu):e.wpx?(e.wch=y1(e.wpx),e.width=RN(e.wch),e.MDW=qu):typeof e.wch=="number"&&(e.width=RN(e.wch),e.wpx=x1(e.width),e.MDW=qu),e.customWidth&&delete e.customWidth}var Vye=96,f$=Vye;function b1(e){return e*96/f$}function h$(e){return e*f$/96}function Kye(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Ot("numFmt",null,{numFmtId:n,formatCode:Nn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ot("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Gye(e){var t=[];return t[t.length]=Ot("cellXfs",null),e.forEach(function(r){t[t.length]=Ot("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ot("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function p$(e,t){var r=[ia,Ot("styleSheet",null,{xmlns:A0[0],"xmlns:vt":Ra.vt})],n;return e.SSF&&(n=Kye(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Gye(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Yye(e,t){var r=e.read_shift(2),n=ks(e);return[r,n]}function Xye(e,t,r){r||(r=ht(6+4*t.length)),r.write_shift(2,e),Fa(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Jye(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=Fxe(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Mxe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ks(e),n}function Zye(e,t){t||(t=ht(153)),t.write_shift(2,e.sz*20),Bxe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),g1(e.color,t);var n=0;return n=2,t.write_shift(1,n),Fa(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Qye=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],X5,e1e=ru;function RO(e,t){t||(t=ht(84)),X5||(X5=D4(Qye));var r=X5[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(g1({auto:1},t),g1({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function t1e(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function m$(e,t,r){r||(r=ht(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function dm(e,t){return t||(t=ht(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var r1e=ru;function n1e(e,t){return t||(t=ht(51)),t.write_shift(1,0),dm(null,t),dm(null,t),dm(null,t),dm(null,t),dm(null,t),t.length>t.l?t.slice(0,t.l):t}function i1e(e,t){return t||(t=ht(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),m1(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function a1e(e,t,r){var n=ht(2052);return n.write_shift(4,e),m1(t,n),m1(r,n),n.length>n.l?n.slice(0,n.l):n}function s1e(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(Nt(e,615,xc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Nt(e,44,Xye(i,t[i]))}),Nt(e,616))}}function o1e(e){var t=1;Nt(e,611,xc(t)),Nt(e,43,Zye({sz:12,color:{theme:1},name:"Calibri",family:2})),Nt(e,612)}function l1e(e){var t=2;Nt(e,603,xc(t)),Nt(e,45,RO({patternType:"none"})),Nt(e,45,RO({patternType:"gray125"})),Nt(e,604)}function c1e(e){var t=1;Nt(e,613,xc(t)),Nt(e,46,n1e()),Nt(e,614)}function u1e(e){var t=1;Nt(e,626,xc(t)),Nt(e,47,m$({numFmtId:0},65535)),Nt(e,627)}function d1e(e,t){Nt(e,617,xc(t.length)),t.forEach(function(r){Nt(e,47,m$(r,0))}),Nt(e,618)}function f1e(e){var t=1;Nt(e,619,xc(t)),Nt(e,48,i1e({xfId:0,name:"Normal"})),Nt(e,620)}function h1e(e){var t=0;Nt(e,505,xc(t)),Nt(e,506)}function p1e(e){var t=0;Nt(e,508,a1e(t,"TableStyleMedium9","PivotStyleMedium4")),Nt(e,509)}function m1e(e,t){var r=vo();return Nt(r,278),s1e(r,e.SSF),o1e(r),l1e(r),c1e(r),u1e(r),d1e(r,t.cellXfs),f1e(r),h1e(r),p1e(r),Nt(r,279),r.end()}function g$(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[ia];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function g1e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ks(e)}}function v1e(e){var t=ht(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Fa(e.name,t),t.slice(0,t.l)}function x1e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function y1e(e){var t=ht(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function b1e(e,t){var r=ht(8+2*t.length);return r.write_shift(4,e),Fa(t,r),r.slice(0,r.l)}function w1e(e){return e.l+=4,e.read_shift(4)!=0}function S1e(e,t){var r=ht(8);return r.write_shift(4,e),r.write_shift(4,1),r}function _1e(){var e=vo();return Nt(e,332),Nt(e,334,xc(1)),Nt(e,335,v1e({name:"XLDAPR",version:12e4,flags:3496657072})),Nt(e,336),Nt(e,339,b1e(1,"XLDAPR")),Nt(e,52),Nt(e,35,xc(514)),Nt(e,4096,xc(0)),Nt(e,4097,Sl(1)),Nt(e,36),Nt(e,53),Nt(e,340),Nt(e,337,S1e(1)),Nt(e,51,y1e([[1,0]])),Nt(e,338),Nt(e,333),e.end()}function v$(){var e=[ia];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function N1e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=jn(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Bp=1024;function x$(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Ot("xml",null,{"xmlns:v":$o.v,"xmlns:o":$o.o,"xmlns:x":$o.x,"xmlns:mv":$o.mv}).replace(/\/>/,">"),Ot("o:shapelayout",Ot("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ot("v:shapetype",[Ot("v:stroke",null,{joinstyle:"miter"}),Ot("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Bp<e*1e3;)Bp+=1e3;return t.forEach(function(a){var s=Ma(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Ot("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Ot("v:fill",c,o),d={on:"t",obscured:"t"};++Bp,i=i.concat(["<v:shape"+bg({id:"_x0000_s"+Bp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Ot("v:shadow",null,d),Ot("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ts("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),ts("x:AutoFill","False"),ts("x:Row",String(s.r)),ts("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function y$(e){var t=[ia,Ot("comments",null,{xmlns:A0[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var a=Nn(i.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(Nn(c.a))),a.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push(ts("t",Nn(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;t.push(ts("t",Nn(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function j1e(e,t,r){var n=[ia,Ot("ThreadedComments",null,{xmlns:Ra.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?a=c.id:c.parentId=a,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(Ot("threadedComment",ts("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function A1e(e){var t=[ia,Ot("personList",null,{xmlns:Ra.TCMNT,"xmlns:x":A0[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Ot("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function E1e(e){var t={};t.iauthor=e.read_shift(4);var r=Mh(e);return t.rfx=r.s,t.ref=jn(r.s),e.l+=16,t}function P1e(e,t){return t==null&&(t=ht(36)),t.write_shift(4,e[1].iauthor),P0(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var T1e=ks;function k1e(e){return Fa(e.slice(0,54))}function C1e(e){var t=vo(),r=[];return Nt(t,628),Nt(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Nt(t,632,k1e(i.a)))})}),Nt(t,631),Nt(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Ma(n[0]),e:Ma(n[0])};Nt(t,635,P1e([a,i])),i.t&&i.t.length>0&&Nt(t,637,Oxe(i)),Nt(t,636),delete i.iauthor})}),Nt(t,634),Nt(t,629),t.end()}function D1e(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Tn.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var b$=["xlsb","xlsm","xlam","biff8","xla"],O1e=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,s){var o=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,i+(o?"":"$")+Ts(d)+(c?"":"$")+rs(u)}return function(i,a){return t=a,i.replace(e,r)}})(),H4=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,V4=(function(){return function(t,r){return t.replace(H4,function(n,i,a,s,o,c){var u=B4(s)-(a?0:r.c),d=F4(c)-(o?0:r.r),h=d==0?"":o?d+1:"["+d+"]",m=u==0?"":a?u+1:"["+u+"]";return i+"R"+h+"C"+m})}})();function I1e(e,t){return e.replace(H4,function(r,n,i,a,s,o){return n+(i=="$"?i+a:Ts(B4(a)+t.c))+(s=="$"?s+o:rs(F4(o)+t.r))})}function R1e(e){return e.length!=1}function Ji(e){e.l+=1}function uf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function w$(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return S$(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),s=uf(e),o=uf(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function S$(e){var t=uf(e),r=uf(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function L1e(e,t,r){if(r.biff<8)return S$(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=uf(e),s=uf(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function _$(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return M1e(e);var n=e.read_shift(r&&r.biff==12?4:2),i=uf(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function M1e(e){var t=uf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function F1e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function B1e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return U1e(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function U1e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function $1e(e,t,r){var n=(e[e.l++]&96)>>5,i=w$(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function z1e(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=w$(e,a,r);return[n,i,s]}function W1e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function q1e(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function H1e(e,t,r){var n=(e[e.l++]&96)>>5,i=L1e(e,t-1,r);return[n,i]}function V1e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function LO(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function K1e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function G1e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Y1e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function X1e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function J1e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function N$(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Z1e(e){return e.read_shift(2),N$(e)}function Q1e(e){return e.read_shift(2),N$(e)}function ebe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=_$(e,0,r);return[n,i]}function tbe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=B1e(e,0,r);return[n,i]}function rbe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=_$(e,0,r);return[n,i,a]}function nbe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[n2e[i],E$[i],n]}function ibe(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:abe(e);return[i,(a[0]===0?E$:r2e)[a[1]]]}function abe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function sbe(e,t,r){e.l+=r&&r.biff==2?3:4}function obe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function lbe(e){return e.l++,ov[e.read_shift(1)]}function cbe(e){return e.l++,e.read_shift(2)}function ube(e){return e.l++,e.read_shift(1)!==0}function dbe(e){return e.l++,T0(e)}function fbe(e,t,r){return e.l++,s$(e,t-1,r)}function hbe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=rye(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=ov[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=T0(e);break;case 2:r[1]=sye(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function pbe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Mh:cye)(e));return i}function mbe(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=hbe(e,r.biff);return s}function gbe(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function vbe(e,t,r){if(r.biff==5)return xbe(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function xbe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function ybe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function bbe(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function wbe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Sbe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var _be=ru,Nbe=ru,jbe=ru;function lv(e,t,r){return e.l+=2,[F1e(e)]}function K4(e){return e.l+=6,[]}var Abe=lv,Ebe=K4,Pbe=K4,Tbe=lv;function j$(e){return e.l+=2,[i$(e),e.read_shift(2)&1]}var kbe=lv,Cbe=j$,Dbe=K4,Obe=lv,Ibe=lv,Rbe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Lbe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=Rbe[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:i,C:a}}function Mbe(e){return e.l+=2,[e.read_shift(4)]}function Fbe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Bbe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Ube(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function $be(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function zbe(e){return e.l+=4,[0,0]}var MO={1:{n:"PtgExp",f:obe},2:{n:"PtgTbl",f:jbe},3:{n:"PtgAdd",f:Ji},4:{n:"PtgSub",f:Ji},5:{n:"PtgMul",f:Ji},6:{n:"PtgDiv",f:Ji},7:{n:"PtgPower",f:Ji},8:{n:"PtgConcat",f:Ji},9:{n:"PtgLt",f:Ji},10:{n:"PtgLe",f:Ji},11:{n:"PtgEq",f:Ji},12:{n:"PtgGe",f:Ji},13:{n:"PtgGt",f:Ji},14:{n:"PtgNe",f:Ji},15:{n:"PtgIsect",f:Ji},16:{n:"PtgUnion",f:Ji},17:{n:"PtgRange",f:Ji},18:{n:"PtgUplus",f:Ji},19:{n:"PtgUminus",f:Ji},20:{n:"PtgPercent",f:Ji},21:{n:"PtgParen",f:Ji},22:{n:"PtgMissArg",f:Ji},23:{n:"PtgStr",f:fbe},26:{n:"PtgSheet",f:Fbe},27:{n:"PtgEndSheet",f:Bbe},28:{n:"PtgErr",f:lbe},29:{n:"PtgBool",f:ube},30:{n:"PtgInt",f:cbe},31:{n:"PtgNum",f:dbe},32:{n:"PtgArray",f:V1e},33:{n:"PtgFunc",f:nbe},34:{n:"PtgFuncVar",f:ibe},35:{n:"PtgName",f:gbe},36:{n:"PtgRef",f:ebe},37:{n:"PtgArea",f:$1e},38:{n:"PtgMemArea",f:ybe},39:{n:"PtgMemErr",f:_be},40:{n:"PtgMemNoMem",f:Nbe},41:{n:"PtgMemFunc",f:bbe},42:{n:"PtgRefErr",f:wbe},43:{n:"PtgAreaErr",f:W1e},44:{n:"PtgRefN",f:tbe},45:{n:"PtgAreaN",f:H1e},46:{n:"PtgMemAreaN",f:Ube},47:{n:"PtgMemNoMemN",f:$be},57:{n:"PtgNameX",f:vbe},58:{n:"PtgRef3d",f:rbe},59:{n:"PtgArea3d",f:z1e},60:{n:"PtgRefErr3d",f:Sbe},61:{n:"PtgAreaErr3d",f:q1e},255:{}},Wbe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},qbe={1:{n:"PtgElfLel",f:j$},2:{n:"PtgElfRw",f:Obe},3:{n:"PtgElfCol",f:Abe},6:{n:"PtgElfRwV",f:Ibe},7:{n:"PtgElfColV",f:Tbe},10:{n:"PtgElfRadical",f:kbe},11:{n:"PtgElfRadicalS",f:Dbe},13:{n:"PtgElfColS",f:Ebe},15:{n:"PtgElfColSV",f:Pbe},16:{n:"PtgElfRadicalLel",f:Cbe},25:{n:"PtgList",f:Lbe},29:{n:"PtgSxName",f:Mbe},255:{}},Hbe={0:{n:"PtgAttrNoop",f:zbe},1:{n:"PtgAttrSemi",f:J1e},2:{n:"PtgAttrIf",f:Y1e},4:{n:"PtgAttrChoose",f:K1e},8:{n:"PtgAttrGoto",f:G1e},16:{n:"PtgAttrSum",f:sbe},32:{n:"PtgAttrBaxcel",f:LO},33:{n:"PtgAttrBaxcel",f:LO},64:{n:"PtgAttrSpace",f:Z1e},65:{n:"PtgAttrSpaceSemi",f:Q1e},128:{n:"PtgAttrIfError",f:X1e},255:{}};function Vbe(e,t,r,n){if(n.biff<8)return ru(e,t);for(var i=e.l+t,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=mbe(e,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=pbe(e,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=i-e.l,t!==0&&a.push(ru(e,t)),a}function Kbe(e,t,r){for(var n=e.l+t,i,a,s=[];n!=e.l;)t=n-e.l,a=e[e.l],i=MO[a]||MO[Wbe[a]],(a===24||a===25)&&(i=(a===24?qbe:Hbe)[e[e.l+1]]),!i||!i.f?ru(e,t):s.push([i.n,i.f(e,t,r)]);return s}function Gbe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var s=n[a];s?s[0]===2?i.push('"'+s[1].replace(/"/g,'""')+'"'):i.push(s[1]):i.push("")}t.push(i.join(","))}return t.join(";")}var Ybe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Xbe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function A$(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function FO(e,t,r){var n=A$(e,t,r);return n=="#REF"?n:Xbe(n,r)}function c0(e,t,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],c,u,d,h=0,m=0,g,x="";if(!e[0]||!e[0][0])return"";for(var v=-1,y="",w=0,_=e[0].length;w<_;++w){var S=e[0][w];switch(S[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:y=Ii(" ",e[0][v][1][1]);break;case 1:y=Ii("\r",e[0][v][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}u=u+y,v=-1}o.push(u+Ybe[S[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Im(S[1][1],s,i),o.push(Rm(d,a));break;case"PtgRefN":d=r?Im(S[1][1],r,i):S[1][1],o.push(Rm(d,a));break;case"PtgRef3d":h=S[1][1],d=Im(S[1][2],s,i),x=FO(n,h,i),o.push(x+"!"+Rm(d,a));break;case"PtgFunc":case"PtgFuncVar":var E=S[1][0],T=S[1][1];E||(E=0),E&=127;var D=E==0?[]:o.slice(-E);o.length-=E,T==="User"&&(T=D.shift()),o.push(T+"("+D.join(",")+")");break;case"PtgBool":o.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(S[1]);break;case"PtgNum":o.push(String(S[1]));break;case"PtgStr":o.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(S[1]);break;case"PtgAreaN":g=SO(S[1][1],r?{s:r}:s,i),o.push(G5(g,i));break;case"PtgArea":g=SO(S[1][1],s,i),o.push(G5(g,i));break;case"PtgArea3d":h=S[1][1],g=S[1][2],x=FO(n,h,i),o.push(x+"!"+G5(g,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=S[1][2];var C=(n.names||[])[m-1]||(n[0]||[])[m],O=C?C.Name:"SH33TJSNAME"+String(m);O&&O.slice(0,6)=="_xlfn."&&!i.xlfn&&(O=O.slice(6)),o.push(O);break;case"PtgNameX":var R=S[1][1];m=S[1][2];var H;if(i.biff<=5)R<0&&(R=-R),n[R]&&(H=n[R][m]);else{var F="";if(((n[R]||[])[0]||[])[0]==14849||(((n[R]||[])[0]||[])[0]==1025?n[R][m]&&n[R][m].itab>0&&(F=n.SheetNames[n[R][m].itab-1]+"!"):F=n.SheetNames[m-1]+"!"),n[R]&&n[R][m])F+=n[R][m].Name;else if(n[0]&&n[0][m])F+=n[0][m].Name;else{var U=(A$(n,R,i)||"").split(";;");U[m-1]?F=U[m-1]:F+="SH33TJSERRX"}o.push(F);break}H||(H={Name:"SH33TJSERRY"}),o.push(H.Name);break;case"PtgParen":var M="(",q=")";if(v>=0){switch(y="",e[0][v][1][0]){case 2:M=Ii(" ",e[0][v][1][1])+M;break;case 3:M=Ii("\r",e[0][v][1][1])+M;break;case 4:q=Ii(" ",e[0][v][1][1])+q;break;case 5:q=Ii("\r",e[0][v][1][1])+q;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(M+o.pop()+q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:S[1][1],r:S[1][0]};var ee={c:r.c,r:r.r};if(n.sharedf[jn(d)]){var ve=n.sharedf[jn(d)];o.push(c0(ve,s,ee,n,i))}else{var he=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(c0(u[1],s,ee,n,i)),he=!0;break}he||o.push(S[1])}break;case"PtgArray":o.push("{"+Gbe(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&ce.indexOf(e[0][w][0])==-1){S=e[0][v];var be=!0;switch(S[1][0]){case 4:be=!1;case 0:y=Ii(" ",S[1][1]);break;case 5:be=!1;case 1:y=Ii("\r",S[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}o.push((be?y:"")+o.pop()+(be?"":y)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function Jbe(e){if(e==null){var t=ht(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return _h(e);return _h(0)}function Zbe(e,t,r,n,i){var a=Nh(t,r,i),s=Jbe(e.v),o=ht(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=ht(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var h=es([a,s,o,u]);return h}function Hb(e,t,r){var n=e.read_shift(4),i=Kbe(e,n,r),a=e.read_shift(4),s=a>0?Vbe(e,a,i,r):null;return[i,s]}var Qbe=Hb,Vb=Hb,e2e=Hb,t2e=Hb,r2e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},E$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},n2e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function i2e(e){var t="of:="+e.replace(H4,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function a2e(e){return e.replace(/\./,"!")}var Lm=typeof Map<"u";function G4(e,t,r){var n=0,i=e.length;if(r){if(Lm?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=Lm?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(Lm?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function Kb(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(qu=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=y1(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=RN(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function P$(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function vf(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,a=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){_U(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===n)return i;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function s2e(e,t,r){if(e&&e["!ref"]){var n=Xn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function o2e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ra(e[r])+'"/>';return t+"</mergeCells>"}function l2e(e,t,r,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,s.codeName=yg(Nn(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+Ot("outlinePr",null,u)}!a&&!o||(i[i.length]=Ot("sheetPr",o,s))}var c2e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],u2e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function d2e(e){var t={sheet:1};return c2e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),u2e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=d$(e.password).toString(16).toUpperCase()),Ot("sheetProtection",null,t)}function f2e(e){return P$(e),Ot("pageMargins",null,e)}function h2e(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=Ot("col",null,Kb(i,n)));return r[r.length]="</cols>",r.join("")}function p2e(e,t,r,n){var i=typeof e.ref=="string"?e.ref:ra(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=Zo(i);s.s.r==s.e.r&&(s.e.r=Zo(t["!ref"]).e.r,i=ra(s));for(var o=0;o<a.length;++o){var c=a[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ot("autoFilter",null,{ref:i})}function m2e(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ot("sheetViews",Ot("sheetView",null,i),{})}function g2e(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=ov[e.v];break;case"d":n&&n.cellDates?i=Ys(e.v,-1).toISOString():(e=yo(e),e.t="n",i=""+(e.v=xo(Ys(e.v)))),typeof e.z>"u"&&(e.z=Ri[14]);break;default:i=e.v;break}var o=ts("v",Nn(i)),c={r:t},u=vf(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=ts("v",""+G4(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=a&&(e.t=a,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Ot("f",Nn(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Ot("c",o,c)}function v2e(e,t,r,n){var i=[],a=[],s=Xn(e["!ref"]),o="",c,u="",d=[],h=0,m=0,g=e["!rows"],x=Array.isArray(e),v={r:u},y,w=-1;for(m=s.s.c;m<=s.e.c;++m)d[m]=Ts(m);for(h=s.s.r;h<=s.e.r;++h){for(a=[],u=rs(h),m=s.s.c;m<=s.e.c;++m){c=d[m]+u;var _=x?(e[h]||[])[m]:e[c];_!==void 0&&(o=g2e(_,c,e,t))!=null&&a.push(o)}(a.length>0||g&&g[h])&&(v={r:u},g&&g[h]&&(y=g[h],y.hidden&&(v.hidden=1),w=-1,y.hpx?w=b1(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(v.ht=w,v.customHeight=1),y.level&&(v.outlineLevel=y.level)),i[i.length]=Ot("row",a.join(""),v))}if(g)for(;h<g.length;++h)g&&g[h]&&(v={r:h+1},y=g[h],y.hidden&&(v.hidden=1),w=-1,y.hpx?w=b1(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(v.ht=w,v.customHeight=1),y.level&&(v.outlineLevel=y.level),i[i.length]=Ot("row","",v));return i.join("")}function T$(e,t,r,n){var i=[ia,Ot("worksheet",null,{xmlns:A0[0],"xmlns:r":Ra.r})],a=r.SheetNames[e],s=0,o="",c=r.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",d=Xn(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=ra(d)}n||(n={}),c["!comments"]=[];var h=[];l2e(c,r,e,t,i),i[i.length]=Ot("dimension",null,{ref:u}),i[i.length]=m2e(c,t,e,r),t.sheetFormat&&(i[i.length]=Ot("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=h2e(c,c["!cols"])),i[s=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=v2e(c,t),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),c["!protect"]&&(i[i.length]=d2e(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=p2e(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=o2e(c["!merges"]));var m=-1,g,x=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(g={ref:v[0]},v[1].Target.charAt(0)!="#"&&(x=wn(n,-1,Nn(v[1].Target).replace(/#.*$/,""),an.HLINK),g["r:id"]="rId"+x),(m=v[1].Target.indexOf("#"))>-1&&(g.location=Nn(v[1].Target.slice(m+1))),v[1].Tooltip&&(g.tooltip=Nn(v[1].Tooltip)),i[i.length]=Ot("hyperlink",null,g))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=f2e(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=ts("ignoredErrors",Ot("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(x=wn(n,-1,"../drawings/drawing"+(e+1)+".xml",an.DRAW),i[i.length]=Ot("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=h),c["!comments"].length>0&&(x=wn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",an.VML),i[i.length]=Ot("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function x2e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function y2e(e,t,r){var n=ht(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;i.hpx?a=b1(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var h=-1,m=-1,g=d<<10;g<d+1<<10;++g){u.c=g;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[jn(u)];x&&(h<0&&(h=g),m=g)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,m))}var v=n.l;return n.l=c,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function b2e(e,t,r,n){var i=y2e(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&Nt(e,0,i)}var w2e=Mh,S2e=P0;function _2e(){}function N2e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Ixe(e),r}function j2e(e,t,r){r==null&&(r=ht(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return g1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),qU(e,r),r.slice(0,r.l)}function A2e(e){var t=Dl(e);return[t]}function E2e(e,t,r){return r==null&&(r=ht(8)),Ih(t,r)}function P2e(e){var t=Rh(e);return[t]}function T2e(e,t,r){return r==null&&(r=ht(4)),Lh(t,r)}function k2e(e){var t=Dl(e),r=e.read_shift(1);return[t,r,"b"]}function C2e(e,t,r){return r==null&&(r=ht(9)),Ih(t,r),r.write_shift(1,e.v?1:0),r}function D2e(e){var t=Rh(e),r=e.read_shift(1);return[t,r,"b"]}function O2e(e,t,r){return r==null&&(r=ht(5)),Lh(t,r),r.write_shift(1,e.v?1:0),r}function I2e(e){var t=Dl(e),r=e.read_shift(1);return[t,r,"e"]}function R2e(e,t,r){return r==null&&(r=ht(9)),Ih(t,r),r.write_shift(1,e.v),r}function L2e(e){var t=Rh(e),r=e.read_shift(1);return[t,r,"e"]}function M2e(e,t,r){return r==null&&(r=ht(8)),Lh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function F2e(e){var t=Dl(e),r=e.read_shift(4);return[t,r,"s"]}function B2e(e,t,r){return r==null&&(r=ht(12)),Ih(t,r),r.write_shift(4,t.v),r}function U2e(e){var t=Rh(e),r=e.read_shift(4);return[t,r,"s"]}function $2e(e,t,r){return r==null&&(r=ht(8)),Lh(t,r),r.write_shift(4,t.v),r}function z2e(e){var t=Dl(e),r=T0(e);return[t,r,"n"]}function W2e(e,t,r){return r==null&&(r=ht(16)),Ih(t,r),_h(e.v,r),r}function q2e(e){var t=Rh(e),r=T0(e);return[t,r,"n"]}function H2e(e,t,r){return r==null&&(r=ht(12)),Lh(t,r),_h(e.v,r),r}function V2e(e){var t=Dl(e),r=HU(e);return[t,r,"n"]}function K2e(e,t,r){return r==null&&(r=ht(12)),Ih(t,r),VU(e.v,r),r}function G2e(e){var t=Rh(e),r=HU(e);return[t,r,"n"]}function Y2e(e,t,r){return r==null&&(r=ht(8)),Lh(t,r),VU(e.v,r),r}function X2e(e){var t=Dl(e),r=U4(e);return[t,r,"is"]}function J2e(e){var t=Dl(e),r=ks(e);return[t,r,"str"]}function Z2e(e,t,r){return r==null&&(r=ht(12+4*e.v.length)),Ih(t,r),Fa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Q2e(e){var t=Rh(e),r=ks(e);return[t,r,"str"]}function ewe(e,t,r){return r==null&&(r=ht(8+4*e.v.length)),Lh(t,r),Fa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function twe(e,t,r){var n=e.l+t,i=Dl(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(r.cellFormula){e.l+=2;var o=Vb(e,n-e.l,r);s[3]=c0(o,null,i,r.supbooks,r)}else e.l=n;return s}function rwe(e,t,r){var n=e.l+t,i=Dl(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(r.cellFormula){e.l+=2;var o=Vb(e,n-e.l,r);s[3]=c0(o,null,i,r.supbooks,r)}else e.l=n;return s}function nwe(e,t,r){var n=e.l+t,i=Dl(e);i.r=r["!row"];var a=T0(e),s=[i,a,"n"];if(r.cellFormula){e.l+=2;var o=Vb(e,n-e.l,r);s[3]=c0(o,null,i,r.supbooks,r)}else e.l=n;return s}function iwe(e,t,r){var n=e.l+t,i=Dl(e);i.r=r["!row"];var a=ks(e),s=[i,a,"str"];if(r.cellFormula){e.l+=2;var o=Vb(e,n-e.l,r);s[3]=c0(o,null,i,r.supbooks,r)}else e.l=n;return s}var awe=Mh,swe=P0;function owe(e,t){return t==null&&(t=ht(4)),t.write_shift(4,e),t}function lwe(e,t){var r=e.l+t,n=Mh(e),i=$4(e),a=ks(e),s=ks(e),o=ks(e);e.l=r;var c={rfx:n,relId:i,loc:a,display:o};return s&&(c.Tooltip=s),c}function cwe(e,t){var r=ht(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));P0({s:Ma(e[0]),e:Ma(e[0])},r),z4("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return Fa(i||"",r),Fa(e[1].Tooltip||"",r),Fa("",r),r.slice(0,r.l)}function uwe(){}function dwe(e,t,r){var n=e.l+t,i=KU(e),a=e.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=Qbe(e,n-e.l,r);s[1]=o}else e.l=n;return s}function fwe(e,t,r){var n=e.l+t,i=Mh(e),a=[i];if(r.cellFormula){var s=t2e(e,n-e.l,r);a[1]=s,e.l=n}else e.l=n;return a}function hwe(e,t,r){r==null&&(r=ht(18));var n=Kb(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var k$=["left","right","top","bottom","header","footer"];function pwe(e){var t={};return k$.forEach(function(r){t[r]=T0(e)}),t}function mwe(e,t){return t==null&&(t=ht(48)),P$(e),k$.forEach(function(r){_h(e[r],t)}),t}function gwe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function vwe(e,t,r){r==null&&(r=ht(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function xwe(e){var t=ht(24);return t.write_shift(4,4),t.write_shift(4,1),P0(e,t),t}function ywe(e,t){return t==null&&(t=ht(66)),t.write_shift(2,e.password?d$(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function bwe(){}function wwe(){}function Swe(e,t,r,n,i,a,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=yo(t),t.z=t.z||Ri[14],t.v=xo(Ys(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=vf(i.cellXfs,t,i),t.l&&a["!links"].push([jn(c),t.l]),t.c&&a["!comments"].push([jn(c),t.c]),t.t){case"s":case"str":return i.bookSST?(o=G4(i.Strings,t.v,i.revStrings),c.t="s",c.v=o,s?Nt(e,18,$2e(t,c)):Nt(e,7,B2e(t,c))):(c.t="str",s?Nt(e,17,ewe(t,c)):Nt(e,6,Z2e(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?Nt(e,13,Y2e(t,c)):Nt(e,2,K2e(t,c)):s?Nt(e,16,H2e(t,c)):Nt(e,5,W2e(t,c)),!0;case"b":return c.t="b",s?Nt(e,15,O2e(t,c)):Nt(e,4,C2e(t,c)),!0;case"e":return c.t="e",s?Nt(e,14,M2e(t,c)):Nt(e,3,R2e(t,c)),!0}return s?Nt(e,12,T2e(t,c)):Nt(e,1,E2e(t,c)),!0}function _we(e,t,r,n){var i=Xn(t["!ref"]||"A1"),a,s="",o=[];Nt(e,145);var c=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var d=i.s.r;d<=u;++d){s=rs(d),b2e(e,t,i,d);var h=!1;if(d<=i.e.r)for(var m=i.s.c;m<=i.e.c;++m){d===i.s.r&&(o[m]=Ts(m)),a=o[m]+s;var g=c?(t[d]||[])[m]:t[a];if(!g){h=!1;continue}h=Swe(e,g,d,m,n,t,h)}}Nt(e,146)}function Nwe(e,t){!t||!t["!merges"]||(Nt(e,177,owe(t["!merges"].length)),t["!merges"].forEach(function(r){Nt(e,176,swe(r))}),Nt(e,178))}function jwe(e,t){!t||!t["!cols"]||(Nt(e,390),t["!cols"].forEach(function(r,n){r&&Nt(e,60,hwe(n,r))}),Nt(e,391))}function Awe(e,t){!t||!t["!ref"]||(Nt(e,648),Nt(e,649,xwe(Xn(t["!ref"]))),Nt(e,650))}function Ewe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=wn(r,-1,n[1].Target.replace(/#.*$/,""),an.HLINK);Nt(e,494,cwe(n,i))}}),delete t["!links"]}function Pwe(e,t,r,n){if(t["!comments"].length>0){var i=wn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",an.VML);Nt(e,551,z4("rId"+i)),t["!legacy"]=i}}function Twe(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:ra(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Zo(a);o.s.r==o.e.r&&(o.e.r=Zo(t["!ref"]).e.r,a=ra(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Nt(e,161,P0(Xn(a))),Nt(e,162)}}function kwe(e,t,r){Nt(e,133),Nt(e,137,vwe(t,r)),Nt(e,138),Nt(e,134)}function Cwe(e,t){t["!protect"]&&Nt(e,535,ywe(t["!protect"]))}function Dwe(e,t,r,n){var i=vo(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=Xn(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Nt(i,129),(r.vbaraw||s["!outline"])&&Nt(i,147,j2e(o,s["!outline"])),Nt(i,148,S2e(c)),kwe(i,s,r.Workbook),jwe(i,s),_we(i,s,e,t),Cwe(i,s),Twe(i,s,r,e),Nwe(i,s),Ewe(i,s,n),s["!margins"]&&Nt(i,476,mwe(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Awe(i,s),Pwe(i,s,e,n),Nt(i,130),i.end()}function Owe(e,t){e.l+=10;var r=ks(e);return{name:r}}var Iwe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Rwe(e){return!e.Workbook||!e.Workbook.WBProps?"false":fxe(e.Workbook.WBProps.date1904)?"true":"false"}var Lwe="][*?/\\".split("");function C$(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Lwe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Mwe(e,t,r){e.forEach(function(n,i){C$(n);for(var a=0;a<i;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[i]&&t[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Fwe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Mwe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)s2e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function D$(e){var t=[ia];t[t.length]=Ot("workbook",null,{xmlns:A0[0],"xmlns:r":Ra.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Iwe.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ot("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var s={name:Nn(e.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=Ot("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Ot("definedName",Nn(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Bwe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=IN(e),r.name=ks(e),r}function Uwe(e,t){return t||(t=ht(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),z4(e.strRelID,t),Fa(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function $we(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?ks(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function zwe(e,t){t||(t=ht(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),qU(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Wwe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=Rxe(e),s=e2e(e,0,r),o=$4(e);e.l=n;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function qwe(e,t){Nt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Nt(e,156,Uwe(i))}Nt(e,144)}function Hwe(e,t){t||(t=ht(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Fa("SheetJS",t),Fa(l1.version,t),Fa(l1.version,t),Fa("7262",t),t.length>t.l?t.slice(0,t.l):t}function Vwe(e,t){t||(t=ht(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Kwe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(Nt(e,135),Nt(e,158,Vwe(i)),Nt(e,136))}}function Gwe(e,t){var r=vo();return Nt(r,131),Nt(r,128,Hwe()),Nt(r,153,zwe(e.Workbook&&e.Workbook.WBProps||null)),Kwe(r,e),qwe(r,e),Nt(r,132),r.end()}function Ywe(e,t,r){return(t.slice(-4)===".bin"?Gwe:D$)(e)}function Xwe(e,t,r,n,i){return(t.slice(-4)===".bin"?Dwe:T$)(e,r,n,i)}function Jwe(e,t,r){return(t.slice(-4)===".bin"?m1e:p$)(e,r)}function Zwe(e,t,r){return(t.slice(-4)===".bin"?zye:u$)(e,r)}function Qwe(e,t,r){return(t.slice(-4)===".bin"?C1e:y$)(e)}function e5e(e){return(e.slice(-4)===".bin"?_1e:v$)()}function t5e(e,t){var r=[];return e.Props&&r.push(Jxe(e.Props,t)),e.Custprops&&r.push(Zxe(e.Props,e.Custprops)),r.join("")}function r5e(){return""}function n5e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(Ot("NumberFormat",null,{"ss:Format":Nn(Ri[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(Ot("Style",a.join(""),s))}),Ot("Styles",r.join(""))}function O$(e){return Ot("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+V4(e.Ref,{r:0,c:0})})}function i5e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(O$(i)))}return Ot("Names",r.join(""))}function a5e(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(O$(o)))}return a.join("")}function s5e(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Ot("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Ot("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Ot("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Ot("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(ts("ProtectContents","True")),e["!protect"].objects&&i.push(ts("ProtectObjects","True")),e["!protect"].scenarios&&i.push(ts("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(ts("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(ts("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":Ot("WorksheetOptions",i.join(""),{xmlns:$o.x})}function o5e(e){return e.map(function(t){var r=dxe(t.t||""),n=Ot("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ot("Comment",n,{"ss:Author":t.a})}).join("")}function l5e(e,t,r,n,i,a,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Nn(V4(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=Ma(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Nn(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Nn(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var h="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",m=String(e.v);break;case"b":h="Boolean",m=e.v?"1":"0";break;case"e":h="Error",m=ov[e.v];break;case"d":h="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ri[14]);break;case"s":h="String",m=uxe(e.v||"");break}var g=vf(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+g),o["ss:Index"]=s.c+1;var x=e.v!=null?m:"",v=e.t=="z"?"":'<Data ss:Type="'+h+'">'+x+"</Data>";return(e.c||[]).length>0&&(v+=o5e(e.c)),Ot("Cell",v,o)}function c5e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=h$(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function u5e(e,t,r,n){if(!e["!ref"])return"";var i=Xn(e["!ref"]),a=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(y,w){q4(y);var _=!!y.width,S=Kb(w,y),E={"ss:Index":w+1};_&&(E["ss:Width"]=x1(S.width)),y.hidden&&(E["ss:Hidden"]="1"),o.push(Ot("Column",null,E))});for(var c=Array.isArray(e),u=i.s.r;u<=i.e.r;++u){for(var d=[c5e(u,(e["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var m=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>h)&&!(a[s].s.r>u)&&!(a[s].e.c<h)&&!(a[s].e.r<u)){(a[s].s.c!=h||a[s].s.r!=u)&&(m=!0);break}if(!m){var g={r:u,c:h},x=jn(g),v=c?(e[u]||[])[h]:e[x];d.push(l5e(v,x,e,t,r,n,g))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function d5e(e,t,r){var n=[],i=r.SheetNames[e],a=r.Sheets[i],s=a?a5e(a,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?u5e(a,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(s5e(a,t,e,r)),n.join("")}function f5e(e,t){t||(t={}),e.SSF||(e.SSF=yo(Ri)),e.SSF&&(zb(),$b(e.SSF),t.revssf=Wb(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],vf(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(t5e(e,t)),r.push(r5e()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ot("Worksheet",d5e(n,t,e),{"ss:Name":Nn(e.SheetNames[n])}));return r[2]=n5e(e,t),r[3]=i5e(e),ia+Ot("Workbook",r.join(""),{xmlns:$o.ss,"xmlns:o":$o.o,"xmlns:x":$o.x,"xmlns:ss":$o.ss,"xmlns:dt":$o.dt,"xmlns:html":$o.html})}var J5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function h5e(e,t){var r=[],n=[],i=[],a=0,s,o=dO(NO,"n"),c=dO(jO,"n");if(e.Props)for(s=is(e.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],e.Props[s[a]]]);if(e.Custprops)for(s=is(e.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],e.Custprops[s[a]]]);var u=[];for(a=0;a<i.length;++a)n$.indexOf(i[a][0])>-1||e$.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);n.length&&Tn.utils.cfb_add(t,"/SummaryInformation",kO(n,J5.SI,c,jO)),(r.length||u.length)&&Tn.utils.cfb_add(t,"/DocumentSummaryInformation",kO(r,J5.DSI,o,NO,u.length?u:null,J5.UDI))}function p5e(e,t){var r=t||{},n=Tn.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Tn.utils.cfb_add(n,i,I$(e,r)),r.biff==8&&(e.Props||e.Custprops)&&h5e(e,n),r.biff==8&&e.vbaraw&&D1e(n,Tn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var m5e={0:{f:x2e},1:{f:A2e},2:{f:V2e},3:{f:I2e},4:{f:k2e},5:{f:z2e},6:{f:J2e},7:{f:F2e},8:{f:iwe},9:{f:nwe},10:{f:twe},11:{f:rwe},12:{f:P2e},13:{f:G2e},14:{f:L2e},15:{f:D2e},16:{f:q2e},17:{f:Q2e},18:{f:U2e},19:{f:U4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Wwe},40:{},42:{},43:{f:Jye},44:{f:Yye},45:{f:e1e},46:{f:r1e},47:{f:t1e},48:{},49:{f:Pxe},50:{},51:{f:x1e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Tye},62:{f:X2e},63:{f:N1e},64:{f:bwe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ru,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:gwe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:N2e},148:{f:w2e,p:16},151:{f:uwe},152:{},153:{f:$we},154:{},155:{},156:{f:Bwe},157:{},158:{},159:{T:1,f:Bye},160:{T:-1},161:{T:1,f:Mh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:awe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:g1e},336:{T:-1},337:{f:w1e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:IN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:_ye},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:dwe},427:{f:fwe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:pwe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:_2e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:lwe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:IN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:T1e},633:{T:1},634:{T:-1},635:{T:1,f:E1e},636:{T:-1},637:{f:Dxe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Owe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:wwe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Rt(e,t,r,n){var i=t;if(!isNaN(i)){var a=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&M4(r)&&e.push(r)}}function g5e(e,t,r,n){var i=(r||[]).length||0;if(i<=8224)return Rt(e,t,r,i);var a=t;if(!isNaN(a)){for(var s=r.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,a),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<i;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function cv(e,t,r){return e||(e=ht(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function v5e(e,t,r,n){var i=ht(9);return cv(i,e,t),a$(r,n||"b",i),i}function x5e(e,t,r){var n=ht(8+2*r.length);return cv(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function y5e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?xo(Ys(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?Rt(e,2,Oye(r,n,i)):Rt(e,3,Dye(r,n,i));return;case"b":case"e":Rt(e,5,v5e(r,n,t.v,t.t));return;case"s":case"str":Rt(e,4,x5e(r,n,(t.v||"").slice(0,255)));return}Rt(e,1,cv(null,r,n))}function b5e(e,t,r,n){var i=Array.isArray(t),a=Xn(t["!ref"]||"A1"),s,o="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=ra(a)}for(var u=a.s.r;u<=a.e.r;++u){o=rs(u);for(var d=a.s.c;d<=a.e.c;++d){u===a.s.r&&(c[d]=Ts(d)),s=c[d]+o;var h=i?(t[u]||[])[d]:t[s];h&&y5e(e,h,u,d)}}}function w5e(e,t){for(var r=t||{},n=vo(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Rt(n,r.biff==4?1033:r.biff==3?521:9,W4(e,16,r)),b5e(n,e.Sheets[e.SheetNames[i]],i,r),Rt(n,10),n.end()}function S5e(e,t,r){Rt(e,49,mye({sz:12,name:"Arial"},r))}function _5e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Rt(e,1054,xye(i,t[i],r))})}function N5e(e,t){var r=ht(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Rt(e,2151,r),r=ht(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),l$(Xn(t["!ref"]||"A1"),r),r.write_shift(4,4),Rt(e,2152,r)}function j5e(e,t){for(var r=0;r<16;++r)Rt(e,224,DO({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Rt(e,224,DO(n,0,t))})}function A5e(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Rt(e,440,Aye(n)),n[1].Tooltip&&Rt(e,2048,Eye(n))}delete t["!links"]}function E5e(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&Rt(e,125,kye(Kb(i,n),i))})}}function P5e(e,t,r,n,i){var a=16+vf(i.cellXfs,t,i);if(t.v==null&&!t.bf){Rt(e,513,Nh(r,n,a));return}if(t.bf)Rt(e,6,Zbe(t,r,n,i,a));else switch(t.t){case"d":case"n":var s=t.t=="d"?xo(Ys(t.v)):t.v;Rt(e,515,Sye(r,n,s,a));break;case"b":case"e":Rt(e,517,wye(r,n,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var o=G4(i.Strings,t.v,i.revStrings);Rt(e,253,gye(r,n,o,a))}else Rt(e,516,vye(r,n,(t.v||"").slice(0,255),a,i));break;default:Rt(e,513,Nh(r,n,a))}}function T5e(e,t,r){var n=vo(),i=r.SheetNames[e],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},c=Array.isArray(a),u=t.biff==8,d,h="",m=[],g=Xn(a["!ref"]||"A1"),x=u?65536:16384;if(g.e.c>255||g.e.r>=x){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,x-1)}Rt(n,2057,W4(r,16,t)),Rt(n,13,Sl(1)),Rt(n,12,Sl(100)),Rt(n,15,Hs(!0)),Rt(n,17,Hs(!1)),Rt(n,16,_h(.001)),Rt(n,95,Hs(!0)),Rt(n,42,Hs(!1)),Rt(n,43,Hs(!1)),Rt(n,130,Sl(1)),Rt(n,128,bye()),Rt(n,131,Hs(!1)),Rt(n,132,Hs(!1)),u&&E5e(n,a["!cols"]),Rt(n,512,yye(g,t)),u&&(a["!links"]=[]);for(var v=g.s.r;v<=g.e.r;++v){h=rs(v);for(var y=g.s.c;y<=g.e.c;++y){v===g.s.r&&(m[y]=Ts(y)),d=m[y]+h;var w=c?(a[v]||[])[y]:a[d];w&&(P5e(n,w,v,y,t),u&&w.l&&a["!links"].push([d,w.l]))}}var _=o.CodeName||o.name||i;return u&&Rt(n,574,pye((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&Rt(n,229,jye(a["!merges"])),u&&A5e(n,a),Rt(n,442,o$(_)),u&&N5e(n,a),Rt(n,10),n.end()}function k5e(e,t,r){var n=vo(),i=(e||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=r.biff==8,c=r.biff==5;if(Rt(n,2057,W4(e,5,r)),r.bookType=="xla"&&Rt(n,135),Rt(n,225,o?Sl(1200):null),Rt(n,193,tye(2)),c&&Rt(n,191),c&&Rt(n,192),Rt(n,226),Rt(n,92,uye("SheetJS",r)),Rt(n,66,Sl(o?1200:1252)),o&&Rt(n,353,Sl(0)),o&&Rt(n,448),Rt(n,317,Cye(e.SheetNames.length)),o&&e.vbaraw&&Rt(n,211),o&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";Rt(n,442,o$(u))}Rt(n,156,Sl(17)),Rt(n,25,Hs(!1)),Rt(n,18,Hs(!1)),Rt(n,19,Sl(0)),o&&Rt(n,431,Hs(!1)),o&&Rt(n,444,Sl(0)),Rt(n,61,hye()),Rt(n,64,Hs(!1)),Rt(n,141,Sl(0)),Rt(n,34,Hs(Rwe(e)=="true")),Rt(n,14,Hs(!0)),o&&Rt(n,439,Hs(!1)),Rt(n,218,Sl(0)),S5e(n,e,r),_5e(n,e.SSF,r),j5e(n,r),o&&Rt(n,352,Hs(!1));var d=n.end(),h=vo();o&&Rt(h,140,Pye()),o&&r.Strings&&g5e(h,252,fye(r.Strings)),Rt(h,10);var m=h.end(),g=vo(),x=0,v=0;for(v=0;v<e.SheetNames.length;++v)x+=(o?12:11)+(o?2:1)*e.SheetNames[v].length;var y=d.length+x+m.length;for(v=0;v<e.SheetNames.length;++v){var w=a[v]||{};Rt(g,133,dye({pos:y,hs:w.Hidden||0,dt:0,name:e.SheetNames[v]},r)),y+=t[v].length}var _=g.end();if(x!=_.length)throw new Error("BS8 "+x+" != "+_.length);var S=[];return d.length&&S.push(d),_.length&&S.push(_),m.length&&S.push(m),es(S)}function C5e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=yo(Ri)),e&&e.SSF&&(zb(),$b(e.SSF),r.revssf=Wb(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Y4(r),r.cellXfs=[],vf(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=T5e(i,r,e);return n.unshift(k5e(e,n,r)),es(n)}function I$(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Zo(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return C5e(e,t);case 4:case 3:case 2:return w5e(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function D5e(e,t,r,n){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>s)&&!(i[u].e.r<r||i[u].e.c<s)){if(i[u].s.r<r||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var d=jn({r,c:s}),h=n.dense?(e[r]||[])[s]:e[d],m=h&&h.v!=null&&(h.h||cxe(h.w||(td(h),h.w)||""))||"",g={};o>1&&(g.rowspan=o),c>1&&(g.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":h&&(g["data-t"]=h&&h.t||"z",h.v!=null&&(g["data-v"]=h.v),h.z!=null&&(g["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),g.id=(n.id||"sjs")+"-"+d,a.push(Ot("td",m,g))}}var x="<tr>";return x+a.join("")+"</tr>"}var O5e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',I5e="</body></html>";function R5e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function R$(e,t){var r=t||{},n=r.header!=null?r.header:O5e,i=r.footer!=null?r.footer:I5e,a=[n],s=Zo(e["!ref"]);r.dense=Array.isArray(e),a.push(R5e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(D5e(e,s,o,r));return a.push("</table>"+i),a.join("")}function L$(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Ma(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var d=Zo(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var h=[],m=0,g=e["!rows"]||(e["!rows"]=[]),x=0,v=0,y=0,w=0,_=0,S=0;for(e["!cols"]||(e["!cols"]=[]);x<o.length&&v<c;++x){var E=o[x];if(BO(E)){if(n.display)continue;g[v]={hidden:!0}}var T=E.children;for(y=w=0;y<T.length;++y){var D=T[y];if(!(n.display&&BO(D))){var C=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):hxe(D.innerHTML),O=D.getAttribute("data-z")||D.getAttribute("z");for(m=0;m<h.length;++m){var R=h[m];R.s.c==w+a&&R.s.r<v+i&&v+i<=R.e.r&&(w=R.e.c+1-a,m=-1)}S=+D.getAttribute("colspan")||1,((_=+D.getAttribute("rowspan")||1)>1||S>1)&&h.push({s:{r:v+i,c:w+a},e:{r:v+i+(_||1)-1,c:w+a+(S||1)-1}});var H={t:"s",v:C},F=D.getAttribute("data-t")||D.getAttribute("t")||"";C!=null&&(C.length==0?H.t=F||"z":n.raw||C.trim().length==0||F=="s"||(C==="TRUE"?H={t:"b",v:!0}:C==="FALSE"?H={t:"b",v:!1}:isNaN(Wu(C))?isNaN(xg(C).getDate())||(H={t:"d",v:Ys(C)},n.cellDates||(H={t:"n",v:xo(H.v)}),H.z=n.dateNF||Ri[14]):H={t:"n",v:Wu(C)})),H.z===void 0&&O!=null&&(H.z=O);var U="",M=D.getElementsByTagName("A");if(M&&M.length)for(var q=0;q<M.length&&!(M[q].hasAttribute("href")&&(U=M[q].getAttribute("href"),U.charAt(0)!="#"));++q);U&&U.charAt(0)!="#"&&(H.l={Target:U}),n.dense?(e[v+i]||(e[v+i]=[]),e[v+i][w+a]=H):e[jn({c:w+a,r:v+i})]=H,u.e.c<w+a&&(u.e.c=w+a),w+=S}}++v}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,v-1+i),e["!ref"]=ra(u),v>=c&&(e["!fullref"]=ra((u.e.r=o.length-x+v-1+i,u))),e}function M$(e,t){var r=t||{},n=r.dense?[]:{};return L$(n,e,t)}function L5e(e,t){return Oh(M$(e,t),t)}function BO(e){var t="",r=M5e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function M5e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var F5e=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+bg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return ia+t}})(),UO=(function(){var e=function(a){return Nn(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,o){var c=[];c.push('      <table:table table:name="'+Nn(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,h=Zo(a["!ref"]||"A1"),m=a["!merges"]||[],g=0,x=Array.isArray(a);if(a["!cols"])for(d=0;d<=h.e.c;++d)c.push("        <table:table-column"+(a["!cols"][d]?' table:style-name="co'+a["!cols"][d].ods+'"':"")+`></table:table-column>
`);var v="",y=a["!rows"]||[];for(u=0;u<h.s.r;++u)v=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=h.e.r;++u){for(v=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+v+`>
`),d=0;d<h.s.c;++d)c.push(t);for(;d<=h.e.c;++d){var w=!1,_={},S="";for(g=0;g!=m.length;++g)if(!(m[g].s.c>d)&&!(m[g].s.r>u)&&!(m[g].e.c<d)&&!(m[g].e.r<u)){(m[g].s.c!=d||m[g].s.r!=u)&&(w=!0),_["table:number-columns-spanned"]=m[g].e.c-m[g].s.c+1,_["table:number-rows-spanned"]=m[g].e.r-m[g].s.r+1;break}if(w){c.push(r);continue}var E=jn({r:u,c:d}),T=x?(a[u]||[])[d]:a[E];if(T&&T.f&&(_["table:formula"]=Nn(i2e(T.f)),T.F&&T.F.slice(0,E.length)==E)){var D=Zo(T.F);_["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,_["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!T){c.push(t);continue}switch(T.t){case"b":S=T.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=T.v?"true":"false";break;case"n":S=T.w||String(T.v||0),_["office:value-type"]="float",_["office:value"]=T.v||0;break;case"s":case"str":S=T.v==null?"":T.v,_["office:value-type"]="string";break;case"d":S=T.w||Ys(T.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=Ys(T.v).toISOString(),_["table:style-name"]="ce1";break;default:c.push(t);continue}var C=e(S);if(T.l&&T.l.Target){var O=T.l.Target;O=O.charAt(0)=="#"?"#"+a2e(O.slice(1)):O,O.charAt(0)!="#"&&!O.match(/^\w+:/)&&(O="../"+O),C=Ot("text:a",C,{"xlink:href":O.replace(/&/g,"&amp;")})}c.push("          "+Ot("table:table-cell",Ot("text:p",C,{}),_)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var h=u["!cols"][d];if(h.width==null&&h.wpx==null&&h.wch==null)continue;q4(h),h.ods=o;var m=u["!cols"][d].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),a.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var h=u["!rows"][d].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var c=[ia],u=bg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=bg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(ZU().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=s.SheetNames.length;++h)c.push(n(s.Sheets[s.SheetNames[h]],s,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function F$(e,t){if(t.bookType=="fods")return UO(e,t);var r=O4(),n="",i=[],a=[];return n="mimetype",Mr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Mr(r,n,UO(e,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Mr(r,n,F5e(e,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Mr(r,n,ia+ZU()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Mr(r,n,Xxe(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Mr(r,n,Gxe(i)),r}function w1(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function B5e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):mc(yg(e))}function U5e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function df(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function $5e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=r>=0?0:128}function wg(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function bn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Kp(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function fa(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=wg(e,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=wg(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function Ya(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(bn(n*8+i.type)),i.type==2&&t.push(bn(i.data.length)),t.push(i.data))})}),df(t)}function ic(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=wg(e,n),a=fa(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:Kp(a[1][0].data),messages:[]};a[2].forEach(function(o){var c=fa(o.data),u=Kp(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(s.merge=Kp(a[3][0].data)>>>0>0),r.push(s)}return r}function xp(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:bn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:bn(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:bn(s.data.length)}],n[2].push({data:Ya(s.meta),type:2})});var a=Ya(n);t.push(bn(a.length)),t.push(a),i.forEach(function(s){return t.push(s)})}),df(t)}function z5e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=wg(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[df(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var d=df(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function ac(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(z5e(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return df(t)}function yp(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var a=bn(n),s=a.length;t.push(a),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return df(t)}function Z5(e,t){var r=new Uint8Array(32),n=w1(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,$5e(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,i)}function Q5(e,t){var r=new Uint8Array(32),n=w1(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Fd(e){var t=fa(e);return wg(t[1][0].data)}function W5e(e,t,r){var n,i,a,s;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=e[8])==null?void 0:a[0])==null?void 0:s.data)&&Kp(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=w1(e[7][0].data),d=0,h=[],m=w1(e[4][0].data),g=0,x=[],v=0;v<t.length;++v){if(t[v]==null){u.setUint16(v*2,65535,!0),m.setUint16(v*2,65535);continue}u.setUint16(v*2,d,!0),m.setUint16(v*2,g,!0);var y,w;switch(typeof t[v]){case"string":y=Z5({t:"s",v:t[v]},r),w=Q5({t:"s",v:t[v]},r);break;case"number":y=Z5({t:"n",v:t[v]},r),w=Q5({t:"n",v:t[v]},r);break;case"boolean":y=Z5({t:"b",v:t[v]},r),w=Q5({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}h.push(y),d+=y.length,x.push(w),g+=w.length,++c}for(e[2][0].data=bn(c);v<e[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),m.setUint16(v*2,65535,!0);return e[6][0].data=df(h),e[3][0].data=df(x),c}function q5e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Zo(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ra(n)));var a=S1(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(Y){return Y.forEach(function(K){typeof K=="string"&&s.push(K)})});var o={},c=[],u=Tn.read(t.numbers,{type:"base64"});u.FileIndex.map(function(Y,K){return[Y,u.FullPaths[K]]}).forEach(function(Y){var K=Y[0],J=Y[1];if(K.type==2&&K.name.match(/\.iwa/)){var pe=K.content,Ae=ac(pe),Ne=ic(Ae);Ne.forEach(function(fe){c.push(fe.id),o[fe.id]={deps:[],location:J,type:Kp(fe.messages[0].meta[1][0].data)}})}}),c.sort(function(Y,K){return Y-K});var d=c.filter(function(Y){return Y>1}).map(function(Y){return[Y,bn(Y)]});u.FileIndex.map(function(Y,K){return[Y,u.FullPaths[K]]}).forEach(function(Y){var K=Y[0];if(Y[1],!!K.name.match(/\.iwa/)){var J=ic(ac(K.content));J.forEach(function(pe){pe.messages.forEach(function(Ae){d.forEach(function(Ne){pe.messages.some(function(fe){return Kp(fe.meta[1][0].data)!=11006&&U5e(fe.data,Ne[1])})&&o[Ne[0]].deps.push(pe.id)})})})}});for(var h=Tn.find(u,o[1].location),m=ic(ac(h.content)),g,x=0;x<m.length;++x){var v=m[x];v.id==1&&(g=v)}var y=Fd(fa(g.messages[0].data)[1][0].data);for(h=Tn.find(u,o[y].location),m=ic(ac(h.content)),x=0;x<m.length;++x)v=m[x],v.id==y&&(g=v);for(y=Fd(fa(g.messages[0].data)[2][0].data),h=Tn.find(u,o[y].location),m=ic(ac(h.content)),x=0;x<m.length;++x)v=m[x],v.id==y&&(g=v);for(y=Fd(fa(g.messages[0].data)[2][0].data),h=Tn.find(u,o[y].location),m=ic(ac(h.content)),x=0;x<m.length;++x)v=m[x],v.id==y&&(g=v);var w=fa(g.messages[0].data);{w[6][0].data=bn(n.e.r+1),w[7][0].data=bn(n.e.c+1);var _=Fd(w[46][0].data),S=Tn.find(u,o[_].location),E=ic(ac(S.content));{for(var T=0;T<E.length&&E[T].id!=_;++T);if(E[T].id!=_)throw"Bad ColumnRowUIDMapArchive";var D=fa(E[T].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var C=0;C<=n.e.c;++C){var O=[];O[1]=O[2]=[{type:0,data:bn(C+420690)}],D[1].push({type:2,data:Ya(O)}),D[2].push({type:0,data:bn(C)}),D[3].push({type:0,data:bn(C)})}D[4]=[],D[5]=[],D[6]=[];for(var R=0;R<=n.e.r;++R)O=[],O[1]=O[2]=[{type:0,data:bn(R+726270)}],D[4].push({type:2,data:Ya(O)}),D[5].push({type:0,data:bn(R)}),D[6].push({type:0,data:bn(R)});E[T].messages[0].data=Ya(D)}S.content=yp(xp(E)),S.size=S.content.length,delete w[46];var H=fa(w[4][0].data);{H[7][0].data=bn(n.e.r+1);var F=fa(H[1][0].data),U=Fd(F[2][0].data);S=Tn.find(u,o[U].location),E=ic(ac(S.content));{if(E[0].id!=U)throw"Bad HeaderStorageBucket";var M=fa(E[0].messages[0].data);for(R=0;R<a.length;++R){var q=fa(M[2][0].data);q[1][0].data=bn(R),q[4][0].data=bn(a[R].length),M[2][R]={type:M[2][0].type,data:Ya(q)}}E[0].messages[0].data=Ya(M)}S.content=yp(xp(E)),S.size=S.content.length;var ee=Fd(H[2][0].data);S=Tn.find(u,o[ee].location),E=ic(ac(S.content));{if(E[0].id!=ee)throw"Bad HeaderStorageBucket";for(M=fa(E[0].messages[0].data),C=0;C<=n.e.c;++C)q=fa(M[2][0].data),q[1][0].data=bn(C),q[4][0].data=bn(n.e.r+1),M[2][C]={type:M[2][0].type,data:Ya(q)};E[0].messages[0].data=Ya(M)}S.content=yp(xp(E)),S.size=S.content.length;var ve=Fd(H[4][0].data);(function(){for(var Y=Tn.find(u,o[ve].location),K=ic(ac(Y.content)),J,pe=0;pe<K.length;++pe){var Ae=K[pe];Ae.id==ve&&(J=Ae)}var Ne=fa(J.messages[0].data);{Ne[3]=[];var fe=[];s.forEach(function(je,Le){fe[1]=[{type:0,data:bn(Le)}],fe[2]=[{type:0,data:bn(1)}],fe[3]=[{type:2,data:B5e(je)}],Ne[3].push({type:2,data:Ya(fe)})})}J.messages[0].data=Ya(Ne);var ke=xp(K),Te=yp(ke);Y.content=Te,Y.size=Y.content.length})();var he=fa(H[3][0].data);{var ce=he[1][0];delete he[2];var be=fa(ce.data);{var Oe=Fd(be[2][0].data);(function(){for(var Y=Tn.find(u,o[Oe].location),K=ic(ac(Y.content)),J,pe=0;pe<K.length;++pe){var Ae=K[pe];Ae.id==Oe&&(J=Ae)}var Ne=fa(J.messages[0].data);{delete Ne[6],delete he[7];var fe=new Uint8Array(Ne[5][0].data);Ne[5]=[];for(var ke=0,Te=0;Te<=n.e.r;++Te){var je=fa(fe);ke+=W5e(je,a[Te],s),je[1][0].data=bn(Te),Ne[5].push({data:Ya(je),type:2})}Ne[1]=[{type:0,data:bn(n.e.c+1)}],Ne[2]=[{type:0,data:bn(n.e.r+1)}],Ne[3]=[{type:0,data:bn(ke)}],Ne[4]=[{type:0,data:bn(n.e.r+1)}]}J.messages[0].data=Ya(Ne);var Le=xp(K),$e=yp(Le);Y.content=$e,Y.size=Y.content.length})()}ce.data=Ya(be)}H[3][0].data=Ya(he)}w[4][0].data=Ya(H)}g.messages[0].data=Ya(w);var ae=xp(m),L=yp(ae);return h.content=L,h.size=h.content.length,u}function H5e(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Y4(e){H5e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function V5e(e,t){return t.bookType=="ods"?F$(e,t):t.bookType=="numbers"?q5e(e,t):t.bookType=="xlsb"?K5e(e,t):G5e(e,t)}function K5e(e,t){Bp=1024,e&&!e.SSF&&(e.SSF=yo(Ri)),e&&e.SSF&&(zb(),$b(e.SSF),t.revssf=Wb(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Lm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=b$.indexOf(t.bookType)>-1,i=YU();Y4(t=t||{});var a=O4(),s="",o=0;if(t.cellXfs=[],vf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Mr(a,s,QU(e.Props,t)),i.coreprops.push(s),wn(t.rels,2,s,an.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Mr(a,s,t$(e.Props)),i.extprops.push(s),wn(t.rels,3,s,an.EXT_PROPS),e.Custprops!==e.Props&&is(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Mr(a,s,r$(e.Custprops)),i.custprops.push(s),wn(t.rels,4,s,an.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+o+"."+r,Mr(a,s,Xwe(o-1,s,t,e,d)),i.sheets.push(s),wn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,an.WS[0]),h){var g=h["!comments"],x=!1,v="";g&&g.length>0&&(v="xl/comments"+o+"."+r,Mr(a,v,Qwe(g,v)),i.comments.push(v),wn(d,-1,"../comments"+o+"."+r,an.CMNT),x=!0),h["!legacy"]&&x&&Mr(a,"xl/drawings/vmlDrawing"+o+".vml",x$(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&Mr(a,JU(s),Hp(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Mr(a,s,Zwe(t.Strings,s,t)),i.strs.push(s),wn(t.wbrels,-1,"sharedStrings."+r,an.SST)),s="xl/workbook."+r,Mr(a,s,Ywe(e,s)),i.workbooks.push(s),wn(t.rels,1,s,an.WB),s="xl/theme/theme1.xml",Mr(a,s,g$(e.Themes,t)),i.themes.push(s),wn(t.wbrels,-1,"theme/theme1.xml",an.THEME),s="xl/styles."+r,Mr(a,s,Jwe(e,s,t)),i.styles.push(s),wn(t.wbrels,-1,"styles."+r,an.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Mr(a,s,e.vbaraw),i.vba.push(s),wn(t.wbrels,-1,"vbaProject.bin",an.VBA)),s="xl/metadata."+r,Mr(a,s,e5e(s)),i.metadata.push(s),wn(t.wbrels,-1,"metadata."+r,an.XLMETA),Mr(a,"[Content_Types].xml",XU(i,t)),Mr(a,"_rels/.rels",Hp(t.rels)),Mr(a,"xl/_rels/workbook."+r+".rels",Hp(t.wbrels)),delete t.revssf,delete t.ssf,a}function G5e(e,t){Bp=1024,e&&!e.SSF&&(e.SSF=yo(Ri)),e&&e.SSF&&(zb(),$b(e.SSF),t.revssf=Wb(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Lm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=b$.indexOf(t.bookType)>-1,i=YU();Y4(t=t||{});var a=O4(),s="",o=0;if(t.cellXfs=[],vf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Mr(a,s,QU(e.Props,t)),i.coreprops.push(s),wn(t.rels,2,s,an.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Mr(a,s,t$(e.Props)),i.extprops.push(s),wn(t.rels,3,s,an.EXT_PROPS),e.Custprops!==e.Props&&is(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Mr(a,s,r$(e.Custprops)),i.custprops.push(s),wn(t.rels,4,s,an.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],g=(m||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+o+"."+r,Mr(a,s,T$(o-1,t,e,h)),i.sheets.push(s),wn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,an.WS[0]),m){var x=m["!comments"],v=!1,y="";if(x&&x.length>0){var w=!1;x.forEach(function(_){_[1].forEach(function(S){S.T==!0&&(w=!0)})}),w&&(y="xl/threadedComments/threadedComment"+o+"."+r,Mr(a,y,j1e(x,d,t)),i.threadedcomments.push(y),wn(h,-1,"../threadedComments/threadedComment"+o+"."+r,an.TCMNT)),y="xl/comments"+o+"."+r,Mr(a,y,y$(x)),i.comments.push(y),wn(h,-1,"../comments"+o+"."+r,an.CMNT),v=!0}m["!legacy"]&&v&&Mr(a,"xl/drawings/vmlDrawing"+o+".vml",x$(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&Mr(a,JU(s),Hp(h))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Mr(a,s,u$(t.Strings,t)),i.strs.push(s),wn(t.wbrels,-1,"sharedStrings."+r,an.SST)),s="xl/workbook."+r,Mr(a,s,D$(e)),i.workbooks.push(s),wn(t.rels,1,s,an.WB),s="xl/theme/theme1.xml",Mr(a,s,g$(e.Themes,t)),i.themes.push(s),wn(t.wbrels,-1,"theme/theme1.xml",an.THEME),s="xl/styles."+r,Mr(a,s,p$(e,t)),i.styles.push(s),wn(t.wbrels,-1,"styles."+r,an.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Mr(a,s,e.vbaraw),i.vba.push(s),wn(t.wbrels,-1,"vbaProject.bin",an.VBA)),s="xl/metadata."+r,Mr(a,s,v$()),i.metadata.push(s),wn(t.wbrels,-1,"metadata."+r,an.XLMETA),d.length>1&&(s="xl/persons/person.xml",Mr(a,s,A1e(d)),i.people.push(s),wn(t.wbrels,-1,"persons/person.xml",an.PEOPLE)),Mr(a,"[Content_Types].xml",XU(i,t)),Mr(a,"_rels/.rels",Hp(t.rels)),Mr(a,"xl/_rels/workbook."+r+".rels",Hp(t.wbrels)),delete t.revssf,delete t.ssf,a}function Y5e(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ed(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function B$(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return av(t.file,Tn.write(e,{type:un?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Tn.write(e,t)}function X5e(e,t){var r=yo(t||{}),n=V5e(e,r);return J5e(n,r)}function J5e(e,t){var r={},n=un?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?Tn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(Ub(i))}return t.password&&typeof encrypt_agile<"u"?B$(encrypt_agile(i,t.password),t):t.type==="file"?av(t.file,i):t.type=="string"?Dm(i):i}function Z5e(e,t){var r=t||{},n=p5e(e,r);return B$(n,r)}function Hc(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return vg(yg(n));case"binary":return yg(n);case"string":return e;case"file":return av(t.file,n,"utf8");case"buffer":return un?dd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Hc(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Q5e(e,t){switch(t.type){case"base64":return vg(e);case"binary":return e;case"string":return e;case"file":return av(t.file,e,"binary");case"buffer":return un?dd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Ax(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?vg(r):t.type=="string"?Dm(r):r;case"file":return av(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function U$(e,t){Eve(),Fwe(e);var r=yo(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=U$(e,r);return r.type="array",Ub(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Hc(f5e(e,r),r);case"slk":case"sylk":return Hc(Rye.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return Hc(R$(e.Sheets[e.SheetNames[i]],r),r);case"txt":return Q5e($$(e.Sheets[e.SheetNames[i]],r),r);case"csv":return Hc(X4(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return Hc(Lye.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return Ax(Iye.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return Hc(Mye.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return Hc(qye.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return Hc(c$.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return Hc(F$(e,r),r);case"wk1":return Ax(OO.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return Ax(OO.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Ax(I$(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Z5e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return X5e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function eSe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function tSe(e,t,r){var n={};return n.type="file",n.file=t,eSe(n),U$(e,n)}function rSe(e,t,r,n,i,a,s,o){var c=rs(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!s||e[r])for(var g=t.s.c;g<=t.e.c;++g){var x=s?e[r][g]:e[n[g]+c];if(x===void 0||x.t===void 0){if(u===void 0)continue;a[g]!=null&&(m[a[g]]=u);continue}var v=x.v;switch(x.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(a[g]!=null){if(v==null)if(x.t=="e"&&v===null)m[a[g]]=null;else if(u!==void 0)m[a[g]]=u;else if(d&&v===null)m[a[g]]=null;else continue;else m[a[g]]=d&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?v:td(x,v,o);v!=null&&(h=!1)}}return{row:m,isempty:h}}function S1(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Xn(d);break;case"number":c=Xn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(i=0);var h=rs(c.s.r),m=[],g=[],x=0,v=0,y=Array.isArray(e),w=c.s.r,_=0,S={};y&&!e[w]&&(e[w]=[]);var E=u.skipHidden&&e["!cols"]||[],T=u.skipHidden&&e["!rows"]||[];for(_=c.s.c;_<=c.e.c;++_)if(!(E[_]||{}).hidden)switch(m[_]=Ts(_),r=y?e[w][_]:e[m[_]+h],n){case 1:a[_]=_-c.s.c;break;case 2:a[_]=m[_];break;case 3:a[_]=u.header[_-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=td(r,null,u),v=S[s]||0,!v)S[s]=1;else{do o=s+"_"+v++;while(S[o]);S[s]=v,S[o]=1}a[_]=o}for(w=c.s.r+i;w<=c.e.r;++w)if(!(T[w]||{}).hidden){var D=rSe(e,c,w,m,n,a,y,u);(D.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(g[x++]=D.row)}return g.length=x,g}var $O=/"/g;function nSe(e,t,r,n,i,a,s,o){for(var c=!0,u=[],d="",h=rs(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var g=o.dense?(e[r]||[])[m]:e[n[m]+h];if(g==null)d="";else if(g.v!=null){c=!1,d=""+(o.rawNumbers&&g.t=="n"?g.v:td(g,null,o));for(var x=0,v=0;x!==d.length;++x)if((v=d.charCodeAt(x))===i||v===a||v===34||o.forceQuotes){d='"'+d.replace($O,'""')+'"';break}d=="ID"&&(d='"ID"')}else g.f!=null&&!g.F?(c=!1,d="="+g.f,d.indexOf(",")>=0&&(d='"'+d.replace($O,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function X4(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=Xn(e["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),d="",h=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(m[x]||{}).hidden||(h[x]=Ts(x));for(var v=0,y=i.s.r;y<=i.e.r;++y)(g[y]||{}).hidden||(d=nSe(e,i,y,h,s,c,a,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((v++?o:"")+d)));return delete n.dense,r.join("")}function $$(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=X4(e,t);return r}function iSe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=Xn(e["!ref"]),a="",s=[],o,c=[],u=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=Ts(o);for(var d=i.s.r;d<=i.e.r;++d)for(a=rs(d),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function z$(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Ma(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var h=Xn(a["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),s==-1&&(s=h.e.r+1,d.e.r=s+t.length-1+i)}else s==-1&&(s=0,d.e.r=t.length-1+i);var m=n.header||[],g=0;t.forEach(function(v,y){is(v).forEach(function(w){(g=m.indexOf(w))==-1&&(m[g=m.length]=w);var _=v[w],S="z",E="",T=jn({c:o+g,r:s+y+i});u=Sg(a,T),_&&typeof _=="object"&&!(_ instanceof Date)?a[T]=_:(typeof _=="number"?S="n":typeof _=="boolean"?S="b":typeof _=="string"?S="s":_ instanceof Date?(S="d",n.cellDates||(S="n",_=xo(_)),E=n.dateNF||Ri[14]):_===null&&n.nullError&&(S="e",_=0),u?(u.t=S,u.v=_,delete u.w,delete u.R,E&&(u.z=E)):a[T]=u={t:S,v:_},E&&(u.z=E))})}),d.e.c=Math.max(d.e.c,o+m.length-1);var x=rs(s);if(i)for(g=0;g<m.length;++g)a[Ts(g+o)+x]={t:"s",v:m[g]};return a["!ref"]=ra(d),a}function aSe(e,t){return z$(null,e,t)}function Sg(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Ma(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Sg(e,jn(t)):Sg(e,jn({r:t,c:r||0}))}function sSe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function oSe(){return{SheetNames:[],Sheets:{}}}function lSe(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=s+i)!=-1;++i);}if(C$(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function cSe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=sSe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function uSe(e,t){return e.z=t,e}function W$(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function dSe(e,t,r){return W$(e,"#"+t,r)}function fSe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function hSe(e,t,r,n){for(var i=typeof t!="string"?t:Xn(t),a=typeof t=="string"?t:ra(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var c=Sg(e,s,o);c.t="n",c.F=a,delete c.v,s==i.s.r&&o==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var eS={encode_col:Ts,encode_row:rs,encode_cell:jn,encode_range:ra,decode_col:B4,decode_row:F4,split_cell:Exe,decode_cell:Ma,decode_range:Zo,format_cell:td,sheet_add_aoa:WU,sheet_add_json:z$,sheet_add_dom:L$,aoa_to_sheet:E0,json_to_sheet:aSe,table_to_sheet:M$,table_to_book:L5e,sheet_to_csv:X4,sheet_to_txt:$$,sheet_to_json:S1,sheet_to_html:R$,sheet_to_formulae:iSe,sheet_to_row_object_array:S1,sheet_get_cell:Sg,book_new:oSe,book_append_sheet:lSe,book_set_sheet_visibility:cSe,cell_set_number_format:uSe,cell_set_hyperlink:W$,cell_set_internal_link:dSe,cell_add_comment:fSe,sheet_set_array_formula:hSe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const pSe="modulepreload",mSe=function(e){return"/"+e},zO={},tS=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");i=c(r.map(u=>{if(u=mSe(u),u in zO)return;zO[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":pSe,d||(m.as="script"),m.crossOrigin="",m.href=u,o&&m.setAttribute("nonce",o),document.head.appendChild(m),d)return new Promise((g,x)=>{m.addEventListener("load",g),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}var bc=Uint8Array,Ko=Uint16Array,J4=Int32Array,Z4=new bc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Q4=new bc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),WO=new bc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),q$=function(e,t){for(var r=new Ko(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new J4(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},H$=q$(Z4,2),gSe=H$.b,LN=H$.r;gSe[28]=258,LN[258]=28;var vSe=q$(Q4,0),qO=vSe.r,MN=new Ko(32768);for(var Gn=0;Gn<32768;++Gn){var Bd=(Gn&43690)>>1|(Gn&21845)<<1;Bd=(Bd&52428)>>2|(Bd&13107)<<2,Bd=(Bd&61680)>>4|(Bd&3855)<<4,MN[Gn]=((Bd&65280)>>8|(Bd&255)<<8)>>1}var Mm=(function(e,t,r){for(var n=e.length,i=0,a=new Ko(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new Ko(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new Ko(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],d=t-e[i],h=s[e[i]-1]++<<d,m=h|(1<<d)-1;h<=m;++h)o[MN[h]>>c]=u}else for(o=new Ko(n),i=0;i<n;++i)e[i]&&(o[i]=MN[s[e[i]-1]++]>>15-e[i]);return o}),jh=new bc(288);for(var Gn=0;Gn<144;++Gn)jh[Gn]=8;for(var Gn=144;Gn<256;++Gn)jh[Gn]=9;for(var Gn=256;Gn<280;++Gn)jh[Gn]=7;for(var Gn=280;Gn<288;++Gn)jh[Gn]=8;var _1=new bc(32);for(var Gn=0;Gn<32;++Gn)_1[Gn]=5;var xSe=Mm(jh,9,0),ySe=Mm(_1,5,0),V$=function(e){return(e+7)/8|0},bSe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new bc(e.subarray(t,r))},Au=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},fm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},rS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:G$,l:0};if(i==1){var s=new bc(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(T,D){return T.f-D.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=i-1;)o=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var m=a[0].s,n=1;n<i;++n)a[n].s>m&&(m=a[n].s);var g=new Ko(m+1),x=FN(r[d-1],g,0);if(x>t){var n=0,v=0,y=x-t,w=1<<y;for(a.sort(function(D,C){return g[C.s]-g[D.s]||D.f-C.f});n<i;++n){var _=a[n].s;if(g[_]>t)v+=w-(1<<x-g[_]),g[_]=t;else break}for(v>>=y;v>0;){var S=a[n].s;g[S]<t?v-=1<<t-g[S]++-1:++n}for(;n>=0&&v;--n){var E=a[n].s;g[E]==t&&(--g[E],++v)}x=t}return{t:new bc(g),l:x}},FN=function(e,t,r){return e.s==-1?Math.max(FN(e.l,t,r+1),FN(e.r,t,r+1)):t[e.s]=r},HO=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ko(++t),n=0,i=e[0],a=1,s=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:r.subarray(0,n),n:t}},hm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},K$=function(e,t,r){var n=r.length,i=V$(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},VO=function(e,t,r,n,i,a,s,o,c,u,d){Au(t,d++,r),++i[256];for(var h=rS(i,15),m=h.t,g=h.l,x=rS(a,15),v=x.t,y=x.l,w=HO(m),_=w.c,S=w.n,E=HO(v),T=E.c,D=E.n,C=new Ko(19),O=0;O<_.length;++O)++C[_[O]&31];for(var O=0;O<T.length;++O)++C[T[O]&31];for(var R=rS(C,7),H=R.t,F=R.l,U=19;U>4&&!H[WO[U-1]];--U);var M=u+5<<3,q=hm(i,jh)+hm(a,_1)+s,ee=hm(i,m)+hm(a,v)+s+14+3*U+hm(C,H)+2*C[16]+3*C[17]+7*C[18];if(c>=0&&M<=q&&M<=ee)return K$(t,d,e.subarray(c,c+u));var ve,he,ce,be;if(Au(t,d,1+(ee<q)),d+=2,ee<q){ve=Mm(m,g,0),he=m,ce=Mm(v,y,0),be=v;var Oe=Mm(H,F,0);Au(t,d,S-257),Au(t,d+5,D-1),Au(t,d+10,U-4),d+=14;for(var O=0;O<U;++O)Au(t,d+3*O,H[WO[O]]);d+=3*U;for(var ae=[_,T],L=0;L<2;++L)for(var Y=ae[L],O=0;O<Y.length;++O){var K=Y[O]&31;Au(t,d,Oe[K]),d+=H[K],K>15&&(Au(t,d,Y[O]>>5&127),d+=Y[O]>>12)}}else ve=xSe,he=jh,ce=ySe,be=_1;for(var O=0;O<o;++O){var J=n[O];if(J>255){var K=J>>18&31;fm(t,d,ve[K+257]),d+=he[K+257],K>7&&(Au(t,d,J>>23&31),d+=Z4[K]);var pe=J&31;fm(t,d,ce[pe]),d+=be[pe],pe>3&&(fm(t,d,J>>5&8191),d+=Q4[pe])}else fm(t,d,ve[J]),d+=he[J]}return fm(t,d,ve[256]),d+he[256]},wSe=new J4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),G$=new bc(0),SSe=function(e,t,r,n,i,a){var s=a.z||e.length,o=new bc(n+s+5*(1+Math.ceil(s/7e3))+i),c=o.subarray(n,o.length-i),u=a.l,d=(a.r||0)&7;if(t){d&&(c[0]=a.r>>3);for(var h=wSe[t-1],m=h>>13,g=h&8191,x=(1<<r)-1,v=a.p||new Ko(32768),y=a.h||new Ko(x+1),w=Math.ceil(r/3),_=2*w,S=function($e){return(e[$e]^e[$e+1]<<w^e[$e+2]<<_)&x},E=new J4(25e3),T=new Ko(288),D=new Ko(32),C=0,O=0,R=a.i||0,H=0,F=a.w||0,U=0;R+2<s;++R){var M=S(R),q=R&32767,ee=y[M];if(v[q]=ee,y[M]=q,F<=R){var ve=s-R;if((C>7e3||H>24576)&&(ve>423||!u)){d=VO(e,c,0,E,T,D,O,H,U,R-U,d),H=C=O=0,U=R;for(var he=0;he<286;++he)T[he]=0;for(var he=0;he<30;++he)D[he]=0}var ce=2,be=0,Oe=g,ae=q-ee&32767;if(ve>2&&M==S(R-ae))for(var L=Math.min(m,ve)-1,Y=Math.min(32767,R),K=Math.min(258,ve);ae<=Y&&--Oe&&q!=ee;){if(e[R+ce]==e[R+ce-ae]){for(var J=0;J<K&&e[R+J]==e[R+J-ae];++J);if(J>ce){if(ce=J,be=ae,J>L)break;for(var pe=Math.min(ae,J-2),Ae=0,he=0;he<pe;++he){var Ne=R-ae+he&32767,fe=v[Ne],ke=Ne-fe&32767;ke>Ae&&(Ae=ke,ee=Ne)}}}q=ee,ee=v[q],ae+=q-ee&32767}if(be){E[H++]=268435456|LN[ce]<<18|qO[be];var Te=LN[ce]&31,je=qO[be]&31;O+=Z4[Te]+Q4[je],++T[257+Te],++D[je],F=R+ce,++C}else E[H++]=e[R],++T[e[R]]}}for(R=Math.max(R,F);R<s;++R)E[H++]=e[R],++T[e[R]];d=VO(e,c,u,E,T,D,O,H,U,R-U,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=y,a.p=v,a.i=R,a.w=F)}else{for(var R=a.w||0;R<s+u;R+=65535){var Le=R+65535;Le>=s&&(c[d/8|0]=u,Le=s),d=K$(c,d+1,e.subarray(R,Le))}a.i=s}return bSe(o,0,n+V$(d)+i)},Y$=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},_Se=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new bc(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return SSe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},X$=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},NSe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Y$();i.p(t.dictionary),X$(e,2,i.d())}};function BN(e,t){t||(t={});var r=Y$();r.p(e);var n=_Se(e,t,t.dictionary?6:2,4);return NSe(n,t),X$(n,n.length-4,r.d()),n}var jSe=typeof TextDecoder<"u"&&new TextDecoder,ASe=0;try{jSe.decode(G$,{stream:!0}),ASe=1}catch{}function ESe(e){if(Array.isArray(e))return e}function PSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function KO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function TSe(e,t){if(e){if(typeof e=="string")return KO(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?KO(e,t):void 0}}function kSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GO(e,t){return ESe(e)||PSe(e,t)||TSe(e,t)||kSe()}function YO(e,t="utf8"){return new TextDecoder(t).decode(e)}const CSe=new TextEncoder;function DSe(e){return CSe.encode(e)}const OSe=1024*8,ISe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),nS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class e3{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=OSe,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof e3)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=nS[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===ISe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const c=new nS[r](o.buffer);return this.offset+=n,c.reverse(),c}const s=new nS[r](a);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return YO(this.readBytes(t))}decodeText(t=1,r="utf8"){return YO(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(DSe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function k0(e){let t=e.length;for(;--t>=0;)e[t]=0}const RSe=3,LSe=258,J$=29,MSe=256,FSe=MSe+1+J$,Z$=30,BSe=512,USe=new Array((FSe+2)*2);k0(USe);const $Se=new Array(Z$*2);k0($Se);const zSe=new Array(BSe);k0(zSe);const WSe=new Array(LSe-RSe+1);k0(WSe);const qSe=new Array(J$);k0(qSe);const HSe=new Array(Z$);k0(HSe);const VSe=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var UN=VSe;const KSe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},GSe=new Uint32Array(KSe()),YSe=(e,t,r,n)=>{const i=GSe,a=n+r;e^=-1;for(let s=n;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var Wc=YSe,$N={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Q$={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const XSe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var JSe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)XSe(r,n)&&(e[n]=r[n])}}return e},ZSe=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let s=e[n];r.set(s,i),i+=s.length}return r},ez={assign:JSe,flattenChunks:ZSe};let tz=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{tz=!1}const _g=new Uint8Array(256);for(let e=0;e<256;e++)_g[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_g[254]=_g[254]=1;var QSe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const e_e=(e,t)=>{if(t<65534&&e.subarray&&tz)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var t_e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=e[n++];if(s<128){a[i++]=s;continue}let o=_g[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return e_e(a,i)},r_e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+_g[e[r]]>t?r:t},zN={string2buf:QSe,buf2string:t_e,utf8border:r_e};function n_e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var i_e=n_e;const Ex=16209,a_e=16191;var s_e=function(t,r){let n,i,a,s,o,c,u,d,h,m,g,x,v,y,w,_,S,E,T,D,C,O,R,H;const F=t.state;n=t.next_in,R=t.input,i=n+(t.avail_in-5),a=t.next_out,H=t.output,s=a-(r-t.avail_out),o=a+(t.avail_out-257),c=F.dmax,u=F.wsize,d=F.whave,h=F.wnext,m=F.window,g=F.hold,x=F.bits,v=F.lencode,y=F.distcode,w=(1<<F.lenbits)-1,_=(1<<F.distbits)-1;e:do{x<15&&(g+=R[n++]<<x,x+=8,g+=R[n++]<<x,x+=8),S=v[g&w];t:for(;;){if(E=S>>>24,g>>>=E,x-=E,E=S>>>16&255,E===0)H[a++]=S&65535;else if(E&16){T=S&65535,E&=15,E&&(x<E&&(g+=R[n++]<<x,x+=8),T+=g&(1<<E)-1,g>>>=E,x-=E),x<15&&(g+=R[n++]<<x,x+=8,g+=R[n++]<<x,x+=8),S=y[g&_];r:for(;;){if(E=S>>>24,g>>>=E,x-=E,E=S>>>16&255,E&16){if(D=S&65535,E&=15,x<E&&(g+=R[n++]<<x,x+=8,x<E&&(g+=R[n++]<<x,x+=8)),D+=g&(1<<E)-1,D>c){t.msg="invalid distance too far back",F.mode=Ex;break e}if(g>>>=E,x-=E,E=a-s,D>E){if(E=D-E,E>d&&F.sane){t.msg="invalid distance too far back",F.mode=Ex;break e}if(C=0,O=m,h===0){if(C+=u-E,E<T){T-=E;do H[a++]=m[C++];while(--E);C=a-D,O=H}}else if(h<E){if(C+=u+h-E,E-=h,E<T){T-=E;do H[a++]=m[C++];while(--E);if(C=0,h<T){E=h,T-=E;do H[a++]=m[C++];while(--E);C=a-D,O=H}}}else if(C+=h-E,E<T){T-=E;do H[a++]=m[C++];while(--E);C=a-D,O=H}for(;T>2;)H[a++]=O[C++],H[a++]=O[C++],H[a++]=O[C++],T-=3;T&&(H[a++]=O[C++],T>1&&(H[a++]=O[C++]))}else{C=a-D;do H[a++]=H[C++],H[a++]=H[C++],H[a++]=H[C++],T-=3;while(T>2);T&&(H[a++]=H[C++],T>1&&(H[a++]=H[C++]))}}else if((E&64)===0){S=y[(S&65535)+(g&(1<<E)-1)];continue r}else{t.msg="invalid distance code",F.mode=Ex;break e}break}}else if((E&64)===0){S=v[(S&65535)+(g&(1<<E)-1)];continue t}else if(E&32){F.mode=a_e;break e}else{t.msg="invalid literal/length code",F.mode=Ex;break e}break}}while(n<i&&a<o);T=x>>3,n-=T,x-=T<<3,g&=(1<<x)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<o?257+(o-a):257-(a-o),F.hold=g,F.bits=x};const bp=15,XO=852,JO=592,ZO=0,iS=1,QO=2,o_e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),l_e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),c_e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),u_e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),d_e=(e,t,r,n,i,a,s,o)=>{const c=o.bits;let u=0,d=0,h=0,m=0,g=0,x=0,v=0,y=0,w=0,_=0,S,E,T,D,C,O=null,R;const H=new Uint16Array(bp+1),F=new Uint16Array(bp+1);let U=null,M,q,ee;for(u=0;u<=bp;u++)H[u]=0;for(d=0;d<n;d++)H[t[r+d]]++;for(g=c,m=bp;m>=1&&H[m]===0;m--);if(g>m&&(g=m),m===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<m&&H[h]===0;h++);for(g<h&&(g=h),y=1,u=1;u<=bp;u++)if(y<<=1,y-=H[u],y<0)return-1;if(y>0&&(e===ZO||m!==1))return-1;for(F[1]=0,u=1;u<bp;u++)F[u+1]=F[u]+H[u];for(d=0;d<n;d++)t[r+d]!==0&&(s[F[t[r+d]]++]=d);if(e===ZO?(O=U=s,R=20):e===iS?(O=o_e,U=l_e,R=257):(O=c_e,U=u_e,R=0),_=0,d=0,u=h,C=a,x=g,v=0,T=-1,w=1<<g,D=w-1,e===iS&&w>XO||e===QO&&w>JO)return 1;for(;;){M=u-v,s[d]+1<R?(q=0,ee=s[d]):s[d]>=R?(q=U[s[d]-R],ee=O[s[d]-R]):(q=96,ee=0),S=1<<u-v,E=1<<x,h=E;do E-=S,i[C+(_>>v)+E]=M<<24|q<<16|ee|0;while(E!==0);for(S=1<<u-1;_&S;)S>>=1;if(S!==0?(_&=S-1,_+=S):_=0,d++,--H[u]===0){if(u===m)break;u=t[r+s[d]]}if(u>g&&(_&D)!==T){for(v===0&&(v=g),C+=h,x=u-v,y=1<<x;x+v<m&&(y-=H[x+v],!(y<=0));)x++,y<<=1;if(w+=1<<x,e===iS&&w>XO||e===QO&&w>JO)return 1;T=_&D,i[T]=g<<24|x<<16|C-a|0}}return _!==0&&(i[C+_]=u-v<<24|64<<16|0),o.bits=g,0};var Fm=d_e;const f_e=0,rz=1,nz=2,{Z_FINISH:eI,Z_BLOCK:h_e,Z_TREES:Px,Z_OK:Ah,Z_STREAM_END:p_e,Z_NEED_DICT:m_e,Z_STREAM_ERROR:kl,Z_DATA_ERROR:iz,Z_MEM_ERROR:az,Z_BUF_ERROR:g_e,Z_DEFLATED:tI}=Q$,Gb=16180,rI=16181,nI=16182,iI=16183,aI=16184,sI=16185,oI=16186,lI=16187,cI=16188,uI=16189,N1=16190,Eu=16191,aS=16192,dI=16193,sS=16194,fI=16195,hI=16196,pI=16197,mI=16198,Tx=16199,kx=16200,gI=16201,vI=16202,xI=16203,yI=16204,bI=16205,oS=16206,wI=16207,SI=16208,ai=16209,sz=16210,oz=16211,v_e=852,x_e=592,y_e=15,b_e=y_e,_I=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function w_e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Fh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Gb||t.mode>oz?1:0},lz=e=>{if(Fh(e))return kl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Gb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(v_e),t.distcode=t.distdyn=new Int32Array(x_e),t.sane=1,t.back=-1,Ah},cz=e=>{if(Fh(e))return kl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,lz(e)},uz=(e,t)=>{let r;if(Fh(e))return kl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?kl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,cz(e))},dz=(e,t)=>{if(!e)return kl;const r=new w_e;e.state=r,r.strm=e,r.window=null,r.mode=Gb;const n=uz(e,t);return n!==Ah&&(e.state=null),n},S_e=e=>dz(e,b_e);let NI=!0,lS,cS;const __e=e=>{if(NI){lS=new Int32Array(512),cS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Fm(rz,e.lens,0,288,lS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Fm(nz,e.lens,0,32,cS,0,e.work,{bits:5}),NI=!1}e.lencode=lS,e.lenbits=9,e.distcode=cS,e.distbits=5},fz=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},N_e=(e,t)=>{let r,n,i,a,s,o,c,u,d,h,m,g,x,v,y=0,w,_,S,E,T,D,C,O;const R=new Uint8Array(4);let H,F;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fh(e)||!e.output||!e.input&&e.avail_in!==0)return kl;r=e.state,r.mode===Eu&&(r.mode=aS),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,d=r.bits,h=o,m=c,O=Ah;e:for(;;)switch(r.mode){case Gb:if(r.wrap===0){r.mode=aS;break}for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,R[0]=u&255,R[1]=u>>>8&255,r.check=Wc(r.check,R,2,0),u=0,d=0,r.mode=rI;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=ai;break}if((u&15)!==tI){e.msg="unknown compression method",r.mode=ai;break}if(u>>>=4,d-=4,C=(u&15)+8,r.wbits===0&&(r.wbits=C),C>15||C>r.wbits){e.msg="invalid window size",r.mode=ai;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?uI:Eu,u=0,d=0;break;case rI:for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==tI){e.msg="unknown compression method",r.mode=ai;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ai;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=Wc(r.check,R,2,0)),u=0,d=0,r.mode=nI;case nI:for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,R[2]=u>>>16&255,R[3]=u>>>24&255,r.check=Wc(r.check,R,4,0)),u=0,d=0,r.mode=iI;case iI:for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=Wc(r.check,R,2,0)),u=0,d=0,r.mode=aI;case aI:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=Wc(r.check,R,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=sI;case sI:if(r.flags&1024&&(g=r.length,g>o&&(g=o),g&&(r.head&&(C=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+g),C)),r.flags&512&&r.wrap&4&&(r.check=Wc(r.check,n,g,a)),o-=g,a+=g,r.length-=g),r.length))break e;r.length=0,r.mode=oI;case oI:if(r.flags&2048){if(o===0)break e;g=0;do C=n[a+g++],r.head&&C&&r.length<65536&&(r.head.name+=String.fromCharCode(C));while(C&&g<o);if(r.flags&512&&r.wrap&4&&(r.check=Wc(r.check,n,g,a)),o-=g,a+=g,C)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=lI;case lI:if(r.flags&4096){if(o===0)break e;g=0;do C=n[a+g++],r.head&&C&&r.length<65536&&(r.head.comment+=String.fromCharCode(C));while(C&&g<o);if(r.flags&512&&r.wrap&4&&(r.check=Wc(r.check,n,g,a)),o-=g,a+=g,C)break e}else r.head&&(r.head.comment=null);r.mode=cI;case cI:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ai;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Eu;break;case uI:for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}e.adler=r.check=_I(u),u=0,d=0,r.mode=N1;case N1:if(r.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=d,m_e;e.adler=r.check=1,r.mode=Eu;case Eu:if(t===h_e||t===Px)break e;case aS:if(r.last){u>>>=d&7,d-=d&7,r.mode=oS;break}for(;d<3;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=dI;break;case 1:if(__e(r),r.mode=Tx,t===Px){u>>>=2,d-=2;break e}break;case 2:r.mode=hI;break;case 3:e.msg="invalid block type",r.mode=ai}u>>>=2,d-=2;break;case dI:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ai;break}if(r.length=u&65535,u=0,d=0,r.mode=sS,t===Px)break e;case sS:r.mode=fI;case fI:if(g=r.length,g){if(g>o&&(g=o),g>c&&(g=c),g===0)break e;i.set(n.subarray(a,a+g),s),o-=g,a+=g,c-=g,s+=g,r.length-=g;break}r.mode=Eu;break;case hI:for(;d<14;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ai;break}r.have=0,r.mode=pI;case pI:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.lens[U[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},O=Fm(f_e,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,O){e.msg="invalid code lengths set",r.mode=ai;break}r.have=0,r.mode=mI;case mI:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[u&(1<<r.lenbits)-1],w=y>>>24,_=y>>>16&255,S=y&65535,!(w<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(S<16)u>>>=w,d-=w,r.lens[r.have++]=S;else{if(S===16){for(F=w+2;d<F;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(u>>>=w,d-=w,r.have===0){e.msg="invalid bit length repeat",r.mode=ai;break}C=r.lens[r.have-1],g=3+(u&3),u>>>=2,d-=2}else if(S===17){for(F=w+3;d<F;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=w,d-=w,C=0,g=3+(u&7),u>>>=3,d-=3}else{for(F=w+7;d<F;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=w,d-=w,C=0,g=11+(u&127),u>>>=7,d-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ai;break}for(;g--;)r.lens[r.have++]=C}}if(r.mode===ai)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ai;break}if(r.lenbits=9,H={bits:r.lenbits},O=Fm(rz,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,O){e.msg="invalid literal/lengths set",r.mode=ai;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},O=Fm(nz,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,O){e.msg="invalid distances set",r.mode=ai;break}if(r.mode=Tx,t===Px)break e;case Tx:r.mode=kx;case kx:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=d,s_e(e,m),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,d=r.bits,r.mode===Eu&&(r.back=-1);break}for(r.back=0;y=r.lencode[u&(1<<r.lenbits)-1],w=y>>>24,_=y>>>16&255,S=y&65535,!(w<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(_&&(_&240)===0){for(E=w,T=_,D=S;y=r.lencode[D+((u&(1<<E+T)-1)>>E)],w=y>>>24,_=y>>>16&255,S=y&65535,!(E+w<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=E,d-=E,r.back+=E}if(u>>>=w,d-=w,r.back+=w,r.length=S,_===0){r.mode=bI;break}if(_&32){r.back=-1,r.mode=Eu;break}if(_&64){e.msg="invalid literal/length code",r.mode=ai;break}r.extra=_&15,r.mode=gI;case gI:if(r.extra){for(F=r.extra;d<F;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=vI;case vI:for(;y=r.distcode[u&(1<<r.distbits)-1],w=y>>>24,_=y>>>16&255,S=y&65535,!(w<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if((_&240)===0){for(E=w,T=_,D=S;y=r.distcode[D+((u&(1<<E+T)-1)>>E)],w=y>>>24,_=y>>>16&255,S=y&65535,!(E+w<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=E,d-=E,r.back+=E}if(u>>>=w,d-=w,r.back+=w,_&64){e.msg="invalid distance code",r.mode=ai;break}r.offset=S,r.extra=_&15,r.mode=xI;case xI:if(r.extra){for(F=r.extra;d<F;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ai;break}r.mode=yI;case yI:if(c===0)break e;if(g=m-c,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ai;break}g>r.wnext?(g-=r.wnext,x=r.wsize-g):x=r.wnext-g,g>r.length&&(g=r.length),v=r.window}else v=i,x=s-r.offset,g=r.length;g>c&&(g=c),c-=g,r.length-=g;do i[s++]=v[x++];while(--g);r.length===0&&(r.mode=kx);break;case bI:if(c===0)break e;i[s++]=r.length,c--,r.mode=kx;break;case oS:if(r.wrap){for(;d<32;){if(o===0)break e;o--,u|=n[a++]<<d,d+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Wc(r.check,i,m,s-m):UN(r.check,i,m,s-m)),m=c,r.wrap&4&&(r.flags?u:_I(u))!==r.check){e.msg="incorrect data check",r.mode=ai;break}u=0,d=0}r.mode=wI;case wI:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ai;break}u=0,d=0}r.mode=SI;case SI:O=p_e;break e;case ai:O=iz;break e;case sz:return az;case oz:default:return kl}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<ai&&(r.mode<oS||t!==eI))&&fz(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Wc(r.check,i,m,e.next_out-m):UN(r.check,i,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Eu?128:0)+(r.mode===Tx||r.mode===sS?256:0),(h===0&&m===0||t===eI)&&O===Ah&&(O=g_e),O},j_e=e=>{if(Fh(e))return kl;let t=e.state;return t.window&&(t.window=null),e.state=null,Ah},A_e=(e,t)=>{if(Fh(e))return kl;const r=e.state;return(r.wrap&2)===0?kl:(r.head=t,t.done=!1,Ah)},E_e=(e,t)=>{const r=t.length;let n,i,a;return Fh(e)||(n=e.state,n.wrap!==0&&n.mode!==N1)?kl:n.mode===N1&&(i=1,i=UN(i,t,r,0),i!==n.check)?iz:(a=fz(e,t,r,r),a?(n.mode=sz,az):(n.havedict=1,Ah))};var P_e=cz,T_e=uz,k_e=lz,C_e=S_e,D_e=dz,O_e=N_e,I_e=j_e,R_e=A_e,L_e=E_e,M_e="pako inflate (from Nodeca project)",Cu={inflateReset:P_e,inflateReset2:T_e,inflateResetKeep:k_e,inflateInit:C_e,inflateInit2:D_e,inflate:O_e,inflateEnd:I_e,inflateGetHeader:R_e,inflateSetDictionary:L_e,inflateInfo:M_e};function F_e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var B_e=F_e;const hz=Object.prototype.toString,{Z_NO_FLUSH:U_e,Z_FINISH:$_e,Z_OK:Ng,Z_STREAM_END:uS,Z_NEED_DICT:dS,Z_STREAM_ERROR:z_e,Z_DATA_ERROR:jI,Z_MEM_ERROR:W_e}=Q$;function uv(e){this.options=ez.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i_e,this.strm.avail_out=0;let r=Cu.inflateInit2(this.strm,t.windowBits);if(r!==Ng)throw new Error($N[r]);if(this.header=new B_e,Cu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=zN.string2buf(t.dictionary):hz.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Cu.inflateSetDictionary(this.strm,t.dictionary),r!==Ng)))throw new Error($N[r])}uv.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?$_e:U_e,hz.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Cu.inflate(r,s),a===dS&&i&&(a=Cu.inflateSetDictionary(r,i),a===Ng?a=Cu.inflate(r,s):a===jI&&(a=dS));r.avail_in>0&&a===uS&&r.state.wrap>0&&e[r.next_in]!==0;)Cu.inflateReset(r),a=Cu.inflate(r,s);switch(a){case z_e:case jI:case dS:case W_e:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===uS))if(this.options.to==="string"){let c=zN.utf8border(r.output,r.next_out),u=r.next_out-c,d=zN.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Ng&&o===0)){if(a===uS)return a=Cu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};uv.prototype.onData=function(e){this.chunks.push(e)};uv.prototype.onEnd=function(e){e===Ng&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ez.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function q_e(e,t){const r=new uv(t);if(r.push(e),r.err)throw r.msg||$N[r.err];return r.result}var H_e=uv,V_e=q_e,K_e={Inflate:H_e,inflate:V_e};const{Inflate:G_e,inflate:Y_e}=K_e;var AI=G_e,X_e=Y_e;const pz=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;pz[e]=t}const EI=4294967295;function J_e(e,t,r){let n=e;for(let i=0;i<r;i++)n=pz[(n^t[i])&255]^n>>>8;return n}function Z_e(e,t){return(J_e(EI,e,t)^EI)>>>0}function PI(e,t,r){const n=e.readUint32(),i=Z_e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function mz(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function gz(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function vz(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function xz(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function yz(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+Q_e(t[a-i],r[a],r[a-i])&255}}function Q_e(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),s=Math.abs(n-r);return i<=a&&i<=s?e:a<=s?t:r}function eNe(e,t,r,n,i,a){switch(e){case 0:mz(t,r,i);break;case 1:gz(t,r,i,a);break;case 2:vz(t,r,n,i);break;case 3:xz(t,r,n,i,a);break;case 4:yz(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const tNe=new Uint16Array([255]),rNe=new Uint8Array(tNe.buffer),nNe=rNe[0]===255;function iNe(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,c=new Uint8Array(n*r*o);let u=0;for(let d=0;d<7;d++){const h=s[d],m=Math.ceil((r-h.x)/h.xStep),g=Math.ceil((n-h.y)/h.yStep);if(m<=0||g<=0)continue;const x=m*o,v=new Uint8Array(x);for(let y=0;y<g;y++){const w=t[u++],_=t.subarray(u,u+x);u+=x;const S=new Uint8Array(x);eNe(w,_,S,v,x,o),v.set(S);for(let E=0;E<m;E++){const T=h.x+E*h.xStep,D=h.y+y*h.yStep;if(!(T>=r||D>=n))for(let C=0;C<o;C++)c[(D*r+T)*o+C]=S[E*o+C]}}}if(a===16){const d=new Uint16Array(c.buffer);if(nNe)for(let h=0;h<d.length;h++)d[h]=aNe(d[h]);return d}else return c}function aNe(e){return(e&255)<<8|e>>8&255}const sNe=new Uint16Array([255]),oNe=new Uint8Array(sNe.buffer),lNe=oNe[0]===255,cNe=new Uint8Array(0);function TI(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),c=new Uint8Array(n*o);let u=cNe,d=0,h,m;for(let g=0;g<n;g++){switch(h=t.subarray(d+1,d+1+o),m=c.subarray(g*o,(g+1)*o),t[d]){case 0:mz(h,m,o);break;case 1:gz(h,m,o,s);break;case 2:vz(h,m,u,o);break;case 3:xz(h,m,u,o,s);break;case 4:yz(h,m,u,o,s);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=o+1}if(a===16){const g=new Uint16Array(c.buffer);if(lNe)for(let x=0;x<g.length;x++)g[x]=uNe(g[x]);return g}else return c}function uNe(e){return(e&255)<<8|e>>8&255}const Yx=Uint8Array.of(137,80,78,71,13,10,26,10);function kI(e){if(!dNe(e.readBytes(Yx.length)))throw new Error("wrong PNG signature")}function dNe(e){if(e.length<Yx.length)return!1;for(let t=0;t<Yx.length;t++)if(e[t]!==Yx[t])return!1;return!0}const fNe="tEXt",hNe=0,bz=new TextDecoder("latin1");function pNe(e){if(gNe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const mNe=/^[\u0000-\u00FF]*$/;function gNe(e){if(!mNe.test(e))throw new Error("invalid latin1 text")}function vNe(e,t,r){const n=wz(t);e[n]=xNe(t,r-n.length-1)}function wz(e){for(e.mark();e.readByte()!==hNe;);const t=e.offset;e.reset();const r=bz.decode(e.readBytes(t-e.offset-1));return e.skip(1),pNe(r),r}function xNe(e,t){return bz.decode(e.readBytes(t))}const Lo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},fS={UNKNOWN:-1,DEFLATE:0},CI={UNKNOWN:-1,ADAPTIVE:0},hS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Cx={NONE:0,BACKGROUND:1,PREVIOUS:2},pS={SOURCE:0,OVER:1};class yNe extends e3{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new AI,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=fS.UNKNOWN,this._filterMethod=CI.UNKNOWN,this._interlaceMethod=hS.UNKNOWN,this._colorType=Lo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(kI(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(kI(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case fNe:vNe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?PI(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?PI(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=bNe(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Lo.GREYSCALE:n=1;break;case Lo.TRUECOLOUR:n=3;break;case Lo.INDEXED_COLOUR:n=1;break;case Lo.GREYSCALE_ALPHA:n=2;break;case Lo.TRUECOLOUR_ALPHA:n=4;break;case Lo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==fS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Lo.GREYSCALE:case Lo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Lo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Lo.UNKNOWN:case Lo.GREYSCALE_ALPHA:case Lo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=wz(this),n=this.readUint8();if(n!==fS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:X_e(i)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=TI({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case Cx.NONE:break;case Cx.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const s=(i*t.width+a)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[s+o]=0}break;case Cx.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,i=(a,s)=>{const o=((a+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,c=(a*r.width+s)*this._png.channels;return{index:o,frameIndex:c}};switch(r.blendOp){case pS.SOURCE:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:o,frameIndex:c}=i(a,s);for(let u=0;u<this._png.channels;u++)t.data[o+u]=r.data[c+u]}break;case pS.OVER:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:o,frameIndex:c}=i(a,s);for(let u=0;u<this._png.channels;u++){const d=r.data[c+this._png.channels-1]/n,h=u%(this._png.channels-1)===0?1:r.data[c+u],m=Math.floor(d*h+(1-d)*t.data[o+u]);t.data[o+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==CI.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===hS.NO_INTERLACE)this._png.data=TI({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===hS.ADAM7)this._png.data=iNe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Cx.NONE,blendOp:pS.SOURCE,data:t}),this._inflator=new AI,this._writingDataChunks=!1}}function bNe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var DI;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(DI||(DI={}));function wNe(e,t){return new yNe(e,t).decode()}var Pr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function mS(){Pr.console&&typeof Pr.console.log=="function"&&Pr.console.log.apply(Pr.console,arguments)}var On={log:mS,warn:function(e){Pr.console&&(typeof Pr.console.warn=="function"?Pr.console.warn.apply(Pr.console,arguments):mS.call(null,arguments))},error:function(e){Pr.console&&(typeof Pr.console.error=="function"?Pr.console.error.apply(Pr.console,arguments):mS(e))}};function gS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Kf(n.response,t,r)},n.onerror=function(){On.error("could not download file")},n.send()}function OI(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Dx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Kf=Pr.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==Pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Pr.URL||Pr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?OI(i.href)?gS(e,t,r):Dx(i,i.target="_blank"):Dx(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Dx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(OI(e))gS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Dx(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:_n(a)!=="object"&&(On.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return gS(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(Pr.HTMLElement)||Pr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var c=Pr.URL||Pr.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});function Sz(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}var Xx=Pr.atob.bind(Pr),II=Pr.btoa.bind(Pr);function vS(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=bs(r,n,i,a,t[0],7,-680876936),a=bs(a,r,n,i,t[1],12,-389564586),i=bs(i,a,r,n,t[2],17,606105819),n=bs(n,i,a,r,t[3],22,-1044525330),r=bs(r,n,i,a,t[4],7,-176418897),a=bs(a,r,n,i,t[5],12,1200080426),i=bs(i,a,r,n,t[6],17,-1473231341),n=bs(n,i,a,r,t[7],22,-45705983),r=bs(r,n,i,a,t[8],7,1770035416),a=bs(a,r,n,i,t[9],12,-1958414417),i=bs(i,a,r,n,t[10],17,-42063),n=bs(n,i,a,r,t[11],22,-1990404162),r=bs(r,n,i,a,t[12],7,1804603682),a=bs(a,r,n,i,t[13],12,-40341101),i=bs(i,a,r,n,t[14],17,-1502002290),r=ws(r,n=bs(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=ws(a,r,n,i,t[6],9,-1069501632),i=ws(i,a,r,n,t[11],14,643717713),n=ws(n,i,a,r,t[0],20,-373897302),r=ws(r,n,i,a,t[5],5,-701558691),a=ws(a,r,n,i,t[10],9,38016083),i=ws(i,a,r,n,t[15],14,-660478335),n=ws(n,i,a,r,t[4],20,-405537848),r=ws(r,n,i,a,t[9],5,568446438),a=ws(a,r,n,i,t[14],9,-1019803690),i=ws(i,a,r,n,t[3],14,-187363961),n=ws(n,i,a,r,t[8],20,1163531501),r=ws(r,n,i,a,t[13],5,-1444681467),a=ws(a,r,n,i,t[2],9,-51403784),i=ws(i,a,r,n,t[7],14,1735328473),r=Ss(r,n=ws(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Ss(a,r,n,i,t[8],11,-2022574463),i=Ss(i,a,r,n,t[11],16,1839030562),n=Ss(n,i,a,r,t[14],23,-35309556),r=Ss(r,n,i,a,t[1],4,-1530992060),a=Ss(a,r,n,i,t[4],11,1272893353),i=Ss(i,a,r,n,t[7],16,-155497632),n=Ss(n,i,a,r,t[10],23,-1094730640),r=Ss(r,n,i,a,t[13],4,681279174),a=Ss(a,r,n,i,t[0],11,-358537222),i=Ss(i,a,r,n,t[3],16,-722521979),n=Ss(n,i,a,r,t[6],23,76029189),r=Ss(r,n,i,a,t[9],4,-640364487),a=Ss(a,r,n,i,t[12],11,-421815835),i=Ss(i,a,r,n,t[15],16,530742520),r=_s(r,n=Ss(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=_s(a,r,n,i,t[7],10,1126891415),i=_s(i,a,r,n,t[14],15,-1416354905),n=_s(n,i,a,r,t[5],21,-57434055),r=_s(r,n,i,a,t[12],6,1700485571),a=_s(a,r,n,i,t[3],10,-1894986606),i=_s(i,a,r,n,t[10],15,-1051523),n=_s(n,i,a,r,t[1],21,-2054922799),r=_s(r,n,i,a,t[8],6,1873313359),a=_s(a,r,n,i,t[15],10,-30611744),i=_s(i,a,r,n,t[6],15,-1560198380),n=_s(n,i,a,r,t[13],21,1309151649),r=_s(r,n,i,a,t[4],6,-145523070),a=_s(a,r,n,i,t[11],10,-1120210379),i=_s(i,a,r,n,t[2],15,718787259),n=_s(n,i,a,r,t[9],21,-343485551),e[0]=Qd(r,e[0]),e[1]=Qd(n,e[1]),e[2]=Qd(i,e[2]),e[3]=Qd(a,e[3])}function Yb(e,t,r,n,i,a){return t=Qd(Qd(t,e),Qd(n,a)),Qd(t<<i|t>>>32-i,r)}function bs(e,t,r,n,i,a,s){return Yb(t&r|~t&n,e,t,i,a,s)}function ws(e,t,r,n,i,a,s){return Yb(t&n|r&~n,e,t,i,a,s)}function Ss(e,t,r,n,i,a,s){return Yb(t^r^n,e,t,i,a,s)}function _s(e,t,r,n,i,a,s){return Yb(r^(t|~n),e,t,i,a,s)}function _z(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)vS(n,SNe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(vS(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,vS(n,i),n}function SNe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var RI="0123456789abcdef".split("");function _Ne(e){for(var t="",r=0;r<4;r++)t+=RI[e>>8*r+4&15]+RI[e>>8*r&15];return t}function NNe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function WN(e){return _z(e).map(NNe).join("")}var jNe=(function(e){for(var t=0;t<e.length;t++)e[t]=_Ne(e[t]);return e.join("")})(_z("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qd(e,t){if(jNe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function qN(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+s.charCodeAt(c))%256,o[c]=o[u],o[u]=d}r=e,n=o}else o=n;var h=t.length,m=0,g=0,x="";for(c=0;c<h;c++)g=(g+(d=o[m=(m+1)%256]))%256,o[m]=o[g],o[g]=d,s=o[(o[m]+o[g])%256],x+=String.fromCharCode(t.charCodeAt(c)^s);return x}var LI={print:4,modify:8,copy:16,"annot-forms":32};function Pp(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(LI.perm!==void 0)throw new Error("Invalid permission: "+o);i+=LI[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=WN(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=qN(this.encryptionKey,this.padding)}function Tp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function MI(e){if(_n(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(o){Pr.console&&On.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function j1(e){if(!(this instanceof j1))return new j1(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Nz(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Jf(e,t,r,n,i){if(!(this instanceof Jf))return new Jf(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Nz.call(this,n,i)}function Up(e,t,r,n,i){if(!(this instanceof Up))return new Up(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Nz.call(this,n,i)}function ur(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,c=16,u="S",d=null;_n(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},g={internal:{},__private__:{}};g.__private__.PubSub=MI;var x="1.3",v=g.__private__.getPdfVersion=function(){return x};g.__private__.setPdfVersion=function(k){x=k};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return y};var w=g.__private__.getPageFormat=function(k){return y[k]};i=i||"a4";var _="compat",S="advanced",E=_;function T(){this.saveGraphicsState(),oe(new nr(dr,0,0,-dr,0,Ge()*dr).toString()+" cm"),this.setFontSize(this.getFontSize()/dr),u="n",E=S}function D(){this.restoreGraphicsState(),u="S",E=_}var C=g.__private__.combineFontStyleAndFontWeight=function(k,G){if(k=="bold"&&G=="normal"||k=="bold"&&G==400||k=="normal"&&G=="italic"||k=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(k=G==400||G==="normal"?k==="italic"?"italic":"normal":G!=700&&G!=="bold"||k!=="normal"?(G==700?"bold":G)+""+k:"bold"),k};g.advancedAPI=function(k){var G=E===_;return G&&T.call(this),typeof k!="function"||(k(this),G&&D.call(this)),this},g.compatAPI=function(k){var G=E===S;return G&&D.call(this),typeof k!="function"||(k(this),G&&T.call(this)),this},g.isAdvancedAPI=function(){return E===S};var O,R=function(k){if(E!==S)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=g.roundToPrecision=g.__private__.roundToPrecision=function(k,G){var ue=t||G;if(isNaN(k)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(ue).replace(/0+$/,"")};O=g.hpf=g.__private__.hpf=typeof c=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return H(k,c)}:c==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return H(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return H(k,16)};var F=g.f2=g.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return H(k,2)},U=g.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return H(k,3)},M=g.scale=g.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return E===_?k*dr:E===S?k:void 0},q=function(k){return M((function(G){return E===_?Ge()-G:E===S?G:void 0})(k))};g.__private__.setPrecision=g.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(t=parseInt(k,10))};var ee,ve="00000000000000000000000000000000",he=g.__private__.getFileId=function(){return ve},ce=g.__private__.setFileId=function(k){return ve=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Qn=new Pp(d.userPermissions,d.userPassword,d.ownerPassword,ve)),ve};g.setFileId=function(k){return ce(k),this},g.getFileId=function(){return he()};var be=g.__private__.convertDateToPDFDate=function(k){var G=k.getTimezoneOffset(),ue=G<0?"+":"-",we=Math.floor(Math.abs(G/60)),Re=Math.abs(G%60),nt=[ue,K(we),"'",K(Re),"'"].join("");return["D:",k.getFullYear(),K(k.getMonth()+1),K(k.getDate()),K(k.getHours()),K(k.getMinutes()),K(k.getSeconds()),nt].join("")},Oe=g.__private__.convertPDFDateToDate=function(k){var G=parseInt(k.substr(2,4),10),ue=parseInt(k.substr(6,2),10)-1,we=parseInt(k.substr(8,2),10),Re=parseInt(k.substr(10,2),10),nt=parseInt(k.substr(12,2),10),pt=parseInt(k.substr(14,2),10);return new Date(G,ue,we,Re,nt,pt,0)},ae=g.__private__.setCreationDate=function(k){var G;if(k===void 0&&(k=new Date),k instanceof Date)G=be(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=k}return ee=G},L=g.__private__.getCreationDate=function(k){var G=ee;return k==="jsDate"&&(G=Oe(ee)),G};g.setCreationDate=function(k){return ae(k),this},g.getCreationDate=function(k){return L(k)};var Y,K=g.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},J=g.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},pe=0,Ae=[],Ne=[],fe=0,ke=[],Te=[],je=!1,Le=Ne;g.__private__.setCustomOutputDestination=function(k){je=!0,Le=k};var $e=function(k){je||(Le=k)};g.__private__.resetCustomOutputDestination=function(){je=!1,Le=Ne};var oe=g.__private__.out=function(k){return k=k.toString(),fe+=k.length+1,Le.push(k),Le},at=g.__private__.write=function(k){return oe(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},lt=g.__private__.getArrayBuffer=function(k){for(var G=k.length,ue=new ArrayBuffer(G),we=new Uint8Array(ue);G--;)we[G]=k.charCodeAt(G);return ue},Pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Pt};var ct=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(k){return ct=E===S?k/dr:k,this};var $t,Dt=g.__private__.getFontSize=g.getFontSize=function(){return E===_?ct:ct*dr},Xt=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(k){return Xt=k,this},g.__private__.getR2L=g.getR2L=function(){return Xt};var Ht,xr=g.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))$t=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');$t=k}else $t=parseInt(k,10)};g.__private__.getZoomMode=function(){return $t};var Nr,ze=g.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');Ht=k};g.__private__.getPageMode=function(){return Ht};var kt=g.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Nr=k};g.__private__.getLayoutMode=function(){return Nr},g.__private__.setDisplayMode=g.setDisplayMode=function(k,G,ue){return xr(k),kt(G),ze(ue),this};var fr={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(k){if(Object.keys(fr).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return fr[k]},g.__private__.getDocumentProperties=function(){return fr},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(k){for(var G in fr)fr.hasOwnProperty(G)&&k[G]&&(fr[G]=k[G]);return this},g.__private__.setDocumentProperty=function(k,G){if(Object.keys(fr).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return fr[k]=G};var zt,dr,Bt,Jr,Tr,mr={},yr={},Fr=[],it={},Ut={},Mt={},Ft={},br=null,hr=0,Gt=[],Cr=new MI(g),xa=e.hotfixes||[],on={},aa={},Si=[],nr=function k(G,ue,we,Re,nt,pt){if(!(this instanceof k))return new k(G,ue,we,Re,nt,pt);isNaN(G)&&(G=1),isNaN(ue)&&(ue=0),isNaN(we)&&(we=0),isNaN(Re)&&(Re=1),isNaN(nt)&&(nt=0),isNaN(pt)&&(pt=0),this._matrix=[G,ue,we,Re,nt,pt]};Object.defineProperty(nr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(nr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(nr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(nr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(nr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(nr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(nr.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(nr.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(nr.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(nr.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(nr.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(nr.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(nr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nr.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(k)},nr.prototype.multiply=function(k){var G=k.sx*this.sx+k.shy*this.shx,ue=k.sx*this.shy+k.shy*this.sy,we=k.shx*this.sx+k.sy*this.shx,Re=k.shx*this.shy+k.sy*this.sy,nt=k.tx*this.sx+k.ty*this.shx+this.tx,pt=k.tx*this.shy+k.ty*this.sy+this.ty;return new nr(G,ue,we,Re,nt,pt)},nr.prototype.decompose=function(){var k=this.sx,G=this.shy,ue=this.shx,we=this.sy,Re=this.tx,nt=this.ty,pt=Math.sqrt(k*k+G*G),st=(k/=pt)*ue+(G/=pt)*we;ue-=k*st,we-=G*st;var wt=Math.sqrt(ue*ue+we*we);return st/=wt,k*(we/=wt)<G*(ue/=wt)&&(k=-k,G=-G,st=-st,pt=-pt),{scale:new nr(pt,0,0,wt,0,0),translate:new nr(1,0,0,1,Re,nt),rotate:new nr(k,G,-G,k,0,0),skew:new nr(1,0,st,1,0,0)}},nr.prototype.toString=function(k){return this.join(" ")},nr.prototype.inversed=function(){var k=this.sx,G=this.shy,ue=this.shx,we=this.sy,Re=this.tx,nt=this.ty,pt=1/(k*we-G*ue),st=we*pt,wt=-G*pt,_t=-ue*pt,Jt=k*pt;return new nr(st,wt,_t,Jt,-st*Re-_t*nt,-wt*Re-Jt*nt)},nr.prototype.applyToPoint=function(k){var G=k.x*this.sx+k.y*this.shx+this.tx,ue=k.x*this.shy+k.y*this.sy+this.ty;return new os(G,ue)},nr.prototype.applyToRectangle=function(k){var G=this.applyToPoint(k),ue=this.applyToPoint(new os(k.x+k.w,k.y+k.h));return new $l(G.x,G.y,ue.x-G.x,ue.y-G.y)},nr.prototype.clone=function(){var k=this.sx,G=this.shy,ue=this.shx,we=this.sy,Re=this.tx,nt=this.ty;return new nr(k,G,ue,we,Re,nt)},g.Matrix=nr;var _i=g.matrixMult=function(k,G){return G.multiply(k)},ya=new nr(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ya;var Wn=function(k,G){if(!Ut[k]){var ue=(G instanceof Jf?"Sh":"P")+(Object.keys(it).length+1).toString(10);G.id=ue,Ut[k]=ue,it[ue]=G,Cr.publish("addPattern",G)}};g.ShadingPattern=Jf,g.TilingPattern=Up,g.addShadingPattern=function(k,G){return R("addShadingPattern()"),Wn(k,G),this},g.beginTilingPattern=function(k){R("beginTilingPattern()"),ls(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},g.endTilingPattern=function(k,G){R("endTilingPattern()"),G.stream=Te[Y].join(`
`),Wn(k,G),Cr.publish("endTilingPattern",G),Si.pop().restore()};var sa,Zr=g.__private__.newObject=function(){var k=Pe();return V(k,!0),k},Pe=g.__private__.newObjectDeferred=function(){return pe++,Ae[pe]=function(){return fe},pe},V=function(k,G){return G=typeof G=="boolean"&&G,Ae[k]=fe,G&&oe(k+" 0 obj"),k},Q=g.__private__.newAdditionalObject=function(){var k={objId:Pe(),content:""};return ke.push(k),k},X=Pe(),se=Pe(),te=g.__private__.decodeColorString=function(k){var G=k.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length!==5||G[4]!=="k"&&G[4]!=="K"||(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var ue=parseFloat(G[0]);G=[ue,ue,ue,"r"]}for(var we="#",Re=0;Re<3;Re++)we+=("0"+Math.floor(255*parseFloat(G[Re])).toString(16)).slice(-2);return we},me=g.__private__.encodeColorString=function(k){var G;typeof k=="string"&&(k={ch1:k});var ue=k.ch1,we=k.ch2,Re=k.ch3,nt=k.ch4,pt=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var st=new Sz(ue);if(st.ok)ue=st.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var wt=parseInt(ue.substr(1),16);ue=wt>>16&255,we=wt>>8&255,Re=255&wt}if(we===void 0||nt===void 0&&ue===we&&we===Re)G=typeof ue=="string"?ue+" "+pt[0]:k.precision===2?F(ue/255)+" "+pt[0]:U(ue/255)+" "+pt[0];else if(nt===void 0||_n(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return["1.","1.","1.",pt[1]].join(" ");G=typeof ue=="string"?[ue,we,Re,pt[1]].join(" "):k.precision===2?[F(ue/255),F(we/255),F(Re/255),pt[1]].join(" "):[U(ue/255),U(we/255),U(Re/255),pt[1]].join(" ")}else G=typeof ue=="string"?[ue,we,Re,nt,pt[2]].join(" "):k.precision===2?[F(ue),F(we),F(Re),F(nt),pt[2]].join(" "):[U(ue),U(we),U(Re),U(nt),pt[2]].join(" ");return G},Ce=g.__private__.getFilters=function(){return s},qe=g.__private__.putStream=function(k){var G=(k=k||{}).data||"",ue=k.filters||Ce(),we=k.alreadyAppliedFilters||[],Re=k.addLength1||!1,nt=G.length,pt=k.objectId,st=function(mn){return mn};if(d!==null&&pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(st=Qn.encryptor(pt,0));var wt={};ue===!0&&(ue=["FlateEncode"]);var _t=k.additionalKeyValues||[],Jt=(wt=ur.API.processDataByFilters!==void 0?ur.API.processDataByFilters(G,ue):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(wt.data.length!==0&&(_t.push({key:"Length",value:wt.data.length}),Re===!0&&_t.push({key:"Length1",value:nt})),Jt.length!=0)if(Jt.split("/").length-1==1)_t.push({key:"Filter",value:Jt});else{_t.push({key:"Filter",value:"["+Jt+"]"});for(var Ar=0;Ar<_t.length;Ar+=1)if(_t[Ar].key==="DecodeParms"){for(var Dr=[],zr=0;zr<wt.reverseChain.split("/").length-1;zr+=1)Dr.push("null");Dr.push(_t[Ar].value),_t[Ar].value="["+Dr.join(" ")+"]"}}oe("<<");for(var Lr=0;Lr<_t.length;Lr++)oe("/"+_t[Lr].key+" "+_t[Lr].value);oe(">>"),wt.data.length!==0&&(oe("stream"),oe(st(wt.data)),oe("endstream"))},Ue=g.__private__.putPage=function(k){var G=k.number,ue=k.data,we=k.objId,Re=k.contentsObjId;V(we,!0),oe("<</Type /Page"),oe("/Parent "+k.rootDictionaryObjId+" 0 R"),oe("/Resources "+k.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(O(k.mediaBox.bottomLeftX))+" "+parseFloat(O(k.mediaBox.bottomLeftY))+" "+O(k.mediaBox.topRightX)+" "+O(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&oe("/CropBox ["+O(k.cropBox.bottomLeftX)+" "+O(k.cropBox.bottomLeftY)+" "+O(k.cropBox.topRightX)+" "+O(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&oe("/BleedBox ["+O(k.bleedBox.bottomLeftX)+" "+O(k.bleedBox.bottomLeftY)+" "+O(k.bleedBox.topRightX)+" "+O(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&oe("/TrimBox ["+O(k.trimBox.bottomLeftX)+" "+O(k.trimBox.bottomLeftY)+" "+O(k.trimBox.topRightX)+" "+O(k.trimBox.topRightY)+"]"),k.artBox!==null&&oe("/ArtBox ["+O(k.artBox.bottomLeftX)+" "+O(k.artBox.bottomLeftY)+" "+O(k.artBox.topRightX)+" "+O(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&oe("/UserUnit "+k.userUnit),Cr.publish("putPage",{objId:we,pageContext:Gt[G],pageNumber:G,page:ue}),oe("/Contents "+Re+" 0 R"),oe(">>"),oe("endobj");var nt=ue.join(`
`);return E===S&&(nt+=`
Q`),V(Re,!0),qe({data:nt,filters:Ce(),objectId:Re}),oe("endobj"),we},Me=g.__private__.putPages=function(){var k,G,ue=[];for(k=1;k<=hr;k++)Gt[k].objId=Pe(),Gt[k].contentsObjId=Pe();for(k=1;k<=hr;k++)ue.push(Ue({number:k,data:Te[k],objId:Gt[k].objId,contentsObjId:Gt[k].contentsObjId,mediaBox:Gt[k].mediaBox,cropBox:Gt[k].cropBox,bleedBox:Gt[k].bleedBox,trimBox:Gt[k].trimBox,artBox:Gt[k].artBox,userUnit:Gt[k].userUnit,rootDictionaryObjId:X,resourceDictionaryObjId:se}));V(X,!0),oe("<</Type /Pages");var we="/Kids [";for(G=0;G<hr;G++)we+=ue[G]+" 0 R ";oe(we+"]"),oe("/Count "+hr),oe(">>"),oe("endobj"),Cr.publish("postPutPages")},Ve=function(k){Cr.publish("putFont",{font:k,out:oe,newObject:Zr,putStream:qe}),k.isAlreadyPutted!==!0&&(k.objectNumber=Zr(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Tp(k.postScriptName)),oe("/Subtype /Type1"),typeof k.encoding=="string"&&oe("/Encoding /"+k.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},rt=function(k){k.objectNumber=Zr();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[O(k.x),O(k.y),O(k.x+k.width),O(k.y+k.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var ue=k.pages[1].join(`
`);qe({data:ue,additionalKeyValues:G,objectId:k.objectNumber}),oe("endobj")},xt=function(k,G){G||(G=21);var ue=Zr(),we=(function(pt,st){var wt,_t=[],Jt=1/(st-1);for(wt=0;wt<1;wt+=Jt)_t.push(wt);if(_t.push(1),pt[0].offset!=0){var Ar={offset:0,color:pt[0].color};pt.unshift(Ar)}if(pt[pt.length-1].offset!=1){var Dr={offset:1,color:pt[pt.length-1].color};pt.push(Dr)}for(var zr="",Lr=0,mn=0;mn<_t.length;mn++){for(wt=_t[mn];wt>pt[Lr+1].offset;)Lr++;var Vr=pt[Lr].offset,ci=(wt-Vr)/(pt[Lr+1].offset-Vr),cs=pt[Lr].color,us=pt[Lr+1].color;zr+=J(Math.round((1-ci)*cs[0]+ci*us[0]).toString(16))+J(Math.round((1-ci)*cs[1]+ci*us[1]).toString(16))+J(Math.round((1-ci)*cs[2]+ci*us[2]).toString(16))}return zr.trim()})(k.colors,G),Re=[];Re.push({key:"FunctionType",value:"0"}),Re.push({key:"Domain",value:"[0.0 1.0]"}),Re.push({key:"Size",value:"["+G+"]"}),Re.push({key:"BitsPerSample",value:"8"}),Re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe({data:we,additionalKeyValues:Re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),oe("endobj"),k.objectNumber=Zr(),oe("<< /ShadingType "+k.type),oe("/ColorSpace /DeviceRGB");var nt="/Coords ["+O(parseFloat(k.coords[0]))+" "+O(parseFloat(k.coords[1]))+" ";k.type===2?nt+=O(parseFloat(k.coords[2]))+" "+O(parseFloat(k.coords[3])):nt+=O(parseFloat(k.coords[2]))+" "+O(parseFloat(k.coords[3]))+" "+O(parseFloat(k.coords[4]))+" "+O(parseFloat(k.coords[5])),oe(nt+="]"),k.matrix&&oe("/Matrix ["+k.matrix.toString()+"]"),oe("/Function "+ue+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},yt=function(k,G){var ue=Pe(),we=Zr();G.push({resourcesOid:ue,objectOid:we}),k.objectNumber=we;var Re=[];Re.push({key:"Type",value:"/Pattern"}),Re.push({key:"PatternType",value:"1"}),Re.push({key:"PaintType",value:"1"}),Re.push({key:"TilingType",value:"1"}),Re.push({key:"BBox",value:"["+k.boundingBox.map(O).join(" ")+"]"}),Re.push({key:"XStep",value:O(k.xStep)}),Re.push({key:"YStep",value:O(k.yStep)}),Re.push({key:"Resources",value:ue+" 0 R"}),k.matrix&&Re.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),qe({data:k.stream,additionalKeyValues:Re,objectId:k.objectNumber}),oe("endobj")},bt=function(k){for(var G in k.objectNumber=Zr(),oe("<<"),k)switch(G){case"opacity":oe("/ca "+F(k[G]));break;case"stroke-opacity":oe("/CA "+F(k[G]))}oe(">>"),oe("endobj")},St=function(k){V(k.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var G in oe("/Font <<"),mr)mr.hasOwnProperty(G)&&(h===!1||h===!0&&m.hasOwnProperty(G))&&oe("/"+G+" "+mr[G].objectNumber+" 0 R");oe(">>")})(),(function(){if(Object.keys(it).length>0){for(var G in oe("/Shading <<"),it)it.hasOwnProperty(G)&&it[G]instanceof Jf&&it[G].objectNumber>=0&&oe("/"+G+" "+it[G].objectNumber+" 0 R");Cr.publish("putShadingPatternDict"),oe(">>")}})(),(function(G){if(Object.keys(it).length>0){for(var ue in oe("/Pattern <<"),it)it.hasOwnProperty(ue)&&it[ue]instanceof g.TilingPattern&&it[ue].objectNumber>=0&&it[ue].objectNumber<G&&oe("/"+ue+" "+it[ue].objectNumber+" 0 R");Cr.publish("putTilingPatternDict"),oe(">>")}})(k.objectOid),(function(){if(Object.keys(Mt).length>0){var G;for(G in oe("/ExtGState <<"),Mt)Mt.hasOwnProperty(G)&&Mt[G].objectNumber>=0&&oe("/"+G+" "+Mt[G].objectNumber+" 0 R");Cr.publish("putGStateDict"),oe(">>")}})(),(function(){for(var G in oe("/XObject <<"),on)on.hasOwnProperty(G)&&on[G].objectNumber>=0&&oe("/"+G+" "+on[G].objectNumber+" 0 R");Cr.publish("putXobjectDict"),oe(">>")})(),oe(">>"),oe("endobj")},or=function(k){yr[k.fontName]=yr[k.fontName]||{},yr[k.fontName][k.fontStyle]=k.id},Rr=function(k,G,ue,we,Re){var nt={id:"F"+(Object.keys(mr).length+1).toString(10),postScriptName:k,fontName:G,fontStyle:ue,encoding:we,isStandardFont:Re||!1,metadata:{}};return Cr.publish("addFont",{font:nt,instance:this}),mr[nt.id]=nt,or(nt),nt.id},It=g.__private__.pdfEscape=g.pdfEscape=function(k,G){return(function(ue,we){var Re,nt,pt,st,wt,_t,Jt,Ar,Dr;if(pt=(we=we||{}).sourceEncoding||"Unicode",wt=we.outputEncoding,(we.autoencode||wt)&&mr[zt].metadata&&mr[zt].metadata[pt]&&mr[zt].metadata[pt].encoding&&(st=mr[zt].metadata[pt].encoding,!wt&&mr[zt].encoding&&(wt=mr[zt].encoding),!wt&&st.codePages&&(wt=st.codePages[0]),typeof wt=="string"&&(wt=st[wt]),wt)){for(Jt=!1,_t=[],Re=0,nt=ue.length;Re<nt;Re++)(Ar=wt[ue.charCodeAt(Re)])?_t.push(String.fromCharCode(Ar)):_t.push(ue[Re]),_t[Re].charCodeAt(0)>>8&&(Jt=!0);ue=_t.join("")}for(Re=ue.length;Jt===void 0&&Re!==0;)ue.charCodeAt(Re-1)>>8&&(Jt=!0),Re--;if(!Jt)return ue;for(_t=we.noBOM?[]:[254,255],Re=0,nt=ue.length;Re<nt;Re++){if((Dr=(Ar=ue.charCodeAt(Re))>>8)>>8)throw new Error("Character at position "+Re+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_t.push(Dr),_t.push(Ar-(Dr<<8))}return String.fromCharCode.apply(void 0,_t)})(k,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ye=g.__private__.beginPage=function(k){Te[++hr]=[],Gt[hr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},ba(hr),$e(Te[Y])},Ua=function(k,G){var ue,we,Re;switch(r=G||r,typeof k=="string"&&(ue=w(k.toLowerCase()),Array.isArray(ue)&&(we=ue[0],Re=ue[1])),Array.isArray(k)&&(we=k[0]*dr,Re=k[1]*dr),isNaN(we)&&(we=i[0],Re=i[1]),(we>14400||Re>14400)&&(On.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Re=Math.min(14400,Re)),i=[we,Re],r.substr(0,1)){case"l":Re>we&&(i=[Re,we]);break;case"p":we>Re&&(i=[Re,we])}Ye(i),pr(ss),oe(Zs),rl!==0&&oe(rl+" J"),Ul!==0&&oe(Ul+" j"),Cr.publish("addPage",{pageNumber:hr})},Zn=function(k){k>0&&k<=hr&&(Te.splice(k,1),Gt.splice(k,1),hr--,Y>hr&&(Y=hr),this.setPage(Y))},ba=function(k){k>0&&k<=hr&&(Y=k)},qn=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Te.length-1},Qo=function(k,G,ue){var we,Re=void 0;return ue=ue||{},k=k!==void 0?k:mr[zt].fontName,G=G!==void 0?G:mr[zt].fontStyle,we=k.toLowerCase(),yr[we]!==void 0&&yr[we][G]!==void 0?Re=yr[we][G]:yr[k]!==void 0&&yr[k][G]!==void 0?Re=yr[k][G]:ue.disableWarning===!1&&On.warn("Unable to look up font label for font '"+k+"', '"+G+"'. Refer to getFontList() for available fonts."),Re||ue.noFallback||(Re=yr.times[G])==null&&(Re=yr.times.normal),Re},Kr=g.__private__.putInfo=function(){var k=Zr(),G=function(we){return we};for(var ue in d!==null&&(G=Qn.encryptor(k,0)),oe("<<"),oe("/Producer ("+It(G("jsPDF "+ur.version))+")"),fr)fr.hasOwnProperty(ue)&&fr[ue]&&oe("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+It(G(fr[ue]))+")");oe("/CreationDate ("+It(G(ee))+")"),oe(">>"),oe("endobj")},So=g.__private__.putCatalog=function(k){var G=(k=k||{}).rootDictionaryObjId||X;switch(Zr(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+G+" 0 R"),$t||($t="fullwidth"),$t){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+$t;ue.substr(ue.length-1)==="%"&&($t=parseInt($t)/100),typeof $t=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+F($t)+"]")}switch(Nr||(Nr="continuous"),Nr){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Ht&&oe("/PageMode /"+Ht),Cr.publish("putCatalog"),oe(">>"),oe("endobj")},fd=g.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(pe+1)),oe("/Root "+pe+" 0 R"),oe("/Info "+(pe-1)+" 0 R"),d!==null&&oe("/Encrypt "+Qn.oid+" 0 R"),oe("/ID [ <"+ve+"> <"+ve+"> ]"),oe(">>")},Hn=g.__private__.putHeader=function(){oe("%PDF-"+x),oe("%")},Ol=g.__private__.putXRef=function(){var k="0000000000";oe("xref"),oe("0 "+(pe+1)),oe("0000000000 65535 f ");for(var G=1;G<=pe;G++)typeof Ae[G]=="function"?oe((k+Ae[G]()).slice(-10)+" 00000 n "):Ae[G]!==void 0?oe((k+Ae[G]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},$a=g.__private__.buildDocument=function(){var k;pe=0,fe=0,Ne=[],Ae=[],ke=[],X=Pe(),se=Pe(),$e(Ne),Cr.publish("buildDocument"),Hn(),Me(),(function(){Cr.publish("putAdditionalObjects");for(var ue=0;ue<ke.length;ue++){var we=ke[ue];V(we.objId,!0),oe(we.content),oe("endobj")}Cr.publish("postPutAdditionalObjects")})(),k=[],(function(){for(var ue in mr)mr.hasOwnProperty(ue)&&(h===!1||h===!0&&m.hasOwnProperty(ue))&&Ve(mr[ue])})(),(function(){var ue;for(ue in Mt)Mt.hasOwnProperty(ue)&&bt(Mt[ue])})(),(function(){for(var ue in on)on.hasOwnProperty(ue)&&rt(on[ue])})(),(function(ue){var we;for(we in it)it.hasOwnProperty(we)&&(it[we]instanceof Jf?xt(it[we]):it[we]instanceof Up&&yt(it[we],ue))})(k),Cr.publish("putResources"),k.forEach(St),St({resourcesOid:se,objectOid:Number.MAX_SAFE_INTEGER}),Cr.publish("postPutResources"),d!==null&&(Qn.oid=Zr(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Qn.v),oe("/R "+Qn.r),oe("/U <"+Qn.toHexString(Qn.U)+">"),oe("/O <"+Qn.toHexString(Qn.O)+">"),oe("/P "+Qn.P),oe(">>"),oe("endobj")),Kr(),So();var G=fe;return Ol(),fd(),oe("startxref"),oe(""+G),oe("%%EOF"),$e(Te[Y]),Ne.join(`
`)},Js=g.__private__.getBlob=function(k){return new Blob([lt(k)],{type:"application/pdf"})},Il=g.output=g.__private__.output=(sa=function(k,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",k){case void 0:return $a();case"save":g.save(G.filename);break;case"arraybuffer":return lt($a());case"blob":return Js($a());case"bloburi":case"bloburl":if(Pr.URL!==void 0&&typeof Pr.URL.createObjectURL=="function")return Pr.URL&&Pr.URL.createObjectURL(Js($a()))||void 0;On.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",we=$a();try{ue=II(we)}catch{ue=II(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+G.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pr)==="[object Window]"){var Re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Re=G.pdfObjectUrl,nt="");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Re+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",st=Pr.open();return st!==null&&st.document.write(pt),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pr)==="[object Window]"){var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',_t=Pr.open();if(_t!==null){_t.document.write(wt);var Jt=this;_t.document.documentElement.querySelector("#pdfViewer").onload=function(){_t.document.title=G.filename,_t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Jt.output("bloburl"))}}return _t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',Dr=Pr.open();if(Dr!==null&&(Dr.document.write(Ar),Dr.document.title=G.filename),Dr||typeof safari>"u")return Dr;break;case"datauri":case"dataurl":return Pr.document.location.href=this.output("datauristring",G);default:return null}},sa.foo=function(){try{return sa.apply(this,arguments)}catch(ue){var k=ue.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var G="Error in function "+k.split(`
`)[0].split("<")[0]+": "+ue.message;if(!Pr.console)throw new Error(G);Pr.console.error(G,ue),Pr.alert&&alert(G)}},sa.foo.bar=sa,sa.foo),za=function(k){return Array.isArray(xa)===!0&&xa.indexOf(k)>-1};switch(n){case"pt":dr=1;break;case"mm":dr=72/25.4;break;case"cm":dr=72/2.54;break;case"in":dr=72;break;case"px":dr=za("px_scaling")==1?.75:96/72;break;case"pc":case"em":dr=12;break;case"ex":dr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);dr=n}var Qn=null;ae(),ce();var Li=g.__private__.getPageInfo=g.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Gt[k].objId,pageNumber:k,pageContext:Gt[k]}},jc=g.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in Gt)if(Gt[G].objId===k)break;return Li(G)},hd=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Gt[Y].objId,pageNumber:Y,pageContext:Gt[Y]}};g.addPage=function(){return Ua.apply(this,arguments),this},g.setPage=function(){return ba.apply(this,arguments),$e.call(this,Te[Y]),this},g.insertPage=function(k){return this.addPage(),this.movePage(Y,k),this},g.movePage=function(k,G){var ue,we;if(k>G){ue=Te[k],we=Gt[k];for(var Re=k;Re>G;Re--)Te[Re]=Te[Re-1],Gt[Re]=Gt[Re-1];Te[G]=ue,Gt[G]=we,this.setPage(G)}else if(k<G){ue=Te[k],we=Gt[k];for(var nt=k;nt<G;nt++)Te[nt]=Te[nt+1],Gt[nt]=Gt[nt+1];Te[G]=ue,Gt[G]=we,this.setPage(G)}return this},g.deletePage=function(){return Zn.apply(this,arguments),this},g.__private__.text=g.text=function(k,G,ue,we,Re){var nt,pt,st,wt,_t,Jt,Ar,Dr,zr,Lr=(we=we||{}).scope||this;if(typeof k=="number"&&typeof G=="number"&&(typeof ue=="string"||Array.isArray(ue))){var mn=ue;ue=G,G=k,k=mn}if(arguments[3]instanceof nr==0?(st=arguments[4],wt=arguments[5],_n(Ar=arguments[3])==="object"&&Ar!==null||(typeof st=="string"&&(wt=st,st=null),typeof Ar=="string"&&(wt=Ar,Ar=null),typeof Ar=="number"&&(st=Ar,Ar=null),we={flags:Ar,angle:st,align:wt})):(R("The transform parameter of text() with a Matrix value"),zr=Re),isNaN(G)||isNaN(ue)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return Lr;var Vr,ci="",cs=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:wa,us=Lr.internal.scaleFactor;function to(Qr){return Qr=Qr.split("	").join(Array(we.TabLen||9).join(" ")),It(Qr,Ar)}function ro(Qr){for(var dn,ti=Qr.concat(),Ni=[],Po=ti.length;Po--;)typeof(dn=ti.shift())=="string"?Ni.push(dn):Array.isArray(Qr)&&(dn.length===1||dn[1]===void 0&&dn[2]===void 0)?Ni.push(dn[0]):Ni.push([dn[0],dn[1],dn[2]]);return Ni}function no(Qr,dn){var ti;if(typeof Qr=="string")ti=dn(Qr)[0];else if(Array.isArray(Qr)){for(var Ni,Po,yf=Qr.concat(),yd=[],Kl=yf.length;Kl--;)typeof(Ni=yf.shift())=="string"?yd.push(dn(Ni)[0]):Array.isArray(Ni)&&typeof Ni[0]=="string"&&(Po=dn(Ni[0],Ni[1],Ni[2]),yd.push([Po[0],Po[1],Po[2]]));ti=yd}return ti}var _a=!1,nl=!0;if(typeof k=="string")_a=!0;else if(Array.isArray(k)){var Mi=k.concat();pt=[];for(var Ao,An=Mi.length;An--;)(typeof(Ao=Mi.shift())!="string"||Array.isArray(Ao)&&typeof Ao[0]!="string")&&(nl=!1);_a=nl}if(_a===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var il=ct/Lr.internal.scaleFactor,zl=il*(cs-1);switch(we.baseline){case"bottom":ue-=zl;break;case"top":ue+=il-zl;break;case"hanging":ue+=il-2*zl;break;case"middle":ue+=il/2-zl}if((Jt=we.maxWidth||0)>0&&(typeof k=="string"?k=Lr.splitTextToSize(k,Jt):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(Qr,dn){return Qr.concat(Lr.splitTextToSize(dn,Jt))},[]))),nt={text:k,x:G,y:ue,options:we,mutex:{pdfEscape:It,activeFontKey:zt,fonts:mr,activeFontSize:ct}},Cr.publish("preProcessText",nt),k=nt.text,st=(we=nt.options).angle,zr instanceof nr==0&&st&&typeof st=="number"){st*=Math.PI/180,we.rotationDirection===0&&(st=-st),E===S&&(st=-st);var ds=Math.cos(st),io=Math.sin(st);zr=new nr(ds,io,-io,ds,0,0)}else st&&st instanceof nr&&(zr=st);E!==S||zr||(zr=ya),(_t=we.charSpace||Cn)!==void 0&&(ci+=O(M(_t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Dr=we.horizontalScale)!==void 0&&(ci+=O(100*Dr)+` Tz
`),we.lang;var Fi=-1,Na=we.renderingMode!==void 0?we.renderingMode:we.stroke,Ls=Lr.internal.getCurrentPageInfo().pageContext;switch(Na){case 0:case!1:case"fill":Fi=0;break;case 1:case!0:case"stroke":Fi=1;break;case 2:case"fillThenStroke":Fi=2;break;case 3:case"invisible":Fi=3;break;case 4:case"fillAndAddForClipping":Fi=4;break;case 5:case"strokeAndAddPathForClipping":Fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fi=6;break;case 7:case"addToPathForClipping":Fi=7}var Uh=Ls.usedRenderingMode!==void 0?Ls.usedRenderingMode:-1;Fi!==-1?ci+=Fi+` Tr
`:Uh!==-1&&(ci+=`0 Tr
`),Fi!==-1&&(Ls.usedRenderingMode=Fi),wt=we.align||"left";var Ms,Cc=ct*cs,md=Lr.internal.pageSize.getWidth(),gd=mr[zt];_t=we.charSpace||Cn,Jt=we.maxWidth||0,Ar=Object.assign({autoencode:!0,noBOM:!0},we.flags);var Wl=[],ao=function(Qr){return Lr.getStringUnitWidth(Qr,{font:gd,charSpace:_t,fontSize:ct,doKerning:!1})*ct/us};if(Object.prototype.toString.call(k)==="[object Array]"){var Fs;pt=ro(k),wt!=="left"&&(Ms=pt.map(ao));var Bs,Dc=0;if(wt==="right"){G-=Ms[0],k=[],An=pt.length;for(var al=0;al<An;al++)al===0?(Bs=Sa(G),Fs=Is(ue)):(Bs=M(Dc-Ms[al]),Fs=-Cc),k.push([pt[al],Bs,Fs]),Dc=Ms[al]}else if(wt==="center"){G-=Ms[0]/2,k=[],An=pt.length;for(var ql=0;ql<An;ql++)ql===0?(Bs=Sa(G),Fs=Is(ue)):(Bs=M((Dc-Ms[ql])/2),Fs=-Cc),k.push([pt[ql],Bs,Fs]),Dc=Ms[ql]}else if(wt==="left"){k=[],An=pt.length;for(var Hl=0;Hl<An;Hl++)k.push(pt[Hl])}else if(wt==="justify"&&gd.encoding==="Identity-H"){k=[],An=pt.length,Jt=Jt!==0?Jt:md;for(var sl=0,ui=0;ui<An;ui++)if(Fs=ui===0?Is(ue):-Cc,Bs=ui===0?Sa(G):sl,ui<An-1){var uu=M((Jt-Ms[ui])/(pt[ui].split(" ").length-1)),ol=pt[ui].split(" ");k.push([ol[0]+" ",Bs,Fs]),sl=0;for(var Eo=1;Eo<ol.length;Eo++){var du=(ao(ol[Eo-1]+" "+ol[Eo])-ao(ol[Eo]))*us+uu;Eo==ol.length-1?k.push([ol[Eo],du,0]):k.push([ol[Eo]+" ",du,0]),sl-=du}}else k.push([pt[ui],Bs,Fs]);k.push(["",sl,0])}else{if(wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],An=pt.length,Jt=Jt!==0?Jt:md,ui=0;ui<An;ui++){Fs=ui===0?Is(ue):-Cc,Bs=ui===0?Sa(G):0;var fu=pt[ui].split(" ").length-1,vd=fu>0?(Jt-Ms[ui])/fu:0;ui<An-1?Wl.push(O(M(vd))):Wl.push(0),k.push([pt[ui],Bs,Fs])}}}(typeof we.R2L=="boolean"?we.R2L:Xt)===!0&&(k=no(k,function(Qr,dn,ti){return[Qr.split("").reverse().join(""),dn,ti]})),nt={text:k,x:G,y:ue,options:we,mutex:{pdfEscape:It,activeFontKey:zt,fonts:mr,activeFontSize:ct}},Cr.publish("postProcessText",nt),k=nt.text,Vr=nt.mutex.isHex||!1;var xd=mr[zt].encoding;xd!=="WinAnsiEncoding"&&xd!=="StandardEncoding"||(k=no(k,function(Qr,dn,ti){return[to(Qr),dn,ti]})),pt=ro(k),k=[];for(var Vl,Oc,Ic,hu=Array.isArray(pt[0])?1:0,Rc="",pu=function(Qr,dn,ti){var Ni="";return ti instanceof nr?(ti=typeof we.angle=="number"?_i(ti,new nr(1,0,0,1,Qr,dn)):_i(new nr(1,0,0,1,Qr,dn),ti),E===S&&(ti=_i(new nr(1,0,0,-1,0,0),ti)),Ni=ti.join(" ")+` Tm
`):Ni=O(Qr)+" "+O(dn)+` Td
`,Ni},ei=0;ei<pt.length;ei++){switch(Rc="",hu){case 1:Ic=(Vr?"<":"(")+pt[ei][0]+(Vr?">":")"),Vl=parseFloat(pt[ei][1]),Oc=parseFloat(pt[ei][2]);break;case 0:Ic=(Vr?"<":"(")+pt[ei]+(Vr?">":")"),Vl=Sa(G),Oc=Is(ue)}Wl!==void 0&&Wl[ei]!==void 0&&(Rc=Wl[ei]+` Tw
`),ei===0?k.push(Rc+pu(Vl,Oc,zr)+Ic):hu===0?k.push(Rc+Ic):hu===1&&k.push(Rc+pu(Vl,Oc,zr)+Ic)}k=hu===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var fs=`BT
/`;return fs+=zt+" "+ct+` Tf
`,fs+=O(ct*cs)+` TL
`,fs+=Rs+`
`,fs+=ci,fs+=k,oe(fs+="ET"),m[zt]=!0,Lr};var Rl=g.__private__.clip=g.clip=function(k){return oe(k==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Rl("evenodd")},g.__private__.discardPath=g.discardPath=function(){return oe("n"),this};var _o=g.__private__.isValidStyle=function(k){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(G=!0),G};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(k){return _o(k)&&(u=k),this};var Ac=g.__private__.getStyle=g.getStyle=function(k){var G=u;switch(k){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=k}return G},Hr=g.close=function(){return oe("h"),this};g.stroke=function(){return oe("S"),this},g.fill=function(k){return Ll("f",k),this},g.fillEvenOdd=function(k){return Ll("f*",k),this},g.fillStroke=function(k){return Ll("B",k),this},g.fillStrokeEvenOdd=function(k){return Ll("B*",k),this};var Ll=function(k,G){_n(G)==="object"?lu(G,k):oe(k)},el=function(k){k===null||E===S&&k===void 0||(k=Ac(k),oe(k))};function Ec(k,G,ue,we,Re){var nt=new Up(G||this.boundingBox,ue||this.xStep,we||this.yStep,this.gState,Re||this.matrix);nt.stream=this.stream;var pt=k+"$$"+this.cloneIndex+++"$$";return Wn(pt,nt),nt}var lu=function(k,G){var ue=Ut[k.key],we=it[ue];if(we instanceof Jf)oe("q"),oe(Ml(G)),we.gState&&g.setGState(we.gState),oe(k.matrix.toString()+" cm"),oe("/"+ue+" sh"),oe("Q");else if(we instanceof Up){var Re=new nr(1,0,0,-1,0,Ge());k.matrix&&(Re=Re.multiply(k.matrix||ya),ue=Ec.call(we,k.key,k.boundingBox,k.xStep,k.yStep,Re).id),oe("q"),oe("/Pattern cs"),oe("/"+ue+" scn"),we.gState&&g.setGState(we.gState),oe(G),oe("Q")}},Ml=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Pc=g.moveTo=function(k,G){return oe(O(M(k))+" "+O(q(G))+" m"),this},Fl=g.lineTo=function(k,G){return oe(O(M(k))+" "+O(q(G))+" l"),this},oa=g.curveTo=function(k,G,ue,we,Re,nt){return oe([O(M(k)),O(q(G)),O(M(ue)),O(q(we)),O(M(Re)),O(q(nt)),"c"].join(" ")),this};g.__private__.line=g.line=function(k,G,ue,we,Re){if(isNaN(k)||isNaN(G)||isNaN(ue)||isNaN(we)||!_o(Re))throw new Error("Invalid arguments passed to jsPDF.line");return E===_?this.lines([[ue-k,we-G]],k,G,[1,1],Re||"S"):this.lines([[ue-k,we-G]],k,G,[1,1]).stroke()},g.__private__.lines=g.lines=function(k,G,ue,we,Re,nt){var pt,st,wt,_t,Jt,Ar,Dr,zr,Lr,mn,Vr,ci;if(typeof k=="number"&&(ci=ue,ue=G,G=k,k=ci),we=we||[1,1],nt=nt||!1,isNaN(G)||isNaN(ue)||!Array.isArray(k)||!Array.isArray(we)||!_o(Re)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pc(G,ue),pt=we[0],st=we[1],_t=k.length,mn=G,Vr=ue,wt=0;wt<_t;wt++)(Jt=k[wt]).length===2?(mn=Jt[0]*pt+mn,Vr=Jt[1]*st+Vr,Fl(mn,Vr)):(Ar=Jt[0]*pt+mn,Dr=Jt[1]*st+Vr,zr=Jt[2]*pt+mn,Lr=Jt[3]*st+Vr,mn=Jt[4]*pt+mn,Vr=Jt[5]*st+Vr,oa(Ar,Dr,zr,Lr,mn,Vr));return nt&&Hr(),el(Re),this},g.path=function(k){for(var G=0;G<k.length;G++){var ue=k[G],we=ue.c;switch(ue.op){case"m":Pc(we[0],we[1]);break;case"l":Fl(we[0],we[1]);break;case"c":oa.apply(this,we);break;case"h":Hr()}}return this},g.__private__.rect=g.rect=function(k,G,ue,we,Re){if(isNaN(k)||isNaN(G)||isNaN(ue)||isNaN(we)||!_o(Re))throw new Error("Invalid arguments passed to jsPDF.rect");return E===_&&(we=-we),oe([O(M(k)),O(q(G)),O(M(ue)),O(M(we)),"re"].join(" ")),el(Re),this},g.__private__.triangle=g.triangle=function(k,G,ue,we,Re,nt,pt){if(isNaN(k)||isNaN(G)||isNaN(ue)||isNaN(we)||isNaN(Re)||isNaN(nt)||!_o(pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-k,we-G],[Re-ue,nt-we],[k-Re,G-nt]],k,G,[1,1],pt,!0),this},g.__private__.roundedRect=g.roundedRect=function(k,G,ue,we,Re,nt,pt){if(isNaN(k)||isNaN(G)||isNaN(ue)||isNaN(we)||isNaN(Re)||isNaN(nt)||!_o(pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return Re=Math.min(Re,.5*ue),nt=Math.min(nt,.5*we),this.lines([[ue-2*Re,0],[Re*st,0,Re,nt-nt*st,Re,nt],[0,we-2*nt],[0,nt*st,-Re*st,nt,-Re,nt],[2*Re-ue,0],[-Re*st,0,-Re,-nt*st,-Re,-nt],[0,2*nt-we],[0,-nt*st,Re*st,-nt,Re,-nt]],k+Re,G,[1,1],pt,!0),this},g.__private__.ellipse=g.ellipse=function(k,G,ue,we,Re){if(isNaN(k)||isNaN(G)||isNaN(ue)||isNaN(we)||!_o(Re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*ue,pt=4/3*(Math.SQRT2-1)*we;return Pc(k+ue,G),oa(k+ue,G-pt,k+nt,G-we,k,G-we),oa(k-nt,G-we,k-ue,G-pt,k-ue,G),oa(k-ue,G+pt,k-nt,G+we,k,G+we),oa(k+nt,G+we,k+ue,G+pt,k+ue,G),el(Re),this},g.__private__.circle=g.circle=function(k,G,ue,we){if(isNaN(k)||isNaN(G)||isNaN(ue)||!_o(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,G,ue,ue,we)},g.setFont=function(k,G,ue){return ue&&(G=C(G,ue)),zt=Qo(k,G,{disableWarning:!1}),this};var Ds=g.__private__.getFont=g.getFont=function(){return mr[Qo.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var k,G,ue={};for(k in yr)if(yr.hasOwnProperty(k))for(G in ue[k]=[],yr[k])yr[k].hasOwnProperty(G)&&ue[k].push(G);return ue},g.addFont=function(k,G,ue,we,Re){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?Re=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(ue=C(ue,we)),Rr.call(this,k,G,ue,Re=Re||"Identity-H")};var wa,ss=e.lineWidth||.200025,tl=g.__private__.getLineWidth=g.getLineWidth=function(){return ss},pr=g.__private__.setLineWidth=g.setLineWidth=function(k){return ss=k,oe(O(M(k))+" w"),this};g.__private__.setLineDash=ur.API.setLineDash=ur.API.setLineDashPattern=function(k,G){if(k=k||[],G=G||0,isNaN(G)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(ue){return O(M(ue))}).join(" "),G=O(M(G)),oe("["+k+"] "+G+" d"),this};var Os=g.__private__.getLineHeight=g.getLineHeight=function(){return ct*wa};g.__private__.getLineHeight=g.getLineHeight=function(){return ct*wa};var xf=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(wa=k),this},pd=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return wa};xf(e.lineHeight);var Sa=g.__private__.getHorizontalCoordinate=function(k){return M(k)},Is=g.__private__.getVerticalCoordinate=function(k){return E===S?k:Gt[Y].mediaBox.topRightY-Gt[Y].mediaBox.bottomLeftY-M(k)},cu=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(k){return O(Sa(k))},Bl=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(k){return O(Is(k))},Zs=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return te(Zs)},g.__private__.setStrokeColor=g.setDrawColor=function(k,G,ue,we){return Zs=me({ch1:k,ch2:G,ch3:ue,ch4:we,pdfColorType:"draw",precision:2}),oe(Zs),this};var Tc=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return te(Tc)},g.__private__.setFillColor=g.setFillColor=function(k,G,ue,we){return Tc=me({ch1:k,ch2:G,ch3:ue,ch4:we,pdfColorType:"fill",precision:2}),oe(Tc),this};var Rs=e.textColor||"0 g",Qs=g.__private__.getTextColor=g.getTextColor=function(){return te(Rs)};g.__private__.setTextColor=g.setTextColor=function(k,G,ue,we){return Rs=me({ch1:k,ch2:G,ch3:ue,ch4:we,pdfColorType:"text",precision:3}),this};var Cn=e.charSpace,No=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Cn||0)};g.__private__.setCharSpace=g.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cn=k,this};var rl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(k){var G=g.CapJoinStyles[k];if(G===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rl=G,oe(G+" J"),this};var Ul=0;g.__private__.setLineJoin=g.setLineJoin=function(k){var G=g.CapJoinStyles[k];if(G===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ul=G,oe(G+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(O(M(k))+" M"),this},g.GState=j1,g.setGState=function(k){(k=typeof k=="string"?Mt[Ft[k]]:kc(null,k)).equals(br)||(oe("/"+k.id+" gs"),br=k)};var kc=function(k,G){if(!k||!Ft[k]){var ue=!1;for(var we in Mt)if(Mt.hasOwnProperty(we)&&Mt[we].equals(G)){ue=!0;break}if(ue)G=Mt[we];else{var Re="GS"+(Object.keys(Mt).length+1).toString(10);Mt[Re]=G,G.id=Re}return k&&(Ft[k]=G.id),Cr.publish("addGState",G),G}};g.addGState=function(k,G){return kc(k,G),this},g.saveGraphicsState=function(){return oe("q"),Fr.push({key:zt,size:ct,color:Rs}),this},g.restoreGraphicsState=function(){oe("Q");var k=Fr.pop();return zt=k.key,ct=k.size,Rs=k.color,br=null,this},g.setCurrentTransformationMatrix=function(k){return oe(k.toString()+" cm"),this},g.comment=function(k){return oe("#"+k),this};var os=function(k,G){var ue=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(nt){isNaN(nt)||(ue=parseFloat(nt))}});var we=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(nt){isNaN(nt)||(we=parseFloat(nt))}});var Re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Re},set:function(nt){Re=nt.toString()}}),this},$l=function(k,G,ue,we){os.call(this,k,G),this.type="rect";var Re=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Re},set:function(pt){isNaN(pt)||(Re=parseFloat(pt))}});var nt=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(pt){isNaN(pt)||(nt=parseFloat(pt))}}),this},jo=function(){this.page=hr,this.currentPage=Y,this.pages=Te.slice(0),this.pagesContext=Gt.slice(0),this.x=Bt,this.y=Jr,this.matrix=Tr,this.width=ln(Y),this.height=ne(Y),this.outputDestination=Le,this.id="",this.objectNumber=-1};jo.prototype.restore=function(){hr=this.page,Y=this.currentPage,Gt=this.pagesContext,Te=this.pages,Bt=this.x,Jr=this.y,Tr=this.matrix,Z(Y,this.width),xe(Y,this.height),Le=this.outputDestination};var ls=function(k,G,ue,we,Re){Si.push(new jo),hr=Y=0,Te=[],Bt=k,Jr=G,Tr=Re,Ye([ue,we])};for(var eo in g.beginFormObject=function(k,G,ue,we,Re){return ls(k,G,ue,we,Re),this},g.endFormObject=function(k){return(function(G){if(aa[G])Si.pop().restore();else{var ue=new jo,we="Xo"+(Object.keys(on).length+1).toString(10);ue.id=we,aa[G]=we,on[we]=ue,Cr.publish("addFormObject",ue),Si.pop().restore()}})(k),this},g.doFormObject=function(k,G){var ue=on[aa[k]];return oe("q"),oe(G.toString()+" cm"),oe("/"+ue.id+" Do"),oe("Q"),this},g.getFormObject=function(k){var G=on[aa[k]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},g.save=function(k,G){return k=k||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(Kf(Js($a()),k),typeof Kf.unload=="function"&&Pr.setTimeout&&setTimeout(Kf.unload,911),this):new Promise(function(ue,we){try{var Re=Kf(Js($a()),k);typeof Kf.unload=="function"&&Pr.setTimeout&&setTimeout(Kf.unload,911),ue(Re)}catch(nt){we(nt.message)}})},ur.API)ur.API.hasOwnProperty(eo)&&(eo==="events"&&ur.API.events.length?(function(k,G){var ue,we,Re;for(Re=G.length-1;Re!==-1;Re--)ue=G[Re][0],we=G[Re][1],k.subscribe.apply(k,[ue].concat(typeof we=="function"?[we]:we))})(Cr,ur.API.events):g[eo]=ur.API[eo]);function ln(k){return Gt[k].mediaBox.topRightX-Gt[k].mediaBox.bottomLeftX}function Z(k,G){Gt[k].mediaBox.topRightX=G+Gt[k].mediaBox.bottomLeftX}function ne(k){return Gt[k].mediaBox.topRightY-Gt[k].mediaBox.bottomLeftY}function xe(k,G){Gt[k].mediaBox.topRightY=G+Gt[k].mediaBox.bottomLeftY}var Se=g.getPageWidth=function(k){return ln(k=k||Y)/dr},De=g.setPageWidth=function(k,G){Z(k,G*dr)},Ge=g.getPageHeight=function(k){return ne(k=k||Y)/dr},Ke=g.setPageHeight=function(k,G){xe(k,G*dr)};return g.internal={pdfEscape:It,getStyle:Ac,getFont:Ds,getFontSize:Dt,getCharSpace:No,getTextColor:Qs,getLineHeight:Os,getLineHeightFactor:pd,getLineWidth:tl,write:at,getHorizontalCoordinate:Sa,getVerticalCoordinate:Is,getCoordinateString:cu,getVerticalCoordinateString:Bl,collections:{},newObject:Zr,newAdditionalObject:Q,newObjectDeferred:Pe,newObjectDeferredBegin:V,getFilters:Ce,putStream:qe,events:Cr,scaleFactor:dr,pageSize:{getWidth:function(){return Se(Y)},setWidth:function(k){De(Y,k)},getHeight:function(){return Ge(Y)},setHeight:function(k){Ke(Y,k)}},encryptionOptions:d,encryption:Qn,getEncryptor:function(k){return d!==null?Qn.encryptor(k,0):function(G){return G}},output:Il,getNumberOfPages:qn,get pages(){return Te},out:oe,f2:F,f3:U,getPageInfo:Li,getPageInfoByObjId:jc,getCurrentPageInfo:hd,getPDFVersion:v,Point:os,Rectangle:$l,Matrix:nr,hasHotfix:za},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Se(Y)},set:function(k){De(Y,k)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ge(Y)},set:function(k){Ke(Y,k)},enumerable:!0,configurable:!0}),(function(k){for(var G=0,ue=Pt.length;G<ue;G++){var we=Rr.call(this,k[G][0],k[G][1],k[G][2],Pt[G][3],!0);h===!1&&(m[we]=!0);var Re=k[G][0].split("-");or({id:we,fontName:Re[0],fontStyle:Re[1]||""})}Cr.publish("addFonts",{fonts:mr,dictionary:yr})}).call(g,Pt),zt="F1",Ua(i,r),Cr.publish("initialized"),g}Pp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Pp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Pp.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Pp.prototype.processOwnerPassword=function(e,t){return qN(WN(t).substr(0,5),e)},Pp.prototype.encryptor=function(e,t){var r=WN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return qN(r,n)}},j1.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||_n(e)!==_n(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ur.API={events:[]},ur.version="3.0.4";var Ti=ur.API,t3=1,Bh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ir=function(e){return e.toFixed(2)},Ud=function(e){return e.toFixed(5)};Ti.__acroform__={};var wo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},FI=function(e){return e*t3},Vc=function(e){var t=new Az,r=rr.internal.getHeight(e)||0,n=rr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ir(n)),Number(Ir(r))],t},ANe=Ti.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ENe=Ti.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},PNe=Ti.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},qi=Ti.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return PNe(e,t-1)},Hi=Ti.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ANe(e,t-1)},Vi=Ti.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ENe(e,t-1)},TNe=Ti.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+o)||0,c.upperRight_X=r(i+s)||0,c.upperRight_Y=n(a)||0,[Number(Ir(c.lowerLeft_X)),Number(Ir(c.lowerLeft_Y)),Number(Ir(c.upperRight_X)),Number(Ir(c.upperRight_Y))]},kNe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=HN(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Ir(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Vc(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},HN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(F){return F.split(`
`)}):i.map(function(F){return[F]});var a=r,s=rr.internal.getHeight(e)||0;s=s<0?-s:s;var o=rr.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(F,U,M){if(F+1<i.length){var q=U+" "+i[F+1][0];return Ox(q,e,M).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var u,d,h=Ox("3",e,a).height,m=e.multiline?s-a:(s-h)/2,g=m+=2,x=0,v=0,y=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ox(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var w="",_=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var E=!1;if(i[S].length!==1&&y!==i[S].length-1){if((h+2)*(_+2)+2>s)continue e;w+=i[S][y],E=!0,v=S,S--}else{w=(w+=i[S][y]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var T=parseInt(S),D=c(T,w,a),C=S>=i.length-1;if(D&&!C){w+=" ",y=0;continue}if(D||C){if(C)v=T;else if(e.multiline&&(h+2)*(_+2)+2>s)continue e}else{if(!e.multiline||(h+2)*(_+2)+2>s)continue e;v=T}}for(var O="",R=x;R<=v;R++){var H=i[R];if(e.multiline){if(R===v){O+=H[y]+" ",y=(y+1)%H.length;continue}if(R===x){O+=H[H.length-1]+" ";continue}}O+=H[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,d=Ox(O,e,a).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}t+=Ir(u)+" "+Ir(g)+` Td
`,t+="("+Bh(O)+`) Tj
`,t+=-Ir(u)+` 0 Td
`,g=-(a+2),d=0,x=E?v:v+1,_++,w=""}break}return n.text=t,n.fontSize=a,n},Ox=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},CNe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},DNe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},ONe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(_c.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(CNe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");t3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Ez,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&DNe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=TNe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=rr.createDefaultAppearanceStream(o),_n(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=kNe(o);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var g=o.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var x=g[s];typeof x=="function"&&(x=x.call(i,o)),h+="/"+s+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=g)=="function"&&(x=x.call(i,o)),h+="/"+s+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}a&&(function(v,y){for(var w in v)if(v.hasOwnProperty(w)){var _=w,S=v[w];y.internal.newObjectDeferredBegin(S.objId,!0),_n(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete v[_]}})(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},jz=Ti.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),_n(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Bh(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xS=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Bh(n(e))+")"},Yc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yc.prototype.toString=function(){return this.objId+" 0 R"},Yc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Yc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:jz(i,this.objId,this.scope)}):i instanceof Yc?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var Az=function(){Yc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};wo(Az,Yc);var Ez=function(){Yc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Bh(r(e))+")"}},set:function(r){e=r}})};wo(Ez,Yc);var _c=function e(){Yc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qi(t,3)},set:function(w){w?this.F=Hi(t,3):this.F=Vi(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof A1)return;a="FieldObject"+e.FieldNum++}var w=function(_){return _};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Bh(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/t3:u},set:function(w){u=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof A1||this instanceof fh))return xS(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ia==0?xS(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof Ia==0?w.substr(0,1)==="("?wp(w.substr(1,w.length-2)):wp(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ia==1?wp(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Ia==1?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ia==0?xS(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof Ia==0?w.substr(0,1)==="("?wp(w.substr(1,w.length-2)):wp(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ia==1?wp(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Ia==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(w){w=!!w,v=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(w){x=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,1)},set:function(w){w?this.Ff=Hi(this.Ff,1):this.Ff=Vi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,2)},set:function(w){w?this.Ff=Hi(this.Ff,2):this.Ff=Vi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,3)},set:function(w){w?this.Ff=Hi(this.Ff,3):this.Ff=Vi(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');y=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(y){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};wo(_c,Yc);var Gp=function(){_c.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jz(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,s,o){o||(o=1);for(var c,u=[];c=s.exec(a);)u.push(c[o]);return u})(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,18)},set:function(r){r?this.Ff=Hi(this.Ff,18):this.Ff=Vi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Hi(this.Ff,19):this.Ff=Vi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,20)},set:function(r){r?(this.Ff=Hi(this.Ff,20),t.sort()):this.Ff=Vi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,22)},set:function(r){r?this.Ff=Hi(this.Ff,22):this.Ff=Vi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,23)},set:function(r){r?this.Ff=Hi(this.Ff,23):this.Ff=Vi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,27)},set:function(r){r?this.Ff=Hi(this.Ff,27):this.Ff=Vi(this.Ff,27)}}),this.hasAppearanceStream=!1};wo(Gp,_c);var Yp=function(){Gp.call(this),this.fontName="helvetica",this.combo=!1};wo(Yp,Gp);var Xp=function(){Yp.call(this),this.combo=!0};wo(Xp,Yp);var Jx=function(){Xp.call(this),this.edit=!0};wo(Jx,Xp);var Ia=function(){_c.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,15)},set:function(r){r?this.Ff=Hi(this.Ff,15):this.Ff=Vi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,16)},set:function(r){r?this.Ff=Hi(this.Ff,16):this.Ff=Vi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,17)},set:function(r){r?this.Ff=Hi(this.Ff,17):this.Ff=Vi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,26)},set:function(r){r?this.Ff=Hi(this.Ff,26):this.Ff=Vi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Bh(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){_n(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};wo(Ia,_c);var Zx=function(){Ia.call(this),this.pushButton=!0};wo(Zx,Ia);var Jp=function(){Ia.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};wo(Jp,Ia);var A1=function(){var e,t;_c.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Bh(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){_n(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wo(A1,_c),Jp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Jp.prototype.createOption=function(e){var t=new A1;return t.Parent=this,t.optionName=e,this.Kids.push(t),INe.call(this.scope,t),t};var Qx=function(){Ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rr.CheckBox.createAppearanceStream()};wo(Qx,Ia);var fh=function(){_c.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,13)},set:function(t){t?this.Ff=Hi(this.Ff,13):this.Ff=Vi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,21)},set:function(t){t?this.Ff=Hi(this.Ff,21):this.Ff=Vi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,23)},set:function(t){t?this.Ff=Hi(this.Ff,23):this.Ff=Vi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,24)},set:function(t){t?this.Ff=Hi(this.Ff,24):this.Ff=Vi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,25)},set:function(t){t?this.Ff=Hi(this.Ff,25):this.Ff=Vi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,26)},set:function(t){t?this.Ff=Hi(this.Ff,26):this.Ff=Vi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wo(fh,_c);var ey=function(){fh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,14)},set:function(e){e?this.Ff=Hi(this.Ff,14):this.Ff=Vi(this.Ff,14)}}),this.password=!0};wo(ey,fh);var rr={CheckBox:{createAppearanceStream:function(){return{N:{On:rr.CheckBox.YesNormal},D:{On:rr.CheckBox.YesPushDown,Off:rr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Vc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=HN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ir(rr.internal.getWidth(e))+" "+Ir(rr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ir(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Vc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=rr.internal.getHeight(e),s=rr.internal.getWidth(e),o=HN(e,e.caption);return i.push("1 g"),i.push("0 0 "+Ir(s)+" "+Ir(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ir(s-1)+" "+Ir(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Ir(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Vc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ir(rr.internal.getWidth(e))+" "+Ir(rr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:rr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=rr.RadioButton.Circle.YesNormal,t.D[e]=rr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Vc(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=rr.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ud(rr.internal.getWidth(e)/2)+" "+Ud(rr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Vc(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*rr.internal.Bezier_C).toFixed(5)),s=Number((n*rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ud(rr.internal.getWidth(e)/2)+" "+Ud(rr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ud(rr.internal.getWidth(e)/2)+" "+Ud(rr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Vc(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ud(rr.internal.getWidth(e)/2)+" "+Ud(rr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:rr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=rr.RadioButton.Cross.YesNormal,t.D[e]=rr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Vc(e);t.scope=e.scope;var r=[],n=rr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ir(rr.internal.getWidth(e)-2)+" "+Ir(rr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ir(n.x1.x)+" "+Ir(n.x1.y)+" m"),r.push(Ir(n.x2.x)+" "+Ir(n.x2.y)+" l"),r.push(Ir(n.x4.x)+" "+Ir(n.x4.y)+" m"),r.push(Ir(n.x3.x)+" "+Ir(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Vc(e);t.scope=e.scope;var r=rr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ir(rr.internal.getWidth(e))+" "+Ir(rr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ir(rr.internal.getWidth(e)-2)+" "+Ir(rr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ir(r.x1.x)+" "+Ir(r.x1.y)+" m"),n.push(Ir(r.x2.x)+" "+Ir(r.x2.y)+" l"),n.push(Ir(r.x4.x)+" "+Ir(r.x4.y)+" m"),n.push(Ir(r.x3.x)+" "+Ir(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Vc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ir(rr.internal.getWidth(e))+" "+Ir(rr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};rr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=rr.internal.getWidth(e),r=rr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},rr.internal.getWidth=function(e){var t=0;return _n(e)==="object"&&(t=FI(e.Rect[2])),t},rr.internal.getHeight=function(e){var t=0;return _n(e)==="object"&&(t=FI(e.Rect[3])),t};var INe=Ti.addField=function(e){if(ONe(this,e),!(e instanceof _c))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ti.AcroFormChoiceField=Gp,Ti.AcroFormListBox=Yp,Ti.AcroFormComboBox=Xp,Ti.AcroFormEditBox=Jx,Ti.AcroFormButton=Ia,Ti.AcroFormPushButton=Zx,Ti.AcroFormRadioButton=Jp,Ti.AcroFormCheckBox=Qx,Ti.AcroFormTextField=fh,Ti.AcroFormPasswordField=ey,Ti.AcroFormAppearance=rr,Ti.AcroForm={ChoiceField:Gp,ListBox:Yp,ComboBox:Xp,EditBox:Jx,Button:Ia,PushButton:Zx,RadioButton:Jp,CheckBox:Qx,TextField:fh,PasswordField:ey,Appearance:rr},ur.AcroForm={ChoiceField:Gp,ListBox:Yp,ComboBox:Xp,EditBox:Jx,Button:Ia,PushButton:Zx,RadioButton:Jp,CheckBox:Qx,TextField:fh,PasswordField:ey,Appearance:rr};ur.AcroForm;function Pz(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(F,U){var M,q,ee,ve,he,ce=r;if((U=U||r)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(D(F))for(he in n)for(ee=n[he],M=0;M<ee.length;M+=1){for(ve=!0,q=0;q<ee[M].length;q+=1)if(ee[M][q]!==void 0&&ee[M][q]!==F[q]){ve=!1;break}if(ve===!0){ce=he;break}}else for(he in n)for(ee=n[he],M=0;M<ee.length;M+=1){for(ve=!0,q=0;q<ee[M].length;q+=1)if(ee[M][q]!==void 0&&ee[M][q]!==F.charCodeAt(q)){ve=!1;break}if(ve===!0){ce=he;break}}return ce===r&&U!==r&&(ce=U),ce},a=function F(U){for(var M=this.internal.write,q=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:U.width}),ve.push({key:"Height",value:U.height}),U.colorSpace===w.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===w.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var he="",ce=0,be=U.transparency.length;ce<be;ce++)he+=U.transparency[ce]+" "+U.transparency[ce]+" ";ve.push({key:"Mask",value:"["+he+"]"})}U.sMask!==void 0&&ve.push({key:"SMask",value:U.objectId+1+" 0 R"});var Oe=U.filter!==void 0?["/"+U.filter]:void 0;if(q({data:U.data,additionalKeyValues:ve,alreadyAppliedFilters:Oe,objectId:U.objectId}),M("endobj"),"sMask"in U&&U.sMask!==void 0){var ae,L=(ae=U.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:U.bitsPerComponent,Y={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:U.sMask};"filter"in U&&(Y.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(U.width),Y.filter=U.filter),F.call(this,Y)}if(U.colorSpace===w.INDEXED){var K=this.internal.newObject();q({data:O(new Uint8Array(U.palette)),objectId:K}),M("endobj")}},s=function(){var F=this.internal.collections[t+"images"];for(var U in F)a.call(this,F[U])},o=function(){var F,U=this.internal.collections[t+"images"],M=this.internal.write;for(var q in U)M("/I"+(F=U[q]).index,F.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var F=this.internal.collections[t+"images"];return c.call(this),F},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(F){return typeof e["process"+F.toUpperCase()]=="function"},m=function(F){return _n(F)==="object"&&F.nodeType===1},g=function(F,U){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var M=""+F.getAttribute("src");if(M.indexOf("data:image/")===0)return Xx(unescape(M).split("base64,").pop());var q=e.loadFile(M,!0);if(q!==void 0)return q}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var ee;switch(U){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return Xx(F.toDataURL(ee,1).split("base64,").pop())}},x=function(F){var U=this.internal.collections[t+"images"];if(U){for(var M in U)if(F===U[M].alias)return U[M]}},v=function(F,U,M){return F||U||(F=-96,U=-96),F<0&&(F=-1*M.width*72/F/this.internal.scaleFactor),U<0&&(U=-1*M.height*72/U/this.internal.scaleFactor),F===0&&(F=U*M.width/M.height),U===0&&(U=F*M.height/M.width),[F,U]},y=function(F,U,M,q,ee,ve){var he=v.call(this,M,q,ee),ce=this.internal.getCoordinateString,be=this.internal.getVerticalCoordinateString,Oe=u.call(this);if(M=he[0],q=he[1],Oe[ee.index]=ee,ve){ve*=Math.PI/180;var ae=Math.cos(ve),L=Math.sin(ve),Y=function(J){return J.toFixed(4)},K=[Y(ae),Y(L),Y(-1*L),Y(ae),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,ce(F),be(U+q),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([ce(M),"0","0",ce(q),"0","0","cm"].join(" "))):this.internal.write([ce(M),"0","0",ce(q),ce(F),be(U+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(F){var U,M,q=0;if(typeof F=="string")for(M=F.length,U=0;U<M;U++)q=(q<<5)-q+F.charCodeAt(U),q|=0;else if(D(F))for(M=F.byteLength/2,U=0;U<M;U++)q=(q<<5)-q+F[U],q|=0;return q},E=e.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var U=!0;return F.length===0&&(U=!1),F.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(U=!1),U},T=e.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var U=F.indexOf(",");return U<0?null:F.substring(0,U).trim().endsWith("base64")?F.substring(U+1):null};e.__addimage__.isArrayBuffer=function(F){return F instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(F){return F instanceof Int8Array||F instanceof Uint8Array||F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array},C=e.__addimage__.binaryStringToUint8Array=function(F){for(var U=F.length,M=new Uint8Array(U),q=0;q<U;q++)M[q]=F.charCodeAt(q);return M},O=e.__addimage__.arrayBufferToBinaryString=function(F){for(var U="",M=D(F)?F:new Uint8Array(F),q=0;q<M.length;q+=8192)U+=String.fromCharCode.apply(null,M.subarray(q,q+8192));return U};e.addImage=function(){var F,U,M,q,ee,ve,he,ce,be;if(typeof arguments[1]=="number"?(U=r,M=arguments[1],q=arguments[2],ee=arguments[3],ve=arguments[4],he=arguments[5],ce=arguments[6],be=arguments[7]):(U=arguments[1],M=arguments[2],q=arguments[3],ee=arguments[4],ve=arguments[5],he=arguments[6],ce=arguments[7],be=arguments[8]),_n(F=arguments[0])==="object"&&!m(F)&&"imageData"in F){var Oe=F;F=Oe.imageData,U=Oe.format||U||r,M=Oe.x||M||0,q=Oe.y||q||0,ee=Oe.w||Oe.width||ee,ve=Oe.h||Oe.height||ve,he=Oe.alias||he,ce=Oe.compression||ce,be=Oe.rotation||Oe.angle||be}var ae=this.internal.getFilters();if(ce===void 0&&ae.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(M)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var L=R.call(this,F,U,he,ce);return y.call(this,M,q,ee,ve,L,be),this};var R=function(F,U,M,q){var ee,ve,he;if(typeof F=="string"&&i(F)===r){F=unescape(F);var ce=H(F,!1);(ce!==""||(ce=e.loadFile(F,!0))!==void 0)&&(F=ce)}if(m(F)&&(F=g(F,U)),U=i(F,U),!h(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((he=M)==null||he.length===0)&&(M=(function(be){return typeof be=="string"||D(be)?S(be):D(be.data)?S(be.data):null})(F)),(ee=x.call(this,M))||(F instanceof Uint8Array||U==="RGBA"||(ve=F,F=C(F)),ee=this["process"+U.toUpperCase()](F,d.call(this),M,(function(be){return be&&typeof be=="string"&&(be=be.toUpperCase()),be in e.image_compression?be:_.NONE})(q),ve)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},H=e.__addimage__.convertBase64ToBinaryString=function(F,U){U=typeof U!="boolean"||U;var M,q="";if(typeof F=="string"){var ee;M=(ee=T(F))!==null&&ee!==void 0?ee:F;try{q=Xx(M)}catch(ve){if(U)throw E(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(F){var U,M,q="";if(m(F)&&(F=g(F)),typeof F=="string"&&i(F)===r&&((q=H(F,!1))===""&&(q=e.loadFile(F)||""),F=q),M=i(F),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(F instanceof Uint8Array||(F=C(F)),!(U=this["process"+M.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=M,U}})(ur.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ur.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var g=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(v.objId),_=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+g(w(_))+") >>",v.content=a;var S=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(v.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(x(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var T=this.annotations._nameMap[n.options.name];n.options.pageNumber=T.page,n.options.top=T.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var D=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(u*d)}else o=c,s=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,o,s,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(ur.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&a(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&i.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&a(v)&&t[v.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&a(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&a(v)&&t[v.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&a(v)&&t[v.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(v){var y=0,w=r,_="",S=0;for(y=0;y<v.length;y+=1)w[v.charCodeAt(y)]!==void 0?(S++,typeof(w=w[v.charCodeAt(y)])=="number"&&(_+=String.fromCharCode(w),w=r,S=0),y===v.length-1&&(w=r,_+=v.charAt(y-(S-1)),y-=S-1,S=0)):(w=r,_+=v.charAt(y-S),y-=S,S=0);return _};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(v,y,w){return s(v)?a(v)===!1?-1:!u(v)||!s(y)&&!s(w)||!s(w)&&o(y)||o(v)&&!s(y)||o(v)&&c(y)||o(v)&&o(y)?0:d(v)&&s(y)&&!o(y)&&s(w)&&u(w)?3:o(v)||!s(w)?1:2:-1},g=function(v){var y=0,w=0,_=0,S="",E="",T="",D=(v=v||"").split("\\s+"),C=[];for(y=0;y<D.length;y+=1){for(C.push(""),w=0;w<D[y].length;w+=1)S=D[y][w],E=D[y][w-1],T=D[y][w+1],s(S)?(_=m(S,E,T),C[y]+=_!==-1?String.fromCharCode(t[S.charCodeAt(0)][_]):S):C[y]+=S;C[y]=h(C[y])}return C.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var v,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(y)){var _=0;for(w=[],_=0;_<y.length;_+=1)Array.isArray(y[_])?w.push([g(y[_][0]),y[_][1],y[_][2]]):w.push([g(y[_])]);v=w}else v=g(y);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",x])})(ur.API),ur.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ur.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(v){x=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,g=0,x=0,v=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=u.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,E){return S.concat(y.splitTextToSize(E,w))},[])):c=Array.isArray(c)?c:[c];for(var _=0;_<c.length;_++)g<(v=this.getStringUnitWidth(c[_],{font:h})*d)&&(g=v);return g!==0&&(x=c.length),{w:g/=m,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,g&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var g,x,v,y,w=[],_=[],S=[],E={},T={},D=[],C=[],O=(m=m||{}).autoSize||!1,R=m.printHeaders!==!1,H=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,F=m.margins||Object.assign({width:this.getPageWidth()},t),U=typeof m.padding=="number"?m.padding:3,M=m.headerBackgroundColor||"#c8c8c8",q=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=q,this.setFontSize(H),h==null)_=w=Object.keys(d[0]),S=w.map(function(){return"left"});else if(Array.isArray(h)&&_n(h[0])==="object")for(w=h.map(function(Oe){return Oe.name}),_=h.map(function(Oe){return Oe.prompt||Oe.name||""}),S=h.map(function(Oe){return Oe.align||"left"}),g=0;g<h.length;g+=1)T[h[g].name]=.7499990551181103*h[g].width;else Array.isArray(h)&&typeof h[0]=="string"&&(_=w=h,S=w.map(function(){return"left"}));if(O||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<w.length;g+=1){for(E[y=w[g]]=d.map(function(Oe){return Oe[y]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(_[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=E[y],this.setFont(void 0,"normal"),v=0;v<x.length;v+=1)D.push(this.getTextDimensions(x[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[y]=Math.max.apply(null,D)+U+U,D=[]}if(R){var ee={};for(g=0;g<w.length;g+=1)ee[w[g]]={},ee[w[g]].text=_[g],ee[w[g]].align=S[g];var ve=o.call(this,ee,T);C=w.map(function(Oe){return new a(c,u,T[Oe],ve,ee[Oe].text,void 0,ee[Oe].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var he=h.reduce(function(Oe,ae){return Oe[ae.name]=ae.align,Oe},{});for(g=0;g<d.length;g+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:g,data:d[g]},this);var ce=o.call(this,d[g],T);for(v=0;v<w.length;v+=1){var be=d[g][w[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:g,col:v,data:be},this),s.call(this,new a(c,u,T[w[v]],ce,be,g+2,he[w[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(g){var x=c[g];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/m+d+d},this).reduce(function(g,x){return Math.max(g,x)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(ur.API);var Tz={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kz=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],VN=Pz(kz),Cz=[100,200,300,400,500,600,700,800,900],RNe=Pz(Cz);function yS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return Tz[a=a||"normal"]?a:"normal"})(e.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(e.weight),i=(function(a){return typeof VN[a=a||"normal"]=="number"?a:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function BI(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var LNe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},UI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $I(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function zI(e){return e.trimLeft()}function MNe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function FNe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ix,WI,qI,Sp,Rx,HI,VI,KI,bS=["times"];function GI(e,t,r,n,i){var a=4,s=XI;switch(i){case ur.API.image_compression.FAST:a=1,s=YI;break;case ur.API.image_compression.MEDIUM:a=6,s=JI;break;case ur.API.image_compression.SLOW:a=9,s=ZI}e=(function(c,u,d,h){for(var m,g=c.length/u,x=new Uint8Array(c.length+g),v=[BNe,YI,XI,JI,ZI],y=0;y<g;y+=1){var w=y*u,_=c.subarray(w,w+u);if(h)x.set(h(_,d,m),w+y);else{for(var S=v.length,E=[],T=0;T<S;T+=1)E[T]=v[T](_,d,m);var D=$Ne(E.concat());x.set(E[D],w+y)}m=_}return x})(e,t,Math.ceil(r*n/8),s);var o=BN(e,{level:a});return ur.API.__addimage__.arrayBufferToBinaryString(o)}function BNe(e){var t=Array.apply([],e);return t.unshift(0),t}function YI(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function XI(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=e[a]-s+256&255}return i}function JI(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=e[a-t]||0,o=r&&r[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function ZI(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=UNe(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function UNe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function $Ne(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function wS(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return Dz(e,i)>>a&s}function QI(e,t,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,c=(t&o)<<s;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var m=h>>8&255;u.setUint8(d,m)}})(e,a,Dz(e,a)&~(o<<s)&65535|c)}function Dz(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function zNe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,c=null;a&&(o=t,c=s,t+=3*s);var u=!0,d=[],h=0,m=null,g=0,x=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],1&v||(m=null),g=v>>2&7,t++;break;case 254:for(;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,E=e[t++],T=E>>6&1,D=1<<1+(7&E),C=o,O=c,R=!1;E>>7&&(R=!0,C=t,O=D,t+=3*D);var H=t;for(t++;;){var F;if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}d.push({x:y,y:w,width:_,height:S,has_local_palette:R,palette_offset:C,palette_size:O,data_offset:H,data_length:t-H,transparent_index:m,interlaced:!!T,delay:h,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(U){if(U<0||U>=d.length)throw new Error("Frame index out of range.");return d[U]},this.decodeAndBlitFrameBGRA=function(U,M){var q=this.frameInfo(U),ee=q.width*q.height,ve=new Uint8Array(ee);eR(e,q.data_offset,ve,ee);var he=q.palette_offset,ce=q.transparent_index;ce===null&&(ce=256);var be=q.width,Oe=r-be,ae=be,L=4*(q.y*r+q.x),Y=4*((q.y+q.height)*r+q.x),K=L,J=4*Oe;q.interlaced===!0&&(J+=4*r*7);for(var pe=8,Ae=0,Ne=ve.length;Ae<Ne;++Ae){var fe=ve[Ae];if(ae===0&&(ae=be,(K+=J)>=Y&&(J=4*Oe+4*r*(pe-1),K=L+(be+Oe)*(pe<<1),pe>>=1)),fe===ce)K+=4;else{var ke=e[he+3*fe],Te=e[he+3*fe+1],je=e[he+3*fe+2];M[K++]=je,M[K++]=Te,M[K++]=ke,M[K++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(U,M){var q=this.frameInfo(U),ee=q.width*q.height,ve=new Uint8Array(ee);eR(e,q.data_offset,ve,ee);var he=q.palette_offset,ce=q.transparent_index;ce===null&&(ce=256);var be=q.width,Oe=r-be,ae=be,L=4*(q.y*r+q.x),Y=4*((q.y+q.height)*r+q.x),K=L,J=4*Oe;q.interlaced===!0&&(J+=4*r*7);for(var pe=8,Ae=0,Ne=ve.length;Ae<Ne;++Ae){var fe=ve[Ae];if(ae===0&&(ae=be,(K+=J)>=Y&&(J=4*Oe+4*r*(pe-1),K=L+(be+Oe)*(pe<<1),pe>>=1)),fe===ce)K+=4;else{var ke=e[he+3*fe],Te=e[he+3*fe+1],je=e[he+3*fe+2];M[K++]=ke,M[K++]=Te,M[K++]=je,M[K++]=255}--ae}}}function eR(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,c=i+1,u=(1<<c)-1,d=0,h=0,m=0,g=e[t++],x=new Int32Array(4096),v=null;;){for(;d<16&&g!==0;)h|=e[t++]<<d,d+=8,g===1?g=e[t++]:--g;if(d<c)break;var y=h&u;if(h>>=c,d-=c,y!==a){if(y===s)break;for(var w=y<o?y:v,_=0,S=w;S>a;)S=x[S]>>8,++_;var E=S;if(m+_+(w!==y?1:0)>n)return void On.log("Warning, gif stream longer than expected.");r[m++]=E;var T=m+=_;for(w!==y&&(r[m++]=E),S=w;_--;)S=x[S],r[--T]=255&S,S>>=8;v!==null&&o<4096&&(x[o++]=v<<8|E,o>=u+1&&c<12&&(++c,u=u<<1|1)),v=y}else o=s+1,u=(1<<(c=i+1))-1,v=null}return m!==n&&On.log("Warning, gif stream shorter than expected."),r}function SS(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),m=new Array(65535),g=new Array(64),x=new Array(64),v=[],y=0,w=7,_=new Array(64),S=new Array(64),E=new Array(64),T=new Array(256),D=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(L,Y){for(var K=0,J=0,pe=new Array,Ae=1;Ae<=16;Ae++){for(var Ne=1;Ne<=L[Ae];Ne++)pe[Y[J]]=[],pe[Y[J]][0]=K,pe[Y[J]][1]=Ae,J++,K++;K*=2}return pe}function he(L){for(var Y=L[0],K=L[1]-1;K>=0;)Y&1<<K&&(y|=1<<w),K--,--w<0&&(y==255?(ce(255),ce(0)):ce(y),w=7,y=0)}function ce(L){v.push(L)}function be(L){ce(L>>8&255),ce(255&L)}function Oe(L,Y,K,J,pe){for(var Ae,Ne=pe[0],fe=pe[240],ke=(function(ct,$t){var Dt,Xt,Ht,xr,Nr,ze,kt,fr,zt,dr,Bt=0;for(zt=0;zt<8;++zt){Dt=ct[Bt],Xt=ct[Bt+1],Ht=ct[Bt+2],xr=ct[Bt+3],Nr=ct[Bt+4],ze=ct[Bt+5],kt=ct[Bt+6];var Jr=Dt+(fr=ct[Bt+7]),Tr=Dt-fr,mr=Xt+kt,yr=Xt-kt,Fr=Ht+ze,it=Ht-ze,Ut=xr+Nr,Mt=xr-Nr,Ft=Jr+Ut,br=Jr-Ut,hr=mr+Fr,Gt=mr-Fr;ct[Bt]=Ft+hr,ct[Bt+4]=Ft-hr;var Cr=.707106781*(Gt+br);ct[Bt+2]=br+Cr,ct[Bt+6]=br-Cr;var xa=.382683433*((Ft=Mt+it)-(Gt=yr+Tr)),on=.5411961*Ft+xa,aa=1.306562965*Gt+xa,Si=.707106781*(hr=it+yr),nr=Tr+Si,_i=Tr-Si;ct[Bt+5]=_i+on,ct[Bt+3]=_i-on,ct[Bt+1]=nr+aa,ct[Bt+7]=nr-aa,Bt+=8}for(Bt=0,zt=0;zt<8;++zt){Dt=ct[Bt],Xt=ct[Bt+8],Ht=ct[Bt+16],xr=ct[Bt+24],Nr=ct[Bt+32],ze=ct[Bt+40],kt=ct[Bt+48];var ya=Dt+(fr=ct[Bt+56]),Wn=Dt-fr,sa=Xt+kt,Zr=Xt-kt,Pe=Ht+ze,V=Ht-ze,Q=xr+Nr,X=xr-Nr,se=ya+Q,te=ya-Q,me=sa+Pe,Ce=sa-Pe;ct[Bt]=se+me,ct[Bt+32]=se-me;var qe=.707106781*(Ce+te);ct[Bt+16]=te+qe,ct[Bt+48]=te-qe;var Ue=.382683433*((se=X+V)-(Ce=Zr+Wn)),Me=.5411961*se+Ue,Ve=1.306562965*Ce+Ue,rt=.707106781*(me=V+Zr),xt=Wn+rt,yt=Wn-rt;ct[Bt+40]=yt+Me,ct[Bt+24]=yt-Me,ct[Bt+8]=xt+Ve,ct[Bt+56]=xt-Ve,Bt++}for(zt=0;zt<64;++zt)dr=ct[zt]*$t[zt],g[zt]=dr>0?dr+.5|0:dr-.5|0;return g})(L,Y),Te=0;Te<64;++Te)x[C[Te]]=ke[Te];var je=x[0]-K;K=x[0],je==0?he(J[0]):(he(J[m[Ae=32767+je]]),he(h[Ae]));for(var Le=63;Le>0&&x[Le]==0;)Le--;if(Le==0)return he(Ne),K;for(var $e,oe=1;oe<=Le;){for(var at=oe;x[oe]==0&&oe<=Le;)++oe;var lt=oe-at;if(lt>=16){$e=lt>>4;for(var Pt=1;Pt<=$e;++Pt)he(fe);lt&=15}Ae=32767+x[oe],he(pe[(lt<<4)+m[Ae]]),he(h[Ae]),oe++}return Le!=63&&he(Ne),K}function ae(L){L=Math.min(Math.max(L,1),100),a!=L&&((function(Y){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var pe=s((K[J]*Y+50)/100);pe=Math.min(Math.max(pe,1),255),o[C[J]]=pe}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var fe=s((Ae[Ne]*Y+50)/100);fe=Math.min(Math.max(fe,1),255),c[C[Ne]]=fe}for(var ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,je=0;je<8;je++)for(var Le=0;Le<8;Le++)u[Te]=1/(o[C[Te]]*ke[je]*ke[Le]*8),d[Te]=1/(c[C[Te]]*ke[je]*ke[Le]*8),Te++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,Y){Y&&ae(Y),v=new Array,y=0,w=7,be(65496),be(65504),be(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),be(1),be(1),ce(0),ce(0),(function(){be(65499),be(132),ce(0);for(var Xt=0;Xt<64;Xt++)ce(o[Xt]);ce(1);for(var Ht=0;Ht<64;Ht++)ce(c[Ht])})(),(function(Xt,Ht){be(65472),be(17),ce(8),be(Ht),be(Xt),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(L.width,L.height),(function(){be(65476),be(418),ce(0);for(var Xt=0;Xt<16;Xt++)ce(O[Xt+1]);for(var Ht=0;Ht<=11;Ht++)ce(R[Ht]);ce(16);for(var xr=0;xr<16;xr++)ce(H[xr+1]);for(var Nr=0;Nr<=161;Nr++)ce(F[Nr]);ce(1);for(var ze=0;ze<16;ze++)ce(U[ze+1]);for(var kt=0;kt<=11;kt++)ce(M[kt]);ce(17);for(var fr=0;fr<16;fr++)ce(q[fr+1]);for(var zt=0;zt<=161;zt++)ce(ee[zt])})(),be(65498),be(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var K=0,J=0,pe=0;y=0,w=7,this.encode.displayName="_encode_";for(var Ae,Ne,fe,ke,Te,je,Le,$e,oe,at=L.data,lt=L.width,Pt=L.height,ct=4*lt,$t=0;$t<Pt;){for(Ae=0;Ae<ct;){for(Te=ct*$t+Ae,Le=-1,$e=0,oe=0;oe<64;oe++)je=Te+($e=oe>>3)*ct+(Le=4*(7&oe)),$t+$e>=Pt&&(je-=ct*($t+1+$e-Pt)),Ae+Le>=ct&&(je-=Ae+Le-ct+4),Ne=at[je++],fe=at[je++],ke=at[je++],_[oe]=(D[Ne]+D[fe+256|0]+D[ke+512|0]>>16)-128,S[oe]=(D[Ne+768|0]+D[fe+1024|0]+D[ke+1280|0]>>16)-128,E[oe]=(D[Ne+1280|0]+D[fe+1536|0]+D[ke+1792|0]>>16)-128;K=Oe(_,u,K,t,n),J=Oe(S,d,J,r,i),pe=Oe(E,d,pe,r,i),Ae+=32}$t+=8}if(w>=0){var Dt=[];Dt[1]=w+1,Dt[0]=(1<<w+1)-1,he(Dt)}return be(65497),new Uint8Array(v)},e=e||50,(function(){for(var L=String.fromCharCode,Y=0;Y<256;Y++)T[Y]=L(Y)})(),t=ve(O,R),r=ve(U,M),n=ve(H,F),i=ve(q,ee),(function(){for(var L=1,Y=2,K=1;K<=15;K++){for(var J=L;J<Y;J++)m[32767+J]=K,h[32767+J]=[],h[32767+J][1]=K,h[32767+J][0]=J;for(var pe=-(Y-1);pe<=-L;pe++)m[32767+pe]=K,h[32767+pe]=[],h[32767+pe][1]=K,h[32767+pe][0]=Y-1+pe;L<<=1,Y<<=1}})(),(function(){for(var L=0;L<256;L++)D[L]=19595*L,D[L+256|0]=38470*L,D[L+512|0]=7471*L+32768,D[L+768|0]=-11059*L,D[L+1024|0]=-21709*L,D[L+1280|0]=32768*L+8421375,D[L+1536|0]=-27439*L,D[L+1792|0]=-5329*L})(),ae(e)}function sc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tR(e){function t(R){if(!R)throw Error("assert :P")}function r(R,H,F){for(var U=0;4>U;U++)if(R[H+U]!=F.charCodeAt(U))return!0;return!1}function n(R,H,F,U,M){for(var q=0;q<M;q++)R[H+q]=F[U+q]}function i(R,H,F,U){for(var M=0;M<U;M++)R[H+M]=F}function a(R){return new Int32Array(R)}function s(R,H){for(var F=[],U=0;U<R;U++)F.push(new H);return F}function o(R,H){var F=[];return(function U(M,q,ee){for(var ve=ee[q],he=0;he<ve&&(M.push(ee.length>q+1?[]:new H),!(ee.length<q+1));he++)U(M[he],q+1,ee)})(F,0,R),F}var c=function(){var R=this;function H(N,P){for(var B=1<<P-1>>>0;N&B;)B>>>=1;return B?(N&B-1)+B:N}function F(N,P,B,W,re){t(!(W%B));do N[P+(W-=B)]=re;while(0<W)}function U(N,P,B,W,re){if(t(2328>=re),512>=re)var le=a(512);else if((le=a(re))==null)return 0;return(function(de,ge,ye,_e,Fe,Je){var Ee,We,Xe=ge,ft=1<<ye,Qe=a(16),ut=a(16);for(t(Fe!=0),t(_e!=null),t(de!=null),t(0<ye),We=0;We<Fe;++We){if(15<_e[We])return 0;++Qe[_e[We]]}if(Qe[0]==Fe)return 0;for(ut[1]=0,Ee=1;15>Ee;++Ee){if(Qe[Ee]>1<<Ee)return 0;ut[Ee+1]=ut[Ee]+Qe[Ee]}for(We=0;We<Fe;++We)Ee=_e[We],0<_e[We]&&(Je[ut[Ee]++]=We);if(ut[15]==1)return(_e=new M).g=0,_e.value=Je[0],F(de,Xe,1,ft,_e),ft;var dt,mt=-1,vt=ft-1,ar=0,Vt=1,kr=1,er=1<<ye;for(We=0,Ee=1,Fe=2;Ee<=ye;++Ee,Fe<<=1){if(Vt+=kr<<=1,0>(kr-=Qe[Ee]))return 0;for(;0<Qe[Ee];--Qe[Ee])(_e=new M).g=Ee,_e.value=Je[We++],F(de,Xe+ar,Fe,er,_e),ar=H(ar,Ee)}for(Ee=ye+1,Fe=2;15>=Ee;++Ee,Fe<<=1){if(Vt+=kr<<=1,0>(kr-=Qe[Ee]))return 0;for(;0<Qe[Ee];--Qe[Ee]){if(_e=new M,(ar&vt)!=mt){for(Xe+=er,dt=1<<(mt=Ee)-ye;15>mt&&!(0>=(dt-=Qe[mt]));)++mt,dt<<=1;ft+=er=1<<(dt=mt-ye),de[ge+(mt=ar&vt)].g=dt+ye,de[ge+mt].value=Xe-ge-mt}_e.g=Ee-ye,_e.value=Je[We++],F(de,Xe+(ar>>ye),Fe,er,_e),ar=H(ar,Ee)}}return Vt!=2*ut[15]-1?0:ft})(N,P,B,W,re,le)}function M(){this.value=this.g=0}function q(){this.value=this.g=0}function ee(){this.G=s(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ao,q)}function ve(N,P,B,W){t(N!=null),t(P!=null),t(2147483648>W),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=P,N.pa=B,N.Jd=P,N.Yc=B+W,N.Zc=4<=W?B+W-4+1:B,Ne(N)}function he(N,P){for(var B=0;0<P--;)B|=ke(N,128)<<P;return B}function ce(N,P){var B=he(N,P);return fe(N)?-B:B}function be(N,P,B,W){var re,le=0;for(t(N!=null),t(P!=null),t(4294967288>W),N.Sb=W,N.Ra=0,N.u=0,N.h=0,4<W&&(W=4),re=0;re<W;++re)le+=P[B+re]<<8*re;N.Ra=le,N.bb=W,N.oa=P,N.pa=B}function Oe(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Dc-8>>>0,++N.bb,N.u-=8;J(N)&&(N.h=1,N.u=0)}function ae(N,P){if(t(0<=P),!N.h&&P<=Bs){var B=K(N)&Fs[P];return N.u+=P,Oe(N),B}return N.h=1,N.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(N){return N.Ra>>>(N.u&Dc-1)>>>0}function J(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Dc}function pe(N,P){N.u=P,N.h=J(N)}function Ae(N){N.u>=al&&(t(N.u>=al),Oe(N))}function Ne(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function fe(N){return he(N,1)}function ke(N,P){var B=N.Ca;0>N.b&&Ne(N);var W=N.b,re=B*P>>>8,le=(N.I>>>W>re)+0;for(le?(B-=re,N.I-=re+1<<W>>>0):B=re+1,W=B,re=0;256<=W;)re+=8,W>>=8;return W=7^re+ql[W],N.b-=W,N.Ca=(B<<W)-1,le}function Te(N,P,B){N[P+0]=B>>24&255,N[P+1]=B>>16&255,N[P+2]=B>>8&255,N[P+3]=255&B}function je(N,P){return N[P+0]|N[P+1]<<8}function Le(N,P){return je(N,P)|N[P+2]<<16}function $e(N,P){return je(N,P)|je(N,P+2)<<16}function oe(N,P){var B=1<<P;return t(N!=null),t(0<P),N.X=a(B),N.X==null?0:(N.Mb=32-P,N.Xa=P,1)}function at(N,P){t(N!=null),t(P!=null),t(N.Xa==P.Xa),n(P.X,0,N.X,0,1<<P.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function Pt(N,P,B,W){t(B!=null),t(W!=null);var re=B[0],le=W[0];return re==0&&(re=(N*le+P/2)/P),le==0&&(le=(P*re+N/2)/N),0>=re||0>=le?0:(B[0]=re,W[0]=le,1)}function ct(N,P){return N+(1<<P)-1>>>P}function $t(N,P){return((4278255360&N)+(4278255360&P)>>>0&4278255360)+((16711935&N)+(16711935&P)>>>0&16711935)>>>0}function Dt(N,P){R[P]=function(B,W,re,le,de,ge,ye){var _e;for(_e=0;_e<de;++_e){var Fe=R[N](ge[ye+_e-1],re,le+_e);ge[ye+_e]=$t(B[W+_e],Fe)}}}function Xt(){this.ud=this.hd=this.jd=0}function Ht(N,P){return((4278124286&(N^P))>>>1)+(N&P)>>>0}function xr(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function Nr(N,P){return xr(N+(N-P+.5>>1))}function ze(N,P,B){return Math.abs(P-B)-Math.abs(N-B)}function kt(N,P,B,W,re,le,de){for(W=le[de-1],B=0;B<re;++B)le[de+B]=W=$t(N[P+B],W)}function fr(N,P,B,W,re){var le;for(le=0;le<B;++le){var de=N[P+le],ge=de>>8&255,ye=16711935&(ye=(ye=16711935&de)+((ge<<16)+ge));W[re+le]=(4278255360&de)+ye>>>0}}function zt(N,P){P.jd=255&N,P.hd=N>>8&255,P.ud=N>>16&255}function dr(N,P,B,W,re,le){var de;for(de=0;de<W;++de){var ge=P[B+de],ye=ge>>>8,_e=ge,Fe=255&(Fe=(Fe=ge>>>16)+((N.jd<<24>>24)*(ye<<24>>24)>>>5));_e=255&(_e=(_e+=(N.hd<<24>>24)*(ye<<24>>24)>>>5)+((N.ud<<24>>24)*(Fe<<24>>24)>>>5)),re[le+de]=(4278255360&ge)+(Fe<<16)+_e}}function Bt(N,P,B,W,re){R[P]=function(le,de,ge,ye,_e,Fe,Je,Ee,We){for(ye=Je;ye<Ee;++ye)for(Je=0;Je<We;++Je)_e[Fe++]=re(ge[W(le[de++])])},R[N]=function(le,de,ge,ye,_e,Fe,Je){var Ee=8>>le.b,We=le.Ea,Xe=le.K[0],ft=le.w;if(8>Ee)for(le=(1<<le.b)-1,ft=(1<<Ee)-1;de<ge;++de){var Qe,ut=0;for(Qe=0;Qe<We;++Qe)Qe&le||(ut=W(ye[_e++])),Fe[Je++]=re(Xe[ut&ft]),ut>>=Ee}else R["VP8LMapColor"+B](ye,_e,Xe,ft,Fe,Je,de,ge,We)}}function Jr(N,P,B,W,re){for(B=P+B;P<B;){var le=N[P++];W[re++]=le>>16&255,W[re++]=le>>8&255,W[re++]=255&le}}function Tr(N,P,B,W,re){for(B=P+B;P<B;){var le=N[P++];W[re++]=le>>16&255,W[re++]=le>>8&255,W[re++]=255&le,W[re++]=le>>24&255}}function mr(N,P,B,W,re){for(B=P+B;P<B;){var le=(de=N[P++])>>16&240|de>>12&15,de=240&de|de>>28&15;W[re++]=le,W[re++]=de}}function yr(N,P,B,W,re){for(B=P+B;P<B;){var le=(de=N[P++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;W[re++]=le,W[re++]=de}}function Fr(N,P,B,W,re){for(B=P+B;P<B;){var le=N[P++];W[re++]=255&le,W[re++]=le>>8&255,W[re++]=le>>16&255}}function it(N,P,B,W,re,le){if(le==0)for(B=P+B;P<B;)Te(W,((le=N[P++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),re+=32;else n(W,re,N,P,B)}function Ut(N,P){R[P][0]=R[N+"0"],R[P][1]=R[N+"1"],R[P][2]=R[N+"2"],R[P][3]=R[N+"3"],R[P][4]=R[N+"4"],R[P][5]=R[N+"5"],R[P][6]=R[N+"6"],R[P][7]=R[N+"7"],R[P][8]=R[N+"8"],R[P][9]=R[N+"9"],R[P][10]=R[N+"10"],R[P][11]=R[N+"11"],R[P][12]=R[N+"12"],R[P][13]=R[N+"13"],R[P][14]=R[N+"0"],R[P][15]=R[N+"0"]}function Mt(N){return N==Sd||N==vu||N==Nf||N==jf}function Ft(){this.eb=[],this.size=this.A=this.fb=0}function br(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function hr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ft,this.f.kb=new br,this.sd=null}function Gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Cr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xa(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function on(N,P){var B=N.T,W=P.ba.f.RGBA,re=W.eb,le=W.fb+N.ka*W.A,de=ps[P.ba.S],ge=N.y,ye=N.O,_e=N.f,Fe=N.N,Je=N.ea,Ee=N.W,We=P.cc,Xe=P.dc,ft=P.Mc,Qe=P.Nc,ut=N.ka,dt=N.ka+N.T,mt=N.U,vt=mt+1>>1;for(ut==0?de(ge,ye,null,null,_e,Fe,Je,Ee,_e,Fe,Je,Ee,re,le,null,null,mt):(de(P.ec,P.fc,ge,ye,We,Xe,ft,Qe,_e,Fe,Je,Ee,re,le-W.A,re,le,mt),++B);ut+2<dt;ut+=2)We=_e,Xe=Fe,ft=Je,Qe=Ee,Fe+=N.Rc,Ee+=N.Rc,le+=2*W.A,de(ge,(ye+=2*N.fa)-N.fa,ge,ye,We,Xe,ft,Qe,_e,Fe,Je,Ee,re,le-W.A,re,le,mt);return ye+=N.fa,N.j+dt<N.o?(n(P.ec,P.fc,ge,ye,mt),n(P.cc,P.dc,_e,Fe,vt),n(P.Mc,P.Nc,Je,Ee,vt),B--):1&dt||de(ge,ye,null,null,_e,Fe,Je,Ee,_e,Fe,Je,Ee,re,le+W.A,null,null,mt),B}function aa(N,P,B){var W=N.F,re=[N.J];if(W!=null){var le=N.U,de=P.ba.S,ge=de==_f||de==Nf;P=P.ba.f.RGBA;var ye=[0],_e=N.ka;ye[0]=N.T,N.Kb&&(_e==0?--ye[0]:(--_e,re[0]-=N.width),N.j+N.ka+N.T==N.o&&(ye[0]=N.o-N.j-_e));var Fe=P.eb;_e=P.fb+_e*P.A,N=wf(W,re[0],N.width,le,ye,Fe,_e+(ge?0:3),P.A),t(B==ye),N&&Mt(de)&&gu(Fe,_e,ge,le,ye,P.A)}return 0}function Si(N){var P=N.ma,B=P.ba.S,W=11>B,re=B==Lc||B==Sf||B==_f||B==gn||B==12||Mt(B);if(P.memory=null,P.Ib=null,P.Jb=null,P.Nd=null,!md(P.Oa,N,re?11:12))return 0;if(re&&Mt(B)&&ro(),N.da)alert("todo:use_scaling");else{if(W){if(P.Ib=xa,N.Kb){if(B=N.U+1>>1,P.memory=a(N.U+2*B),P.memory==null)return 0;P.ec=P.memory,P.fc=0,P.cc=P.ec,P.dc=P.fc+N.U,P.Mc=P.cc,P.Nc=P.dc+B,P.Ib=on,ro()}}else alert("todo:EmitYUV");re&&(P.Jb=aa,W&&us())}if(W&&!la){for(N=0;256>N;++N)ms[N]=89858*(N-128)+To>>Gl,gs[N]=-22014*(N-128)+To,Ad[N]=-45773*(N-128),wu[N]=113618*(N-128)+To>>Gl;for(N=cn;N<fn;++N)P=76283*(N-16)+To>>Gl,Kh[N-cn]=Kr(P,255),xv[N-cn]=Kr(P+8>>4,15);la=1}return 1}function nr(N){var P=N.ma,B=N.U,W=N.T;return t(!(1&N.ka)),0>=B||0>=W?0:(B=P.Ib(N,P),P.Jb!=null&&P.Jb(N,P,B),P.Dc+=B,1)}function _i(N){N.ma.memory=null}function ya(N,P,B,W){return ae(N,8)!=47?0:(P[0]=ae(N,14)+1,B[0]=ae(N,14)+1,W[0]=ae(N,1),ae(N,3)!=0?0:!N.h)}function Wn(N,P){if(4>N)return N+1;var B=N-2>>1;return(2+(1&N)<<B)+ae(P,B)+1}function sa(N,P){return 120<P?P-120:1<=(B=((B=Qb[P-1])>>4)*N+(8-(15&B)))?B:1;var B}function Zr(N,P,B){var W=K(B),re=N[P+=255&W].g-8;return 0<re&&(pe(B,B.u+8),W=K(B),P+=N[P].value,P+=W&(1<<re)-1),pe(B,B.u+N[P].g),N[P].value}function Pe(N,P,B){return B.g+=N.g,B.value+=N.value<<P>>>0,t(8>=B.g),N.g}function V(N,P,B){var W=N.xc;return t((P=W==0?0:N.vc[N.md*(B>>W)+(P>>W)])<N.Wb),N.Ya[P]}function Q(N,P,B,W){var re=N.ab,le=N.c*P,de=N.C;P=de+P;var ge=B,ye=W;for(W=N.Ta,B=N.Ua;0<re--;){var _e=N.gc[re],Fe=de,Je=P,Ee=ge,We=ye,Xe=(ye=W,ge=B,_e.Ea);switch(t(Fe<Je),t(Je<=_e.nc),_e.hc){case 2:ui(Ee,We,(Je-Fe)*Xe,ye,ge);break;case 0:var ft=Fe,Qe=Je,ut=ye,dt=ge,mt=(er=_e).Ea;ft==0&&(Hl(Ee,We,null,null,1,ut,dt),kt(Ee,We+1,0,0,mt-1,ut,dt+1),We+=mt,dt+=mt,++ft);for(var vt=1<<er.b,ar=vt-1,Vt=ct(mt,er.b),kr=er.K,er=er.w+(ft>>er.b)*Vt;ft<Qe;){var Ur=kr,ri=er,Or=1;for(sl(Ee,We,ut,dt-mt,1,ut,dt);Or<mt;){var Kt=(Or&~ar)+vt;Kt>mt&&(Kt=mt),(0,fu[Ur[ri++]>>8&15])(Ee,We+ +Or,ut,dt+Or-mt,Kt-Or,ut,dt+Or),Or=Kt}We+=mt,dt+=mt,++ft&ar||(er+=Vt)}Je!=_e.nc&&n(ye,ge-Xe,ye,ge+(Je-Fe-1)*Xe,Xe);break;case 1:for(Xe=Ee,Qe=We,mt=(Ee=_e.Ea)-(dt=Ee&~(ut=(We=1<<_e.b)-1)),ft=ct(Ee,_e.b),vt=_e.K,_e=_e.w+(Fe>>_e.b)*ft;Fe<Je;){for(ar=vt,Vt=_e,kr=new Xt,er=Qe+dt,Ur=Qe+Ee;Qe<er;)zt(ar[Vt++],kr),vd(kr,Xe,Qe,We,ye,ge),Qe+=We,ge+=We;Qe<Ur&&(zt(ar[Vt++],kr),vd(kr,Xe,Qe,mt,ye,ge),Qe+=mt,ge+=mt),++Fe&ut||(_e+=ft)}break;case 3:if(Ee==ye&&We==ge&&0<_e.b){for(Qe=ye,Ee=Xe=ge+(Je-Fe)*Xe-(dt=(Je-Fe)*ct(_e.Ea,_e.b)),We=ye,ut=ge,ft=[],dt=(mt=dt)-1;0<=dt;--dt)ft[dt]=We[ut+dt];for(dt=mt-1;0<=dt;--dt)Qe[Ee+dt]=ft[dt];uu(_e,Fe,Je,ye,Xe,ye,ge)}else uu(_e,Fe,Je,Ee,We,ye,ge)}ge=W,ye=B}ye!=B&&n(W,B,ge,ye,le)}function X(N,P){var B=N.V,W=N.Ba+N.c*N.C,re=P-N.C;if(t(P<=N.l.o),t(16>=re),0<re){var le=N.l,de=N.Ta,ge=N.Ua,ye=le.width;if(Q(N,re,B,W),re=ge=[ge],t((B=N.C)<(W=P)),t(le.v<le.va),W>le.o&&(W=le.o),B<le.j){var _e=le.j-B;B=le.j,re[0]+=_e*ye}if(B>=W?B=0:(re[0]+=4*le.v,le.ka=B-le.j,le.U=le.va-le.v,le.T=W-B,B=1),B){if(ge=ge[0],11>(B=N.ca).S){var Fe=B.f.RGBA,Je=(W=B.S,re=le.U,le=le.T,_e=Fe.eb,Fe.A),Ee=le;for(Fe=Fe.fb+N.Ma*Fe.A;0<Ee--;){var We=de,Xe=ge,ft=re,Qe=_e,ut=Fe;switch(W){case Wh:xd(We,Xe,ft,Qe,ut);break;case Lc:Vl(We,Xe,ft,Qe,ut);break;case Sd:Vl(We,Xe,ft,Qe,ut),gu(Qe,ut,0,ft,1,0);break;case hv:hu(We,Xe,ft,Qe,ut);break;case Sf:it(We,Xe,ft,Qe,ut,1);break;case vu:it(We,Xe,ft,Qe,ut,1),gu(Qe,ut,0,ft,1,0);break;case _f:it(We,Xe,ft,Qe,ut,0);break;case Nf:it(We,Xe,ft,Qe,ut,0),gu(Qe,ut,1,ft,1,0);break;case gn:Oc(We,Xe,ft,Qe,ut);break;case jf:Oc(We,Xe,ft,Qe,ut),D0(Qe,ut,ft,1,0);break;case qh:Ic(We,Xe,ft,Qe,ut);break;default:t(0)}ge+=ye,Fe+=Je}N.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=B.height)}}N.C=P,t(N.C<=N.i)}function se(N){var P;if(0<N.ua)return 0;for(P=0;P<N.Wb;++P){var B=N.Ya[P].G,W=N.Ya[P].H;if(0<B[1][W[1]+0].g||0<B[2][W[2]+0].g||0<B[3][W[3]+0].g)return 0}return 1}function te(N,P,B,W,re,le){if(N.Z!=0){var de=N.qd,ge=N.rd;for(t(ja[N.Z]!=null);P<B;++P)ja[N.Z](de,ge,W,re,W,re,le),de=W,ge=re,re+=le;N.qd=de,N.rd=ge}}function me(N,P){var B=N.l.ma,W=B.Z==0||B.Z==1?N.l.j:N.C;if(W=N.C<W?W:N.C,t(P<=N.l.o),P>W){var re=N.l.width,le=B.ca,de=B.tb+re*W,ge=N.V,ye=N.Ba+N.c*W,_e=N.gc;t(N.ab==1),t(_e[0].hc==3),Eo(_e[0],W,P,ge,ye,le,de),te(B,W,P,le,de,re)}N.C=N.Ma=P}function Ce(N,P,B,W,re,le,de){var ge=N.$/W,ye=N.$%W,_e=N.m,Fe=N.s,Je=B+N.$,Ee=Je;re=B+W*re;var We=B+W*le,Xe=280+Fe.ua,ft=N.Pb?ge:16777216,Qe=0<Fe.ua?Fe.Wa:null,ut=Fe.wc,dt=Je<We?V(Fe,ye,ge):null;t(N.C<le),t(We<=re);var mt=!1;e:for(;;){for(;mt||Je<We;){var vt=0;if(ge>=ft){var ar=Je-B;t((ft=N).Pb),ft.wd=ft.m,ft.xd=ar,0<ft.s.ua&&at(ft.s.Wa,ft.s.vb),ft=ge+Vh}if(ye&ut||(dt=V(Fe,ye,ge)),t(dt!=null),dt.Qb&&(P[Je]=dt.qb,mt=!0),!mt)if(Ae(_e),dt.jc){vt=_e,ar=P;var Vt=Je,kr=dt.pd[K(vt)&ao-1];t(dt.jc),256>kr.g?(pe(vt,vt.u+kr.g),ar[Vt]=kr.value,vt=0):(pe(vt,vt.u+kr.g-256),t(256<=kr.value),vt=kr.value),vt==0&&(mt=!0)}else vt=Zr(dt.G[0],dt.H[0],_e);if(_e.h)break;if(mt||256>vt){if(!mt)if(dt.nd)P[Je]=(dt.qb|vt<<8)>>>0;else{if(Ae(_e),mt=Zr(dt.G[1],dt.H[1],_e),Ae(_e),ar=Zr(dt.G[2],dt.H[2],_e),Vt=Zr(dt.G[3],dt.H[3],_e),_e.h)break;P[Je]=(Vt<<24|mt<<16|vt<<8|ar)>>>0}if(mt=!1,++Je,++ye>=W&&(ye=0,++ge,de!=null&&ge<=le&&!(ge%16)&&de(N,ge),Qe!=null))for(;Ee<Je;)vt=P[Ee++],Qe.X[(506832829*vt&4294967295)>>>Qe.Mb]=vt}else if(280>vt){if(vt=Wn(vt-256,_e),ar=Zr(dt.G[4],dt.H[4],_e),Ae(_e),ar=sa(W,ar=Wn(ar,_e)),_e.h)break;if(Je-B<ar||re-Je<vt)break e;for(Vt=0;Vt<vt;++Vt)P[Je+Vt]=P[Je+Vt-ar];for(Je+=vt,ye+=vt;ye>=W;)ye-=W,++ge,de!=null&&ge<=le&&!(ge%16)&&de(N,ge);if(t(Je<=re),ye&ut&&(dt=V(Fe,ye,ge)),Qe!=null)for(;Ee<Je;)vt=P[Ee++],Qe.X[(506832829*vt&4294967295)>>>Qe.Mb]=vt}else{if(!(vt<Xe))break e;for(mt=vt-280,t(Qe!=null);Ee<Je;)vt=P[Ee++],Qe.X[(506832829*vt&4294967295)>>>Qe.Mb]=vt;vt=Je,t(!(mt>>>(ar=Qe).Xa)),P[vt]=ar.X[mt],mt=!0}mt||t(_e.h==J(_e))}if(N.Pb&&_e.h&&Je<re)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&at(N.s.vb,N.s.Wa);else{if(_e.h)break e;de?.(N,ge>le?le:ge),N.a=0,N.$=Je-B}return 1}return N.a=3,0}function qe(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var P=N.Wa;P!=null&&(P.X=null),N.vb=null,t(N!=null)}function Ue(){var N=new _t;return N==null?null:(N.a=0,N.xb=Nd,Ut("Predictor","VP8LPredictors"),Ut("Predictor","VP8LPredictors_C"),Ut("PredictorAdd","VP8LPredictorsAdd"),Ut("PredictorAdd","VP8LPredictorsAdd_C"),ui=fr,vd=dr,xd=Jr,Vl=Tr,Oc=mr,Ic=yr,hu=Fr,R.VP8LMapColor32b=ol,R.VP8LMapColor8b=du,N)}function Me(N,P,B,W,re){var le=1,de=[N],ge=[P],ye=W.m,_e=W.s,Fe=null,Je=0;e:for(;;){if(B)for(;le&&ae(ye,1);){var Ee=de,We=ge,Xe=W,ft=1,Qe=Xe.m,ut=Xe.gc[Xe.ab],dt=ae(Qe,2);if(Xe.Oc&1<<dt)le=0;else{switch(Xe.Oc|=1<<dt,ut.hc=dt,ut.Ea=Ee[0],ut.nc=We[0],ut.K=[null],++Xe.ab,t(4>=Xe.ab),dt){case 0:case 1:ut.b=ae(Qe,3)+2,ft=Me(ct(ut.Ea,ut.b),ct(ut.nc,ut.b),0,Xe,ut.K),ut.K=ut.K[0];break;case 3:var mt,vt=ae(Qe,8)+1,ar=16<vt?0:4<vt?1:2<vt?2:3;if(Ee[0]=ct(ut.Ea,ar),ut.b=ar,mt=ft=Me(vt,1,0,Xe,ut.K)){var Vt,kr=vt,er=ut,Ur=1<<(8>>er.b),ri=a(Ur);if(ri==null)mt=0;else{var Or=er.K[0],Kt=er.w;for(ri[0]=er.K[0][0],Vt=1;Vt<1*kr;++Vt)ri[Vt]=$t(Or[Kt+Vt],ri[Vt-1]);for(;Vt<4*Ur;++Vt)ri[Vt]=0;er.K[0]=null,er.K[0]=ri,mt=1}}ft=mt;break;case 2:break;default:t(0)}le=ft}}if(de=de[0],ge=ge[0],le&&ae(ye,1)&&!(le=1<=(Je=ae(ye,4))&&11>=Je)){W.a=3;break e}var Lt;if(Lt=le)t:{var di,jr,Br,En=W,Ki=de,ji=ge,Vn=Je,Bi=B,Gi=En.m,Fn=En.s,Wr=[null],en=1,Bn=0,tn=mv[Vn];r:for(;;){if(Bi&&ae(Gi,1)){var ni=ae(Gi,3)+2,ii=ct(Ki,ni),vn=ct(ji,ni),Aa=ii*vn;if(!Me(ii,vn,0,En,Wr))break r;for(Wr=Wr[0],Fn.xc=ni,di=0;di<Aa;++di){var hn=Wr[di]>>8&65535;Wr[di]=hn,hn>=en&&(en=hn+1)}}if(Gi.h)break r;for(jr=0;5>jr;++jr){var xn=xu[jr];!jr&&0<Vn&&(xn+=1<<Vn),Bn<xn&&(Bn=xn)}var Ai=s(en*tn,M),ca=en,vs=s(ca,ee);if(vs==null)var fi=null;else t(65536>=ca),fi=vs;var hi=a(Bn);if(fi==null||hi==null||Ai==null){En.a=1;break r}var Ea=Ai;for(di=Br=0;di<en;++di){var yn=fi[di],Pa=yn.G,lo=yn.H,ko=0,Yi=1,pi=0;for(jr=0;5>jr;++jr){xn=xu[jr],Pa[jr]=Ea,lo[jr]=Br,!jr&&0<Vn&&(xn+=1<<Vn);i:{var Bc,Xl=xn,Ed=En,ul=hi,bv=Ea,q0=Br,Dn=0,Co=Ed.m,H0=ae(Co,1);if(i(ul,0,0,Xl),H0){var V0=ae(Co,1)+1,Gh=ae(Co,1),Yh=ae(Co,Gh==0?1:8);ul[Yh]=1,V0==2&&(ul[Yh=ae(Co,8)]=1);var dl=1}else{var Un=a(19),Ei=ae(Co,4)+4;if(19<Ei){Ed.a=3;var mi=0;break i}for(Bc=0;Bc<Ei;++Bc)Un[Zb[Bc]]=ae(Co,3);var Pd=void 0,Jl=void 0,Td=Ed,i2=Un,Ui=Xl,Xh=ul,kf=0,fl=Td.m,Do=8,Us=s(128,M);n:for(;U(Us,0,7,i2,19);){if(ae(fl,1)){var Cf=2+2*ae(fl,3);if((Pd=2+ae(fl,Cf))>Ui)break n}else Pd=Ui;for(Jl=0;Jl<Ui&&Pd--;){Ae(fl);var Jh=Us[0+(127&K(fl))];pe(fl,fl.u+Jh.g);var Uc=Jh.value;if(16>Uc)Xh[Jl++]=Uc,Uc!=0&&(Do=Uc);else{var wv=Uc==16,K0=Uc-16,Sv=Hh[K0],G0=ae(fl,Af[K0])+Sv;if(Jl+G0>Ui)break n;for(var _v=wv?Do:0;0<G0--;)Xh[Jl++]=_v}}kf=1;break n}kf||(Td.a=3),dl=kf}(dl=dl&&!Co.h)&&(Dn=U(bv,q0,8,ul,Xl)),dl&&Dn!=0?mi=Dn:(Ed.a=3,mi=0)}if(mi==0)break r;if(Yi&&pv[jr]==1&&(Yi=Ea[Br].g==0),ko+=Ea[Br].g,Br+=mi,3>=jr){var kd,Zh=hi[0];for(kd=1;kd<xn;++kd)hi[kd]>Zh&&(Zh=hi[kd]);pi+=Zh}}if(yn.nd=Yi,yn.Qb=0,Yi&&(yn.qb=(Pa[3][lo[3]+0].value<<24|Pa[1][lo[1]+0].value<<16|Pa[2][lo[2]+0].value)>>>0,ko==0&&256>Pa[0][lo[0]+0].value&&(yn.Qb=1,yn.qb+=Pa[0][lo[0]+0].value<<8)),yn.jc=!yn.Qb&&6>pi,yn.jc){var Df,$s=yn;for(Df=0;Df<ao;++Df){var Zl=Df,Oo=$s.pd[Zl],_u=$s.G[0][$s.H[0]+Zl];256<=_u.value?(Oo.g=_u.g+256,Oo.value=_u.value):(Oo.g=0,Oo.value=0,Zl>>=Pe(_u,8,Oo),Zl>>=Pe($s.G[1][$s.H[1]+Zl],16,Oo),Zl>>=Pe($s.G[2][$s.H[2]+Zl],0,Oo),Pe($s.G[3][$s.H[3]+Zl],24,Oo))}}}Fn.vc=Wr,Fn.Wb=en,Fn.Ya=fi,Fn.yc=Ai,Lt=1;break t}Lt=0}if(!(le=Lt)){W.a=3;break e}if(0<Je){if(_e.ua=1<<Je,!oe(_e.Wa,Je)){W.a=1,le=0;break e}}else _e.ua=0;var Qh=W,ep=de,Nv=ge,tp=Qh.s,rp=tp.xc;if(Qh.c=ep,Qh.i=Nv,tp.md=ct(ep,rp),tp.wc=rp==0?-1:(1<<rp)-1,B){W.xb=cl;break e}if((Fe=a(de*ge))==null){W.a=1,le=0;break e}le=(le=Ce(W,Fe,0,de,ge,ge,null))&&!ye.h;break e}return le?(re!=null?re[0]=Fe:(t(Fe==null),t(B)),W.$=0,B||qe(_e)):qe(_e),le}function Ve(N,P){var B=N.c*N.i,W=B+P+16*P;return t(N.c<=P),N.V=a(W),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+B+P,1)}function rt(N,P){var B=N.C,W=P-B,re=N.V,le=N.Ba+N.c*B;for(t(P<=N.l.o);0<W;){var de=16<W?16:W,ge=N.l.ma,ye=N.l.width,_e=ye*de,Fe=ge.ca,Je=ge.tb+ye*B,Ee=N.Ta,We=N.Ua;Q(N,de,re,le),O0(Ee,We,Fe,Je,_e),te(ge,B,B+de,Fe,Je,ye),W-=de,re+=de*N.c,B+=de}t(B==P),N.C=N.Ma=P}function xt(){this.ub=this.yd=this.td=this.Rb=0}function yt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function bt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function St(){this.Yb=(function(){var N=[];return(function P(B,W,re){for(var le=re[W],de=0;de<le&&(B.push(re.length>W+1?[]:0),!(re.length<W+1));de++)P(B[de],W+1,re)})(N,0,[3,11]),N})()}function or(){this.jb=a(3),this.Wc=o([4,8],St),this.Xc=o([4,17],St)}function Rr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function It(){this.ld=this.La=this.dd=this.tc=0}function Ye(){this.Na=this.la=0}function Ua(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zn(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ba(){this.uc=this.M=this.Nb=0,this.wa=Array(new It),this.Y=0,this.ya=Array(new Zn),this.aa=0,this.l=new So}function qn(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Qo(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new xt,this.Kc=new yt,this.ed=new Rr,this.Qa=new bt,this.Ic=this.$c=this.Aa=0,this.D=new ba,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,L),this.ia=0,this.pb=s(4,Ua),this.Pa=new or,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qn),this.Hd=0,this.rb=Array(new Ye),this.sb=0,this.wa=Array(new It),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zn),this.L=this.aa=0,this.gd=o([4,2],It),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Kr(N,P){return 0>N?0:N>P?P:N}function So(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function fd(){var N=new Qo;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,yu||(yu=Js)),N}function Hn(N,P,B){return N.a==0&&(N.a=P,N.sc=B,N.cb=0),0}function Ol(N,P,B){return 3<=B&&N[P+0]==157&&N[P+1]==1&&N[P+2]==42}function $a(N,P){if(N==null)return 0;if(N.a=0,N.sc="OK",P==null)return Hn(N,2,"null VP8Io passed to VP8GetHeaders()");var B=P.data,W=P.w,re=P.ha;if(4>re)return Hn(N,7,"Truncated header.");var le=B[W+0]|B[W+1]<<8|B[W+2]<<16,de=N.Od;if(de.Rb=!(1&le),de.td=le>>1&7,de.yd=le>>4&1,de.ub=le>>5,3<de.td)return Hn(N,3,"Incorrect keyframe parameters.");if(!de.yd)return Hn(N,4,"Frame not displayable.");W+=3,re-=3;var ge=N.Kc;if(de.Rb){if(7>re)return Hn(N,7,"cannot parse picture header");if(!Ol(B,W,re))return Hn(N,3,"Bad code word");ge.c=16383&(B[W+4]<<8|B[W+3]),ge.Td=B[W+4]>>6,ge.i=16383&(B[W+6]<<8|B[W+5]),ge.Ud=B[W+6]>>6,W+=7,re-=7,N.za=ge.c+15>>4,N.Ub=ge.i+15>>4,P.width=ge.c,P.height=ge.i,P.Da=0,P.j=0,P.v=0,P.va=P.width,P.o=P.height,P.da=0,P.ib=P.width,P.hb=P.height,P.U=P.width,P.T=P.height,i((le=N.Pa).jb,0,255,le.jb.length),t((le=N.Qa)!=null),le.Cb=0,le.Bb=0,le.Fb=1,i(le.Zb,0,0,le.Zb.length),i(le.Lb,0,0,le.Lb)}if(de.ub>re)return Hn(N,7,"bad partition length");ve(le=N.m,B,W,de.ub),W+=de.ub,re-=de.ub,de.Rb&&(ge.Ld=fe(le),ge.Kd=fe(le)),ge=N.Qa;var ye,_e=N.Pa;if(t(le!=null),t(ge!=null),ge.Cb=fe(le),ge.Cb){if(ge.Bb=fe(le),fe(le)){for(ge.Fb=fe(le),ye=0;4>ye;++ye)ge.Zb[ye]=fe(le)?ce(le,7):0;for(ye=0;4>ye;++ye)ge.Lb[ye]=fe(le)?ce(le,6):0}if(ge.Bb)for(ye=0;3>ye;++ye)_e.jb[ye]=fe(le)?he(le,8):255}else ge.Bb=0;if(le.Ka)return Hn(N,3,"cannot parse segment header");if((ge=N.ed).zd=fe(le),ge.Tb=he(le,6),ge.wb=he(le,3),ge.Pc=fe(le),ge.Pc&&fe(le)){for(_e=0;4>_e;++_e)fe(le)&&(ge.vd[_e]=ce(le,6));for(_e=0;4>_e;++_e)fe(le)&&(ge.od[_e]=ce(le,6))}if(N.L=ge.Tb==0?0:ge.zd?1:2,le.Ka)return Hn(N,3,"cannot parse filter header");var Fe=re;if(re=ye=W,W=ye+Fe,ge=Fe,N.Xb=(1<<he(N.m,2))-1,Fe<3*(_e=N.Xb))B=7;else{for(ye+=3*_e,ge-=3*_e,Fe=0;Fe<_e;++Fe){var Je=B[re+0]|B[re+1]<<8|B[re+2]<<16;Je>ge&&(Je=ge),ve(N.Jc[+Fe],B,ye,Je),ye+=Je,ge-=Je,re+=3}ve(N.Jc[+_e],B,ye,ge),B=ye<W?0:5}if(B!=0)return Hn(N,B,"cannot parse partitions");for(B=he(ye=N.m,7),re=fe(ye)?ce(ye,4):0,W=fe(ye)?ce(ye,4):0,ge=fe(ye)?ce(ye,4):0,_e=fe(ye)?ce(ye,4):0,ye=fe(ye)?ce(ye,4):0,Fe=N.Qa,Je=0;4>Je;++Je){if(Fe.Cb){var Ee=Fe.Zb[Je];Fe.Fb||(Ee+=B)}else{if(0<Je){N.pb[Je]=N.pb[0];continue}Ee=B}var We=N.pb[Je];We.Sc[0]=_d[Kr(Ee+re,127)],We.Sc[1]=Ef[Kr(Ee+0,127)],We.Eb[0]=2*_d[Kr(Ee+W,127)],We.Eb[1]=101581*Ef[Kr(Ee+ge,127)]>>16,8>We.Eb[1]&&(We.Eb[1]=8),We.Qc[0]=_d[Kr(Ee+_e,117)],We.Qc[1]=Ef[Kr(Ee+ye,127)],We.lc=Ee+ye}if(!de.Rb)return Hn(N,4,"Not a key frame.");for(fe(le),de=N.Pa,B=0;4>B;++B){for(re=0;8>re;++re)for(W=0;3>W;++W)for(ge=0;11>ge;++ge)_e=ke(le,t2[B][re][W][ge])?he(le,8):vv[B][re][W][ge],de.Wc[B][re].Yb[W][ge]=_e;for(re=0;17>re;++re)de.Xc[B][re]=de.Wc[B][$0[re]]}return N.kc=fe(le),N.kc&&(N.Bd=he(le,8)),N.cb=1}function Js(N,P,B,W,re,le,de){var ge=P[re].Yb[B];for(B=0;16>re;++re){if(!ke(N,ge[B+0]))return re;for(;!ke(N,ge[B+1]);)if(ge=P[++re].Yb[0],B=0,re==16)return 16;var ye=P[re+1].Yb;if(ke(N,ge[B+2])){var _e=N,Fe=0;if(ke(_e,(Ee=ge)[(Je=B)+3]))if(ke(_e,Ee[Je+6])){for(ge=0,Je=2*(Fe=ke(_e,Ee[Je+8]))+(Ee=ke(_e,Ee[Je+9+Fe])),Fe=0,Ee=B0[Je];Ee[ge];++ge)Fe+=Fe+ke(_e,Ee[ge]);Fe+=3+(8<<Je)}else ke(_e,Ee[Je+7])?(Fe=7+2*ke(_e,165),Fe+=ke(_e,145)):Fe=5+ke(_e,159);else Fe=ke(_e,Ee[Je+4])?3+ke(_e,Ee[Je+5]):2;ge=ye[2]}else Fe=1,ge=ye[1];ye=de+U0[re],0>(_e=N).b&&Ne(_e);var Je,Ee=_e.b,We=(Je=_e.Ca>>1)-(_e.I>>Ee)>>31;--_e.b,_e.Ca+=We,_e.Ca|=1,_e.I-=(Je+1&We)<<Ee,le[ye]=((Fe^We)-We)*W[(0<re)+0]}return 16}function Il(N){var P=N.rb[N.sb-1];P.la=0,P.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function za(N,P,B,W,re){re=N[P+B+32*W]+(re>>3),N[P+B+32*W]=-256&re?0>re?0:255:re}function Qn(N,P,B,W,re,le){za(N,P,0,B,W+re),za(N,P,1,B,W+le),za(N,P,2,B,W-le),za(N,P,3,B,W-re)}function Li(N){return(20091*N>>16)+N}function jc(N,P,B,W){var re,le=0,de=a(16);for(re=0;4>re;++re){var ge=N[P+0]+N[P+8],ye=N[P+0]-N[P+8],_e=(35468*N[P+4]>>16)-Li(N[P+12]),Fe=Li(N[P+4])+(35468*N[P+12]>>16);de[le+0]=ge+Fe,de[le+1]=ye+_e,de[le+2]=ye-_e,de[le+3]=ge-Fe,le+=4,P++}for(re=le=0;4>re;++re)ge=(N=de[le+0]+4)+de[le+8],ye=N-de[le+8],_e=(35468*de[le+4]>>16)-Li(de[le+12]),za(B,W,0,0,ge+(Fe=Li(de[le+4])+(35468*de[le+12]>>16))),za(B,W,1,0,ye+_e),za(B,W,2,0,ye-_e),za(B,W,3,0,ge-Fe),le++,W+=32}function hd(N,P,B,W){var re=N[P+0]+4,le=35468*N[P+4]>>16,de=Li(N[P+4]),ge=35468*N[P+1]>>16;Qn(B,W,0,re+de,N=Li(N[P+1]),ge),Qn(B,W,1,re+le,N,ge),Qn(B,W,2,re-le,N,ge),Qn(B,W,3,re-de,N,ge)}function Rl(N,P,B,W,re){jc(N,P,B,W),re&&jc(N,P+16,B,W+4)}function _o(N,P,B,W){pu(N,P+0,B,W,1),pu(N,P+32,B,W+128,1)}function Ac(N,P,B,W){var re;for(N=N[P+0]+4,re=0;4>re;++re)for(P=0;4>P;++P)za(B,W,P,re,N)}function Hr(N,P,B,W){N[P+0]&&Qr(N,P+0,B,W),N[P+16]&&Qr(N,P+16,B,W+4),N[P+32]&&Qr(N,P+32,B,W+128),N[P+48]&&Qr(N,P+48,B,W+128+4)}function Ll(N,P,B,W){var re,le=a(16);for(re=0;4>re;++re){var de=N[P+0+re]+N[P+12+re],ge=N[P+4+re]+N[P+8+re],ye=N[P+4+re]-N[P+8+re],_e=N[P+0+re]-N[P+12+re];le[0+re]=de+ge,le[8+re]=de-ge,le[4+re]=_e+ye,le[12+re]=_e-ye}for(re=0;4>re;++re)de=(N=le[0+4*re]+3)+le[3+4*re],ge=le[1+4*re]+le[2+4*re],ye=le[1+4*re]-le[2+4*re],_e=N-le[3+4*re],B[W+0]=de+ge>>3,B[W+16]=_e+ye>>3,B[W+32]=de-ge>>3,B[W+48]=_e-ye>>3,W+=64}function el(N,P,B){var W,re=P-32,le=Wa,de=255-N[re-1];for(W=0;W<B;++W){var ge,ye=le,_e=de+N[P-1];for(ge=0;ge<B;++ge)N[P+ge]=ye[_e+N[re+ge]];P+=32}}function Ec(N,P){el(N,P,4)}function lu(N,P){el(N,P,8)}function Ml(N,P){el(N,P,16)}function Pc(N,P){var B;for(B=0;16>B;++B)n(N,P+32*B,N,P-32,16)}function Fl(N,P){var B;for(B=16;0<B;--B)i(N,P,N[P-1],16),P+=32}function oa(N,P,B){var W;for(W=0;16>W;++W)i(P,B+32*W,N,16)}function Ds(N,P){var B,W=16;for(B=0;16>B;++B)W+=N[P-1+32*B]+N[P+B-32];oa(W>>5,N,P)}function wa(N,P){var B,W=8;for(B=0;16>B;++B)W+=N[P-1+32*B];oa(W>>4,N,P)}function ss(N,P){var B,W=8;for(B=0;16>B;++B)W+=N[P+B-32];oa(W>>4,N,P)}function tl(N,P){oa(128,N,P)}function pr(N,P,B){return N+2*P+B+2>>2}function Os(N,P){var B,W=P-32;for(W=new Uint8Array([pr(N[W-1],N[W+0],N[W+1]),pr(N[W+0],N[W+1],N[W+2]),pr(N[W+1],N[W+2],N[W+3]),pr(N[W+2],N[W+3],N[W+4])]),B=0;4>B;++B)n(N,P+32*B,W,0,W.length)}function xf(N,P){var B=N[P-1],W=N[P-1+32],re=N[P-1+64],le=N[P-1+96];Te(N,P+0,16843009*pr(N[P-1-32],B,W)),Te(N,P+32,16843009*pr(B,W,re)),Te(N,P+64,16843009*pr(W,re,le)),Te(N,P+96,16843009*pr(re,le,le))}function pd(N,P){var B,W=4;for(B=0;4>B;++B)W+=N[P+B-32]+N[P-1+32*B];for(W>>=3,B=0;4>B;++B)i(N,P+32*B,W,4)}function Sa(N,P){var B=N[P-1+0],W=N[P-1+32],re=N[P-1+64],le=N[P-1-32],de=N[P+0-32],ge=N[P+1-32],ye=N[P+2-32],_e=N[P+3-32];N[P+0+96]=pr(W,re,N[P-1+96]),N[P+1+96]=N[P+0+64]=pr(B,W,re),N[P+2+96]=N[P+1+64]=N[P+0+32]=pr(le,B,W),N[P+3+96]=N[P+2+64]=N[P+1+32]=N[P+0+0]=pr(de,le,B),N[P+3+64]=N[P+2+32]=N[P+1+0]=pr(ge,de,le),N[P+3+32]=N[P+2+0]=pr(ye,ge,de),N[P+3+0]=pr(_e,ye,ge)}function Is(N,P){var B=N[P+1-32],W=N[P+2-32],re=N[P+3-32],le=N[P+4-32],de=N[P+5-32],ge=N[P+6-32],ye=N[P+7-32];N[P+0+0]=pr(N[P+0-32],B,W),N[P+1+0]=N[P+0+32]=pr(B,W,re),N[P+2+0]=N[P+1+32]=N[P+0+64]=pr(W,re,le),N[P+3+0]=N[P+2+32]=N[P+1+64]=N[P+0+96]=pr(re,le,de),N[P+3+32]=N[P+2+64]=N[P+1+96]=pr(le,de,ge),N[P+3+64]=N[P+2+96]=pr(de,ge,ye),N[P+3+96]=pr(ge,ye,ye)}function cu(N,P){var B=N[P-1+0],W=N[P-1+32],re=N[P-1+64],le=N[P-1-32],de=N[P+0-32],ge=N[P+1-32],ye=N[P+2-32],_e=N[P+3-32];N[P+0+0]=N[P+1+64]=le+de+1>>1,N[P+1+0]=N[P+2+64]=de+ge+1>>1,N[P+2+0]=N[P+3+64]=ge+ye+1>>1,N[P+3+0]=ye+_e+1>>1,N[P+0+96]=pr(re,W,B),N[P+0+64]=pr(W,B,le),N[P+0+32]=N[P+1+96]=pr(B,le,de),N[P+1+32]=N[P+2+96]=pr(le,de,ge),N[P+2+32]=N[P+3+96]=pr(de,ge,ye),N[P+3+32]=pr(ge,ye,_e)}function Bl(N,P){var B=N[P+0-32],W=N[P+1-32],re=N[P+2-32],le=N[P+3-32],de=N[P+4-32],ge=N[P+5-32],ye=N[P+6-32],_e=N[P+7-32];N[P+0+0]=B+W+1>>1,N[P+1+0]=N[P+0+64]=W+re+1>>1,N[P+2+0]=N[P+1+64]=re+le+1>>1,N[P+3+0]=N[P+2+64]=le+de+1>>1,N[P+0+32]=pr(B,W,re),N[P+1+32]=N[P+0+96]=pr(W,re,le),N[P+2+32]=N[P+1+96]=pr(re,le,de),N[P+3+32]=N[P+2+96]=pr(le,de,ge),N[P+3+64]=pr(de,ge,ye),N[P+3+96]=pr(ge,ye,_e)}function Zs(N,P){var B=N[P-1+0],W=N[P-1+32],re=N[P-1+64],le=N[P-1+96];N[P+0+0]=B+W+1>>1,N[P+2+0]=N[P+0+32]=W+re+1>>1,N[P+2+32]=N[P+0+64]=re+le+1>>1,N[P+1+0]=pr(B,W,re),N[P+3+0]=N[P+1+32]=pr(W,re,le),N[P+3+32]=N[P+1+64]=pr(re,le,le),N[P+3+64]=N[P+2+64]=N[P+0+96]=N[P+1+96]=N[P+2+96]=N[P+3+96]=le}function Tc(N,P){var B=N[P-1+0],W=N[P-1+32],re=N[P-1+64],le=N[P-1+96],de=N[P-1-32],ge=N[P+0-32],ye=N[P+1-32],_e=N[P+2-32];N[P+0+0]=N[P+2+32]=B+de+1>>1,N[P+0+32]=N[P+2+64]=W+B+1>>1,N[P+0+64]=N[P+2+96]=re+W+1>>1,N[P+0+96]=le+re+1>>1,N[P+3+0]=pr(ge,ye,_e),N[P+2+0]=pr(de,ge,ye),N[P+1+0]=N[P+3+32]=pr(B,de,ge),N[P+1+32]=N[P+3+64]=pr(W,B,de),N[P+1+64]=N[P+3+96]=pr(re,W,B),N[P+1+96]=pr(le,re,W)}function Rs(N,P){var B;for(B=0;8>B;++B)n(N,P+32*B,N,P-32,8)}function Qs(N,P){var B;for(B=0;8>B;++B)i(N,P,N[P-1],8),P+=32}function Cn(N,P,B){var W;for(W=0;8>W;++W)i(P,B+32*W,N,8)}function No(N,P){var B,W=8;for(B=0;8>B;++B)W+=N[P+B-32]+N[P-1+32*B];Cn(W>>4,N,P)}function rl(N,P){var B,W=4;for(B=0;8>B;++B)W+=N[P+B-32];Cn(W>>3,N,P)}function Ul(N,P){var B,W=4;for(B=0;8>B;++B)W+=N[P-1+32*B];Cn(W>>3,N,P)}function kc(N,P){Cn(128,N,P)}function os(N,P,B){var W=N[P-B],re=N[P+0],le=3*(re-W)+ll[1020+N[P-2*B]-N[P+B]],de=wd[112+(le+4>>3)];N[P-B]=Wa[255+W+wd[112+(le+3>>3)]],N[P+0]=Wa[255+re-de]}function $l(N,P,B,W){var re=N[P+0],le=N[P+B];return so[255+N[P-2*B]-N[P-B]]>W||so[255+le-re]>W}function jo(N,P,B,W){return 4*so[255+N[P-B]-N[P+0]]+so[255+N[P-2*B]-N[P+B]]<=W}function ls(N,P,B,W,re){var le=N[P-3*B],de=N[P-2*B],ge=N[P-B],ye=N[P+0],_e=N[P+B],Fe=N[P+2*B],Je=N[P+3*B];return 4*so[255+ge-ye]+so[255+de-_e]>W?0:so[255+N[P-4*B]-le]<=re&&so[255+le-de]<=re&&so[255+de-ge]<=re&&so[255+Je-Fe]<=re&&so[255+Fe-_e]<=re&&so[255+_e-ye]<=re}function eo(N,P,B,W){var re=2*W+1;for(W=0;16>W;++W)jo(N,P+W,B,re)&&os(N,P+W,B)}function ln(N,P,B,W){var re=2*W+1;for(W=0;16>W;++W)jo(N,P+W*B,1,re)&&os(N,P+W*B,1)}function Z(N,P,B,W){var re;for(re=3;0<re;--re)eo(N,P+=4*B,B,W)}function ne(N,P,B,W){var re;for(re=3;0<re;--re)ln(N,P+=4,B,W)}function xe(N,P,B,W,re,le,de,ge){for(le=2*le+1;0<re--;){if(ls(N,P,B,le,de))if($l(N,P,B,ge))os(N,P,B);else{var ye=N,_e=P,Fe=B,Je=ye[_e-2*Fe],Ee=ye[_e-Fe],We=ye[_e+0],Xe=ye[_e+Fe],ft=ye[_e+2*Fe],Qe=27*(dt=ll[1020+3*(We-Ee)+ll[1020+Je-Xe]])+63>>7,ut=18*dt+63>>7,dt=9*dt+63>>7;ye[_e-3*Fe]=Wa[255+ye[_e-3*Fe]+dt],ye[_e-2*Fe]=Wa[255+Je+ut],ye[_e-Fe]=Wa[255+Ee+Qe],ye[_e+0]=Wa[255+We-Qe],ye[_e+Fe]=Wa[255+Xe-ut],ye[_e+2*Fe]=Wa[255+ft-dt]}P+=W}}function Se(N,P,B,W,re,le,de,ge){for(le=2*le+1;0<re--;){if(ls(N,P,B,le,de))if($l(N,P,B,ge))os(N,P,B);else{var ye=N,_e=P,Fe=B,Je=ye[_e-Fe],Ee=ye[_e+0],We=ye[_e+Fe],Xe=wd[112+(4+(ft=3*(Ee-Je))>>3)],ft=wd[112+(ft+3>>3)],Qe=Xe+1>>1;ye[_e-2*Fe]=Wa[255+ye[_e-2*Fe]+Qe],ye[_e-Fe]=Wa[255+Je+ft],ye[_e+0]=Wa[255+Ee-Xe],ye[_e+Fe]=Wa[255+We-Qe]}P+=W}}function De(N,P,B,W,re,le){xe(N,P,B,1,16,W,re,le)}function Ge(N,P,B,W,re,le){xe(N,P,1,B,16,W,re,le)}function Ke(N,P,B,W,re,le){var de;for(de=3;0<de;--de)Se(N,P+=4*B,B,1,16,W,re,le)}function k(N,P,B,W,re,le){var de;for(de=3;0<de;--de)Se(N,P+=4,1,B,16,W,re,le)}function G(N,P,B,W,re,le,de,ge){xe(N,P,re,1,8,le,de,ge),xe(B,W,re,1,8,le,de,ge)}function ue(N,P,B,W,re,le,de,ge){xe(N,P,1,re,8,le,de,ge),xe(B,W,1,re,8,le,de,ge)}function we(N,P,B,W,re,le,de,ge){Se(N,P+4*re,re,1,8,le,de,ge),Se(B,W+4*re,re,1,8,le,de,ge)}function Re(N,P,B,W,re,le,de,ge){Se(N,P+4,1,re,8,le,de,ge),Se(B,W+4,1,re,8,le,de,ge)}function nt(){this.ba=new hr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Cr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function st(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wt(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new M}function _t(){this.xb=this.a=0,this.l=new So,this.ca=new hr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wt,this.ab=0,this.gc=s(4,st),this.Oc=0}function Jt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new So,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ar(N,P,B,W,re,le,de){for(N=N==null?0:N[P+0],P=0;P<de;++P)re[le+P]=N+B[W+P]&255,N=re[le+P]}function Dr(N,P,B,W,re,le,de){var ge;if(N==null)Ar(null,null,B,W,re,le,de);else for(ge=0;ge<de;++ge)re[le+ge]=N[P+ge]+B[W+ge]&255}function zr(N,P,B,W,re,le,de){if(N==null)Ar(null,null,B,W,re,le,de);else{var ge,ye=N[P+0],_e=ye,Fe=ye;for(ge=0;ge<de;++ge)_e=Fe+(ye=N[P+ge])-_e,Fe=B[W+ge]+(-256&_e?0>_e?0:255:_e)&255,_e=ye,re[le+ge]=Fe}}function Lr(N,P,B,W){var re=P.width,le=P.o;if(t(N!=null&&P!=null),0>B||0>=W||B+W>le)return null;if(!N.Cc){if(N.ga==null){var de;if(N.ga=new Jt,(de=N.ga==null)||(de=P.width*P.o,t(N.Gb.length==0),N.Gb=a(de),N.Uc=0,N.Gb==null?de=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,de=1),de=!de),!de){de=N.ga;var ge=N.Fa,ye=N.P,_e=N.qc,Fe=N.mb,Je=N.nb,Ee=ye+1,We=_e-1,Xe=de.l;if(t(ge!=null&&Fe!=null&&P!=null),ja[0]=null,ja[1]=Ar,ja[2]=Dr,ja[3]=zr,de.ca=Fe,de.tb=Je,de.c=P.width,de.i=P.height,t(0<de.c&&0<de.i),1>=_e)P=0;else if(de.$a=3&ge[ye+0],de.Z=ge[ye+0]>>2&3,de.Lc=ge[ye+0]>>4&3,ye=ge[ye+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||ye)P=0;else if(Xe.put=nr,Xe.ac=Si,Xe.bc=_i,Xe.ma=de,Xe.width=P.width,Xe.height=P.height,Xe.Da=P.Da,Xe.v=P.v,Xe.va=P.va,Xe.j=P.j,Xe.o=P.o,de.$a)e:{t(de.$a==1),P=Ue();t:for(;;){if(P==null){P=0;break e}if(t(de!=null),de.mc=P,P.c=de.c,P.i=de.i,P.l=de.l,P.l.ma=de,P.l.width=de.c,P.l.height=de.i,P.a=0,be(P.m,ge,Ee,We),!Me(de.c,de.i,1,P,null)||(P.ab==1&&P.gc[0].hc==3&&se(P.s)?(de.ic=1,ge=P.c*P.i,P.Ta=null,P.Ua=0,P.V=a(ge),P.Ba=0,P.V==null?(P.a=1,P=0):P=1):(de.ic=0,P=Ve(P,de.c)),!P))break t;P=1;break e}de.mc=null,P=0}else P=We>=de.c*de.i;de=!P}if(de)return null;N.ga.Lc!=1?N.Ga=0:W=le-B}t(N.ga!=null),t(B+W<=le);e:{if(P=(ge=N.ga).c,le=ge.l.o,ge.$a==0){if(Ee=N.rc,We=N.Vc,Xe=N.Fa,ye=N.P+1+B*P,_e=N.mb,Fe=N.nb+B*P,t(ye<=N.P+N.qc),ge.Z!=0)for(t(ja[ge.Z]!=null),de=0;de<W;++de)ja[ge.Z](Ee,We,Xe,ye,_e,Fe,P),Ee=_e,We=Fe,Fe+=P,ye+=P;else for(de=0;de<W;++de)n(_e,Fe,Xe,ye,P),Ee=_e,We=Fe,Fe+=P,ye+=P;N.rc=Ee,N.Vc=We}else{if(t(ge.mc!=null),P=B+W,t((de=ge.mc)!=null),t(P<=de.i),de.C>=P)P=1;else if(ge.ic||us(),ge.ic){ge=de.V,Ee=de.Ba,We=de.c;var ft=de.i,Qe=(Xe=1,ye=de.$/We,_e=de.$%We,Fe=de.m,Je=de.s,de.$),ut=We*ft,dt=We*P,mt=Je.wc,vt=Qe<dt?V(Je,_e,ye):null;t(Qe<=ut),t(P<=ft),t(se(Je));t:for(;;){for(;!Fe.h&&Qe<dt;){if(_e&mt||(vt=V(Je,_e,ye)),t(vt!=null),Ae(Fe),256>(ft=Zr(vt.G[0],vt.H[0],Fe)))ge[Ee+Qe]=ft,++Qe,++_e>=We&&(_e=0,++ye<=P&&!(ye%16)&&me(de,ye));else{if(!(280>ft)){Xe=0;break t}ft=Wn(ft-256,Fe);var ar,Vt=Zr(vt.G[4],vt.H[4],Fe);if(Ae(Fe),!(Qe>=(Vt=sa(We,Vt=Wn(Vt,Fe)))&&ut-Qe>=ft)){Xe=0;break t}for(ar=0;ar<ft;++ar)ge[Ee+Qe+ar]=ge[Ee+Qe+ar-Vt];for(Qe+=ft,_e+=ft;_e>=We;)_e-=We,++ye<=P&&!(ye%16)&&me(de,ye);Qe<dt&&_e&mt&&(vt=V(Je,_e,ye))}t(Fe.h==J(Fe))}me(de,ye>P?P:ye);break t}!Xe||Fe.h&&Qe<ut?(Xe=0,de.a=Fe.h?5:3):de.$=Qe,P=Xe}else P=Ce(de,de.V,de.Ba,de.c,de.i,P,rt);if(!P){W=0;break e}}B+W>=le&&(N.Cc=1),W=1}if(!W)return null;if(N.Cc&&((W=N.ga)!=null&&(W.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+B*re}function mn(N,P,B,W,re,le){for(;0<re--;){var de,ge=N,ye=P+(B?1:0),_e=N,Fe=P+(B?0:3);for(de=0;de<W;++de){var Je=_e[Fe+4*de];Je!=255&&(Je*=32897,ge[ye+4*de+0]=ge[ye+4*de+0]*Je>>23,ge[ye+4*de+1]=ge[ye+4*de+1]*Je>>23,ge[ye+4*de+2]=ge[ye+4*de+2]*Je>>23)}P+=le}}function Vr(N,P,B,W,re){for(;0<W--;){var le;for(le=0;le<B;++le){var de=N[P+2*le+0],ge=15&(_e=N[P+2*le+1]),ye=4369*ge,_e=(240&_e|_e>>4)*ye>>16;N[P+2*le+0]=(240&de|de>>4)*ye>>16&240|(15&de|de<<4)*ye>>16>>4&15,N[P+2*le+1]=240&_e|ge}P+=re}}function ci(N,P,B,W,re,le,de,ge){var ye,_e,Fe=255;for(_e=0;_e<re;++_e){for(ye=0;ye<W;++ye){var Je=N[P+ye];le[de+4*ye]=Je,Fe&=Je}P+=B,de+=ge}return Fe!=255}function cs(N,P,B,W,re){var le;for(le=0;le<re;++le)B[W+le]=N[P+le]>>8}function us(){gu=mn,D0=Vr,wf=ci,O0=cs}function to(N,P,B){R[N]=function(W,re,le,de,ge,ye,_e,Fe,Je,Ee,We,Xe,ft,Qe,ut,dt,mt){var vt,ar=mt-1>>1,Vt=ge[ye+0]|_e[Fe+0]<<16,kr=Je[Ee+0]|We[Xe+0]<<16;t(W!=null);var er=3*Vt+kr+131074>>2;for(P(W[re+0],255&er,er>>16,ft,Qe),le!=null&&(er=3*kr+Vt+131074>>2,P(le[de+0],255&er,er>>16,ut,dt)),vt=1;vt<=ar;++vt){var Ur=ge[ye+vt]|_e[Fe+vt]<<16,ri=Je[Ee+vt]|We[Xe+vt]<<16,Or=Vt+Ur+kr+ri+524296,Kt=Or+2*(Ur+kr)>>3;er=Kt+Vt>>1,Vt=(Or=Or+2*(Vt+ri)>>3)+Ur>>1,P(W[re+2*vt-1],255&er,er>>16,ft,Qe+(2*vt-1)*B),P(W[re+2*vt-0],255&Vt,Vt>>16,ft,Qe+(2*vt-0)*B),le!=null&&(er=Or+kr>>1,Vt=Kt+ri>>1,P(le[de+2*vt-1],255&er,er>>16,ut,dt+(2*vt-1)*B),P(le[de+2*vt+0],255&Vt,Vt>>16,ut,dt+(2*vt+0)*B)),Vt=Ur,kr=ri}1&mt||(er=3*Vt+kr+131074>>2,P(W[re+mt-1],255&er,er>>16,ft,Qe+(mt-1)*B),le!=null&&(er=3*kr+Vt+131074>>2,P(le[de+mt-1],255&er,er>>16,ut,dt+(mt-1)*B)))}}function ro(){ps[Wh]=r2,ps[Lc]=Mc,ps[hv]=n2,ps[Sf]=jd,ps[_f]=bu,ps[gn]=Pf,ps[qh]=z0,ps[Sd]=Mc,ps[vu]=jd,ps[Nf]=bu,ps[jf]=Pf}function no(N){return N&-16384?0>N?0:255:N>>Fc}function _a(N,P){return no((19077*N>>8)+(26149*P>>8)-14234)}function nl(N,P,B){return no((19077*N>>8)-(6419*P>>8)-(13320*B>>8)+8708)}function Mi(N,P){return no((19077*N>>8)+(33050*P>>8)-17685)}function Ao(N,P,B,W,re){W[re+0]=_a(N,B),W[re+1]=nl(N,P,B),W[re+2]=Mi(N,P)}function An(N,P,B,W,re){W[re+0]=Mi(N,P),W[re+1]=nl(N,P,B),W[re+2]=_a(N,B)}function il(N,P,B,W,re){var le=nl(N,P,B);P=le<<3&224|Mi(N,P)>>3,W[re+0]=248&_a(N,B)|le>>5,W[re+1]=P}function zl(N,P,B,W,re){var le=240&Mi(N,P)|15;W[re+0]=240&_a(N,B)|nl(N,P,B)>>4,W[re+1]=le}function ds(N,P,B,W,re){W[re+0]=255,Ao(N,P,B,W,re+1)}function io(N,P,B,W,re){An(N,P,B,W,re),W[re+3]=255}function Fi(N,P,B,W,re){Ao(N,P,B,W,re),W[re+3]=255}function Na(N,P,B){R[N]=function(W,re,le,de,ge,ye,_e,Fe,Je){for(var Ee=Fe+(-2&Je)*B;Fe!=Ee;)P(W[re+0],le[de+0],ge[ye+0],_e,Fe),P(W[re+1],le[de+0],ge[ye+0],_e,Fe+B),re+=2,++de,++ye,Fe+=2*B;1&Je&&P(W[re+0],le[de+0],ge[ye+0],_e,Fe)}}function Ls(N,P,B){return B==0?N==0?P==0?6:5:P==0?4:0:B}function Uh(N,P,B,W,re){switch(N>>>30){case 3:pu(P,B,W,re,0);break;case 2:ei(P,B,W,re);break;case 1:Qr(P,B,W,re)}}function Ms(N,P){var B,W,re=P.M,le=P.Nb,de=N.oc,ge=N.pc+40,ye=N.oc,_e=N.pc+584,Fe=N.oc,Je=N.pc+600;for(B=0;16>B;++B)de[ge+32*B-1]=129;for(B=0;8>B;++B)ye[_e+32*B-1]=129,Fe[Je+32*B-1]=129;for(0<re?de[ge-1-32]=ye[_e-1-32]=Fe[Je-1-32]=129:(i(de,ge-32-1,127,21),i(ye,_e-32-1,127,9),i(Fe,Je-32-1,127,9)),W=0;W<N.za;++W){var Ee=P.ya[P.aa+W];if(0<W){for(B=-1;16>B;++B)n(de,ge+32*B-4,de,ge+32*B+12,4);for(B=-1;8>B;++B)n(ye,_e+32*B-4,ye,_e+32*B+4,4),n(Fe,Je+32*B-4,Fe,Je+32*B+4,4)}var We=N.Gd,Xe=N.Hd+W,ft=Ee.ad,Qe=Ee.Hc;if(0<re&&(n(de,ge-32,We[Xe].y,0,16),n(ye,_e-32,We[Xe].f,0,8),n(Fe,Je-32,We[Xe].ea,0,8)),Ee.Za){var ut=de,dt=ge-32+16;for(0<re&&(W>=N.za-1?i(ut,dt,We[Xe].y[15],4):n(ut,dt,We[Xe+1].y,0,4)),B=0;4>B;B++)ut[dt+128+B]=ut[dt+256+B]=ut[dt+384+B]=ut[dt+0+B];for(B=0;16>B;++B,Qe<<=2)ut=de,dt=ge+W0[B],oo[Ee.Ob[B]](ut,dt),Uh(Qe,ft,16*+B,ut,dt)}else if(ut=Ls(W,re,Ee.Ob[0]),qa[ut](de,ge),Qe!=0)for(B=0;16>B;++B,Qe<<=2)Uh(Qe,ft,16*+B,de,ge+W0[B]);for(B=Ee.Gc,ut=Ls(W,re,Ee.Dd),hs[ut](ye,_e),hs[ut](Fe,Je),Qe=ft,ut=ye,dt=_e,255&(Ee=0|B)&&(170&Ee?fs(Qe,256,ut,dt):dn(Qe,256,ut,dt)),Ee=Fe,Qe=Je,255&(B>>=8)&&(170&B?fs(ft,320,Ee,Qe):dn(ft,320,Ee,Qe)),re<N.Ub-1&&(n(We[Xe].y,0,de,ge+480,16),n(We[Xe].f,0,ye,_e+224,8),n(We[Xe].ea,0,Fe,Je+224,8)),B=8*le*N.B,We=N.sa,Xe=N.ta+16*W+16*le*N.R,ft=N.qa,Ee=N.ra+8*W+B,Qe=N.Ha,ut=N.Ia+8*W+B,B=0;16>B;++B)n(We,Xe+B*N.R,de,ge+32*B,16);for(B=0;8>B;++B)n(ft,Ee+B*N.B,ye,_e+32*B,8),n(Qe,ut+B*N.B,Fe,Je+32*B,8)}}function Cc(N,P,B,W,re,le,de,ge,ye){var _e=[0],Fe=[0],Je=0,Ee=ye!=null?ye.kd:0,We=ye??new pt;if(N==null||12>B)return 7;We.data=N,We.w=P,We.ha=B,P=[P],B=[B],We.gb=[We.gb];e:{var Xe=P,ft=B,Qe=We.gb;if(t(N!=null),t(ft!=null),t(Qe!=null),Qe[0]=0,12<=ft[0]&&!r(N,Xe[0],"RIFF")){if(r(N,Xe[0]+8,"WEBP")){Qe=3;break e}var ut=$e(N,Xe[0]+4);if(12>ut||4294967286<ut){Qe=3;break e}if(Ee&&ut>ft[0]-8){Qe=7;break e}Qe[0]=ut,Xe[0]+=12,ft[0]-=12}Qe=0}if(Qe!=0)return Qe;for(ut=0<We.gb[0],B=B[0];;){e:{var dt=N;ft=P,Qe=B;var mt=_e,vt=Fe,ar=Xe=[0];if((er=Je=[Je])[0]=0,8>Qe[0])Qe=7;else{if(!r(dt,ft[0],"VP8X")){if($e(dt,ft[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var Vt=$e(dt,ft[0]+8),kr=1+Le(dt,ft[0]+12);if(2147483648<=kr*(dt=1+Le(dt,ft[0]+15))){Qe=3;break e}ar!=null&&(ar[0]=Vt),mt!=null&&(mt[0]=kr),vt!=null&&(vt[0]=dt),ft[0]+=18,Qe[0]-=18,er[0]=1}Qe=0}}if(Je=Je[0],Xe=Xe[0],Qe!=0)return Qe;if(ft=!!(2&Xe),!ut&&Je)return 3;if(le!=null&&(le[0]=!!(16&Xe)),de!=null&&(de[0]=ft),ge!=null&&(ge[0]=0),de=_e[0],Xe=Fe[0],Je&&ft&&ye==null){Qe=0;break}if(4>B){Qe=7;break}if(ut&&Je||!ut&&!Je&&!r(N,P[0],"ALPH")){B=[B],We.na=[We.na],We.P=[We.P],We.Sa=[We.Sa];e:{Vt=N,Qe=P,ut=B;var er=We.gb;mt=We.na,vt=We.P,ar=We.Sa,kr=22,t(Vt!=null),t(ut!=null),dt=Qe[0];var Ur=ut[0];for(t(mt!=null),t(ar!=null),mt[0]=null,vt[0]=null,ar[0]=0;;){if(Qe[0]=dt,ut[0]=Ur,8>Ur){Qe=7;break e}var ri=$e(Vt,dt+4);if(4294967286<ri){Qe=3;break e}var Or=8+ri+1&-2;if(kr+=Or,0<er&&kr>er){Qe=3;break e}if(!r(Vt,dt,"VP8 ")||!r(Vt,dt,"VP8L")){Qe=0;break e}if(Ur[0]<Or){Qe=7;break e}r(Vt,dt,"ALPH")||(mt[0]=Vt,vt[0]=dt+8,ar[0]=ri),dt+=Or,Ur-=Or}}if(B=B[0],We.na=We.na[0],We.P=We.P[0],We.Sa=We.Sa[0],Qe!=0)break}B=[B],We.Ja=[We.Ja],We.xa=[We.xa];e:if(er=N,Qe=P,ut=B,mt=We.gb[0],vt=We.Ja,ar=We.xa,Vt=Qe[0],dt=!r(er,Vt,"VP8 "),kr=!r(er,Vt,"VP8L"),t(er!=null),t(ut!=null),t(vt!=null),t(ar!=null),8>ut[0])Qe=7;else{if(dt||kr){if(er=$e(er,Vt+4),12<=mt&&er>mt-12){Qe=3;break e}if(Ee&&er>ut[0]-8){Qe=7;break e}vt[0]=er,Qe[0]+=8,ut[0]-=8,ar[0]=kr}else ar[0]=5<=ut[0]&&er[Vt+0]==47&&!(er[Vt+4]>>5),vt[0]=ut[0];Qe=0}if(B=B[0],We.Ja=We.Ja[0],We.xa=We.xa[0],P=P[0],Qe!=0)break;if(4294967286<We.Ja)return 3;if(ge==null||ft||(ge[0]=We.xa?2:1),de=[de],Xe=[Xe],We.xa){if(5>B){Qe=7;break}ge=de,Ee=Xe,ft=le,N==null||5>B?N=0:5<=B&&N[P+0]==47&&!(N[P+4]>>5)?(ut=[0],er=[0],mt=[0],be(vt=new Y,N,P,B),ya(vt,ut,er,mt)?(ge!=null&&(ge[0]=ut[0]),Ee!=null&&(Ee[0]=er[0]),ft!=null&&(ft[0]=mt[0]),N=1):N=0):N=0}else{if(10>B){Qe=7;break}ge=Xe,N==null||10>B||!Ol(N,P+3,B-3)?N=0:(Ee=N[P+0]|N[P+1]<<8|N[P+2]<<16,ft=16383&(N[P+7]<<8|N[P+6]),N=16383&(N[P+9]<<8|N[P+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=We.Ja||!ft||!N?N=0:(de&&(de[0]=ft),ge&&(ge[0]=N),N=1))}if(!N||(de=de[0],Xe=Xe[0],Je&&(_e[0]!=de||Fe[0]!=Xe)))return 3;ye!=null&&(ye[0]=We,ye.offset=P-ye.w,t(4294967286>P-ye.w),t(ye.offset==ye.ha-B));break}return Qe==0||Qe==7&&Je&&ye==null?(le!=null&&(le[0]|=We.na!=null&&0<We.na.length),W!=null&&(W[0]=de),re!=null&&(re[0]=Xe),0):Qe}function md(N,P,B){var W=P.width,re=P.height,le=0,de=0,ge=W,ye=re;if(P.Da=N!=null&&0<N.Da,P.Da&&(ge=N.cd,ye=N.bd,le=N.v,de=N.j,11>B||(le&=-2,de&=-2),0>le||0>de||0>=ge||0>=ye||le+ge>W||de+ye>re))return 0;if(P.v=le,P.j=de,P.va=le+ge,P.o=de+ye,P.U=ge,P.T=ye,P.da=N!=null&&0<N.da,P.da){if(!Pt(ge,ye,B=[N.ib],le=[N.hb]))return 0;P.ib=B[0],P.hb=le[0]}return P.ob=N!=null&&N.ob,P.Kb=N==null||!N.Sd,P.da&&(P.ob=P.ib<3*W/4&&P.hb<3*re/4,P.Kb=0),1}function gd(N){if(N==null)return 2;if(11>N.S){var P=N.f.RGBA;P.fb+=(N.height-1)*P.A,P.A=-P.A}else P=N.f.kb,N=N.height,P.O+=(N-1)*P.fa,P.fa=-P.fa,P.N+=(N-1>>1)*P.Ab,P.Ab=-P.Ab,P.W+=(N-1>>1)*P.Db,P.Db=-P.Db,P.F!=null&&(P.J+=(N-1)*P.lb,P.lb=-P.lb);return 0}function Wl(N,P,B,W){if(W==null||0>=N||0>=P)return 2;if(B!=null){if(B.Da){var re=B.cd,le=B.bd,de=-2&B.v,ge=-2&B.j;if(0>de||0>ge||0>=re||0>=le||de+re>N||ge+le>P)return 2;N=re,P=le}if(B.da){if(!Pt(N,P,re=[B.ib],le=[B.hb]))return 2;N=re[0],P=le[0]}}W.width=N,W.height=P;e:{var ye=W.width,_e=W.height;if(N=W.S,0>=ye||0>=_e||!(N>=Wh&&13>N))N=2;else{if(0>=W.Rd&&W.sd==null){de=le=re=P=0;var Fe=(ge=ye*Tf[N])*_e;if(11>N||(le=(_e+1)/2*(P=(ye+1)/2),N==12&&(de=(re=ye)*_e)),(_e=a(Fe+2*le+de))==null){N=1;break e}W.sd=_e,11>N?((ye=W.f.RGBA).eb=_e,ye.fb=0,ye.A=ge,ye.size=Fe):((ye=W.f.kb).y=_e,ye.O=0,ye.fa=ge,ye.Fd=Fe,ye.f=_e,ye.N=0+Fe,ye.Ab=P,ye.Cd=le,ye.ea=_e,ye.W=0+Fe+le,ye.Db=P,ye.Ed=le,N==12&&(ye.F=_e,ye.J=0+Fe+2*le),ye.Tc=de,ye.lb=re)}if(P=1,re=W.S,le=W.width,de=W.height,re>=Wh&&13>re)if(11>re)N=W.f.RGBA,P&=(ge=Math.abs(N.A))*(de-1)+le<=N.size,P&=ge>=le*Tf[re],P&=N.eb!=null;else{N=W.f.kb,ge=(le+1)/2,Fe=(de+1)/2,ye=Math.abs(N.fa),_e=Math.abs(N.Ab);var Je=Math.abs(N.Db),Ee=Math.abs(N.lb),We=Ee*(de-1)+le;P&=ye*(de-1)+le<=N.Fd,P&=_e*(Fe-1)+ge<=N.Cd,P=(P&=Je*(Fe-1)+ge<=N.Ed)&ye>=le&_e>=ge&Je>=ge,P&=N.y!=null,P&=N.f!=null,P&=N.ea!=null,re==12&&(P&=Ee>=le,P&=We<=N.Tc,P&=N.F!=null)}else P=0;N=P?0:2}}return N!=0||B!=null&&B.fd&&(N=gd(W)),N}var ao=64,Fs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bs=24,Dc=32,al=8,ql=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Dt("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(N){return N},R.Predictor2=function(N,P,B){return P[B+0]},R.Predictor3=function(N,P,B){return P[B+1]},R.Predictor4=function(N,P,B){return P[B-1]},R.Predictor5=function(N,P,B){return Ht(Ht(N,P[B+1]),P[B+0])},R.Predictor6=function(N,P,B){return Ht(N,P[B-1])},R.Predictor7=function(N,P,B){return Ht(N,P[B+0])},R.Predictor8=function(N,P,B){return Ht(P[B-1],P[B+0])},R.Predictor9=function(N,P,B){return Ht(P[B+0],P[B+1])},R.Predictor10=function(N,P,B){return Ht(Ht(N,P[B-1]),Ht(P[B+0],P[B+1]))},R.Predictor11=function(N,P,B){var W=P[B+0];return 0>=ze(W>>24&255,N>>24&255,(P=P[B-1])>>24&255)+ze(W>>16&255,N>>16&255,P>>16&255)+ze(W>>8&255,N>>8&255,P>>8&255)+ze(255&W,255&N,255&P)?W:N},R.Predictor12=function(N,P,B){var W=P[B+0];return(xr((N>>24&255)+(W>>24&255)-((P=P[B-1])>>24&255))<<24|xr((N>>16&255)+(W>>16&255)-(P>>16&255))<<16|xr((N>>8&255)+(W>>8&255)-(P>>8&255))<<8|xr((255&N)+(255&W)-(255&P)))>>>0},R.Predictor13=function(N,P,B){var W=P[B-1];return(Nr((N=Ht(N,P[B+0]))>>24&255,W>>24&255)<<24|Nr(N>>16&255,W>>16&255)<<16|Nr(N>>8&255,W>>8&255)<<8|Nr(255&N,255&W))>>>0};var Hl=R.PredictorAdd0;R.PredictorAdd1=kt,Dt("Predictor2","PredictorAdd2"),Dt("Predictor3","PredictorAdd3"),Dt("Predictor4","PredictorAdd4"),Dt("Predictor5","PredictorAdd5"),Dt("Predictor6","PredictorAdd6"),Dt("Predictor7","PredictorAdd7"),Dt("Predictor8","PredictorAdd8"),Dt("Predictor9","PredictorAdd9"),Dt("Predictor10","PredictorAdd10"),Dt("Predictor11","PredictorAdd11"),Dt("Predictor12","PredictorAdd12"),Dt("Predictor13","PredictorAdd13");var sl=R.PredictorAdd2;Bt("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var ui,uu=R.ColorIndexInverseTransform,ol=R.MapARGB,Eo=R.VP8LColorIndexInverseTransformAlpha,du=R.MapAlpha,fu=R.VP8LPredictorsAdd=[];fu.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var vd,xd,Vl,Oc,Ic,hu,Rc,pu,ei,fs,Qr,dn,ti,Ni,Po,yf,yd,Kl,$h,bd,zh,C0,bf,mu,gu,D0,wf,O0,I0=a(511),R0=a(2041),L0=a(225),M0=a(767),F0=0,ll=R0,wd=L0,Wa=M0,so=I0,Wh=0,Lc=1,hv=2,Sf=3,_f=4,gn=5,qh=6,Sd=7,vu=8,Nf=9,jf=10,Af=[2,3,7],Hh=[3,3,11],xu=[280,256,256,256,40],pv=[0,1,1,1,0],Zb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vh=8,_d=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ef=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yu=null,B0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],U0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],vv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],e2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],t2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qa=[],oo=[],hs=[],cl=1,Nd=2,ja=[],ps=[];to("UpsampleRgbLinePair",Ao,3),to("UpsampleBgrLinePair",An,3),to("UpsampleRgbaLinePair",Fi,4),to("UpsampleBgraLinePair",io,4),to("UpsampleArgbLinePair",ds,4),to("UpsampleRgba4444LinePair",zl,2),to("UpsampleRgb565LinePair",il,2);var r2=R.UpsampleRgbLinePair,n2=R.UpsampleBgrLinePair,Mc=R.UpsampleRgbaLinePair,jd=R.UpsampleBgraLinePair,bu=R.UpsampleArgbLinePair,Pf=R.UpsampleRgba4444LinePair,z0=R.UpsampleRgb565LinePair,Gl=16,To=1<<Gl-1,cn=-227,fn=482,Fc=6,la=0,ms=a(256),wu=a(256),Ad=a(256),gs=a(256),Kh=a(fn-cn),xv=a(fn-cn);Na("YuvToRgbRow",Ao,3),Na("YuvToBgrRow",An,3),Na("YuvToRgbaRow",Fi,4),Na("YuvToBgraRow",io,4),Na("YuvToArgbRow",ds,4),Na("YuvToRgba4444Row",zl,2),Na("YuvToRgb565Row",il,2);var W0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Su=[0,2,8],yv=[8,7,6,4,4,2,2,2,1,1,1,1],Yl=1;this.WebPDecodeRGBA=function(N,P,B,W,re){var le=Lc,de=new nt,ge=new hr;de.ba=ge,ge.S=le,ge.width=[ge.width],ge.height=[ge.height];var ye=ge.width,_e=ge.height,Fe=new Gt;if(Fe==null||N==null)var Je=2;else t(Fe!=null),Je=Cc(N,P,B,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(Je!=0?ye=0:(ye!=null&&(ye[0]=Fe.width[0]),_e!=null&&(_e[0]=Fe.height[0]),ye=1),ye){ge.width=ge.width[0],ge.height=ge.height[0],W!=null&&(W[0]=ge.width),re!=null&&(re[0]=ge.height);e:{if(W=new So,(re=new pt).data=N,re.w=P,re.ha=B,re.kd=1,P=[0],t(re!=null),((N=Cc(re.data,re.w,re.ha,null,null,null,P,null,re))==0||N==7)&&P[0]&&(N=4),(P=N)==0){if(t(de!=null),W.data=re.data,W.w=re.w+re.offset,W.ha=re.ha-re.offset,W.put=nr,W.ac=Si,W.bc=_i,W.ma=de,re.xa){if((N=Ue())==null){de=1;break e}if((function(Ee,We){var Xe=[0],ft=[0],Qe=[0];t:for(;;){if(Ee==null)return 0;if(We==null)return Ee.a=2,0;if(Ee.l=We,Ee.a=0,be(Ee.m,We.data,We.w,We.ha),!ya(Ee.m,Xe,ft,Qe)){Ee.a=3;break t}if(Ee.xb=Nd,We.width=Xe[0],We.height=ft[0],!Me(Xe[0],ft[0],1,Ee,null))break t;return 1}return t(Ee.a!=0),0})(N,W)){if(W=(P=Wl(W.width,W.height,de.Oa,de.ba))==0){t:{W=N;r:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((B=W.l)!=null),t((re=B.ma)!=null),W.xb!=0){if(W.ca=re.ba,W.tb=re.tb,t(W.ca!=null),!md(re.Oa,B,Sf)){W.a=2;break r}if(!Ve(W,B.width)||B.da)break r;if((B.da||Mt(W.ca.S))&&us(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&us()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!oe(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!Ce(W,W.V,W.Ba,W.c,W.i,B.o,X))break r;re.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(P=N.a)}else P=N.a}else{if((N=new fd)==null){de=1;break e}if(N.Fa=re.na,N.P=re.P,N.qc=re.Sa,$a(N,W)){if((P=Wl(W.width,W.height,de.Oa,de.ba))==0){if(N.Aa=0,B=de.Oa,t((re=N)!=null),B!=null){if(0<(ye=0>(ye=B.Md)?0:100<ye?255:255*ye/100)){for(_e=Fe=0;4>_e;++_e)12>(Je=re.pb[_e]).lc&&(Je.ia=ye*yv[0>Je.lc?0:Je.lc]>>3),Fe|=Je.ia;Fe&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=B.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}(function(Ee,We){if(Ee==null)return 0;if(We==null)return Hn(Ee,2,"NULL VP8Io parameter in VP8Decode().");if(!Ee.cb&&!$a(Ee,We))return 0;if(t(Ee.cb),We.ac==null||We.ac(We)){We.ob&&(Ee.L=0);var Xe=Su[Ee.L];if(Ee.L==2?(Ee.yb=0,Ee.zb=0):(Ee.yb=We.v-Xe>>4,Ee.zb=We.j-Xe>>4,0>Ee.yb&&(Ee.yb=0),0>Ee.zb&&(Ee.zb=0)),Ee.Va=We.o+15+Xe>>4,Ee.Hb=We.va+15+Xe>>4,Ee.Hb>Ee.za&&(Ee.Hb=Ee.za),Ee.Va>Ee.Ub&&(Ee.Va=Ee.Ub),0<Ee.L){var ft=Ee.ed;for(Xe=0;4>Xe;++Xe){var Qe;if(Ee.Qa.Cb){var ut=Ee.Qa.Lb[Xe];Ee.Qa.Fb||(ut+=ft.Tb)}else ut=ft.Tb;for(Qe=0;1>=Qe;++Qe){var dt=Ee.gd[Xe][Qe],mt=ut;if(ft.Pc&&(mt+=ft.vd[0],Qe&&(mt+=ft.od[0])),0<(mt=0>mt?0:63<mt?63:mt)){var vt=mt;0<ft.wb&&(vt=4<ft.wb?vt>>2:vt>>1)>9-ft.wb&&(vt=9-ft.wb),1>vt&&(vt=1),dt.dd=vt,dt.tc=2*mt+vt,dt.ld=40<=mt?2:15<=mt?1:0}else dt.tc=0;dt.La=Qe}}}Xe=0}else Hn(Ee,6,"Frame setup failed"),Xe=Ee.a;if(Xe=Xe==0){if(Xe){Ee.$c=0,0<Ee.Aa||(Ee.Ic=Yl);t:{Xe=Ee.Ic,ft=4*(vt=Ee.za);var ar=32*vt,Vt=vt+1,kr=0<Ee.L?vt*(0<Ee.Aa?2:1):0,er=(Ee.Aa==2?2:1)*vt;if((dt=ft+832+(Qe=3*(16*Xe+Su[Ee.L])/2*ar)+(ut=Ee.Fa!=null&&0<Ee.Fa.length?Ee.Kc.c*Ee.Kc.i:0))!=dt)Xe=0;else{if(dt>Ee.Vb){if(Ee.Vb=0,Ee.Ec=a(dt),Ee.Fc=0,Ee.Ec==null){Xe=Hn(Ee,1,"no memory during frame initialization.");break t}Ee.Vb=dt}dt=Ee.Ec,mt=Ee.Fc,Ee.Ac=dt,Ee.Bc=mt,mt+=ft,Ee.Gd=s(ar,qn),Ee.Hd=0,Ee.rb=s(Vt+1,Ye),Ee.sb=1,Ee.wa=kr?s(kr,It):null,Ee.Y=0,Ee.D.Nb=0,Ee.D.wa=Ee.wa,Ee.D.Y=Ee.Y,0<Ee.Aa&&(Ee.D.Y+=vt),t(!0),Ee.oc=dt,Ee.pc=mt,mt+=832,Ee.ya=s(er,Zn),Ee.aa=0,Ee.D.ya=Ee.ya,Ee.D.aa=Ee.aa,Ee.Aa==2&&(Ee.D.aa+=vt),Ee.R=16*vt,Ee.B=8*vt,vt=(ar=Su[Ee.L])*Ee.R,ar=ar/2*Ee.B,Ee.sa=dt,Ee.ta=mt+vt,Ee.qa=Ee.sa,Ee.ra=Ee.ta+16*Xe*Ee.R+ar,Ee.Ha=Ee.qa,Ee.Ia=Ee.ra+8*Xe*Ee.B+ar,Ee.$c=0,mt+=Qe,Ee.mb=ut?dt:null,Ee.nb=ut?mt:null,t(mt+ut<=Ee.Fc+Ee.Vb),Il(Ee),i(Ee.Ac,Ee.Bc,0,ft),Xe=1}}if(Xe){if(We.ka=0,We.y=Ee.sa,We.O=Ee.ta,We.f=Ee.qa,We.N=Ee.ra,We.ea=Ee.Ha,We.Vd=Ee.Ia,We.fa=Ee.R,We.Rc=Ee.B,We.F=null,We.J=0,!F0){for(Xe=-255;255>=Xe;++Xe)I0[255+Xe]=0>Xe?-Xe:Xe;for(Xe=-1020;1020>=Xe;++Xe)R0[1020+Xe]=-128>Xe?-128:127<Xe?127:Xe;for(Xe=-112;112>=Xe;++Xe)L0[112+Xe]=-16>Xe?-16:15<Xe?15:Xe;for(Xe=-255;510>=Xe;++Xe)M0[255+Xe]=0>Xe?0:255<Xe?255:Xe;F0=1}Rc=Ll,pu=Rl,fs=_o,Qr=Ac,dn=Hr,ei=hd,ti=De,Ni=Ge,Po=G,yf=ue,yd=Ke,Kl=k,$h=we,bd=Re,zh=eo,C0=ln,bf=Z,mu=ne,oo[0]=pd,oo[1]=Ec,oo[2]=Os,oo[3]=xf,oo[4]=Sa,oo[5]=cu,oo[6]=Is,oo[7]=Bl,oo[8]=Tc,oo[9]=Zs,qa[0]=Ds,qa[1]=Ml,qa[2]=Pc,qa[3]=Fl,qa[4]=wa,qa[5]=ss,qa[6]=tl,hs[0]=No,hs[1]=lu,hs[2]=Rs,hs[3]=Qs,hs[4]=Ul,hs[5]=rl,hs[6]=kc,Xe=1}else Xe=0}Xe&&(Xe=(function(Ur,ri){for(Ur.M=0;Ur.M<Ur.Va;++Ur.M){var Or,Kt=Ur.Jc[Ur.M&Ur.Xb],Lt=Ur.m,di=Ur;for(Or=0;Or<di.za;++Or){var jr=Lt,Br=di,En=Br.Ac,Ki=Br.Bc+4*Or,ji=Br.zc,Vn=Br.ya[Br.aa+Or];if(Br.Qa.Bb?Vn.$b=ke(jr,Br.Pa.jb[0])?2+ke(jr,Br.Pa.jb[2]):ke(jr,Br.Pa.jb[1]):Vn.$b=0,Br.kc&&(Vn.Ad=ke(jr,Br.Bd)),Vn.Za=!ke(jr,145)+0,Vn.Za){var Bi=Vn.Ob,Gi=0;for(Br=0;4>Br;++Br){var Fn,Wr=ji[0+Br];for(Fn=0;4>Fn;++Fn){Wr=e2[En[Ki+Fn]][Wr];for(var en=gv[ke(jr,Wr[0])];0<en;)en=gv[2*en+ke(jr,Wr[en])];Wr=-en,En[Ki+Fn]=Wr}n(Bi,Gi,En,Ki,4),Gi+=4,ji[0+Br]=Wr}}else Wr=ke(jr,156)?ke(jr,128)?1:3:ke(jr,163)?2:0,Vn.Ob[0]=Wr,i(En,Ki,Wr,4),i(ji,0,Wr,4);Vn.Dd=ke(jr,142)?ke(jr,114)?ke(jr,183)?1:3:2:0}if(di.m.Ka)return Hn(Ur,7,"Premature end-of-partition0 encountered.");for(;Ur.ja<Ur.za;++Ur.ja){if(di=Kt,jr=(Lt=Ur).rb[Lt.sb-1],En=Lt.rb[Lt.sb+Lt.ja],Or=Lt.ya[Lt.aa+Lt.ja],Ki=Lt.kc?Or.Ad:0)jr.la=En.la=0,Or.Za||(jr.Na=En.Na=0),Or.Hc=0,Or.Gc=0,Or.ia=0;else{var Bn,tn;if(jr=En,En=di,Ki=Lt.Pa.Xc,ji=Lt.ya[Lt.aa+Lt.ja],Vn=Lt.pb[ji.$b],Br=ji.ad,Bi=0,Gi=Lt.rb[Lt.sb-1],Wr=Fn=0,i(Br,Bi,0,384),ji.Za)var ni=0,ii=Ki[3];else{en=a(16);var vn=jr.Na+Gi.Na;if(vn=yu(En,Ki[1],vn,Vn.Eb,0,en,0),jr.Na=Gi.Na=(0<vn)+0,1<vn)Rc(en,0,Br,Bi);else{var Aa=en[0]+3>>3;for(en=0;256>en;en+=16)Br[Bi+en]=Aa}ni=1,ii=Ki[0]}var hn=15&jr.la,xn=15&Gi.la;for(en=0;4>en;++en){var Ai=1&xn;for(Aa=tn=0;4>Aa;++Aa)hn=hn>>1|(Ai=(vn=yu(En,ii,vn=Ai+(1&hn),Vn.Sc,ni,Br,Bi))>ni)<<7,tn=tn<<2|(3<vn?3:1<vn?2:Br[Bi+0]!=0),Bi+=16;hn>>=4,xn=xn>>1|Ai<<7,Fn=(Fn<<8|tn)>>>0}for(ii=hn,ni=xn>>4,Bn=0;4>Bn;Bn+=2){for(tn=0,hn=jr.la>>4+Bn,xn=Gi.la>>4+Bn,en=0;2>en;++en){for(Ai=1&xn,Aa=0;2>Aa;++Aa)vn=Ai+(1&hn),hn=hn>>1|(Ai=0<(vn=yu(En,Ki[2],vn,Vn.Qc,0,Br,Bi)))<<3,tn=tn<<2|(3<vn?3:1<vn?2:Br[Bi+0]!=0),Bi+=16;hn>>=2,xn=xn>>1|Ai<<5}Wr|=tn<<4*Bn,ii|=hn<<4<<Bn,ni|=(240&xn)<<Bn}jr.la=ii,Gi.la=ni,ji.Hc=Fn,ji.Gc=Wr,ji.ia=43690&Wr?0:Vn.ia,Ki=!(Fn|Wr)}if(0<Lt.L&&(Lt.wa[Lt.Y+Lt.ja]=Lt.gd[Or.$b][Or.Za],Lt.wa[Lt.Y+Lt.ja].La|=!Ki),di.Ka)return Hn(Ur,7,"Premature end-of-file encountered.")}if(Il(Ur),Lt=ri,di=1,Or=(Kt=Ur).D,jr=0<Kt.L&&Kt.M>=Kt.zb&&Kt.M<=Kt.Va,Kt.Aa==0)t:{if(Or.M=Kt.M,Or.uc=jr,Ms(Kt,Or),di=1,Or=(tn=Kt.D).Nb,jr=(Wr=Su[Kt.L])*Kt.R,En=Wr/2*Kt.B,en=16*Or*Kt.R,Aa=8*Or*Kt.B,Ki=Kt.sa,ji=Kt.ta-jr+en,Vn=Kt.qa,Br=Kt.ra-En+Aa,Bi=Kt.Ha,Gi=Kt.Ia-En+Aa,xn=(hn=tn.M)==0,Fn=hn>=Kt.Va-1,Kt.Aa==2&&Ms(Kt,tn),tn.uc)for(Ai=(vn=Kt).D.M,t(vn.D.uc),tn=vn.yb;tn<vn.Hb;++tn){ni=tn,ii=Ai;var ca=(vs=(pi=vn).D).Nb;Bn=pi.R;var vs=vs.wa[vs.Y+ni],fi=pi.sa,hi=pi.ta+16*ca*Bn+16*ni,Ea=vs.dd,yn=vs.tc;if(yn!=0)if(t(3<=yn),pi.L==1)0<ni&&C0(fi,hi,Bn,yn+4),vs.La&&mu(fi,hi,Bn,yn),0<ii&&zh(fi,hi,Bn,yn+4),vs.La&&bf(fi,hi,Bn,yn);else{var Pa=pi.B,lo=pi.qa,ko=pi.ra+8*ca*Pa+8*ni,Yi=pi.Ha,pi=pi.Ia+8*ca*Pa+8*ni;ca=vs.ld,0<ni&&(Ni(fi,hi,Bn,yn+4,Ea,ca),yf(lo,ko,Yi,pi,Pa,yn+4,Ea,ca)),vs.La&&(Kl(fi,hi,Bn,yn,Ea,ca),bd(lo,ko,Yi,pi,Pa,yn,Ea,ca)),0<ii&&(ti(fi,hi,Bn,yn+4,Ea,ca),Po(lo,ko,Yi,pi,Pa,yn+4,Ea,ca)),vs.La&&(yd(fi,hi,Bn,yn,Ea,ca),$h(lo,ko,Yi,pi,Pa,yn,Ea,ca))}}if(Kt.ia&&alert("todo:DitherRow"),Lt.put!=null){if(tn=16*hn,hn=16*(hn+1),xn?(Lt.y=Kt.sa,Lt.O=Kt.ta+en,Lt.f=Kt.qa,Lt.N=Kt.ra+Aa,Lt.ea=Kt.Ha,Lt.W=Kt.Ia+Aa):(tn-=Wr,Lt.y=Ki,Lt.O=ji,Lt.f=Vn,Lt.N=Br,Lt.ea=Bi,Lt.W=Gi),Fn||(hn-=Wr),hn>Lt.o&&(hn=Lt.o),Lt.F=null,Lt.J=null,Kt.Fa!=null&&0<Kt.Fa.length&&tn<hn&&(Lt.J=Lr(Kt,Lt,tn,hn-tn),Lt.F=Kt.mb,Lt.F==null&&Lt.F.length==0)){di=Hn(Kt,3,"Could not decode alpha data.");break t}tn<Lt.j&&(Wr=Lt.j-tn,tn=Lt.j,t(!(1&Wr)),Lt.O+=Kt.R*Wr,Lt.N+=Kt.B*(Wr>>1),Lt.W+=Kt.B*(Wr>>1),Lt.F!=null&&(Lt.J+=Lt.width*Wr)),tn<hn&&(Lt.O+=Lt.v,Lt.N+=Lt.v>>1,Lt.W+=Lt.v>>1,Lt.F!=null&&(Lt.J+=Lt.v),Lt.ka=tn-Lt.j,Lt.U=Lt.va-Lt.v,Lt.T=hn-tn,di=Lt.put(Lt))}Or+1!=Kt.Ic||Fn||(n(Kt.sa,Kt.ta-jr,Ki,ji+16*Kt.R,jr),n(Kt.qa,Kt.ra-En,Vn,Br+8*Kt.B,En),n(Kt.Ha,Kt.Ia-En,Bi,Gi+8*Kt.B,En))}if(!di)return Hn(Ur,6,"Output aborted.")}return 1})(Ee,We)),We.bc!=null&&We.bc(We),Xe&=1}return Xe?(Ee.cb=0,Xe):0})(N,W)||(P=N.a)}}else P=N.a}P==0&&de.Oa!=null&&de.Oa.fd&&(P=gd(de.ba))}de=P}le=de!=0?null:11>le?ge.f.RGBA.eb:ge.f.kb.y}else le=null;return le};var Tf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(R,H){for(var F="",U=0;U<4;U++)F+=String.fromCharCode(R[H++]);return F}function d(R,H){return R[H+0]|R[H+1]<<8}function h(R,H){return(R[H+0]|R[H+1]<<8|R[H+2]<<16)>>>0}function m(R,H){return(R[H+0]|R[H+1]<<8|R[H+2]<<16|R[H+3]<<24)>>>0}new c;var g=[0],x=[0],v=[],y=new c,w=e,_=(function(R,H){var F={},U=0,M=!1,q=0,ee=0;if(F.frames=[],!(function(L,Y){for(var K=0;K<4;K++)if(L[Y+K]!="RIFF".charCodeAt(K))return!0;return!1})(R,H)){for(m(R,H+=4),H+=8;H<R.length;){var ve=u(R,H),he=m(R,H+=4);H+=4;var ce=he+(1&he);switch(ve){case"VP8 ":case"VP8L":F.frames[U]===void 0&&(F.frames[U]={}),(ae=F.frames[U]).src_off=M?ee:H-8,ae.src_size=q+he+8,U++,M&&(M=!1,q=0,ee=0);break;case"VP8X":(ae=F.header={}).feature_flags=R[H];var be=H+4;ae.canvas_width=1+h(R,be),be+=3,ae.canvas_height=1+h(R,be),be+=3;break;case"ALPH":M=!0,q=ce+8,ee=H-8;break;case"ANIM":(ae=F.header).bgcolor=m(R,H),be=H+4,ae.loop_count=d(R,be),be+=2;break;case"ANMF":var Oe,ae;(ae=F.frames[U]={}).offset_x=2*h(R,H),H+=3,ae.offset_y=2*h(R,H),H+=3,ae.width=1+h(R,H),H+=3,ae.height=1+h(R,H),H+=3,ae.duration=h(R,H),H+=3,Oe=R[H++],ae.dispose=1&Oe,ae.blend=Oe>>1&1}ve!="ANMF"&&(H+=ce)}return F}})(w,0);_.response=w,_.rgbaoutput=!0,_.dataurl=!1;var S=_.header?_.header:null,E=_.frames?_.frames:null;if(S){S.loop_counter=S.loop_count,g=[S.canvas_height],x=[S.canvas_width];for(var T=0;T<E.length&&E[T].blend!=0;T++);}var D=E[0],C=y.WebPDecodeRGBA(w,D.src_off,D.src_size,x,g);D.rgba=C,D.imgwidth=x[0],D.imgheight=g[0];for(var O=0;O<x[0]*g[0]*4;O++)v[O]=C[O];return this.width=x,this.height=g,this.data=v,this}(function(e){var t,r,n,i,a,s,o,c,u,d=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new c,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new s,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new s,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=L;Object.defineProperty(this,"pdf",{get:function(){return Y}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(oe){K=!!oe}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(oe){J=!!oe}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(oe){isNaN(oe)||(pe=oe)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(oe){isNaN(oe)||(Ae=oe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(oe){var at;typeof oe=="number"?at=[oe,oe,oe,oe]:((at=new Array(4))[0]=oe[0],at[1]=oe.length>=2?oe[1]:at[0],at[2]=oe.length>=3?oe[2]:at[0],at[3]=oe.length>=4?oe[3]:at[1]),u.margin=at}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(oe){Ne=oe}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(oe){fe=oe}});var ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ke},set:function(oe){ke=oe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(oe){oe instanceof d&&(u=oe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(oe){u.path=oe}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(oe){Te=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var at;at=m(oe),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var at=m(oe);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var je=null,Le=null,$e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(oe){je=null,Le=null,$e=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var at;if(this.ctx.font=oe,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(oe))!==null){var lt=at[1];at[2];var Pt=at[3],ct=at[4];at[5];var $t=at[6],Dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ct)[2];ct=Math.floor(Dt==="px"?parseFloat(ct)*this.pdf.internal.scaleFactor:Dt==="em"?parseFloat(ct)*this.pdf.getFontSize():parseFloat(ct)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ct);var Xt=(function(Bt){var Jr,Tr,mr=[],yr=Bt.trim();if(yr==="")return bS;if(yr in UI)return[UI[yr]];for(;yr!=="";){switch(Tr=null,Jr=(yr=zI(yr)).charAt(0)){case'"':case"'":Tr=MNe(yr.substring(1),Jr);break;default:Tr=FNe(yr)}if(Tr===null||(mr.push(Tr[0]),(yr=zI(Tr[1]))!==""&&yr.charAt(0)!==","))return bS;yr=yr.replace(/^,/,"")}return mr})($t);if(this.fontFaces){var Ht=(function(Bt,Jr){var Tr=Bt.getFontList(),mr=JSON.stringify(Tr);if(je===null||Le!==mr){var yr=(function(Fr){var it=[];return Object.keys(Fr).forEach(function(Ut){Fr[Ut].forEach(function(Mt){var Ft=null;switch(Mt){case"bold":Ft={family:Ut,weight:"bold"};break;case"italic":Ft={family:Ut,style:"italic"};break;case"bolditalic":Ft={family:Ut,weight:"bold",style:"italic"};break;case"":case"normal":Ft={family:Ut}}Ft!==null&&(Ft.ref={name:Ut,style:Mt},it.push(Ft))})}),it})(Tr);je=(function(Fr){for(var it={},Ut=0;Ut<Fr.length;++Ut){var Mt=yS(Fr[Ut]),Ft=Mt.family,br=Mt.stretch,hr=Mt.style,Gt=Mt.weight;it[Ft]=it[Ft]||{},it[Ft][br]=it[Ft][br]||{},it[Ft][br][hr]=it[Ft][br][hr]||{},it[Ft][br][hr][Gt]=Mt}return it})(yr.concat(Jr)),Le=mr}return je})(this.pdf,this.fontFaces),xr=Xt.map(function(Bt){return{family:Bt,stretch:"normal",weight:Pt,style:lt}}),Nr=(function(Bt,Jr,Tr){for(var mr=(Tr=Tr||{}).defaultFontFamily||"times",yr=Object.assign({},LNe,Tr.genericFontFamilies||{}),Fr=null,it=null,Ut=0;Ut<Jr.length;++Ut)if(yr[(Fr=yS(Jr[Ut])).family]&&(Fr.family=yr[Fr.family]),Bt.hasOwnProperty(Fr.family)){it=Bt[Fr.family];break}if(!(it=it||Bt[mr]))throw new Error("Could not find a font-family for the rule '"+$I(Fr)+"' and default family '"+mr+"'.");if(it=(function(Mt,Ft){if(Ft[Mt])return Ft[Mt];var br=VN[Mt],hr=br<=VN.normal?-1:1,Gt=BI(Ft,kz,br,hr);if(!Gt)throw new Error("Could not find a matching font-stretch value for "+Mt);return Gt})(Fr.stretch,it),it=(function(Mt,Ft){if(Ft[Mt])return Ft[Mt];for(var br=Tz[Mt],hr=0;hr<br.length;++hr)if(Ft[br[hr]])return Ft[br[hr]];throw new Error("Could not find a matching font-style for "+Mt)})(Fr.style,it),!(it=(function(Mt,Ft){if(Ft[Mt])return Ft[Mt];if(Mt===400&&Ft[500])return Ft[500];if(Mt===500&&Ft[400])return Ft[400];var br=RNe[Mt],hr=BI(Ft,Cz,br,Mt<400?-1:1);if(!hr)throw new Error("Could not find a matching font-weight for value "+Mt);return hr})(Fr.weight,it)))throw new Error("Failed to resolve a font for the rule '"+$I(Fr)+"'.");return it})(Ht,xr);this.pdf.setFont(Nr.ref.name,Nr.ref.style)}else{var ze="";(Pt==="bold"||parseInt(Pt,10)>=700||lt==="bold")&&(ze="bold"),lt==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var kt="",fr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},zt=0;zt<Xt.length;zt++){if(this.pdf.internal.getFont(Xt[zt],ze,{noFallback:!0,disableWarning:!0})!==void 0){kt=Xt[zt];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(Xt[zt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)kt=Xt[zt],ze="bold";else if(this.pdf.internal.getFont(Xt[zt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){kt=Xt[zt],ze="normal";break}}if(kt===""){for(var dr=0;dr<Xt.length;dr++)if(fr[Xt[dr]]){kt=fr[Xt[dr]];break}}kt=kt===""?"Times":kt,this.pdf.setFont(kt,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};h.prototype.setLineDash=function(L){this.lineDash=L},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw On.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new s(L,Y));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(L,Y)},h.prototype.closePath=function(){var L=new s(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&_n(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){L=new s(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(L.x,L.y)},h.prototype.lineTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw On.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new s(L,Y));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(K.x,K.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(L,Y,K,J){if(isNaN(K)||isNaN(J)||isNaN(L)||isNaN(Y))throw On.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new s(K,J)),Ae=this.ctx.transform.applyToPoint(new s(L,Y));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new s(pe.x,pe.y)},h.prototype.bezierCurveTo=function(L,Y,K,J,pe,Ae){if(isNaN(pe)||isNaN(Ae)||isNaN(L)||isNaN(Y)||isNaN(K)||isNaN(J))throw On.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new s(pe,Ae)),fe=this.ctx.transform.applyToPoint(new s(L,Y)),ke=this.ctx.transform.applyToPoint(new s(K,J));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:ke.x,y2:ke.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new s(Ne.x,Ne.y)},h.prototype.arc=function(L,Y,K,J,pe,Ae){if(isNaN(L)||isNaN(Y)||isNaN(K)||isNaN(J)||isNaN(pe))throw On.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new s(L,Y));L=Ne.x,Y=Ne.y;var fe=this.ctx.transform.applyToPoint(new s(0,K)),ke=this.ctx.transform.applyToPoint(new s(0,0));K=Math.sqrt(Math.pow(fe.x-ke.x,2)+Math.pow(fe.y-ke.y,2))}Math.abs(pe-J)>=2*Math.PI&&(J=0,pe=2*Math.PI),this.path.push({type:"arc",x:L,y:Y,radius:K,startAngle:J,endAngle:pe,counterclockwise:Ae})},h.prototype.arcTo=function(L,Y,K,J,pe){throw new Error("arcTo not implemented.")},h.prototype.rect=function(L,Y,K,J){if(isNaN(L)||isNaN(Y)||isNaN(K)||isNaN(J))throw On.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,Y),this.lineTo(L+K,Y),this.lineTo(L+K,Y+J),this.lineTo(L,Y+J),this.lineTo(L,Y),this.lineTo(L+K,Y),this.lineTo(L,Y)},h.prototype.fillRect=function(L,Y,K,J){if(isNaN(L)||isNaN(Y)||isNaN(K)||isNaN(J))throw On.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,Y,K,J),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},h.prototype.strokeRect=function(L,Y,K,J){if(isNaN(L)||isNaN(Y)||isNaN(K)||isNaN(J))throw On.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(L,Y,K,J),this.stroke())},h.prototype.clearRect=function(L,Y,K,J){if(isNaN(L)||isNaN(Y)||isNaN(K)||isNaN(J))throw On.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,Y,K,J))},h.prototype.save=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},h.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(L){var Y,K,J,pe;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))Y=0,K=0,J=0,pe=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(Ae!==null)Y=parseInt(Ae[1]),K=parseInt(Ae[2]),J=parseInt(Ae[3]),pe=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)Y=parseInt(Ae[1]),K=parseInt(Ae[2]),J=parseInt(Ae[3]),pe=parseFloat(Ae[4]);else{if(pe=1,typeof L=="string"&&L.charAt(0)!=="#"){var Ne=new Sz(L);L=Ne.ok?Ne.toHex():"#000000"}L.length===4?(Y=L.substring(1,2),Y+=Y,K=L.substring(2,3),K+=K,J=L.substring(3,4),J+=J):(Y=L.substring(1,3),K=L.substring(3,5),J=L.substring(5,7)),Y=parseInt(Y,16),K=parseInt(K,16),J=parseInt(J,16)}}return{r:Y,g:K,b:J,a:pe,style:L}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(L,Y,K,J){if(isNaN(Y)||isNaN(K)||typeof L!="string")throw On.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!g.call(this)){var pe=ce(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;U.call(this,{text:L,x:Y,y:K,scale:Ae,angle:pe,align:this.textAlign,maxWidth:J})}},h.prototype.strokeText=function(L,Y,K,J){if(isNaN(Y)||isNaN(K)||typeof L!="string")throw On.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){J=isNaN(J)?void 0:J;var pe=ce(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;U.call(this,{text:L,x:Y,y:K,scale:Ae,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:J})}},h.prototype.measureText=function(L){if(typeof L!="string")throw On.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,K=this.pdf.internal.scaleFactor,J=Y.internal.getFontSize(),pe=Y.getStringUnitWidth(L)*J/Y.internal.scaleFactor;return new function(Ae){var Ne=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:pe*=Math.round(96*K/72*1e4)/1e4})},h.prototype.scale=function(L,Y){if(isNaN(L)||isNaN(Y))throw On.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(L,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.rotate=function(L){if(isNaN(L))throw On.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.translate=function(L,Y){if(isNaN(L)||isNaN(Y))throw On.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,L,Y);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.transform=function(L,Y,K,J,pe,Ae){if(isNaN(L)||isNaN(Y)||isNaN(K)||isNaN(J)||isNaN(pe)||isNaN(Ae))throw On.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new c(L,Y,K,J,pe,Ae);this.ctx.transform=this.ctx.transform.multiply(Ne)},h.prototype.setTransform=function(L,Y,K,J,pe,Ae){L=isNaN(L)?1:L,Y=isNaN(Y)?0:Y,K=isNaN(K)?0:K,J=isNaN(J)?1:J,pe=isNaN(pe)?0:pe,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new c(L,Y,K,J,pe,Ae)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(L,Y,K,J,pe,Ae,Ne,fe,ke){var Te=this.pdf.getImageProperties(L),je=1,Le=1,$e=1,oe=1;J!==void 0&&fe!==void 0&&($e=fe/J,oe=ke/pe,je=Te.width/J*fe/J,Le=Te.height/pe*ke/pe),Ae===void 0&&(Ae=Y,Ne=K,Y=0,K=0),J!==void 0&&fe===void 0&&(fe=J,ke=pe),J===void 0&&fe===void 0&&(fe=Te.width,ke=Te.height);var at=this.ctx.transform.decompose(),lt=ce(at.rotate.shx),Pt=new c,ct=(Pt=(Pt=(Pt=Pt.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new o(Ae-Y*$e,Ne-K*oe,J*je,pe*Le));if(this.autoPaging){for(var $t,Dt=y.call(this,ct),Xt=[],Ht=0;Ht<Dt.length;Ht+=1)Xt.indexOf(Dt[Ht])===-1&&Xt.push(Dt[Ht]);S(Xt);for(var xr=Xt[0],Nr=Xt[Xt.length-1],ze=xr;ze<Nr+1;ze++){this.pdf.setPage(ze);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],fr=ze===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bt=ze===1?0:zt+(ze-2)*dr;if(this.ctx.clip_path.length!==0){var Jr=this.path;$t=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_($t,this.posX+this.margin[3],-Bt+fr+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=Jr}var Tr=JSON.parse(JSON.stringify(ct));Tr=_([Tr],this.posX+this.margin[3],-Bt+fr+this.ctx.prevPageLastElemOffset)[0];var mr=(ze>xr||ze<Nr)&&v.call(this);mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,dr,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Tr.x,Tr.y,Tr.w,Tr.h,null,null,lt),mr&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,lt)};var y=function(L,Y,K){var J=[];Y=Y||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":J.push(Math.floor((L.y+pe)/K)+1);break;case"arc":J.push(Math.floor((L.y+pe-L.radius)/K)+1),J.push(Math.floor((L.y+pe+L.radius)/K)+1);break;case"qct":var Ae=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);J.push(Math.floor((Ae.y+pe)/K)+1),J.push(Math.floor((Ae.y+Ae.h+pe)/K)+1);break;case"bct":var Ne=Oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);J.push(Math.floor((Ne.y+pe)/K)+1),J.push(Math.floor((Ne.y+Ne.h+pe)/K)+1);break;case"rect":J.push(Math.floor((L.y+pe)/K)+1),J.push(Math.floor((L.y+L.h+pe)/K)+1)}for(var fe=0;fe<J.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<J[fe];)w.call(this);return J},w=function(){var L=this.fillStyle,Y=this.strokeStyle,K=this.font,J=this.lineCap,pe=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=Y,this.font=K,this.lineCap=J,this.lineWidth=pe,this.lineJoin=Ae},_=function(L,Y,K){for(var J=0;J<L.length;J++)switch(L[J].type){case"bct":L[J].x2+=Y,L[J].y2+=K;case"qct":L[J].x1+=Y,L[J].y1+=K;default:L[J].x+=Y,L[J].y+=K}return L},S=function(L){return L.sort(function(Y,K){return Y-K})},E=function(L,Y){var K=this.fillStyle,J=this.strokeStyle,pe=this.lineCap,Ae=this.lineWidth,Ne=Math.abs(Ae*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var ke,Te,je=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),$e=[],oe=0;oe<Le.length;oe++)if(Le[oe].x!==void 0)for(var at=y.call(this,Le[oe]),lt=0;lt<at.length;lt+=1)$e.indexOf(at[lt])===-1&&$e.push(at[lt]);for(var Pt=0;Pt<$e.length;Pt++)for(;this.pdf.internal.getNumberOfPages()<$e[Pt];)w.call(this);S($e);for(var ct=$e[0],$t=$e[$e.length-1],Dt=ct;Dt<$t+1;Dt++){this.pdf.setPage(Dt),this.fillStyle=K,this.strokeStyle=J,this.lineCap=pe,this.lineWidth=Ne,this.lineJoin=fe;var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=Dt===1?this.posY+this.margin[0]:this.margin[0],xr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Dt===1?0:xr+(Dt-2)*Nr;if(this.ctx.clip_path.length!==0){var kt=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ke,this.posX+this.margin[3],-ze+Ht+this.ctx.prevPageLastElemOffset),T.call(this,L,!0),this.path=kt}if(Te=JSON.parse(JSON.stringify(je)),this.path=_(Te,this.posX+this.margin[3],-ze+Ht+this.ctx.prevPageLastElemOffset),Y===!1||Dt===0){var fr=(Dt>ct||Dt<$t)&&v.call(this);fr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Nr,null).clip().discardPath()),T.call(this,L,Y),fr&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}this.path=je}else this.lineWidth=Ne,T.call(this,L,Y),this.lineWidth=Ae},T=function(L,Y){if((L!=="stroke"||Y||!x.call(this))&&(L==="stroke"||Y||!g.call(this))){for(var K,J,pe=[],Ae=this.path,Ne=0;Ne<Ae.length;Ne++){var fe=Ae[Ne];switch(fe.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:fe,deltas:[],abs:[]});break;case"lt":var ke=pe.length;if(Ae[Ne-1]&&!isNaN(Ae[Ne-1].x)&&(K=[fe.x-Ae[Ne-1].x,fe.y-Ae[Ne-1].y],ke>0)){for(;ke>=0;ke--)if(pe[ke-1].close!==!0&&pe[ke-1].begin!==!0){pe[ke-1].deltas.push(K),pe[ke-1].abs.push(fe);break}}break;case"bct":K=[fe.x1-Ae[Ne-1].x,fe.y1-Ae[Ne-1].y,fe.x2-Ae[Ne-1].x,fe.y2-Ae[Ne-1].y,fe.x-Ae[Ne-1].x,fe.y-Ae[Ne-1].y],pe[pe.length-1].deltas.push(K);break;case"qct":var Te=Ae[Ne-1].x+2/3*(fe.x1-Ae[Ne-1].x),je=Ae[Ne-1].y+2/3*(fe.y1-Ae[Ne-1].y),Le=fe.x+2/3*(fe.x1-fe.x),$e=fe.y+2/3*(fe.y1-fe.y),oe=fe.x,at=fe.y;K=[Te-Ae[Ne-1].x,je-Ae[Ne-1].y,Le-Ae[Ne-1].x,$e-Ae[Ne-1].y,oe-Ae[Ne-1].x,at-Ae[Ne-1].y],pe[pe.length-1].deltas.push(K);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(fe)}}J=Y?null:L==="stroke"?"stroke":"fill";for(var lt=!1,Pt=0;Pt<pe.length;Pt++)if(pe[Pt].arc)for(var ct=pe[Pt].abs,$t=0;$t<ct.length;$t++){var Dt=ct[$t];Dt.type==="arc"?O.call(this,Dt.x,Dt.y,Dt.radius,Dt.startAngle,Dt.endAngle,Dt.counterclockwise,void 0,Y,!lt):M.call(this,Dt.x,Dt.y),lt=!0}else if(pe[Pt].close===!0)this.pdf.internal.out("h"),lt=!1;else if(pe[Pt].begin!==!0){var Xt=pe[Pt].start.x,Ht=pe[Pt].start.y;q.call(this,pe[Pt].deltas,Xt,Ht),lt=!0}J&&R.call(this,J),Y&&H.call(this)}},D=function(L){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-K;case"top":return L+Y-K;case"hanging":return L+Y-2*K;case"middle":return L+Y/2-K;default:return L}},C=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(Y,K){this.colorStops.push([Y,K])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(L,Y,K,J,pe,Ae,Ne,fe,ke){for(var Te=ve.call(this,K,J,pe,Ae),je=0;je<Te.length;je++){var Le=Te[je];je===0&&(ke?F.call(this,Le.x1+L,Le.y1+Y):M.call(this,Le.x1+L,Le.y1+Y)),ee.call(this,L,Y,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}fe?H.call(this):R.call(this,Ne)},R=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(L,Y){this.pdf.internal.out(r(L)+" "+n(Y)+" m")},U=function(L){var Y;switch(L.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var K,J,pe,Ae=this.pdf.getTextDimensions(L.text),Ne=D.call(this,L.y),fe=C.call(this,Ne)-Ae.h,ke=this.ctx.transform.applyToPoint(new s(L.x,Ne));if(this.autoPaging){var Te=this.ctx.transform.decompose(),je=new c;je=(je=(je=je.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale);for(var Le=this.ctx.transform.applyToRectangle(new o(L.x,Ne,Ae.w,Ae.h)),$e=je.applyToRectangle(new o(L.x,fe,Ae.w,Ae.h)),oe=y.call(this,$e),at=[],lt=0;lt<oe.length;lt+=1)at.indexOf(oe[lt])===-1&&at.push(oe[lt]);S(at);for(var Pt=at[0],ct=at[at.length-1],$t=Pt;$t<ct+1;$t++){this.pdf.setPage($t);var Dt=$t===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[2],xr=Ht-this.margin[0],Nr=this.pdf.internal.pageSize.width-this.margin[1],ze=Nr-this.margin[3],kt=$t===1?0:Xt+($t-2)*xr;if(this.ctx.clip_path.length!==0){var fr=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(K,this.posX+this.margin[3],-1*kt+Dt),T.call(this,"fill",!0),this.path=fr}var zt=_([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-kt+Dt+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*L.scale),pe=this.lineWidth,this.lineWidth=pe*L.scale);var dr=this.autoPaging!=="text";if(dr||zt.y+zt.h<=Ht){if(dr||zt.y>=Dt&&zt.x<=Nr){var Bt=dr?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Nr-zt.x)[0],Jr=_([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-kt+Dt+this.ctx.prevPageLastElemOffset)[0],Tr=dr&&($t>Pt||$t<ct)&&v.call(this);Tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,xr,null).clip().discardPath()),this.pdf.text(Bt,Jr.x,Jr.y,{angle:L.angle,align:Y,renderingMode:L.renderingMode}),Tr&&this.pdf.restoreGraphicsState()}}else zt.y<Ht&&(this.ctx.prevPageLastElemOffset+=Ht-zt.y);L.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=pe)}}else L.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*L.scale),pe=this.lineWidth,this.lineWidth=pe*L.scale),this.pdf.text(L.text,ke.x+this.posX,ke.y+this.posY,{angle:L.angle,align:Y,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=pe)},M=function(L,Y,K,J){K=K||0,J=J||0,this.pdf.internal.out(r(L+K)+" "+n(Y+J)+" l")},q=function(L,Y,K){return this.pdf.lines(L,Y,K,null,null)},ee=function(L,Y,K,J,pe,Ae,Ne,fe){this.pdf.internal.out([t(i(K+L)),t(a(J+Y)),t(i(pe+L)),t(a(Ae+Y)),t(i(Ne+L)),t(a(fe+Y)),"c"].join(" "))},ve=function(L,Y,K,J){for(var pe=2*Math.PI,Ae=Math.PI/2;Y>K;)Y-=pe;var Ne=Math.abs(K-Y);Ne<pe&&J&&(Ne=pe-Ne);for(var fe=[],ke=J?-1:1,Te=Y;Ne>1e-5;){var je=Te+ke*Math.min(Ne,Ae);fe.push(he.call(this,L,Te,je)),Ne-=Math.abs(je-Te),Te=je}return fe},he=function(L,Y,K){var J=(K-Y)/2,pe=L*Math.cos(J),Ae=L*Math.sin(J),Ne=pe,fe=-Ae,ke=Ne*Ne+fe*fe,Te=ke+Ne*pe+fe*Ae,je=4/3*(Math.sqrt(2*ke*Te)-Te)/(Ne*Ae-fe*pe),Le=Ne-je*fe,$e=fe+je*Ne,oe=Le,at=-$e,lt=J+Y,Pt=Math.cos(lt),ct=Math.sin(lt);return{x1:L*Math.cos(Y),y1:L*Math.sin(Y),x2:Le*Pt-$e*ct,y2:Le*ct+$e*Pt,x3:oe*Pt-at*ct,y3:oe*ct+at*Pt,x4:L*Math.cos(K),y4:L*Math.sin(K)}},ce=function(L){return 180*L/Math.PI},be=function(L,Y,K,J,pe,Ae){var Ne=L+.5*(K-L),fe=Y+.5*(J-Y),ke=pe+.5*(K-pe),Te=Ae+.5*(J-Ae),je=Math.min(L,pe,Ne,ke),Le=Math.max(L,pe,Ne,ke),$e=Math.min(Y,Ae,fe,Te),oe=Math.max(Y,Ae,fe,Te);return new o(je,$e,Le-je,oe-$e)},Oe=function(L,Y,K,J,pe,Ae,Ne,fe){var ke,Te,je,Le,$e,oe,at,lt,Pt,ct,$t,Dt,Xt,Ht,xr=K-L,Nr=J-Y,ze=pe-K,kt=Ae-J,fr=Ne-pe,zt=fe-Ae;for(Te=0;Te<41;Te++)Pt=(at=(je=L+(ke=Te/40)*xr)+ke*(($e=K+ke*ze)-je))+ke*($e+ke*(pe+ke*fr-$e)-at),ct=(lt=(Le=Y+ke*Nr)+ke*((oe=J+ke*kt)-Le))+ke*(oe+ke*(Ae+ke*zt-oe)-lt),Te==0?($t=Pt,Dt=ct,Xt=Pt,Ht=ct):($t=Math.min($t,Pt),Dt=Math.min(Dt,ct),Xt=Math.max(Xt,Pt),Ht=Math.max(Ht,ct));return new o(Math.round($t),Math.round(Dt),Math.round(Xt-$t),Math.round(Ht-Dt))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,Y,K=(L=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:Y}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(ur.API),(function(e){var t=function(s){var o,c,u,d,h,m,g,x,v,y;for(c=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(h=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(m=(h=((h=((h=((h=(h-(y=h%85))/85)-(v=h%85))/85)-(x=h%85))/85)-(g=h%85))/85)%85,c.push(m+33,g+33,x+33,v+33,y+33)):c.push(122);return(function(w,_){for(var S=_;S>0;S--)w.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var o,c,u,d,h,m=String,g="length",x=255,v="charCodeAt",y="slice",w="replace";for(s[y](-2),s=s[y](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],d=0,h=(s+=o="uuuuu"[y](s[g]%5||5))[g];h>d;d+=5)c=52200625*(s[v](d)-33)+614125*(s[v](d+1)-33)+7225*(s[v](d+2)-33)+85*(s[v](d+3)-33)+(s[v](d+4)-33),u.push(x&c>>24,x&c>>16,x&c>>8,x&c);return(function(_,S){for(var E=S;E>0;E--)_.pop()})(u,o[g]),m.fromCharCode.apply(m,u)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},a=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return(o=BN(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var c=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(ur.API),(function(e){e.loadFile=function(t,r,n){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(c,u,d){var h=new XMLHttpRequest,m=0,g=function(x){var v=x.length,y=[],w=String.fromCharCode;for(m=0;m<v;m+=1)y.push(w(255&x.charCodeAt(m)));return y.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(g(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return g(h.responseText)})(i,a,s)}catch{}return o})(t,r,n)},e.loadImageFile=e.loadFile})(ur.API),(function(e){function t(){return(Pr.html2canvas?Promise.resolve(Pr.html2canvas):tS(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Pr.DOMPurify?Promise.resolve(Pr.DOMPurify):tS(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=_n(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var u=document.createElement(o);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},a=function o(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(o(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var x=d[g],v=x.src.find(function(y){return y.format==="truetype"});v&&u.addFont(v.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||ur.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,u,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,d){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,h).then(function(m){return u.updateProgress(1),m})})},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),m=u.call(h,o,c);return s.convert(m,d.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ur.getPageSize=function(o,c,u){if(_n(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var h,m=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var x,v=0,y=0;if(g.hasOwnProperty(m))v=g[m][1]/h,y=g[m][0]/h;else try{v=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",y>v&&(x=y,y=v,v=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>y&&(x=y,y=v,v=x)}return{width:y,height:v,unit:c,k:h,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(yS):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}})(ur.API),ur.API.addJS=function(e){return qI=e,this.internal.events.subscribe("postPutResources",function(){Ix=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ix+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),WI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+qI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ix!==void 0&&WI!==void 0&&this.internal.out("/Names <</JavaScript "+Ix+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var h=r.internal.newObject();d.push(h);var m=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(ur.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(h){for(var m,g=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,v={width:0,height:0,numcomponents:1},y=4;y<x;y+=2){if(y+=g,t.indexOf(h.charCodeAt(y+1))!==-1){m=256*h.charCodeAt(y+5)+h.charCodeAt(y+6),v={width:256*h.charCodeAt(y+7)+h.charCodeAt(y+8),height:m,numcomponents:h.charCodeAt(y+9)};break}g=256*h.charCodeAt(y+2)+h.charCodeAt(y+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}})(ur.API),ur.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=wNe(e,{checkCrc:!0}),s=a.width,o=a.height,c=a.channels,u=a.palette,d=a.depth;i=u&&c===1?(function(O){for(var R=O.width,H=O.height,F=O.data,U=O.palette,M=O.depth,q=!1,ee=[],ve=[],he=void 0,ce=!1,be=0,Oe=0;Oe<U.length;Oe++){var ae=GO(U[Oe],4),L=ae[0],Y=ae[1],K=ae[2],J=ae[3];ee.push(L,Y,K),J!=null&&(J===0?(be++,ve.length<1&&ve.push(Oe)):J<255&&(ce=!0))}if(ce||be>1){q=!0,ve=void 0;var pe=R*H;he=new Uint8Array(pe);for(var Ae=new DataView(F.buffer),Ne=0;Ne<pe;Ne++){var fe=wS(Ae,Ne,M),ke=GO(U[fe],4)[3];he[Ne]=ke}}else be===0&&(ve=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:F,alphaBytes:he,needSMask:q,palette:ee,mask:ve}})(a):c===2||c===4?(function(O){for(var R=O.data,H=O.width,F=O.height,U=O.channels,M=O.depth,q=U===2?"DeviceGray":"DeviceRGB",ee=U-1,ve=H*F,he=ee,ce=ve*he,be=1*ve,Oe=Math.ceil(ce*M/8),ae=Math.ceil(be*M/8),L=new Uint8Array(Oe),Y=new Uint8Array(ae),K=new DataView(R.buffer),J=new DataView(L.buffer),pe=new DataView(Y.buffer),Ae=!1,Ne=0;Ne<ve;Ne++){for(var fe=Ne*U,ke=0;ke<he;ke++)QI(J,wS(K,fe+ke,M),Ne*he+ke,M);var Te=wS(K,fe+he,M);Te<(1<<M)-1&&(Ae=!0),QI(pe,Te,1*Ne,M)}return{colorSpace:q,colorsPerPixel:ee,sMaskBitsPerComponent:Ae?M:void 0,colorBytes:L,alphaBytes:Y,needSMask:Ae}})(a):(function(O){var R=O.data,H=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(F){for(var U=F.length,M=new Uint8Array(2*U),q=new DataView(M.buffer,M.byteOffset,M.byteLength),ee=0;ee<U;ee++)q.setUint16(2*ee,F[ee],!1);return M})(R):R,needSMask:!1}})(a);var h,m,g,x=i,v=x.colorSpace,y=x.colorsPerPixel,w=x.sMaskBitsPerComponent,_=x.colorBytes,S=x.alphaBytes,E=x.needSMask,T=x.palette,D=x.mask,C=null;return n!==ur.API.image_compression.NONE&&typeof BN=="function"?(C=(function(O){var R;switch(O){case ur.API.image_compression.FAST:R=11;break;case ur.API.image_compression.MEDIUM:R=13;break;case ur.API.image_compression.SLOW:R=14;break;default:R=12}return R})(n),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(C," /Colors ").concat(y," /BitsPerComponent ").concat(d," /Columns ").concat(s),e=GI(_,Math.ceil(s*y*d/8),y,d,n),E&&(g=GI(S,Math.ceil(s*w/8),1,w,n))):(h=void 0,m=void 0,e=_,E&&(g=S)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:h,decodeParameters:m,transparency:D,palette:T,sMask:g,predictor:C,width:s,height:o,bitsPerComponent:d,sMaskBitsPerComponent:w,colorSpace:v}}},(function(e){e.processGIF89A=function(t,r,n,i){var a=new zNe(t),s=a.width,o=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},d=new SS(100).encode(u,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A})(ur.API),sc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},sc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){On.log("bit decode error:"+r)}},sc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[a>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},sc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,c=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},sc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},sc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=e}},sc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,d=i*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},sc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},sc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},sc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,i){var a=new sc(t,!1),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new SS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}})(ur.API),tR.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,i){var a=new tR(t),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new SS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}})(ur.API),ur.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,c=0,u=0;u<i;u+=4){var d=n[u],h=n[u+1],m=n[u+2],g=n[u+3];a[o++]=d,a[o++]=h,a[o++]=m,s[c++]=g}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ur.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Sp=ur.API,Rx=Sp.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,m=0,g=e.length,x=0,v=o[0]||c,y=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(m=h&&_n(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/d:0,y.push((o[n]||v)/c+m)),x=n;return y},HI=Sp.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Sp.processArabic&&(e=Sp.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:Rx.apply(this,arguments).reduce(function(a,s){return a+s},0)},VI=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var c=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(c,a)),o=0,c=a),o+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},KI=function(e,t,r){r||(r={});var n,i,a,s,o,c,u,d=[],h=[d],m=r.textIndent||0,g=0,x=0,v=e.split(" "),y=Rx.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var w=Array(c).join(" "),_=[];v.map(function(E){(E=E.split(/\s*\n/)).length>1?_=_.concat(E.map(function(T,D){return(D&&T.length?`
`:"")+T})):_.push(E[0])}),v=_,c=HI.apply(this,[w,r])}for(a=0,s=v.length;a<s;a++){var S=0;if(n=v[a],c&&n[0]==`
`&&(n=n.substr(1),S=1),m+g+(x=(i=Rx.apply(this,[n,r])).reduce(function(E,T){return E+T},0))>t||S){if(x>t){for(o=VI.apply(this,[n,i,t-(m+g),t]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);x=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(E,T){return E+T},0)}else d=[n];h.push(d),m=x+c,g=y}else d.push(n),m+=g+x,g=y}return u=c?function(E,T){return(T?w:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(u)},Sp.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(KI.apply(this,[n[o],s,a]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var s=function(m){return"0x"+parseInt(m,10).toString(16)},o=e.__fontmetrics__.compress=function(m){var g,x,v,y,w=["{"];for(var _ in m){if(g=m[_],isNaN(parseInt(_,10))?x="'"+_+"'":(_=parseInt(_,10),x=(x=s(_).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof g=="number")g<0?(v=s(g).slice(3),y="-"):(v=s(g).slice(2),y=""),v=y+v.slice(0,-1)+i[v.slice(-1)];else{if(_n(g)!=="object")throw new Error("Don't know what to do with value type "+_n(g)+".");v=o(g)}w.push(x+v)}return w.push("}"),w.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,x,v,y,w={},_=1,S=w,E=[],T="",D="",C=m.length-1,O=1;O<C;O+=1)(y=m[O])=="'"?g?(v=g.join(""),g=void 0):g=[]:g?g.push(y):y=="{"?(E.push([S,v]),S={},v=void 0):y=="}"?((x=E.pop())[0][x[1]]=S,v=void 0,S=x[0]):y=="-"?_=-1:v===void 0?n.hasOwnProperty(y)?(T+=n[y],v=parseInt(T,16)*_,_=1,T=""):T+=y:n.hasOwnProperty(y)?(D+=n[y],S[v]=parseInt(D,16)*_,_=1,v=void 0,D=""):D+=y;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var g=m.font,x=h.Unicode[g.postScriptName];x&&(g.metadata.Unicode={},g.metadata.Unicode.widths=x.widths,g.metadata.Unicode.kerning=x.kerning);var v=d.Unicode[g.postScriptName];v&&(g.metadata.Unicode.encoding=v,g.encoding=v.codePages[0])}])})(ur.API),(function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Xx(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])})(ur),ur.API.addSvgAsImage=function(e,t,r,n,i,a,s,o){if(isNaN(t)||isNaN(r))throw On.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw On.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Pr.canvg?Promise.resolve(Pr.canvg):tS(()=>import("./index.es-BqR6mkbs.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,s,o)})},ur.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},ur.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,d=0,h=0;function m(x,v){var y,w=!1;for(y=0;y<x.length;y+=1)x[y]===v&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=o.length;for(h=0;h<g;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(_n(e)==="object"){for(i in e)if(a=e[i],m(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&m(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,v=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?v.push("/"+x+" /"+r[x].value):v.push("/"+x+" "+r[x].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(ur.API),(function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,m=a.length;h<m;++h){if(o=s.metadata.characterToGlyph(a.charCodeAt(h)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(h),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(a){var s,o,c,u,d,h,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(o=Object.keys(a).sort(function(g,x){return g-x})).length;h<m;h++)s=o[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",x=0;x<m.length;x++)g+=String.fromCharCode(m[x]);var v=u();d({data:g,addLength1:!0,objectId:v}),c("endobj");var y=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var w=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Tp(o.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var _=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Tp(o.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+Tp(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+_+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,m="",g=0;g<h.length;g++)m+=String.fromCharCode(h[g]);var x=u();d({data:m,addLength1:!0,objectId:x}),c("endobj");var v=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var y=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Tp(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Tp(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",c=a.x,u=a.y,d=a.options||{},h=a.mutex||{},m=h.pdfEscape,g=h.activeFontKey,x=h.fonts,v=g,y="",w=0,_="",S=x[v].encoding;if(x[v].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:h};for(_=o,v=g,Array.isArray(o)&&(_=o[0]),w=0;w<_.length;w+=1)x[v].metadata.hasOwnProperty("cmap")&&(s=x[v].metadata.cmap.unicode.codeMap[_[w].charCodeAt(0)]),s||_[w].charCodeAt(0)<256&&x[v].metadata.hasOwnProperty("Unicode")?y+=_[w]:y+="";var E="";return parseInt(v.slice(1))<14||S==="WinAnsiEncoding"?E=m(y,v).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(E=r(y,x[v])),h.isHex=!0,{text:E,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},c,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},c,{text:s})).text}])})(ur),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(ur.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,o,c,u,d,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,S=0;this.__bidiEngine__={};var E=function(F){var U=F.charCodeAt(),M=U>>8,q=v[M];return q!==void 0?h[256*q+(255&U)]:M===252||M===253?"AL":w.test(M)?"L":M===8?"R":"N"},T=function(F){for(var U,M=0;M<F.length;M++){if((U=E(F.charAt(M)))==="L")return!1;if(U==="R")return!0}return!1},D=function(F,U,M,q){var ee,ve,he,ce,be=U[q];switch(be){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(be="AN");break;case"AL":_=!0,be="R";break;case"WS":case"BN":be="N";break;case"CS":q<1||q+1>=U.length||(ee=M[q-1])!=="EN"&&ee!=="AN"||(ve=U[q+1])!=="EN"&&ve!=="AN"?be="N":_&&(ve="AN"),be=ve===ee?ve:"N";break;case"ES":be=(ee=q>0?M[q-1]:"B")==="EN"&&q+1<U.length&&U[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&M[q-1]==="EN"){be="EN";break}if(_){be="N";break}for(he=q+1,ce=U.length;he<ce&&U[he]==="ET";)he++;be=he<ce&&U[he]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(ce=U.length,he=q+1;he<ce&&U[he]==="NSM";)he++;if(he<ce){var Oe=F[q],ae=Oe>=1425&&Oe<=2303||Oe===64286;if(ee=U[he],ae&&(ee==="R"||ee==="AL")){be="R";break}}}be=q<1||(ee=U[q-1])==="B"?"N":M[q-1];break;case"B":_=!1,i=!0,be=S;break;case"S":a=!0,be="N"}return be},C=function(F,U,M){var q=F.split("");return M&&O(q,M,{hiLevel:S}),q.reverse(),U&&U.reverse(),q.join("")},O=function(F,U,M){var q,ee,ve,he,ce,be=-1,Oe=F.length,ae=0,L=[],Y=S?g:m,K=[];for(_=!1,i=!1,a=!1,ee=0;ee<Oe;ee++)K[ee]=E(F[ee]);for(ve=0;ve<Oe;ve++){if(ce=ae,L[ve]=D(F,K,L,ve),q=240&(ae=Y[ce][x[L[ve]]]),ae&=15,U[ve]=he=Y[ae][5],q>0)if(q===16){for(ee=be;ee<ve;ee++)U[ee]=1;be=-1}else be=-1;if(Y[ae][6])be===-1&&(be=ve);else if(be>-1){for(ee=be;ee<ve;ee++)U[ee]=he;be=-1}K[ve]==="B"&&(U[ve]=0),M.hiLevel|=he}a&&(function(J,pe,Ae){for(var Ne=0;Ne<Ae;Ne++)if(J[Ne]==="S"){pe[Ne]=S;for(var fe=Ne-1;fe>=0&&J[fe]==="WS";fe--)pe[fe]=S}})(K,U,Oe)},R=function(F,U,M,q,ee){if(!(ee.hiLevel<F)){if(F===1&&S===1&&!i)return U.reverse(),void(M&&M.reverse());for(var ve,he,ce,be,Oe=U.length,ae=0;ae<Oe;){if(q[ae]>=F){for(ce=ae+1;ce<Oe&&q[ce]>=F;)ce++;for(be=ae,he=ce-1;be<he;be++,he--)ve=U[be],U[be]=U[he],U[he]=ve,M&&(ve=M[be],M[be]=M[he],M[he]=ve);ae=ce}ae++}}},H=function(F,U,M){var q=F.split(""),ee={hiLevel:S};return M||(M=[]),O(q,M,ee),(function(ve,he,ce){if(ce.hiLevel!==0&&d)for(var be,Oe=0;Oe<ve.length;Oe++)he[Oe]===1&&(be=y.indexOf(ve[Oe]))>=0&&(ve[Oe]=y[be+1])})(q,M,ee),R(2,q,U,M,ee),R(1,q,U,M,ee),q.join("")};return this.__bidiEngine__.doBidiReorder=function(F,U,M){if((function(ee,ve){if(ve)for(var he=0;he<ee.length;he++)ve[he]=he;o===void 0&&(o=T(ee)),u===void 0&&(u=T(ee))})(F,U),s||!c||u)if(s&&c&&o^u)S=o?1:0,F=C(F,U,M);else if(!s&&c&&u)S=o?1:0,F=H(F,U,M),F=C(F,U);else if(!s||o||c||u){if(s&&!c&&o^u)F=C(F,U),o?(S=0,F=H(F,U,M)):(S=1,F=H(F,U,M),F=C(F,U));else if(s&&o&&!c&&u)S=1,F=H(F,U,M),F=C(F,U);else if(!s&&!c&&o^u){var q=d;o?(S=1,F=H(F,U,M),S=0,d=!1,F=H(F,U,M),d=q):(S=0,F=H(F,U,M),F=C(F,U),S=1,d=!1,F=H(F,U,M),d=q,F=C(F,U))}}else S=0,F=H(F,U,M);else S=o?1:0,F=H(F,U,M);return F},this.__bidiEngine__.setOptions=function(F){F&&(s=F.isInputVisual,c=F.isOutputVisual,o=F.isInputRtl,u=F.isOutputRtl,d=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(ur),ur.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new ff(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new nje(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new WNe(this.contents),this.head=new HNe(this),this.name=new XNe(this),this.cmap=new Oz(this),this.toUnicode={},this.hhea=new VNe(this),this.maxp=new JNe(this),this.hmtx=new ZNe(this),this.post=new GNe(this),this.os2=new KNe(this),this.loca=new rje(this),this.glyf=new QNe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)t=c[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Nc,ff=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e})(),WNe=(function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,o,c,u,d,h,m,g,x,v;for(v in g=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(g)/c),s=Math.floor(h/c),d=16*g-h,(i=new ff).writeInt(this.scalarType),i.writeShort(g),i.writeShort(h),i.writeShort(s),i.writeShort(d),a=16*g,u=i.pos+a,o=null,x=[],r)for(m=r[v],i.writeString(v),i.writeInt(e(m)),i.writeInt(u),i.writeInt(m.length),x=x.concat(m),v==="head"&&(o=u),u+=m.length;u%4;)x.push(0),u++;return i.write(x),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=Iz.call(r);r.length%4;)r.push(0);for(a=new ff(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t})(),qNe={}.hasOwnProperty,ou=function(e,t){for(var r in t)qNe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Nc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var HNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,Nc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new ff).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),rR=(function(){function e(t,r){var n,i,a,s,o,c,u,d,h,m,g,x,v,y,w,_,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),m=g/2,t.pos+=6,a=(function(){var E,T;for(T=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)T.push(t.readUInt16());return T})(),t.pos+=2,v=(function(){var E,T;for(T=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)T.push(t.readUInt16());return T})(),u=(function(){var E,T;for(T=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)T.push(t.readUInt16());return T})(),d=(function(){var E,T;for(T=[],c=E=0;0<=m?E<m:E>m;c=0<=m?++E:--E)T.push(t.readUInt16());return T})(),i=(this.length-t.pos+this.offset)/2,o=(function(){var E,T;for(T=[],c=E=0;0<=i?E<i:E>i;c=0<=i?++E:--E)T.push(t.readUInt16());return T})(),c=w=0,S=a.length;w<S;c=++w)for(y=a[c],n=_=x=v[c];x<=y?_<=y:_>=y;n=x<=y?++_:--_)d[c]===0?s=n+u[c]:(s=o[d[c]/2+(n-x)-(m-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}t.pos=h}return e.encode=function(t,r){var n,i,a,s,o,c,u,d,h,m,g,x,v,y,w,_,S,E,T,D,C,O,R,H,F,U,M,q,ee,ve,he,ce,be,Oe,ae,L,Y,K,J,pe,Ae,Ne,fe,ke,Te,je;switch(q=new ff,s=Object.keys(t).sort(function(Le,$e){return Le-$e}),r){case"macroman":for(v=0,y=(function(){var Le=[];for(x=0;x<256;++x)Le.push(0);return Le})(),_={0:0},a={},ee=0,be=s.length;ee<be;ee++)_[fe=t[i=s[ee]]]==null&&(_[fe]=++v),a[i]={old:t[i],new:_[t[i]]},y[i]=_[t[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(y),{charMap:a,subtable:q.data,maxGlyphID:v+1};case"unicode":for(U=[],h=[],S=0,_={},n={},w=u=null,ve=0,Oe=s.length;ve<Oe;ve++)_[T=t[i=s[ve]]]==null&&(_[T]=++S),n[i]={old:T,new:_[T]},o=_[T]-i,w!=null&&o===u||(w&&h.push(w),U.push(i),u=o),w=i;for(w&&h.push(w),h.push(65535),U.push(65535),H=2*(R=U.length),O=2*Math.pow(Math.log(R)/Math.LN2,2),m=Math.log(O/2)/Math.LN2,C=2*R-O,c=[],D=[],g=[],x=he=0,ae=U.length;he<ae;x=++he){if(F=U[x],d=h[x],F===65535){c.push(0),D.push(0);break}if(F-(M=n[F].new)>=32768)for(c.push(0),D.push(2*(g.length+R-x)),i=ce=F;F<=d?ce<=d:ce>=d;i=F<=d?++ce:--ce)g.push(n[i].new);else c.push(M-F),D.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*R+2*g.length),q.writeUInt16(0),q.writeUInt16(H),q.writeUInt16(O),q.writeUInt16(m),q.writeUInt16(C),Ae=0,L=h.length;Ae<L;Ae++)i=h[Ae],q.writeUInt16(i);for(q.writeUInt16(0),Ne=0,Y=U.length;Ne<Y;Ne++)i=U[Ne],q.writeUInt16(i);for(ke=0,K=c.length;ke<K;ke++)o=c[ke],q.writeUInt16(o);for(Te=0,J=D.length;Te<J;Te++)E=D[Te],q.writeUInt16(E);for(je=0,pe=g.length;je<pe;je++)v=g[je],q.writeUInt16(v);return{charMap:n,subtable:q.data,maxGlyphID:S+1}}},e})(),Oz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,Nc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new rR(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=rR.encode(t,r),(i=new ff).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e})(),VNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,Nc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),KNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,Nc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),GNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,Nc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,c;for(c=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)c.push(t.readUInt32());return c}).call(this)}},e})(),YNe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},XNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,Nc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,s,o,c,u,d,h,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},a=d=0,h=n.length;d<h;a=++d)i=n[a],t.pos=i.offset,u=t.readString(i.length),s=new YNe(u,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),JNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,Nc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),ZNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,Nc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,s,o,c;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(t.readInt16());return d})(),this.widths=(function(){var u,d,h,m;for(m=[],u=0,d=(h=this.metrics).length;u<d;u++)a=h[u],m.push(a.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),Iz=[].slice,QNe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,Nc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,s,o,c,u,d,h;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new ff(r.read(i))).readShort(),u=o.readShort(),h=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[t]=s===-1?new tje(o,u,h,c,d):new eje(o,s,u,h,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,s,o,c;for(s=[],a=[],o=0,c=r.length;o<c;o++)i=t[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},e})(),eje=(function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),tje=(function(){function e(t,r,n,i,a){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new ff(Iz.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),rje=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ou(e,Nc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],c=this.offsets[s+1]-o;c>0&&(i+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e})(),nje=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,o,c;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,o,c,u,d,h,m,g,x,v,y,w;for(i in n=Oz.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),g={0:0},w=n.charMap)g[(c=w[i]).old]=c.new;for(x in m=n.maxGlyphID,s)x in g||(g[x]=m++);return d=(function(_){var S,E;for(S in E={},_)E[_[S]]=S;return E})(g),h=Object.keys(d).sort(function(_,S){return _-S}),v=(function(){var _,S,E;for(E=[],_=0,S=h.length;_<S;_++)o=h[_],E.push(d[o]);return E})(),a=this.font.glyf.encode(s,v,g),u=this.font.loca.encode(a.offsets,v),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e})();ur.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+(function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t})();function Rz(e,t,r,n,i){n=n||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,c=i.getLineHeightFactor?i.getLineHeightFactor():a,u=o*c,d=/\r\n|\r|\n/g,h="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof e=="string"?e.split(d):e,m=h.length||1),r+=o*(2-a),n.valign==="middle"?r-=m/2*u:n.valign==="bottom"&&(r-=m*u),n.halign==="center"||n.halign==="right"){var g=o;if(n.halign==="center"&&(g*=.5),h&&m>=1){for(var x=0;x<h.length;x++)i.text(h[x],t-i.getStringUnitWidth(h[x])*g,r),r+=u;return i}t-=i.getStringUnitWidth(e)*g}return n.halign==="justify"?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}var nR={},Zp=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:nR=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,i,a;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,c=s.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=e.unifyColor(t.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,i,a){return this.jsPDFDocument.rect(t,r,n,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return nR||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),KN=function(e,t){return KN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},KN(e,t)};function Lz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");KN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Mz=(function(e){Lz(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function ije(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function aje(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function E1(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function Fz(e,t,r,n){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var s=Bz(i,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function Bz(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Xb(e,t){var r,n,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Uz(e,t){var r=Xb(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function sje(e,t,r,n,i){var a={},s=1.3333333333333333,o=_S(t,function(S){return i.getComputedStyle(S).backgroundColor});o!=null&&(a.fillColor=o);var c=_S(t,function(S){return i.getComputedStyle(S).color});c!=null&&(a.textColor=c);var u=lje(n,r);u&&(a.cellPadding=u);var d="borderTopColor",h=s*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var g=(parseFloat(m)||0)/h;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var x=_S(t,function(S){return i.getComputedStyle(S)[d]});x!=null&&(a.lineColor=x);var v=["left","right","center","justify"];v.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),v=["middle","bottom","top"],v.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(a.fontSize=y/s);var w=oje(n);w&&(a.fontStyle=w);var _=(n.fontFamily||"").toLowerCase();return e.indexOf(_)!==-1&&(a.font=_),a}function oje(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function _S(e,t){var r=$z(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function $z(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:$z(e.parentElement,t):r}function lje(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(o){return parseInt(o||"0")/n}),s=Xb(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function zz(e,t,r,n,i){var a,s;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],h=[],m=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:d,body:h,foot:m};for(var g=0;g<o.rows.length;g++){var x=o.rows[g],v=(s=(a=x?.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),y=cje(c,u,r,x,n,i);y&&(v==="thead"?d.push(y):v==="tfoot"?m.push(y):h.push(y))}return{head:d,body:h,foot:m}}function cje(e,t,r,n,i,a){for(var s=new Mz(n),o=0;o<n.cells.length;o++){var c=n.cells[o],u=r.getComputedStyle(c);if(i||u.display!=="none"){var d=void 0;a&&(d=sje(e,c,t,u,r)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:uje(c)})}}var h=r.getComputedStyle(n);if(s.length>0&&(i||h.display!=="none"))return s}function uje(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function dje(e,t,r){for(var n=0,i=[e,t,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Mu(e,t,r,n,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a}function Wz(e,t){var r=new Zp(e),n=r.getDocumentOptions(),i=r.getGlobalOptions();dje(i,n,t);var a=Mu({},i,n,t),s;typeof window<"u"&&(s=window);var o=fje(i,n,t),c=hje(i,n,t),u=pje(r,a),d=gje(r,a,s);return{id:t.tableId,content:d,hooks:c,styles:o,settings:u}}function fje(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],h=r[c];n.columnStyles=Mu({},u,d,h)}else{var m=[e,t,r],g=m.map(function(x){return x[c]||{}});n[c]=Mu({},g[0],g[1],g[2])}},a=0,s=Object.keys(n);a<s.length;a++){var o=s[a];i(o)}return n}function hje(e,t,r){for(var n=[e,t,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=n;a<s.length;a++){var o=s[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function pje(e,t){var r,n,i,a,s,o,c,u,d,h,m,g,x=Xb(t.margin,40/e.scaleFactor()),v=(r=mje(e,t.startY))!==null&&r!==void 0?r:x.top,y;t.showFoot===!0?y="everyPage":t.showFoot===!1?y="never":y=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var w;t.showHead===!0?w="everyPage":t.showHead===!1?w="never":w=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var _=(a=t.useCss)!==null&&a!==void 0?a:!1,S=t.theme||(_?"plain":"striped"),E=!!t.horizontalPageBreak,T=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:_,theme:S,startY:v,margin:x,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:w,showFoot:y,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(m=t.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:E,horizontalPageBreakRepeat:T,horizontalPageBreakBehaviour:(g=t.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function mje(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),i=e.pageNumber(),a=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;a=s===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&r?.finalY!=null?r.finalY+20/n:null}function gje(e,t,r){var n=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=zz(e,t.html,r,s,t.useCss)||{};n=o.head||n,i=o.body||n,a=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||vje(n,i,a);return{columns:c,head:n,body:i,foot:a}}function vje(e,t,r){var n=e[0]||t[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(n)?o=n[parseInt(a)]:o=n[a],typeof o=="object"&&!Array.isArray(o)&&(s=o?.colSpan||1);for(var c=0;c<s;c++){var u=void 0;Array.isArray(n)?u=i.length:u=a+(c>0?"_".concat(c):"");var d={dataKey:u};i.push(d)}}),i}var GN=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),xje=(function(e){Lz(t,e);function t(r,n,i,a,s,o){var c=e.call(this,r,n,o)||this;return c.cell=i,c.row=a,c.column=s,c.section=a.section,c}return t})(GN),yje=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,i,a,s){for(var o=0,c=r;o<c.length;o++){var u=c[o],d=new xje(t,this,n,i,a,s),h=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new GN(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new GN(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),qz=(function(){function e(t,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof Mz&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(i,a){var s=n.cells[a.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),u=c+o;return u>i?u:i},0)},e})(),Hz=(function(){function e(t,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Xb(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),bje=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,i=t.allRows();n<i.length;n++){var a=i[n],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e})();function wje(e,t){Sje(e,t);var r=[],n=0;t.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(t);s?a.width=s:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=t.getWidth(e.pageSize().width)-n;i&&(i=YN(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=YN(r,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),Nje(t),jje(t,e),_je(t)}function Sje(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,i=Uz(e,t);t.allRows().forEach(function(a){for(var s=0,o=t.columns;s<o.length;s++){var c=o[s],u=a.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,a,c,null);var h=u.padding("horizontal");u.contentWidth=E1(u.text,u.styles,e)+h;var m=E1(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var g=10/r;u.minWidth=u.styles.minCellWidth||g,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(a){for(var s=0,o=t.columns;s<o.length;s++){var c=o[s],u=a.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function YN(e,t,r){for(var n=t,i=e.reduce(function(g,x){return g+x.wrappedWidth},0),a=0;a<e.length;a++){var s=e[a],o=s.wrappedWidth/i,c=n*o,u=s.width+c,d=r(s),h=u<d?d:u;t-=h-s.width,s.width=h}if(t=Math.round(t*1e10)/1e10,t){var m=e.filter(function(g){return t<0?g.width>r(g):!0});m.length&&(t=YN(m,t,r))}return t}function _je(e){for(var t={},r=1,n=e.allRows(),i=0;i<n.length;i++)for(var a=n[i],s=0,o=e.columns;s<o.length;s++){var c=o[s],u=t[c.index];if(r>1)r--,delete a.cells[c.index];else if(u)u.cell.height+=a.height,r=u.cell.colSpan,delete a.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=a.cells[c.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var h=n.length-i,m=d.rowSpan>h?h:d.rowSpan;t[c.index]={cell:d,left:m,row:a}}}}}function Nje(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],i=null,a=0,s=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(s-=1,s>1&&e.columns[o+1])a+=c.width,delete n.cells[c.index];else if(i){var u=i;delete n.cells[c.index],i=null,u.width=c.width+a}else{var u=n.cells[c.index];if(!u)continue;if(s=u.colSpan,a=0,u.colSpan>1){i=u,a+=c.width;continue}u.width=c.width+a}}}function jje(e,t){for(var r={count:0,height:0},n=0,i=e.allRows();n<i.length;n++){for(var a=i[n],s=0,o=e.columns;s<o.length;s++){var c=o[s],u=a.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=iR(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=iR(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,d);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<m*u.rowSpan?r={height:m,count:u.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>a.height&&(a.height=m)}}r.count--}}function iR(e,t,r,n,i){return e.map(function(a){return Aje(a,t,r,n,i)})}function Aje(e,t,r,n,i){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=E1(e,r,n))return e;for(;t<E1(e+i,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function Vz(e,t){var r=new Zp(e),n=Eje(t,r.scaleFactor()),i=new yje(t,n);return wje(r,i),r.applyStyles(r.userStyles),i}function Eje(e,t){var r=e.content,n=Tje(r.columns);if(r.head.length===0){var i=aR(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=aR(n,"foot");i&&r.foot.push(i)}var a=e.settings.theme,s=e.styles;return{columns:n,head:NS("head",r.head,n,s,a,t),body:NS("body",r.body,n,s,a,t),foot:NS("foot",r.foot,n,s,a,t)}}function NS(e,t,r,n,i,a){var s={},o=t.map(function(c,u){for(var d=0,h={},m=0,g=0,x=0,v=r;x<v.length;x++){var y=v[x];if(s[y.index]==null||s[y.index].left===0)if(g===0){var w=void 0;Array.isArray(c)?w=c[y.index-m-d]:w=c[y.dataKey];var _={};typeof w=="object"&&!Array.isArray(w)&&(_=w?.styles||{});var S=kje(e,y,u,i,n,a,_),E=new Hz(w,S,e);h[y.dataKey]=E,h[y.index]=E,g=E.colSpan-1,s[y.index]={left:E.rowSpan-1,times:g}}else g--,m++;else s[y.index].left--,g=s[y.index].times,d++}return new qz(c,u,e,h)});return o}function aR(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var i=Pje(t,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function Pje(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Tje(e){return e.map(function(t,r){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:r:i=r,new bje(i,t,r)})}function kje(e,t,r,n,i,a,s){var o=aje(n),c;e==="head"?c=i.headStyles:e==="body"?c=i.bodyStyles:e==="foot"&&(c=i.footStyles);var u=Mu({},o.table,o[e],i.styles,c),d=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},h=e==="body"?d:{},m=e==="body"&&r%2===0?Mu({},o.alternateRow,i.alternateRowStyles):{},g=ije(a),x=Mu({},g,u,m,h);return Mu(x,s)}function Cje(e,t,r){var n;r===void 0&&(r={});var i=Uz(e,t),a=new Map,s=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var g=t.columns.find(function(x){return x.dataKey===m||x.index===m});g&&!a.has(g.index)&&(a.set(g.index,!0),s.push(g.index),o.push(t.columns[g.index]),i-=g.wrappedWidth)});for(var u=!0,d=(n=r?.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(a.has(d)){d++;continue}var h=t.columns[d].wrappedWidth;if(u||i>=h)u=!1,s.push(d),o.push(t.columns[d]),i-=h;else break;d++}return{colIndexes:s,columns:o,lastIndex:d-1}}function Dje(e,t){for(var r=[],n=0;n<t.columns.length;n++){var i=Cje(e,t,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function Kz(e,t){var r=t.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+i.bottom+s;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(m,g){return m+g.height},0);o+=u}var d=new Zp(e);(r.pageBreak==="always"||r.startY!=null&&o>d.pageSize().height)&&(Yz(d),a.y=i.top),t.callWillDrawPageHooks(d,a);var h=Mu({},a);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?Oje(d,t,h,a):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(m){return rd(d,t,m,a,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(m,g){var x=g===t.body.length-1;P1(d,t,m,x,h,a,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(m){return rd(d,t,m,a,t.columns)})),Fz(d,t,h,a),t.callEndPageHooks(d,a),t.finalY=a.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function Oje(e,t,r,n){var i=Dje(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?Bm(e,t,r,n,u.columns,!0):sR(e,t,n,u.columns),Ije(e,t,r,n,u.columns),jS(e,t,n,u.columns)});else for(var s=-1,o=i[0],c=function(){var u=s;if(o){e.applyStyles(e.userStyles);var d=o.columns;s>=0?Bm(e,t,r,n,d,!0):sR(e,t,n,d),u=oR(e,t,s+1,n,d),jS(e,t,n,d)}var h=u-s;i.slice(1).forEach(function(m){e.applyStyles(e.userStyles),Bm(e,t,r,n,m.columns,!0),oR(e,t,s+1,n,m.columns,h),jS(e,t,n,m.columns)}),s=u};s<t.body.length-1;)c()}function sR(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return rd(e,t,a,r,n)})}function Ije(e,t,r,n,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,s){var o=s===t.body.length-1;P1(e,t,a,o,r,n,i)})}function oR(e,t,r,n,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var s=Math.min(r+a,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(c,u){var d=r+u===t.body.length-1,h=Gz(e,t,d,n);c.canEntireRowFit(h,i)&&(rd(e,t,c,n,i),o=r+u)}),o}function jS(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return rd(e,t,a,r,n)})}function Rje(e,t,r){var n=r.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/n);return Math.max(0,a)}function Lje(e,t,r,n){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,s=0,o=r.columns;s<o.length;s++){var c=o[s],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new Hz(u.raw,u.styles,u.section);d=Mu(d,u),d.text=[];var h=Rje(u,t,n);u.text.length>h&&(d.text=u.text.splice(h,u.text.length));var m=n.scaleFactor(),g=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,g),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,g),d.contentHeight>a&&(a=d.contentHeight),i[c.index]=d}}var x=new qz(e.raw,-1,e.section,i,!0);x.height=a;for(var v=0,y=r.columns;v<y.length;v++){var c=y[v],d=x.cells[c.index];d&&(d.height=x.height);var u=e.cells[c.index];u&&(u.height=e.height)}return x}function Mje(e,t,r,n){var i=e.pageSize().height,a=n.settings.margin,s=a.top+a.bottom,o=i-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>o)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),h=t.getMaxCellHeight(n.columns)>o;return h?(d&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function P1(e,t,r,n,i,a,s){var o=Gz(e,t,n,a);if(r.canEntireRowFit(o,s))rd(e,t,r,a,s);else if(Mje(e,r,o,t)){var c=Lje(r,o,t,e);rd(e,t,r,a,s),Bm(e,t,i,a,s),P1(e,t,c,n,i,a,s)}else Bm(e,t,i,a,s),P1(e,t,r,n,i,a,s)}function rd(e,t,r,n,i){n.x=t.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],c=r.cells[o.index];if(!c){n.x+=o.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,o,n);if(u===!1){n.x+=o.width;continue}Fje(e,c,n);var d=c.getTextPos();Rz(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,o,n),n.x+=o.width}n.y+=r.height}function Fje(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=Bz(n.lineWidth,n.fillColor);i&&e.rect(t.x,r.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),Bje(e,t,r,n.lineWidth))}function Bje(e,t,r,n){var i,a,s,o;n.top&&(i=r.x,a=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,a,s,o)),n.bottom&&(i=r.x,a=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,a,s,o)),n.left&&(i=r.x,a=r.y,s=r.x,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,i,a,s,o)),n.right&&(i=r.x+t.width,a=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,i,a,s,o));function c(u,d,h,m,g){e.getDocument().setLineWidth(u),e.getDocument().line(d,h,m,g,"S")}}function Gz(e,t,r,n){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-i}function Bm(e,t,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(o){return rd(e,t,o,n,i)}),t.callEndPageHooks(e,n);var s=t.settings.margin;Fz(e,t,r,n),Yz(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return rd(e,t,o,n,i)}),e.applyStyles(e.userStyles))}function Yz(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function Uje(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],i=Wz(this,n),a=Vz(this,i);return Kz(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,i){Rz(t,r,n,i,this)},e.API.autoTableSetDefaults=function(t){return Zp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Zp.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Zp(this),a=zz(i,t,window,r,!1),s=a.head,o=a.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var AS;function $je(e,t){var r=Wz(e,t),n=Vz(e,r);Kz(e,n)}try{if(typeof window<"u"&&window){var lR=window,cR=lR.jsPDF||((AS=lR.jspdf)===null||AS===void 0?void 0:AS.jsPDF);cR&&Uje(cR)}}catch(e){console.error("Could not apply autoTable plugin",e)}const zje=({data:e,filename:t,title:r,columns:n,onExport:i})=>{const a=()=>{const c=eS.json_to_sheet(e),u=eS.book_new();eS.book_append_sheet(u,c,"Data"),tSe(u,`${t}.xlsx`),i?.("excel")},s=()=>{const c=new ur;c.setFontSize(16),c.text(r,14,20);const u=n.map(h=>h.title),d=e.map(h=>n.map(m=>h[m.key]||""));$je(c,{head:[u],body:d,startY:30,theme:"grid",styles:{font:"helvetica",fontSize:10,cellPadding:3},headStyles:{fillColor:[59,130,246],textColor:[255,255,255],fontSize:11}}),c.save(`${t}.pdf`),i?.("pdf")},o=()=>{const c=n.map(x=>x.title).join(","),u=e.map(x=>n.map(v=>`"${x[v.key]||""}"`).join(",")),d=[c,...u].join(`
`),h=new Blob([d],{type:"text/csv;charset=utf-8;"}),m=document.createElement("a"),g=URL.createObjectURL(h);m.setAttribute("href",g),m.setAttribute("download",`${t}.csv`),m.style.visibility="hidden",document.body.appendChild(m),m.click(),document.body.removeChild(m),i?.("csv")};return l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:a,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center gap-2",children:" Excel"}),l.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2",children:" PDF"}),l.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:" CSV"})]})},Wje=({clinicData:e})=>{const{t,locale:r}=sr(),[n,i]=A.useState(new Date().toISOString().split("T")[0]),[a,s]=A.useState(new Date().toISOString().split("T")[0]),[o,c]=A.useState(new Date().toISOString().split("T")[0]),[u,d]=A.useState(!1),[h,m]=A.useState(!1),[g,x]=A.useState(null),v=new Intl.NumberFormat(r,{style:"currency",currency:"EGP",minimumFractionDigits:2}),y=A.useMemo(()=>{try{let O,R;if(u)O=new Date(a),O.setHours(0,0,0,0),R=new Date(o),R.setHours(23,59,59,999);else{const Le=new Date(n);O=new Date(Le),O.setHours(0,0,0,0),R=new Date(Le),R.setHours(23,59,59,999)}const H=e.payments.filter(Le=>new Date(Le.date)>=O&&new Date(Le.date)<=R),F=e.expenses.filter(Le=>new Date(Le.date)>=O&&new Date(Le.date)<=R),U=H.reduce((Le,$e)=>Le+$e.amount,0),M=F.reduce((Le,$e)=>Le+$e.amount,0),q=H.reduce((Le,$e)=>Le+$e.doctorShare,0),ee=U-M-q,ve=U>0?q/U*100:0,he=e.treatmentRecords.filter(Le=>new Date(Le.treatmentDate)<=R).reduce((Le,$e)=>{const oe=e.treatmentDefinitions.find(at=>at.id===$e.treatmentDefinitionId);return Le+(oe?oe.basePrice:0)},0)-e.payments.filter(Le=>new Date(Le.date)<=R).reduce((Le,$e)=>Le+$e.amount,0),ce=e.treatmentRecords.filter(Le=>{const $e=new Date(Le.treatmentDate),oe=(R.getTime()-$e.getTime())/(1e3*60*60*24),at=e.treatmentDefinitions.find(Pt=>Pt.id===Le.treatmentDefinitionId),lt=at?at.basePrice:0;return oe>30&&lt>e.payments.filter(Pt=>Pt.patientId===Le.patientId).reduce((Pt,ct)=>Pt+ct.amount,0)}).reduce((Le,$e)=>{const oe=e.treatmentDefinitions.find(at=>at.id===$e.treatmentDefinitionId);return Le+(oe?oe.basePrice:0)},0),be=e.appointments.filter(Le=>{const $e=new Date(Le.startTime);return $e>=O&&$e<=R}).length,Oe=new Set(H.map(Le=>Le.patientId)).size,ae=(()=>{const Le={};H.forEach(oe=>{const at=e.treatmentRecords.find(lt=>lt.id===oe.treatmentRecordId);if(at){const lt=e.dentists.find(Pt=>Pt.id===at.dentistId);lt&&(Le[lt.id]||(Le[lt.id]={name:lt.name,earnings:0,color:lt.color}),Le[lt.id].earnings+=oe.doctorShare)}});const $e=Object.values(Le).reduce((oe,at)=>oe+at.earnings,0);return Object.values(Le).map(oe=>({...oe,percentage:$e>0?oe.earnings/$e*100:0})).sort((oe,at)=>at.earnings-oe.earnings)})(),L=Math.ceil((R.getTime()-O.getTime())/(1e3*60*60*24)),Y=new Date(O);Y.setDate(Y.getDate()-L);const K=new Date(R);K.setDate(K.getDate()-L);const J=e.payments.filter(Le=>new Date(Le.date)>=Y&&new Date(Le.date)<=K),pe=e.expenses.filter(Le=>new Date(Le.date)>=Y&&new Date(Le.date)<=K),Ae=J.reduce((Le,$e)=>Le+$e.amount,0),Ne=pe.reduce((Le,$e)=>Le+$e.amount,0),fe=J.reduce((Le,$e)=>Le+$e.doctorShare,0),ke=Ae-Ne-fe,Te=e.appointments.filter(Le=>{const $e=new Date(Le.startTime);return $e>=Y&&$e<=K}).length,je=new Set(J.map(Le=>Le.patientId)).size;return{todaysRevenue:U,todaysExpenses:M,todaysDoctorShares:q,todaysDoctorPercentage:ve,todaysProfit:ee,pendingPayments:Math.max(0,he),overdueInvoices:Math.max(0,ce),todaysPayments:H,todaysExpensesArray:F,numPayments:H.length,numExpenses:F.length,todaysAppointments:be,uniquePatientsToday:Oe,todaysDoctorEarnings:ae,previousTodaysRevenue:Ae,previousTodaysExpenses:Ne,previousTodaysDoctorShares:fe,previousTodaysProfit:ke,previousNumPayments:J.length,previousNumExpenses:pe.length,previousTodaysAppointments:Te,previousUniquePatientsToday:je}}catch{return x("    "),null}},[e,n,a,o,u]),w=A.useMemo(()=>{const O=[];for(let R=6;R>=0;R--){const H=new Date(n);H.setDate(H.getDate()-R);const F=H.toISOString().split("T")[0],U=e.payments.filter(M=>M.date===F).reduce((M,q)=>M+q.amount,0);O.push({name:H.toLocaleDateString(r,{month:"short",day:"numeric"}),value:U})}return O},[e.payments,n,r]),_=A.useMemo(()=>{if(!y)return[];const O=y.todaysExpensesArray.reduce((H,F)=>(H[F.category]=(H[F.category]||0)+F.amount,H),{}),R=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"];return Object.entries(O).map(([H,F],U)=>({name:t(`expenseCategory.${H}`),value:F,color:R[U%R.length]}))},[y,t]),S=A.useMemo(()=>y?y.todaysDoctorEarnings.map(O=>({name:O.name,value:O.earnings,percentage:O.percentage})):[],[y]),E=A.useMemo(()=>y?y.todaysPayments.map(O=>{const R=e.patients.find(H=>H.id===O.patientId);return{id:O.id,patientName:R?.name||t("common.unknown"),amount:O.amount,method:O.method,date:O.date}}):[],[y,e.patients,t]),T=A.useMemo(()=>y?y.todaysExpensesArray.map(O=>({id:O.id,description:O.description,amount:O.amount,category:t(`expenseCategory.${O.category}`),date:O.date})):[],[y,t]),D=A.useCallback(()=>{if(y){m(!0);try{Nl(`${t("reports.dailyFinancialSummary.title")} - ${new Date(n).toLocaleDateString(r)}`,l.jsx(YA,{clinicData:e,activeTab:"dailyFinancialSummary",startDate:n,endDate:n}))}catch{x("   ")}finally{m(!1)}}},[e,n,y,t]),C=A.useCallback(O=>{console.log(`Exporting to ${O}`)},[]);return g?l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 m-6",children:[l.jsx("p",{className:"text-red-600",children:g}),l.jsx("button",{onClick:()=>x(null),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:" "})]}):y?l.jsxs("div",{className:"space-y-8 p-6 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen",dir:"rtl",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:u?"  ":t("reports.dailyFinancialSummary.title")}),l.jsx("p",{className:"text-slate-600 text-lg",children:u?"     ":t("reports.dailyFinancialSummary.subtitle")})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx("button",{onClick:D,disabled:h,className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-3 rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3 font-medium",children:h?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"})," ..."]}):l.jsxs(l.Fragment,{children:[" ",t("reports.printReport")]})}),l.jsx(zje,{data:E,filename:`daily_financial_summary_${n}`,title:`${t("reports.dailyFinancialSummary.title")} - ${new Date(n).toLocaleDateString(r)}`,columns:[{key:"patientName",title:" "},{key:"amount",title:""},{key:"method",title:" "},{key:"date",title:""}],onExport:C})]})]})}),l.jsx(cU,{selectedDate:n,onDateChange:i,onDateRangeChange:(O,R)=>{s(O),c(R),d(!0)},showRangeSelector:!0,label:t("reports.selectDate")}),l.jsxs(lU,{children:[l.jsx(vi,{title:u?" ":" ",value:y.todaysRevenue,icon:l.jsx("span",{className:"text-white text-xl",children:""}),color:"blue",formatValue:O=>v.format(Number(O)),trend:y.previousTodaysRevenue>0?{value:Math.abs((y.todaysRevenue-y.previousTodaysRevenue)/y.previousTodaysRevenue*100),label:u?"  ":" ",isPositive:y.todaysRevenue>=y.previousTodaysRevenue}:void 0}),l.jsx(vi,{title:u?"  ":"  ",value:y.todaysDoctorShares,icon:l.jsx("span",{className:"text-white text-xl",children:""}),color:"green",formatValue:O=>v.format(Number(O)),trend:y.previousTodaysDoctorShares>0?{value:Math.abs((y.todaysDoctorShares-y.previousTodaysDoctorShares)/y.previousTodaysDoctorShares*100),label:u?"  ":" ",isPositive:y.todaysDoctorShares>=y.previousTodaysDoctorShares}:void 0}),l.jsx(vi,{title:u?" ":" ",value:y.todaysExpenses,icon:l.jsx("span",{className:"text-white text-xl",children:""}),color:"red",formatValue:O=>v.format(Number(O)),trend:y.previousTodaysExpenses>0?{value:Math.abs((y.todaysExpenses-y.previousTodaysExpenses)/y.previousTodaysExpenses*100),label:u?"  ":" ",isPositive:y.todaysExpenses<=y.previousTodaysExpenses}:void 0}),l.jsx(vi,{title:u?" ":" ",value:y.todaysProfit,icon:l.jsx("span",{className:"text-white text-xl",children:""}),color:y.todaysProfit>=0?"green":"red",formatValue:O=>v.format(Number(O)),trend:y.previousTodaysProfit!==void 0&&y.previousTodaysProfit!==0?{value:Math.abs((y.todaysProfit-y.previousTodaysProfit)/Math.abs(y.previousTodaysProfit)*100),label:u?"  ":" ",isPositive:y.todaysProfit>=y.previousTodaysProfit}:void 0}),l.jsx(vi,{title:" ",value:y.pendingPayments,icon:l.jsx("span",{className:"text-white text-xl",children:""}),color:"orange",formatValue:O=>v.format(Number(O))}),l.jsx(vi,{title:" ",value:y.overdueInvoices,icon:l.jsx("span",{className:"text-white text-xl",children:""}),color:"purple",formatValue:O=>v.format(Number(O))}),l.jsx(vi,{title:" ",value:y.numPayments,icon:l.jsx("span",{className:"text-white text-xl",children:""}),color:"indigo",trend:y.previousNumPayments>0?{value:Math.abs((y.numPayments-y.previousNumPayments)/y.previousNumPayments*100),label:u?"  ":" ",isPositive:y.numPayments>=y.previousNumPayments}:void 0}),l.jsx(vi,{title:" ",value:y.numExpenses,icon:l.jsx("span",{className:"text-white text-xl",children:""}),color:"pink",trend:y.previousNumExpenses>0?{value:Math.abs((y.numExpenses-y.previousNumExpenses)/y.previousNumExpenses*100),label:u?"  ":" ",isPositive:y.numExpenses<=y.previousNumExpenses}:void 0}),l.jsx(vi,{title:u?" ":" ",value:y.todaysAppointments,icon:l.jsx("span",{className:"text-white text-xl",children:""}),color:"teal",trend:y.previousTodaysAppointments>=0?{value:y.previousTodaysAppointments>0?Math.abs((y.todaysAppointments-y.previousTodaysAppointments)/y.previousTodaysAppointments*100):y.todaysAppointments>0?100:0,label:u?"  ":" ",isPositive:y.todaysAppointments>=y.previousTodaysAppointments}:void 0}),l.jsx(vi,{title:u?"  ":" ",value:y.uniquePatientsToday,icon:l.jsx("span",{className:"text-white text-xl",children:""}),color:"cyan",trend:y.previousUniquePatientsToday>0?{value:Math.abs((y.uniquePatientsToday-y.previousUniquePatientsToday)/y.previousUniquePatientsToday*100),label:u?"  ":" ",isPositive:y.uniquePatientsToday>=y.previousUniquePatientsToday}:void 0}),l.jsx(vi,{title:" ",value:`${y.todaysDoctorPercentage.toFixed(1)}%`,icon:l.jsx("span",{className:"text-white text-xl",children:""}),color:"lime"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(Am,{title:u?"  ":t("reports.dailyFinancialSummary.revenueTrend"),data:w,type:"line",height:400,colors:["#3b82f6","#1d4ed8"],formatValue:O=>v.format(O)}),l.jsx(Am,{title:u?"  ":t("reports.dailyFinancialSummary.expensesBreakdown"),data:_,type:"pie",height:400,colors:["#ef4444","#f97316","#eab308","#22c55e","#8b5cf6"]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:u?"  ":"  "}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{className:"h-80",children:l.jsx(wy,{width:"100%",height:"100%",children:l.jsxs(PB,{data:S,children:[l.jsx(Kd,{strokeDasharray:"3 3"}),l.jsx(Gd,{dataKey:"name"}),l.jsx(Yd,{tickFormatter:O=>v.format(Number(O))}),l.jsx(ku,{formatter:O=>[v.format(Number(O)),""]}),l.jsx(Qf,{}),l.jsx(Zy,{dataKey:"value",fill:"#3b82f6",radius:[4,4,0,0]})]})})}),l.jsx("div",{className:"h-80",children:l.jsx(wy,{width:"100%",height:"100%",children:l.jsxs(kB,{data:S,children:[l.jsx(UA,{dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",labelLine:!1,label:({name:O,percent:R})=>`${O} ${R?(R*100).toFixed(1):"0"}%`,outerRadius:80,fill:"#8884d8",children:S.map((O,R)=>l.jsx(Ch,{fill:`hsl(${R*60}, 70%, 50%)`},`cell-${R}`))}),l.jsx(ku,{formatter:O=>[v.format(Number(O)),""]})]})})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(tO,{title:u?" ":t("reports.dailyFinancialSummary.todaysPayments"),columns:[{key:"patientName",title:t("common.patient"),sortable:!0},{key:"amount",title:t("payment.amount"),sortable:!0,render:O=>v.format(O)},{key:"method",title:t("payment.method"),sortable:!0},{key:"date",title:"",sortable:!0}],data:E,searchable:!0,sortable:!0,pageSize:10}),l.jsx(tO,{title:u?" ":t("reports.dailyFinancialSummary.todaysExpensesList"),columns:[{key:"description",title:t("expense.description"),sortable:!0},{key:"amount",title:t("expense.amount"),sortable:!0,render:O=>v.format(O)},{key:"category",title:t("expense.category"),sortable:!0},{key:"date",title:"",sortable:!0}],data:T,searchable:!0,sortable:!0,pageSize:10})]})]}):l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})},XN=({title:e,data:t,colorClass:r,onPointClick:n})=>{const[i,a]=A.useState(null),[s,o]=A.useState(null),c=Math.max(...t.map(v=>v.value)),u=Math.min(...t.map(v=>v.value)),d=c-u||1,h=t.map((v,y)=>{const w=y/(t.length-1)*100,_=100-(v.value-u)/d*100;return`${w},${_}`}).join(" "),m=(v,y,w)=>{a(w);const _=v.currentTarget.getBoundingClientRect();o({x:_.left+_.width/2,y:_.top-10,content:`${y.label}: ${y.value.toLocaleString()}`})},g=()=>{a(null),o(null)},x=(v,y)=>{n&&n({...v,index:y})};return l.jsxs("div",{className:"w-full relative",children:[e&&l.jsx("h3",{className:"text-lg font-semibold mb-4",children:e}),l.jsxs("div",{className:"relative h-64",children:[l.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[l.jsx("defs",{children:l.jsx("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:l.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"#e2e8f0",strokeWidth:"0.5"})})}),l.jsx("rect",{width:"100",height:"100",fill:"url(#grid)"}),l.jsx("polyline",{fill:"none",stroke:"currentColor",strokeWidth:"2",className:r,points:h}),t.map((v,y)=>{const w=y/(t.length-1)*100,_=100-(v.value-u)/d*100;return l.jsx("circle",{cx:w,cy:_,r:i===y?"3":"1.5",fill:"currentColor",className:r,style:{cursor:n?"pointer":"default",transition:"r 0.2s ease"},onMouseEnter:S=>m(S,v,y),onMouseLeave:g,onClick:()=>x(v,y)},y)})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between text-xs text-slate-500",children:t.map((v,y)=>l.jsx("span",{className:"text-center",children:v.label},y))}),l.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between text-xs text-slate-500 -ml-8",children:[l.jsx("span",{children:c.toLocaleString()}),l.jsx("span",{children:((c+u)/2).toLocaleString()}),l.jsx("span",{children:u.toLocaleString()})]})]}),s&&l.jsx("div",{className:"absolute bg-black text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-10",style:{left:s.x,top:s.y,transform:"translate(-50%, -100%)"},children:s.content}),l.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.map((v,y)=>l.jsxs("button",{className:`px-3 py-1 text-xs rounded-full transition-colors ${i===y?"bg-blue-100 text-blue-800":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,onMouseEnter:()=>a(y),onMouseLeave:()=>a(null),onClick:()=>x(v,y),style:{cursor:n?"pointer":"default"},children:[v.label,": ",v.value.toLocaleString()]},y))})]})},Xz=({title:e,data:t,onSegmentClick:r})=>{const[n,i]=A.useState(null),[a,s]=A.useState(null),o=t.reduce((m,g)=>m+g.value,0);if(o===0)return l.jsxs("div",{className:"w-full",children:[e&&l.jsx("h3",{className:"text-lg font-semibold mb-4",children:e}),l.jsx("div",{className:"flex items-center justify-center h-64 text-slate-500",children:"No data to display"})]});const c=t.map((m,g)=>{const x=m.value/o*100,v=t.slice(0,g).reduce((w,_)=>w+_.value/o*360,0),y=v+m.value/o*360;return{...m,percentage:x,startAngle:v,endAngle:y}}),u=(m,g,x)=>{i(x);const v=m.currentTarget.getBoundingClientRect();s({x:v.left+v.width/2,y:v.top-10,content:`${g.label}: ${g.value.toLocaleString()} (${g.percentage.toFixed(1)}%)`})},d=()=>{i(null),s(null)},h=m=>{r&&r(m)};return l.jsxs("div",{className:"w-full relative",children:[e&&l.jsx("h3",{className:"text-lg font-semibold mb-4",children:e}),l.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[l.jsxs("div",{className:"relative w-64 h-64",children:[l.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:c.map((m,g)=>{const x=m.percentage>50?1:0,v=50+40*Math.cos(m.startAngle*Math.PI/180),y=50+40*Math.sin(m.startAngle*Math.PI/180),w=50+40*Math.cos(m.endAngle*Math.PI/180),_=50+40*Math.sin(m.endAngle*Math.PI/180);return l.jsx("path",{d:`M 50 50 L ${v} ${y} A 40 40 0 ${x} 1 ${w} ${_} Z`,fill:m.color,stroke:"white",strokeWidth:"0.5",style:{cursor:r?"pointer":"default",opacity:n===g?.8:1,transform:n===g?"scale(1.05)":"scale(1)",transformOrigin:"50% 50%"},onMouseEnter:S=>u(S,m,g),onMouseLeave:d,onClick:()=>h(m)},g)})}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["Total: ",o.toLocaleString()]})})]}),l.jsx("div",{className:"flex-1 space-y-2",children:c.map((m,g)=>l.jsxs("div",{className:`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${n===g?"bg-slate-100":""}`,onMouseEnter:()=>i(g),onMouseLeave:()=>i(null),onClick:()=>h(m),style:{cursor:r?"pointer":"default"},children:[l.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:m.color}}),l.jsx("span",{className:"text-sm text-slate-700 flex-1",children:m.label}),l.jsxs("span",{className:"text-sm font-semibold text-slate-800",children:[m.percentage.toFixed(1),"%"]}),l.jsxs("span",{className:"text-xs text-slate-500",children:["(",m.value.toLocaleString(),")"]})]},g))})]}),a&&l.jsx("div",{className:"absolute bg-black text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-10",style:{left:a.x,top:a.y,transform:"translate(-50%, -100%)"},children:a.content})]})},qje=({clinicData:e})=>{const{t,locale:r}=sr(),[n,i]=A.useState(()=>{const h=new Date;return`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}`}),a=new Intl.NumberFormat(r,{style:"currency",currency:"EGP"}),s=A.useMemo(()=>{const[h,m]=n.split("-").map(Number),g=new Date(h,m-1,1),x=new Date(h,m,0),v=e.payments.filter(U=>{const M=new Date(U.date);return M>=g&&M<=x}),y=e.expenses.filter(U=>{const M=new Date(U.date);return M>=g&&M<=x}),w=v.reduce((U,M)=>U+M.amount,0),_=y.reduce((U,M)=>U+M.amount,0),S=w-_-v.reduce((U,M)=>U+M.doctorShare,0),E=x.getDate(),T={dailyRevenue:w/E,dailyExpenses:_/E,dailyProfit:S/E},D=new Date(h,m-2,1),C=new Date(h,m-1,0),O=e.payments.filter(U=>{const M=new Date(U.date);return M>=D&&M<=C}).reduce((U,M)=>U+M.amount,0),R=e.expenses.filter(U=>{const M=new Date(U.date);return M>=D&&M<=C}).reduce((U,M)=>U+M.amount,0),H=O-R-e.payments.filter(U=>{const M=new Date(U.date);return M>=D&&M<=C}).reduce((U,M)=>U+M.doctorShare,0),F={revenueGrowth:O>0?(w-O)/O*100:0,expenseGrowth:R>0?(_-R)/R*100:0,profitGrowth:H!==0?(S-H)/Math.abs(H)*100:0};return{thisMonthRevenue:w,thisMonthExpenses:_,clinicProfitThisMonth:S,monthlyAverages:T,growthRates:F,monthPayments:v,monthExpenses:y}},[e,n]),o=A.useMemo(()=>{const[h,m]=n.split("-").map(Number),g=new Date(h,m,0).getDate(),x=[];for(let v=1;v<=g;v++){const y=`${h}-${String(m).padStart(2,"0")}-${String(v).padStart(2,"0")}`,w=e.payments.filter(_=>_.date===y).reduce((_,S)=>_+S.amount,0);(v%5===0||v===g)&&x.push({label:v.toString(),value:w})}return x},[e.payments,n]),c=A.useMemo(()=>{const h=s.monthExpenses.reduce((g,x)=>(g[x.category]=(g[x.category]||0)+x.amount,g),{}),m=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"];return Object.entries(h).map(([g,x],v)=>({label:t(`expenseCategory.${g}`),value:x,color:m[v%m.length]}))},[s.monthExpenses,t]),u=A.useMemo(()=>{const h=[],[m,g]=n.split("-").map(Number);for(let x=g-5;x<=g;x++){let v=x,y=m;x<=0&&(v=12+x,y=m-1);const w=new Date(y,v-1,1),_=new Date(y,v,0),S=e.payments.filter(D=>{const C=new Date(D.date);return C>=w&&C<=_}).reduce((D,C)=>D+C.amount,0),E=e.expenses.filter(D=>{const C=new Date(D.date);return C>=w&&C<=_}).reduce((D,C)=>D+C.amount,0),T=S-E;h.push({label:new Date(y,v-1,1).toLocaleDateString(r,{month:"short",year:"numeric"}),value:T})}return h},[e,n,r]),d=()=>{const[h,m]=n.split("-"),g=`${h}-${m}-01`,x=new Date(parseInt(h),parseInt(m),0).toISOString().split("T")[0];Nl(`${t("reports.monthlyFinancialSummary.title")} - ${new Date(g).toLocaleDateString(r,{month:"long",year:"numeric"})}`,l.jsx(YA,{clinicData:e,activeTab:"monthlyFinancialSummary",startDate:g,endDate:x}))};return l.jsxs("div",{className:"space-y-8 p-6 bg-slate-50 min-h-screen",dir:"rtl",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:t("reports.monthlyFinancialSummary.title")}),l.jsx("p",{className:"text-slate-600",children:t("reports.monthlyFinancialSummary.subtitle")})]}),l.jsxs("button",{onClick:d,className:"bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary-dark flex items-center gap-2 font-medium transition-colors duration-200 shadow-md hover:shadow-lg",children:[" ",t("reports.printReport")]})]})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-4",children:t("reports.selectMonth")}),l.jsx("div",{className:"max-w-xs",children:l.jsx("input",{type:"month",value:n,onChange:h=>i(h.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border-l-4 border-blue-500",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:t("reports.monthlyFinancialSummary.thisMonthRevenue")}),l.jsx("p",{className:"text-3xl font-bold text-slate-800",children:a.format(s.thisMonthRevenue)})]}),l.jsx("div",{className:"text-4xl opacity-20",children:""})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border-l-4 border-red-500",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:t("reports.monthlyFinancialSummary.thisMonthExpenses")}),l.jsx("p",{className:"text-3xl font-bold text-slate-800",children:a.format(s.thisMonthExpenses)})]}),l.jsx("div",{className:"text-4xl opacity-20",children:""})]})}),l.jsx("div",{className:`bg-white p-6 rounded-xl shadow-lg border-l-4 ${s.clinicProfitThisMonth>=0?"border-green-500":"border-red-500"}`,children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:t("reports.monthlyFinancialSummary.clinicProfitThisMonth")}),l.jsx("p",{className:"text-3xl font-bold text-slate-800",children:a.format(s.clinicProfitThisMonth)})]}),l.jsx("div",{className:"text-4xl opacity-20",children:""})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border-l-4 border-purple-500",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:t("reports.monthlyFinancialSummary.monthlyAverages")}),l.jsxs("div",{className:"text-sm",children:[l.jsxs("p",{children:[t("reports.dailyRevenue"),": ",a.format(s.monthlyAverages.dailyRevenue)]}),l.jsxs("p",{children:[t("reports.dailyExpenses"),": ",a.format(s.monthlyAverages.dailyExpenses)]})]})]}),l.jsx("div",{className:"text-4xl opacity-20",children:""})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border-l-4 border-indigo-500",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:t("reports.monthlyFinancialSummary.growthRates")}),l.jsxs("div",{className:"text-sm",children:[l.jsxs("p",{className:s.growthRates.revenueGrowth>=0?"text-green-600":"text-red-600",children:[t("reports.revenue"),": ",s.growthRates.revenueGrowth.toFixed(1),"%"]}),l.jsxs("p",{className:s.growthRates.expenseGrowth<=0?"text-green-600":"text-red-600",children:[t("reports.expenses"),": ",s.growthRates.expenseGrowth.toFixed(1),"%"]})]})]}),l.jsx("div",{className:"text-4xl opacity-20",children:""})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:l.jsx(XN,{title:t("reports.monthlyFinancialSummary.revenueChart"),data:o,colorClass:"bg-blue-500"})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:l.jsx(Xz,{title:t("reports.monthlyFinancialSummary.expenseBreakdown"),data:c})})]}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:l.jsx(XN,{title:t("reports.monthlyFinancialSummary.profitTrend"),data:u,colorClass:"bg-green-500"})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:t("reports.monthlyFinancialSummary.monthlyPayments")}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse bg-white rounded-lg shadow-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("common.patient")}),l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("payment.amount")}),l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("common.date")})]})}),l.jsx("tbody",{children:s.monthPayments.slice(0,10).map(h=>{const m=e.patients.find(g=>g.id===h.patientId);return l.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:m?.name||t("common.unknown")}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:a.format(h.amount)}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:new Date(h.date).toLocaleDateString(r,{month:"short",day:"numeric"})})]},h.id)})})]})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:t("reports.monthlyFinancialSummary.monthlyExpenses")}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse bg-white rounded-lg shadow-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("expense.description")}),l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("expense.amount")}),l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("expense.category")})]})}),l.jsx("tbody",{children:s.monthExpenses.slice(0,10).map(h=>l.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:h.description}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:a.format(h.amount)}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:t(`expenseCategory.${h.category}`)})]},h.id))})]})})]})]})]})},uR=({title:e,data:t,colorClass:r})=>{const n=Math.max(...t.map(i=>i.value));return l.jsxs("div",{className:"w-full",children:[e&&l.jsx("h3",{className:"text-lg font-semibold mb-4",children:e}),l.jsx("div",{className:"flex items-end space-x-2 h-64",children:t.map((i,a)=>l.jsxs("div",{className:"flex flex-col items-center flex-1",children:[l.jsx("div",{className:`w-full ${r} rounded-t`,style:{height:`${i.value/n*100}%`}}),l.jsx("span",{className:"text-xs mt-2 text-center",children:i.label}),l.jsx("span",{className:"text-xs text-gray-500",children:i.value})]},a))})]})},Hje=({clinicData:e})=>{const{t,locale:r}=sr(),[n,i]=A.useState(()=>{const x=new Date;return`${x.getFullYear()}-Q${Math.ceil((x.getMonth()+1)/3)}`}),[a,s]=A.useState("quarterly"),o=new Intl.NumberFormat(r,{style:"currency",currency:"EGP"}),c=A.useMemo(()=>{const[x,v]=n.includes("Q")?n.split("-Q").map((q,ee)=>parseInt(q)):[parseInt(n),0];let y,w;if(a==="quarterly"){const q=(v-1)*3;y=new Date(x,q,1),w=new Date(x,q+3,0)}else y=new Date(x,0,1),w=new Date(x,11,31);const _=e.payments.filter(q=>{const ee=new Date(q.date);return ee>=y&&ee<=w}),S=e.expenses.filter(q=>{const ee=new Date(q.date);return ee>=y&&ee<=w}),E={revenue:_.reduce((q,ee)=>q+ee.amount,0),expenses:S.reduce((q,ee)=>q+ee.amount,0),profit:0};E.profit=E.revenue-E.expenses-_.reduce((q,ee)=>q+ee.doctorShare,0);const T=x-1;let D,C;if(a==="quarterly"){const q=(v-1)*3;D=new Date(T,q,1),C=new Date(T,q+3,0)}else D=new Date(T,0,1),C=new Date(T,11,31);const O=e.payments.filter(q=>{const ee=new Date(q.date);return ee>=D&&ee<=C}),R=e.expenses.filter(q=>{const ee=new Date(q.date);return ee>=D&&ee<=C}),H={revenue:O.reduce((q,ee)=>q+ee.amount,0),expenses:R.reduce((q,ee)=>q+ee.amount,0),profit:0};H.profit=H.revenue-H.expenses-O.reduce((q,ee)=>q+ee.doctorShare,0);const F={revenueChange:H.revenue>0?(E.revenue-H.revenue)/H.revenue*100:0,expenseChange:H.expenses>0?(E.expenses-H.expenses)/H.expenses*100:0,profitChange:H.profit!==0?(E.profit-H.profit)/Math.abs(H.profit)*100:0},U=a==="annual"?[1,2,3,4].map(q=>{const ee=(q-1)*3,ve=new Date(x,ee,1),he=new Date(x,ee+3,0),ce=e.payments.filter(Oe=>{const ae=new Date(Oe.date);return ae>=ve&&ae<=he}).reduce((Oe,ae)=>Oe+ae.amount,0),be=e.expenses.filter(Oe=>{const ae=new Date(Oe.date);return ae>=ve&&ae<=he}).reduce((Oe,ae)=>Oe+ae.amount,0);return{quarter:`Q${q}`,revenue:ce,expenses:be,profit:ce-be-e.payments.filter(Oe=>{const ae=new Date(Oe.date);return ae>=ve&&ae<=he}).reduce((Oe,ae)=>Oe+ae.doctorShare,0)}}):[],M=E.profit;return{quarterlyAnnualTotals:E,yearOverYearComparisons:F,seasonalTrends:U,cumulativeProfit:M,periodPayments:_,periodExpenses:S}},[e,n,a]),u=A.useMemo(()=>{const[x]=n.includes("Q")?n.split("-Q").map((w,_)=>parseInt(w)):[parseInt(n),0],v=c.quarterlyAnnualTotals,y={revenue:v.revenue*(1-c.yearOverYearComparisons.revenueChange/100),expenses:v.expenses*(1-c.yearOverYearComparisons.expenseChange/100),profit:v.profit*(1-c.yearOverYearComparisons.profitChange/100)};return[{label:`${x-1}`,value:y.revenue},{label:`${x}`,value:v.revenue}]},[c,n]),d=A.useMemo(()=>a==="quarterly"?[]:c.seasonalTrends.map(x=>({label:x.quarter,value:x.profit})),[c.seasonalTrends,a]),h=A.useMemo(()=>{if(a==="quarterly")return[];const x=["#22c55e","#ef4444"];return[{label:"Revenue",value:c.quarterlyAnnualTotals.revenue,color:x[0]},{label:"Expenses",value:c.quarterlyAnnualTotals.expenses,color:x[1]}]},[c.quarterlyAnnualTotals,a]),m=A.useMemo(()=>{const x=[],[v]=n.includes("Q")?n.split("-Q").map((y,w)=>parseInt(y)):[parseInt(n),0];for(let y=v-4;y<=v;y++){let w,_;if(a==="quarterly"){const[,D]=n.split("-Q").map((O,R)=>parseInt(O)),C=(D-1)*3;w=new Date(y,C,1),_=new Date(y,C+3,0)}else w=new Date(y,0,1),_=new Date(y,11,31);const S=e.payments.filter(D=>{const C=new Date(D.date);return C>=w&&C<=_}).reduce((D,C)=>D+C.amount,0),E=e.expenses.filter(D=>{const C=new Date(D.date);return C>=w&&C<=_}).reduce((D,C)=>D+C.amount,0),T=S-E-e.payments.filter(D=>{const C=new Date(D.date);return C>=w&&C<=_}).reduce((D,C)=>D+C.doctorShare,0);x.push({label:y.toString(),value:T})}return x},[e,n,a]),g=()=>{const[x,v]=n.includes("Q")?n.split("-Q").map((_,S)=>parseInt(_)):[parseInt(n),0];let y,w;if(a==="quarterly"){const _=(v-1)*3;y=new Date(x,_,1).toISOString().split("T")[0],w=new Date(x,_+3,0).toISOString().split("T")[0]}else y=`${x}-01-01`,w=`${x}-12-31`;Nl(`${t("reports.quarterlyAnnualOverview.title")} - ${a==="quarterly"?`Q${v}`:""} ${x}`,l.jsx(YA,{clinicData:e,activeTab:"quarterlyAnnualOverview",startDate:y,endDate:w}))};return l.jsxs("div",{className:"space-y-8 p-6 bg-slate-50 min-h-screen",dir:"rtl",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:t("reports.quarterlyAnnualOverview.title")}),l.jsx("p",{className:"text-slate-600",children:t("reports.quarterlyAnnualOverview.subtitle")})]}),l.jsxs("button",{onClick:g,className:"bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary-dark flex items-center gap-2 font-medium transition-colors duration-200 shadow-md hover:shadow-lg",children:[" ",t("reports.printReport")]})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:t("reports.viewType")}),l.jsxs("select",{value:a,onChange:x=>s(x.target.value),className:"p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors",children:[l.jsx("option",{value:"quarterly",children:t("reports.quarterly")}),l.jsx("option",{value:"annual",children:t("reports.annual")})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:t(a==="quarterly"?"reports.selectQuarter":"reports.selectYear")}),a==="quarterly"?l.jsx("select",{value:n,onChange:x=>i(x.target.value),className:"p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors",children:Array.from({length:4},(x,v)=>{const y=new Date().getFullYear();return l.jsxs("option",{value:`${y}-Q${v+1}`,children:["Q",v+1," ",y]},`${y}-Q${v+1}`)})}):l.jsx("select",{value:n,onChange:x=>i(x.target.value),className:"p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors",children:Array.from({length:5},(x,v)=>{const y=new Date().getFullYear()-2+v;return l.jsx("option",{value:y.toString(),children:y},y)})})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border-l-4 border-blue-500",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:t("reports.quarterlyAnnualOverview.totalRevenue")}),l.jsx("p",{className:"text-3xl font-bold text-slate-800",children:o.format(c.quarterlyAnnualTotals.revenue)})]}),l.jsx("div",{className:"text-4xl opacity-20",children:""})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border-l-4 border-red-500",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:t("reports.quarterlyAnnualOverview.totalExpenses")}),l.jsx("p",{className:"text-3xl font-bold text-slate-800",children:o.format(c.quarterlyAnnualTotals.expenses)})]}),l.jsx("div",{className:"text-4xl opacity-20",children:""})]})}),l.jsx("div",{className:`bg-white p-6 rounded-xl shadow-lg border-l-4 ${c.cumulativeProfit>=0?"border-green-500":"border-red-500"}`,children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:t("reports.quarterlyAnnualOverview.cumulativeProfit")}),l.jsx("p",{className:"text-3xl font-bold text-slate-800",children:o.format(c.cumulativeProfit)})]}),l.jsx("div",{className:"text-4xl opacity-20",children:""})]})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border-l-4 border-purple-500",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:t("reports.quarterlyAnnualOverview.yearOverYear")}),l.jsxs("div",{className:"text-sm",children:[l.jsxs("p",{className:c.yearOverYearComparisons.revenueChange>=0?"text-green-600":"text-red-600",children:[t("reports.revenue"),": ",c.yearOverYearComparisons.revenueChange.toFixed(1),"%"]}),l.jsxs("p",{className:c.yearOverYearComparisons.profitChange>=0?"text-green-600":"text-red-600",children:[t("reports.profit"),": ",c.yearOverYearComparisons.profitChange.toFixed(1),"%"]})]})]}),l.jsx("div",{className:"text-4xl opacity-20",children:""})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:l.jsx(uR,{title:t("reports.quarterlyAnnualOverview.comparisonChart"),data:u,colorClass:"bg-blue-500"})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:l.jsx(XN,{title:t("reports.quarterlyAnnualOverview.trendChart"),data:m,colorClass:"bg-green-500"})})]}),a==="annual"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:l.jsx(uR,{title:t("reports.quarterlyAnnualOverview.seasonalTrends"),data:d,colorClass:"bg-purple-500"})}),l.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:l.jsx(Xz,{title:t("reports.quarterlyAnnualOverview.revenueExpenseBreakdown"),data:h})})]}),a==="annual"&&l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Quarterly Performance Comparison"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c.seasonalTrends.map((x,v)=>l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("h4",{className:"font-semibold text-slate-700 mb-2",children:x.quarter}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("p",{children:["Revenue: ",l.jsx("span",{className:"font-semibold text-green-600",children:o.format(x.revenue)})]}),l.jsxs("p",{children:["Expenses: ",l.jsx("span",{className:"font-semibold text-red-600",children:o.format(x.expenses)})]}),l.jsxs("p",{children:["Profit: ",l.jsx("span",{className:`font-semibold ${x.profit>=0?"text-blue-600":"text-red-600"}`,children:o.format(x.profit)})]})]})]},x.quarter))})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:t("reports.quarterlyAnnualOverview.periodPayments")}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse bg-white rounded-lg shadow-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("common.patient")}),l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("payment.amount")}),l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("common.date")})]})}),l.jsx("tbody",{children:c.periodPayments.slice(0,10).map(x=>{const v=e.patients.find(y=>y.id===x.patientId);return l.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:v?.name||t("common.unknown")}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:o.format(x.amount)}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:new Date(x.date).toLocaleDateString(r,{month:"short",day:"numeric",year:"numeric"})})]},x.id)})})]})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:t("reports.quarterlyAnnualOverview.periodExpenses")}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse bg-white rounded-lg shadow-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("expense.description")}),l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("expense.amount")}),l.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-slate-700",children:t("expense.category")})]})}),l.jsx("tbody",{children:c.periodExpenses.slice(0,10).map(x=>l.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:x.description}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:o.format(x.amount)}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 text-right",children:t(`expenseCategory.${x.category}`)})]},x.id))})]})})]})]})]})},dR=({clinicData:e})=>{const{t,locale:r}=sr(),n=new Intl.NumberFormat(r,{style:"currency",currency:"EGP"}),i=A.useMemo(()=>{const{patients:c,dentists:u,suppliers:d,treatmentRecords:h,payments:m,expenses:g,inventoryItems:x}=e,v=m.reduce((U,M)=>U+M.amount,0),y=g.reduce((U,M)=>U+M.amount,0),w=m.reduce((U,M)=>U+M.doctorShare,0),_=v-y-w,S=c.length,E=c.filter(U=>h.some(M=>M.patientId===U.id)).length,T=u.length,D=h.length,C=d.length,O=x.reduce((U,M)=>U+M.unitCost*M.currentStock,0),R=new Date;R.setDate(R.getDate()-30);const H=m.filter(U=>new Date(U.date)>=R).reduce((U,M)=>U+M.amount,0),F=g.filter(U=>new Date(U.date)>=R).reduce((U,M)=>U+M.amount,0);return{totalRevenue:v,totalExpenses:y,totalDoctorShares:w,totalProfit:_,totalPatients:S,activePatients:E,totalDoctors:T,totalTreatments:D,totalSuppliers:C,totalInventoryValue:O,recentPayments:H,recentExpenses:F}},[e]),a=A.useMemo(()=>{const c=e.payments.reduce((u,d)=>{const h=new Date(d.date).toLocaleDateString(r,{month:"short",year:"numeric"});return u[h]=(u[h]||0)+d.amount,u},{});return Object.entries(c).map(([u,d])=>({name:u,value:d})).slice(-6)},[e.payments,r]),s=A.useMemo(()=>e.dentists.map(u=>({name:u.name,value:e.treatmentRecords.filter(d=>d.dentistId===u.id).length})).filter(u=>u.value>0),[e.dentists,e.treatmentRecords]),o=A.useMemo(()=>{const c=e.expenses.reduce((u,d)=>(u[d.category]=(u[d.category]||0)+d.amount,u),{});return Object.entries(c).map(([u,d])=>({name:t(`expenseCategory.${u}`),value:d}))},[e.expenses,t]);return l.jsxs("div",{className:"space-y-8 p-6 bg-slate-50 min-h-screen",dir:"rtl",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:t("reports.overview")}),l.jsx("p",{className:"text-slate-600",children:t("reports.overviewDescription")})]}),l.jsxs(lU,{children:[l.jsx(vi,{title:t("reports.totalRevenue"),value:i.totalRevenue,formatValue:c=>n.format(Number(c)),icon:l.jsx("span",{children:""}),color:"green"}),l.jsx(vi,{title:t("reports.totalExpenses"),value:i.totalExpenses,formatValue:c=>n.format(Number(c)),icon:l.jsx("span",{children:""}),color:"red"}),l.jsx(vi,{title:" ",value:i.totalDoctorShares,formatValue:c=>n.format(Number(c)),icon:l.jsx("span",{children:""}),color:"indigo"}),l.jsx(vi,{title:t("reports.totalProfit"),value:i.totalProfit,formatValue:c=>n.format(Number(c)),icon:l.jsx("span",{children:""}),color:i.totalProfit>=0?"green":"red"}),l.jsx(vi,{title:t("reports.totalPatients"),value:i.totalPatients,icon:l.jsx("span",{children:""}),color:"blue"}),l.jsx(vi,{title:t("reports.activePatients"),value:i.activePatients,icon:l.jsx("span",{children:""}),color:"purple"}),l.jsx(vi,{title:t("reports.totalDoctors"),value:i.totalDoctors,icon:l.jsx("span",{children:""}),color:"indigo"}),l.jsx(vi,{title:t("reports.totalTreatments"),value:i.totalTreatments,icon:l.jsx("span",{children:""}),color:"teal"}),l.jsx(vi,{title:t("reports.totalSuppliers"),value:i.totalSuppliers,icon:l.jsx("span",{children:""}),color:"orange"}),l.jsx(vi,{title:t("reports.inventoryValue"),value:i.totalInventoryValue,formatValue:c=>n.format(Number(c)),icon:l.jsx("span",{children:""}),color:"cyan"}),l.jsx(vi,{title:t("reports.recentPayments"),value:i.recentPayments,subtitle:t("reports.last30Days"),formatValue:c=>n.format(Number(c)),icon:l.jsx("span",{children:""}),color:"lime"}),l.jsx(vi,{title:t("reports.recentExpenses"),value:i.recentExpenses,subtitle:t("reports.last30Days"),formatValue:c=>n.format(Number(c)),icon:l.jsx("span",{children:""}),color:"pink"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(Am,{title:t("reports.revenueTrend"),data:a,type:"line",height:350,formatValue:c=>n.format(c)}),l.jsx(Am,{title:t("reports.treatmentDistribution"),data:s,type:"pie",height:350})]}),l.jsx(Am,{title:t("reports.expenseBreakdown"),data:o,type:"bar",height:350,formatValue:c=>n.format(c)})]})};let Lx=[];const Vje=(e,t,r,n)=>{const i={timestamp:new Date().toISOString(),calculationType:e,parameters:t,results:r,dataCounts:n};Lx.unshift(i),Lx.length>1e3&&(Lx=Lx.slice(0,1e3))};function pm(e,t){let r=e;if(t.startDate){const n=new Date(t.startDate);r=r.filter(i=>{const a=i.date||i.treatmentDate||i.invoiceDate;return a?new Date(a)>=n:!0})}if(t.endDate){const n=new Date(t.endDate);n.setHours(23,59,59,999),r=r.filter(i=>{const a=i.date||i.treatmentDate||i.invoiceDate;return a?new Date(a)<=n:!0})}return r}function Kje(e,t,r,n,i,a={}){return A.useMemo(()=>{const s=pm(r,a),o=pm(e,a),c=pm(t,a),u=pm(n,a),d=pm(i,a),h=o.reduce((F,U)=>F+U.amount,0),m=o.reduce((F,U)=>F+U.doctorShare,0),g=h-m,x=c.reduce((F,U)=>F+U.amount,0),v=u.reduce((F,U)=>F+U.amount,0),y=d.reduce((F,U)=>F+U.amount,0),w=d.filter(F=>F.status==="UNPAID").reduce((F,U)=>F+U.amount,0),_=d.filter(F=>F.status==="PAID").reduce((F,U)=>F+U.amount,0),S=s.reduce((F,U)=>F+U.totalTreatmentCost,0)-h,E=h-m-x,T=h-x,D=T,C=D+S,O=w,R=O,H=E;return Vje("useFinancialCalculations",{filters:a,dataCounts:{payments:e.length,expenses:t.length,treatmentRecords:r.length,doctorPayments:n.length,supplierInvoices:i.length}},{clinicRevenue:g,doctorRevenue:m,totalPayments:h,operatingExpenses:x,doctorPaymentsTotal:v,totalSupplierInvoices:y,netProfit:E,cashFlow:T,totalAssets:C,totalLiabilities:R,equity:H},{filteredPayments:o.length,filteredExpenses:c.length,filteredTreatmentRecords:s.length,filteredDoctorPayments:u.length,filteredSupplierInvoices:d.length}),{totalRevenue:h,totalPayments:h,clinicRevenue:g,doctorRevenue:m,totalExpenses:x,operatingExpenses:x,doctorPayments:v,totalSupplierInvoices:y,unpaidInvoices:w,paidInvoices:_,netProfit:E,cashFlow:T,cashAndEquivalents:D,accountsReceivable:S,totalAssets:C,accountsPayable:O,totalLiabilities:R,equity:H}},[e,t,r,n,i,a])}const Gje=({clinicData:e})=>{const{t,locale:r}=sr(),[n,i]=A.useState("doctors"),[a,s]=A.useState({startDate:"",endDate:""}),o=A.useMemo(()=>new Intl.NumberFormat(r,{style:"currency",currency:"EGP"}),[r]),c=Kje(e.payments,e.expenses,e.treatmentRecords,e.doctorPayments,e.supplierInvoices,a),u=[{id:"doctors",label:t("accountingReports.doctorReports"),icon:"",description:t("accountingReports.doctorReportsDescription")},{id:"patients",label:t("accountingReports.patientReports"),icon:"",description:t("accountingReports.patientReportsDescription")},{id:"treatments",label:t("accountingReports.treatmentReports"),icon:"",description:t("accountingReports.treatmentReportsDescription")},{id:"expenses",label:t("accountingReports.expenseReports"),icon:"",description:t("accountingReports.expenseReportsDescription")},{id:"payments",label:t("accountingReports.paymentReports"),icon:"",description:t("accountingReports.paymentReportsDescription")},{id:"doctorPercentages",label:t("accountingReports.doctorPercentageReports"),icon:"",description:t("accountingReports.doctorPercentageReportsDescription")}],d=()=>{const S=l.jsxs("div",{className:"p-8 bg-white text-slate-900",dir:"rtl",children:[l.jsxs("header",{className:"text-center mb-10 border-b-2 border-slate-300 pb-6",children:[l.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:t("accountingReports.title")}),l.jsx("h2",{className:"text-2xl font-bold text-primary-dark mb-4",children:u.find(T=>T.id===n)?.label}),a.startDate&&a.endDate&&l.jsxs("p",{className:"text-sm text-slate-600",children:[t("accountingReports.period"),": ",new Date(a.startDate).toLocaleDateString("ar-EG")," - ",new Date(a.endDate).toLocaleDateString("ar-EG")]})]}),l.jsx("div",{className:"mb-8",children:m(!0)}),l.jsxs("footer",{className:"text-center text-sm text-slate-500 border-t border-slate-300 pt-6",children:[l.jsxs("p",{children:[t("accountingReports.generatedOn"),": ",new Date().toLocaleDateString("ar-EG")," ",t("accountingReports.at")," ",new Date().toLocaleTimeString("ar-EG")]}),l.jsx("p",{className:"mt-2",children:t("accountingReports.clinicName")})]})]}),E=`${t("accountingReports.title")} - ${u.find(T=>T.id===n)?.label}`;Nl(E,S)},h=S=>!a.startDate&&!a.endDate?S:S.filter(E=>{const T=E.date||E.treatmentDate||E.invoiceDate;if(!T)return!0;const D=new Date(T),C=a.startDate?new Date(a.startDate):null,O=a.endDate?new Date(a.endDate):null;return!(C&&D<C||O&&(O.setHours(23,59,59,999),D>O))}),m=(S=!1)=>{const E=h(e.treatmentRecords),T=h(e.payments),D=h(e.expenses),C=h(e.doctorPayments);switch(n){case"doctors":return g(E,T,C,S);case"patients":return x(E,T,S);case"treatments":return v(E,T,S);case"expenses":return y(D,S);case"payments":return w(T,S);case"doctorPercentages":return _(E,T,C,S);default:return l.jsx("div",{children:t("accountingReports.selectReportType")})}},g=(S,E,T,D)=>{const C=e.dentists.map(O=>{const R=S.filter(ve=>ve.dentistId===O.id);E.filter(ve=>S.some(he=>he.id===ve.treatmentRecordId&&he.dentistId===O.id));const H=T.filter(ve=>ve.dentistId===O.id),F=R.reduce((ve,he)=>ve+he.totalTreatmentCost,0),U=R.reduce((ve,he)=>ve+he.doctorShare,0),M=H.reduce((ve,he)=>ve+he.amount,0),q=U-M,ee=R.length;return{doctor:O,totalRevenue:F,totalDoctorShare:U,totalPaymentsReceived:M,netBalance:q,treatmentCount:ee}}).filter(O=>O.totalRevenue>0||O.treatmentCount>0);return C.length===0?l.jsx("div",{className:"text-center py-8 text-slate-500",children:t("accountingReports.noDoctorData")}):l.jsxs("div",{className:"space-y-6",children:[!D&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:t("accountingReports.doctorSummary")}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalDoctors")}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:C.length})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalDoctorRevenue")}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.format(C.reduce((O,R)=>O+R.totalRevenue,0))})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalDoctorShares")}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.format(C.reduce((O,R)=>O+R.totalDoctorShare,0))})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalTreatments")}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:C.reduce((O,R)=>O+R.treatmentCount,0)})]})]})]}),l.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 ${D?"print-content":""}`,children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:t("accountingReports.doctorDetails")}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("common.doctor")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.totalRevenue")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.doctorShare")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.paymentsReceived")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.netBalance")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.treatments")})]})}),l.jsx("tbody",{children:C.map(({doctor:O,totalRevenue:R,totalDoctorShare:H,totalPaymentsReceived:F,netBalance:U,treatmentCount:M})=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold",children:O.name}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(R)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-green-600 font-semibold",children:o.format(H)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-blue-600",children:o.format(F)}),l.jsx("td",{className:`border border-slate-300 p-3 text-sm font-semibold ${U>=0?"text-green-600":"text-red-600"}`,children:o.format(U)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:M})]},O.id))}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"bg-slate-50 font-bold",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:t("common.total")}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(C.reduce((O,R)=>O+R.totalRevenue,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-green-600",children:o.format(C.reduce((O,R)=>O+R.totalDoctorShare,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-blue-600",children:o.format(C.reduce((O,R)=>O+R.totalPaymentsReceived,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(C.reduce((O,R)=>O+R.netBalance,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:C.reduce((O,R)=>O+R.treatmentCount,0)})]})})]})})]})]})},x=(S,E,T)=>{const D=e.patients.map(C=>{const O=S.filter(q=>q.patientId===C.id),R=E.filter(q=>q.patientId===C.id),H=O.reduce((q,ee)=>q+ee.totalTreatmentCost,0),F=R.reduce((q,ee)=>q+ee.amount,0),U=H-F,M=O.length;return{patient:C,totalRevenue:H,totalPaid:F,outstandingBalance:U,treatmentCount:M}}).filter(C=>C.totalRevenue>0||C.treatmentCount>0);return D.length===0?l.jsx("div",{className:"text-center py-8 text-slate-500",children:t("accountingReports.noPatientData")}):l.jsxs("div",{className:"space-y-6",children:[!T&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:t("accountingReports.patientSummary")}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalPatients")}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:D.length})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalPatientRevenue")}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.format(D.reduce((C,O)=>C+O.totalRevenue,0))})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalPaid")}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.format(D.reduce((C,O)=>C+O.totalPaid,0))})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.outstandingBalance")}),l.jsx("p",{className:`text-2xl font-bold ${D.reduce((C,O)=>C+O.outstandingBalance,0)>=0?"text-green-600":"text-red-600"}`,children:o.format(D.reduce((C,O)=>C+O.outstandingBalance,0))})]})]})]}),l.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 ${T?"print-content":""}`,children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:t("accountingReports.patientDetails")}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("common.patient")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.totalRevenue")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.totalPaid")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.outstandingBalance")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.treatments")})]})}),l.jsx("tbody",{children:D.map(({patient:C,totalRevenue:O,totalPaid:R,outstandingBalance:H,treatmentCount:F})=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold",children:C.name}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(O)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-blue-600",children:o.format(R)}),l.jsx("td",{className:`border border-slate-300 p-3 text-sm font-semibold ${H>=0?"text-green-600":"text-red-600"}`,children:o.format(H)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:F})]},C.id))}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"bg-slate-50 font-bold",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:t("common.total")}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(D.reduce((C,O)=>C+O.totalRevenue,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-blue-600",children:o.format(D.reduce((C,O)=>C+O.totalPaid,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(D.reduce((C,O)=>C+O.outstandingBalance,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:D.reduce((C,O)=>C+O.treatmentCount,0)})]})})]})})]})]})},v=(S,E,T)=>{if(S.length===0)return l.jsx("div",{className:"text-center py-8 text-slate-500",children:t("accountingReports.noTreatmentData")});const D=S.reduce((O,R)=>{const H=e.treatmentDefinitions.find(F=>F.id===R.treatmentDefinitionId)?.name||R.treatmentName||"Unknown";return O[H]||(O[H]={count:0,totalRevenue:0,totalDoctorShare:0,totalClinicShare:0}),O[H].count++,O[H].totalRevenue+=R.totalTreatmentCost,O[H].totalDoctorShare+=R.doctorShare,O[H].totalClinicShare+=R.clinicShare,O},{}),C=Object.entries(D).map(([O,R])=>({name:O,...R}));return l.jsxs("div",{className:"space-y-6",children:[!T&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:t("accountingReports.treatmentSummary")}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalTreatments")}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:S.length})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalTreatmentRevenue")}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.format(S.reduce((O,R)=>O+R.totalTreatmentCost,0))})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalDoctorShares")}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.format(S.reduce((O,R)=>O+R.doctorShare,0))})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalClinicShares")}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.format(S.reduce((O,R)=>O+R.clinicShare,0))})]})]})]}),l.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 ${T?"print-content":""}`,children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:t("accountingReports.treatmentByType")}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.treatmentType")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.count")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.totalRevenue")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.doctorShare")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.clinicShare")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.avgRevenue")})]})}),l.jsx("tbody",{children:C.map(O=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold",children:O.name}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:O.count}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(O.totalRevenue)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-green-600",children:o.format(O.totalDoctorShare)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-blue-600",children:o.format(O.totalClinicShare)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(O.totalRevenue/O.count)})]},O.name))}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"bg-slate-50 font-bold",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:t("common.total")}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:C.reduce((O,R)=>O+R.count,0)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(C.reduce((O,R)=>O+R.totalRevenue,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-green-600",children:o.format(C.reduce((O,R)=>O+R.totalDoctorShare,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-blue-600",children:o.format(C.reduce((O,R)=>O+R.totalClinicShare,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(C.reduce((O,R)=>O+R.totalRevenue,0)/C.reduce((O,R)=>O+R.count,0))})]})})]})})]})]})},y=(S,E)=>{if(S.length===0)return l.jsx("div",{className:"text-center py-8 text-slate-500",children:t("accountingReports.noExpenseData")});const T=S.reduce((C,O)=>{const R=t(`expenseCategory.${O.category}`)||O.category;return C[R]||(C[R]={count:0,totalAmount:0}),C[R].count++,C[R].totalAmount+=O.amount,C},{}),D=Object.entries(T).map(([C,O])=>({category:C,...O}));return l.jsxs("div",{className:"space-y-6",children:[!E&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:t("accountingReports.expenseSummary")}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalExpenses")}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:S.length})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalExpenseAmount")}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:o.format(S.reduce((C,O)=>C+O.amount,0))})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.avgExpense")}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.format(S.reduce((C,O)=>C+O.amount,0)/S.length)})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.expenseCategories")}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:D.length})]})]})]}),l.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 ${E?"print-content":""}`,children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:t("accountingReports.expensesByCategory")}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.category")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.count")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.totalAmount")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.avgAmount")})]})}),l.jsx("tbody",{children:D.map(C=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold",children:C.category}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:C.count}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-red-600 font-semibold",children:o.format(C.totalAmount)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(C.totalAmount/C.count)})]},C.category))}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"bg-slate-50 font-bold",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:t("common.total")}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:D.reduce((C,O)=>C+O.count,0)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-red-600",children:o.format(D.reduce((C,O)=>C+O.totalAmount,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(D.reduce((C,O)=>C+O.totalAmount,0)/D.reduce((C,O)=>C+O.count,0))})]})})]})})]}),!E&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:t("accountingReports.recentExpenses")}),l.jsx("div",{className:"space-y-3",children:S.slice(0,10).map(C=>l.jsx("div",{className:"border border-slate-200 rounded-lg p-3 hover:bg-slate-50",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-slate-800",children:C.description}),l.jsxs("p",{className:"text-sm text-slate-600",children:[t(`expenseCategory.${C.category}`),"  ",new Date(C.date).toLocaleDateString("ar-EG")]})]}),l.jsx("div",{className:"text-right",children:l.jsx("p",{className:"text-lg font-bold text-red-600",children:o.format(C.amount)})})]})},C.id))})]})]})},w=(S,E)=>{if(S.length===0)return l.jsx("div",{className:"text-center py-8 text-slate-500",children:t("accountingReports.noPaymentData")});const T=S.reduce((C,O)=>{const R=t(`paymentMethod.${O.method}`)||O.method;return C[R]||(C[R]={count:0,totalAmount:0}),C[R].count++,C[R].totalAmount+=O.amount,C},{}),D=Object.entries(T).map(([C,O])=>({method:C,...O}));return l.jsxs("div",{className:"space-y-6",children:[!E&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:t("accountingReports.paymentSummary")}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalPayments")}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:S.length})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalPaymentAmount")}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.format(S.reduce((C,O)=>C+O.amount,0))})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.avgPayment")}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.format(S.reduce((C,O)=>C+O.amount,0)/S.length)})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.paymentMethods")}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:D.length})]})]})]}),l.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 ${E?"print-content":""}`,children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:t("accountingReports.paymentsByMethod")}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.paymentMethod")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.count")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.totalAmount")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.avgAmount")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.percentage")})]})}),l.jsx("tbody",{children:D.map(C=>{const O=C.totalAmount/S.reduce((R,H)=>R+H.amount,0)*100;return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold",children:C.method}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:C.count}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-green-600 font-semibold",children:o.format(C.totalAmount)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(C.totalAmount/C.count)}),l.jsxs("td",{className:"border border-slate-300 p-3 text-sm",children:[O.toFixed(1),"%"]})]},C.method)})}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"bg-slate-50 font-bold",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:t("common.total")}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:D.reduce((C,O)=>C+O.count,0)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-green-600",children:o.format(D.reduce((C,O)=>C+O.totalAmount,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(D.reduce((C,O)=>C+O.totalAmount,0)/D.reduce((C,O)=>C+O.count,0))}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:"100%"})]})})]})})]}),!E&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:t("accountingReports.recentPayments")}),l.jsx("div",{className:"space-y-3",children:S.slice(0,10).map(C=>{const O=e.patients.find(R=>R.id===C.patientId);return l.jsx("div",{className:"border border-slate-200 rounded-lg p-3 hover:bg-slate-50",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-slate-800",children:O?.name||t("common.unknownPatient")}),l.jsxs("p",{className:"text-sm text-slate-600",children:[t(`paymentMethod.${C.method}`),"  ",new Date(C.date).toLocaleDateString("ar-EG")]})]}),l.jsx("div",{className:"text-right",children:l.jsx("p",{className:"text-lg font-bold text-green-600",children:o.format(C.amount)})})]})},C.id)})})]})]})},_=(S,E,T,D)=>{if(S.length===0)return l.jsx("div",{className:"text-center py-8 text-slate-500",children:t("accountingReports.noDoctorPercentageData")});const C=S.reduce((M,q)=>M+q.totalTreatmentCost,0),O=S.reduce((M,q)=>M+q.doctorShare,0),R=S.reduce((M,q)=>M+q.clinicShare,0),H=O/C*100,F=R/C*100,U=e.dentists.map(M=>{const q=S.filter(Oe=>Oe.dentistId===M.id);if(q.length===0)return null;const ee=q.reduce((Oe,ae)=>Oe+ae.totalTreatmentCost,0),ve=q.reduce((Oe,ae)=>Oe+ae.doctorShare,0),he=q.reduce((Oe,ae)=>Oe+ae.clinicShare,0),ce=ve/ee*100,be=he/ee*100;return{doctor:M,doctorRevenue:ee,doctorShare:ve,clinicShare:he,doctorPercentage:ce,clinicPercentage:be,treatmentCount:q.length}}).filter(Boolean);return l.jsxs("div",{className:"space-y-6",children:[!D&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:t("accountingReports.doctorPercentageSummary")}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.overallDoctorPercentage")}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[H.toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.overallClinicPercentage")}),l.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[F.toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.totalDoctorRevenue")}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:o.format(C)})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:t("accountingReports.doctorCount")}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:U.length})]})]})]}),l.jsxs("div",{className:`bg-white rounded-xl shadow-lg p-6 ${D?"print-content":""}`,children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:t("accountingReports.doctorPercentageDetails")}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("common.doctor")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.revenue")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.doctorShare")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.clinicShare")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.doctorPercentage")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.clinicPercentage")}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:t("accountingReports.treatments")})]})}),l.jsx("tbody",{children:U.map(M=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold",children:M.doctor.name}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(M.doctorRevenue)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-green-600",children:o.format(M.doctorShare)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-blue-600",children:o.format(M.clinicShare)}),l.jsxs("td",{className:"border border-slate-300 p-3 text-sm font-semibold text-green-600",children:[M.doctorPercentage.toFixed(1),"%"]}),l.jsxs("td",{className:"border border-slate-300 p-3 text-sm font-semibold text-blue-600",children:[M.clinicPercentage.toFixed(1),"%"]}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:M.treatmentCount})]},M.doctor.id))}),l.jsx("tfoot",{children:l.jsxs("tr",{className:"bg-slate-50 font-bold",children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:t("common.total")}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:o.format(C)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-green-600",children:o.format(O)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-blue-600",children:o.format(R)}),l.jsxs("td",{className:"border border-slate-300 p-3 text-sm font-semibold text-green-600",children:[H.toFixed(1),"%"]}),l.jsxs("td",{className:"border border-slate-300 p-3 text-sm font-semibold text-blue-600",children:[F.toFixed(1),"%"]}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:U.reduce((M,q)=>M+q.treatmentCount,0)})]})})]})})]}),!D&&l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:t("accountingReports.percentageAnalysis")}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-2",children:t("accountingReports.overallDistribution")}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),l.jsx("span",{className:"text-sm font-semibold",children:t("accountingReports.doctorShare")})]}),l.jsxs("div",{className:"text-lg font-bold text-green-600 mt-1",children:[H.toFixed(1),"%"]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500"}),l.jsx("span",{className:"text-sm font-semibold",children:t("accountingReports.clinicShare")})]}),l.jsxs("div",{className:"text-lg font-bold text-blue-600 mt-1",children:[F.toFixed(1),"%"]})]})]}),l.jsxs("div",{className:"mt-4 h-2 bg-slate-200 rounded-full overflow-hidden",children:[l.jsx("div",{className:"h-full bg-green-500",style:{width:`${H}%`}}),l.jsx("div",{className:"h-full bg-blue-500",style:{width:`${F}%`}})]})]})})]})]})};return l.jsxs("div",{className:"space-y-6 p-6 bg-slate-50 min-h-screen",dir:"rtl",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:t("accountingReports.title")}),l.jsx("p",{className:"text-slate-600",children:t("accountingReports.description")})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:l.jsx(cU,{dateRange:a,onDateRangeChange:s,showQuickPeriods:!0})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border-2 border-green-100",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:t("accountingReports.totalRevenue")}),l.jsx("p",{className:"text-xl font-bold text-green-600",children:o.format(c.totalRevenue)})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border-2 border-red-100",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:t("accountingReports.totalExpenses")}),l.jsx("p",{className:"text-xl font-bold text-red-600",children:o.format(c.totalExpenses)})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border-2 border-blue-100",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:t("accountingReports.netProfit")}),l.jsx("p",{className:`text-xl font-bold ${c.netProfit>=0?"text-blue-600":"text-red-600"}`,children:o.format(c.netProfit)})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border-2 border-purple-100",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:t("accountingReports.cashFlow")}),l.jsx("p",{className:`text-xl font-bold ${c.cashFlow>=0?"text-purple-600":"text-red-600"}`,children:o.format(c.cashFlow)})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"border-b border-slate-200 bg-slate-50/50",children:l.jsx("nav",{className:"flex",children:u.map(S=>l.jsxs("button",{onClick:()=>i(S.id),className:`flex-1 flex items-center justify-center px-6 py-4 text-sm font-medium transition-all duration-200 ${n===S.id?"border-b-2 border-primary text-primary bg-white":"text-slate-500 hover:text-slate-700 hover:bg-slate-100/50"}`,title:S.description,children:[l.jsx("span",{className:"text-lg mr-3",children:S.icon}),l.jsx("span",{className:"hidden sm:inline",children:S.label}),l.jsx("span",{className:"sm:hidden",children:S.label.split(" ")[0]})]},S.id))})}),l.jsx("div",{className:"p-6",children:m()})]}),l.jsx("div",{className:"fixed bottom-6 right-6",children:l.jsxs("button",{onClick:d,className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-full shadow-lg hover:bg-green-700 transition-all duration-200",children:[l.jsx("span",{className:"mr-2 text-lg",children:""}),l.jsx("span",{className:"font-semibold",children:t("accountingReports.printReport")})]})})]})},Yje=({clinicData:e,setCurrentView:t,initialTab:r})=>{const{t:n,locale:i}=sr(),[a,s]=A.useState(r||"overview"),o=A.useMemo(()=>{const{patients:v,treatmentRecords:y,payments:w}=e,_=new Intl.NumberFormat(i,{style:"currency",currency:"EGP"});return v.map(S=>{const E=y.filter(H=>H.patientId===S.id),T=w.filter(H=>H.patientId===S.id),D=E.reduce((H,F)=>H+F.totalTreatmentCost,0),C=T.reduce((H,F)=>H+F.amount,0),O=D-C,R=E.length;return{patient:S,totalRevenue:D,totalPaid:C,outstandingBalance:O,treatmentCount:R,currencyFormatter:_}})},[e,i]),c=A.useMemo(()=>{const{dentists:v,treatmentRecords:y,doctorPayments:w}=e,_=new Intl.NumberFormat(i,{style:"currency",currency:"EGP"});return v.map(S=>{const E=y.filter(F=>F.dentistId===S.id),T=w.filter(F=>F.dentistId===S.id),D=E.reduce((F,U)=>F+U.totalTreatmentCost,0),C=E.reduce((F,U)=>F+U.doctorShare,0),O=T.reduce((F,U)=>F+U.amount,0),R=C-O,H=E.length;return{doctor:S,totalRevenue:D,totalEarnings:C,totalPaymentsReceived:O,netBalance:R,treatmentCount:H,currencyFormatter:_}})},[e,i]),u=A.useMemo(()=>{const{suppliers:v,inventoryItems:y,expenses:w}=e,_=new Intl.NumberFormat(i,{style:"currency",currency:"EGP"});return v.map(S=>{const E=y.filter(F=>F.supplierId===S.id),T=w.filter(F=>F.supplierId===S.id),D=E.reduce((F,U)=>F+U.unitCost*U.currentStock,0),C=T.reduce((F,U)=>F+U.amount,0),O=D+C,R=E.length,H=T.length;return{supplier:S,totalPurchases:D,totalExpenses:C,totalValue:O,itemCount:R,expenseCount:H,currencyFormatter:_}})},[e,i]),d=[{id:"overview",label:n("reports.overview"),icon:""},{id:"patients",label:n("reports.patientReports"),icon:""},{id:"doctors",label:n("reports.doctorReports"),icon:""},{id:"suppliers",label:n("reports.supplierReports"),icon:""},{id:"daily",label:n("reports.dailyFinancialSummary.title"),icon:""},{id:"monthly",label:n("reports.monthlyFinancialSummary.title"),icon:""},{id:"quarterly",label:n("reports.quarterlyAnnualOverview.title"),icon:""},{id:"accounting",label:n("reports.accounting.title"),icon:""}],h=()=>l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",dir:"rtl",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:n("reports.patientList")}),l.jsx("div",{className:"space-y-4",children:o.map(({patient:v,totalRevenue:y,totalPaid:w,outstandingBalance:_,treatmentCount:S,currencyFormatter:E})=>l.jsx("div",{className:"border border-slate-200 rounded-xl p-4 hover:bg-slate-50 transition-colors",children:l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:v.name}),l.jsxs("p",{className:"text-sm text-slate-600",children:[v.phone," | ",v.email]}),l.jsxs("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.totalRevenue"),":"]}),l.jsx("span",{className:"font-semibold text-slate-800 ml-1",children:E.format(y)})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.totalPaid"),":"]}),l.jsx("span",{className:"font-semibold text-green-600 ml-1",children:E.format(w)})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.outstandingBalance"),":"]}),l.jsx("span",{className:`font-semibold ml-1 ${_>=0?"text-green-600":"text-red-600"}`,children:E.format(_)})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.treatmentCount"),":"]}),l.jsx("span",{className:"font-semibold text-slate-800 ml-1",children:S})]})]})]}),l.jsxs("button",{onClick:()=>{const{treatmentRecords:T,payments:D}=e,C=T.filter(U=>U.patientId===v.id),O=D.filter(U=>U.patientId===v.id),R=C.reduce((U,M)=>U+M.totalTreatmentCost,0),H=O.reduce((U,M)=>U+M.amount,0),F=l.jsxs("div",{className:"p-8 bg-white text-slate-900",dir:"rtl",children:[l.jsxs("header",{className:"text-center mb-10 border-b-2 border-slate-300 pb-6",children:[l.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:n("patientReport.title")}),l.jsx("h2",{className:"text-2xl font-bold text-primary-dark mb-4",children:v.name}),l.jsxs("div",{className:"text-sm text-slate-600",children:[l.jsxs("p",{children:[": ",v.phone]}),l.jsxs("p",{children:[" : ",v.email]}),l.jsxs("p",{children:[" : ",v.dob?new Date(v.dob).toLocaleDateString("ar-EG"):" "]})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 border-b border-slate-200 pb-2",children:n("patientReport.summary")}),l.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:n("patientReport.totalRevenue")}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:E.format(R)})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:n("patientReport.totalPaid")}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:E.format(H)})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:" "}),l.jsx("p",{className:`text-xl font-bold ${_>=0?"text-green-600":"text-red-600"}`,children:E.format(_)})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:" "}),l.jsx("p",{className:"text-xl font-bold text-blue-600",children:S})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:" "}),l.jsx("p",{className:"text-xl font-bold text-purple-600",children:O.length})]})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 border-b border-slate-200 pb-2",children:" "}),l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""})]})}),l.jsx("tbody",{children:C.map(U=>{const M=e.dentists.find(q=>q.id===U.dentistId);return l.jsxs("tr",{children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:new Date(U.treatmentDate).toLocaleDateString("ar-EG")}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:U.treatmentName}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:M?.name||" "}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold",children:E.format(U.totalTreatmentCost)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:U.notes||"-"})]},U.id)})})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 border-b border-slate-200 pb-2",children:" "}),l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:" "}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""})]})}),l.jsx("tbody",{children:O.map(U=>l.jsxs("tr",{children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:new Date(U.date).toLocaleDateString("ar-EG")}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold text-green-600",children:E.format(U.amount)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:U.method}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:U.notes||"-"})]},U.id))})]})]}),l.jsxs("footer",{className:"text-center text-sm text-slate-500 border-t border-slate-300 pt-6",children:[l.jsxs("p",{children:["     ",new Date().toLocaleDateString("ar-EG"),"  ",new Date().toLocaleTimeString("ar-EG")]}),l.jsx("p",{className:"mt-2",children:"  -    "})]})]});Nl(`${n("patientReport.title")} - ${v.name}`,F)},className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:[" ",n("reports.printReport")]})]})},v.id))})]})}),m=()=>l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",dir:"rtl",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:n("reports.doctorList")}),l.jsx("div",{className:"space-y-4",children:c.map(({doctor:v,totalRevenue:y,totalEarnings:w,totalPaymentsReceived:_,netBalance:S,treatmentCount:E,currencyFormatter:T})=>l.jsx("div",{className:"border border-slate-200 rounded-xl p-4 hover:bg-slate-50 transition-colors",children:l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[l.jsx("span",{className:`w-4 h-4 rounded-full ${v.color}`}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:v.name}),l.jsx("p",{className:"text-sm text-slate-600",children:v.specialty}),l.jsxs("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.totalRevenue"),":"]}),l.jsx("span",{className:"font-semibold text-slate-800 ml-1",children:T.format(y)})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.totalEarnings"),":"]}),l.jsx("span",{className:"font-semibold text-green-600 ml-1",children:T.format(w)})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.totalPaymentsReceived"),":"]}),l.jsx("span",{className:"font-semibold text-blue-600 ml-1",children:T.format(_)})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.netBalance"),":"]}),l.jsx("span",{className:`font-semibold ml-1 ${S>=0?"text-green-600":"text-red-600"}`,children:T.format(S)})]})]}),l.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:[n("reports.treatmentCount"),": ",E]})]})]}),l.jsxs("button",{onClick:()=>{const{treatmentRecords:D,doctorPayments:C}=e,O=D.filter(M=>M.dentistId===v.id),R=C.filter(M=>M.dentistId===v.id),H=O.reduce((M,q)=>M+q.doctorShare,0),F=R.reduce((M,q)=>M+q.amount,0),U=l.jsxs("div",{className:"p-8 bg-white text-slate-900",dir:"rtl",children:[l.jsxs("header",{className:"text-center mb-10 border-b-2 border-slate-300 pb-6",children:[l.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:n("doctorReport.title")}),l.jsx("h2",{className:"text-2xl font-bold text-primary-dark mb-4",children:v.name}),l.jsx("div",{className:"text-sm text-slate-600",children:l.jsxs("p",{children:[": ",v.specialty]})})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 border-b border-slate-200 pb-2",children:n("doctorReport.summary")}),l.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:n("doctorReport.totalEarnings")}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.format(H)})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:n("doctorReport.totalPaymentsReceived")}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T.format(F)})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:" "}),l.jsx("p",{className:`text-xl font-bold ${S>=0?"text-green-600":"text-red-600"}`,children:T.format(S)})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:" "}),l.jsx("p",{className:"text-xl font-bold text-blue-600",children:E})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:"  "}),l.jsx("p",{className:"text-xl font-bold text-purple-600",children:R.length})]})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 border-b border-slate-200 pb-2",children:" "}),l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:" "}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:" "}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""})]})}),l.jsx("tbody",{children:O.map(M=>{const q=e.patients.find(ee=>ee.id===M.patientId);return l.jsxs("tr",{children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:new Date(M.treatmentDate).toLocaleDateString("ar-EG")}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:q?.name||" "}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:M.treatmentName}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold",children:T.format(M.totalTreatmentCost)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold text-green-600",children:T.format(M.doctorShare)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:M.notes||"-"})]},M.id)})})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 border-b border-slate-200 pb-2",children:"  "}),l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""})]})}),l.jsx("tbody",{children:R.map(M=>l.jsxs("tr",{children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:new Date(M.date).toLocaleDateString("ar-EG")}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold text-green-600",children:T.format(M.amount)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:M.notes||"-"})]},M.id))})]})]}),l.jsxs("footer",{className:"text-center text-sm text-slate-500 border-t border-slate-300 pt-6",children:[l.jsxs("p",{children:["     ",new Date().toLocaleDateString("ar-EG"),"  ",new Date().toLocaleTimeString("ar-EG")]}),l.jsx("p",{className:"mt-2",children:"  -    "})]})]});Nl(`${n("doctorReport.title")} - ${v.name}`,U)},className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:[" ",n("reports.printReport")]})]})},v.id))})]})}),g=()=>l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",dir:"rtl",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:n("reports.supplierList")}),l.jsx("div",{className:"space-y-4",children:u.map(({supplier:v,totalPurchases:y,totalExpenses:w,totalValue:_,itemCount:S,expenseCount:E,currencyFormatter:T})=>l.jsx("div",{className:"border border-slate-200 rounded-xl p-4 hover:bg-slate-50 transition-colors",children:l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:v.name}),l.jsxs("p",{className:"text-sm text-slate-600",children:[v.contactPerson," | ",v.phone]}),l.jsxs("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.totalPurchases"),":"]}),l.jsx("span",{className:"font-semibold text-slate-800 ml-1",children:T.format(y)})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.totalExpenses"),":"]}),l.jsx("span",{className:"font-semibold text-red-600 ml-1",children:T.format(w)})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.totalValue"),":"]}),l.jsx("span",{className:"font-semibold text-blue-600 ml-1",children:T.format(_)})]}),l.jsxs("div",{children:[l.jsxs("span",{className:"text-slate-500",children:[n("reports.itemCount"),":"]}),l.jsx("span",{className:"font-semibold text-slate-800 ml-1",children:S})]})]}),l.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:[n("reports.expenseCount"),": ",E]})]}),l.jsxs("button",{onClick:()=>{const{inventoryItems:D,expenses:C}=e,O=D.filter(M=>M.supplierId===v.id),R=C.filter(M=>M.supplierId===v.id),H=O.reduce((M,q)=>M+q.unitCost*q.currentStock,0),F=R.reduce((M,q)=>M+q.amount,0),U=l.jsxs("div",{className:"p-8 bg-white text-slate-900",dir:"rtl",children:[l.jsxs("header",{className:"text-center mb-10 border-b-2 border-slate-300 pb-6",children:[l.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:n("supplierReport.title")}),l.jsx("h2",{className:"text-2xl font-bold text-primary-dark mb-4",children:v.name}),l.jsxs("div",{className:"text-sm text-slate-600",children:[l.jsxs("p",{children:[" : ",v.contactPerson]}),l.jsxs("p",{children:[": ",v.phone]}),l.jsxs("p",{children:[" : ",v.email]}),l.jsxs("p",{children:[" : ",v.supplierType==="materialSupplier"?" ":" "]})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 border-b border-slate-200 pb-2",children:n("supplierReport.summary")}),l.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:n("supplierReport.totalPurchases")}),l.jsx("p",{className:"text-2xl font-bold text-slate-800",children:T.format(H)})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:n("supplierReport.totalExpenses")}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:T.format(F)})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:" "}),l.jsx("p",{className:"text-xl font-bold text-blue-600",children:T.format(_)})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:" "}),l.jsx("p",{className:"text-xl font-bold text-green-600",children:S})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[l.jsx("p",{className:"text-sm text-slate-600",children:" "}),l.jsx("p",{className:"text-xl font-bold text-purple-600",children:E})]})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 border-b border-slate-200 pb-2",children:"  "}),l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:" "}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:" "}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:" "}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:" "}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:" "})]})}),l.jsx("tbody",{children:O.map(M=>l.jsxs("tr",{children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:M.name}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm text-center",children:M.currentStock}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold",children:T.format(M.unitCost)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold text-blue-600",children:T.format(M.unitCost*M.currentStock)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:M.expiryDate?new Date(M.expiryDate).toLocaleDateString("ar-EG"):"-"})]},M.id))})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6 border-b border-slate-200 pb-2",children:" "}),l.jsxs("table",{className:"w-full border-collapse border border-slate-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-100",children:[l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""}),l.jsx("th",{className:"border border-slate-300 p-3 text-right text-sm font-bold",children:""})]})}),l.jsx("tbody",{children:R.map(M=>l.jsxs("tr",{children:[l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:new Date(M.date).toLocaleDateString("ar-EG")}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:M.description}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm font-semibold text-red-600",children:T.format(M.amount)}),l.jsx("td",{className:"border border-slate-300 p-3 text-sm",children:n(`expenseCategory.${M.category}`)})]},M.id))})]})]}),l.jsxs("footer",{className:"text-center text-sm text-slate-500 border-t border-slate-300 pt-6",children:[l.jsxs("p",{children:["     ",new Date().toLocaleDateString("ar-EG"),"  ",new Date().toLocaleTimeString("ar-EG")]}),l.jsx("p",{className:"mt-2",children:"  -    "})]})]});Nl(`${n("supplierReport.title")} - ${v.name}`,U)},className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:[" ",n("reports.printReport")]})]})},v.id))})]})}),x=()=>{switch(a){case"overview":return l.jsx(dR,{clinicData:e});case"patients":return h();case"doctors":return m();case"suppliers":return g();case"daily":return l.jsx(Wje,{clinicData:e});case"monthly":return l.jsx(qje,{clinicData:e});case"quarterly":return l.jsx(Hje,{clinicData:e});case"accounting":return l.jsx(Gje,{clinicData:e});default:return l.jsx(dR,{clinicData:e})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",dir:"rtl",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n("reports.title")}),l.jsx("p",{className:"text-gray-600",children:n("reports.description")})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:d.map(v=>l.jsxs("button",{onClick:()=>s(v.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${a===v.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx("span",{children:v.icon}),v.label]},v.id))})}),l.jsx("div",{className:"p-6",children:x()})]})]})},Xje={[gt.SUCCESS]:{bg:"bg-green-100",text:"text-green-800",icon:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"},[gt.ERROR]:{bg:"bg-red-100",text:"text-red-800",icon:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"},[gt.INFO]:{bg:"bg-sky-100",text:"text-sky-800",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},[gt.WARNING]:{bg:"bg-amber-100",text:"text-amber-800",icon:"M10 18a8 8 0 100-16 8 8 0 000 16zM11 7v4m0 4h.01"}},Jje=({notification:e})=>{const{removeNotification:t}=bi(),[r,n]=A.useState(!1);A.useEffect(()=>{const c=setTimeout(()=>{n(!0),setTimeout(()=>t(e.id),300)},5e3);return()=>clearTimeout(c)},[e.id,t]);const i=()=>{n(!0),setTimeout(()=>t(e.id),300)},{bg:a,text:s,icon:o}=Xje[e.type];return l.jsxs("div",{className:`relative rounded-xl shadow-lg p-4 flex items-start gap-3 transition-all duration-300 transform ${a} ${s} ${r?"opacity-0 translate-x-full":"opacity-100 translate-x-0"}`,role:"alert",children:[l.jsx("svg",{className:"h-5 w-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:o,clipRule:"evenodd"})}),l.jsx("p",{className:"flex-1 text-sm font-semibold",children:e.message}),l.jsxs("button",{onClick:i,className:`ms-auto -mx-1.5 -my-1.5 p-1.5 rounded-lg inline-flex h-8 w-8 ${a} ${s} hover:bg-opacity-50`,"aria-label":"Close",children:[l.jsx("span",{className:"sr-only",children:"Close"}),l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})},Jz=()=>{const{notifications:e}=bi();return l.jsx("div",{className:"fixed top-4 end-4 z-[100] w-full max-w-xs space-y-2",dir:"rtl",children:e.map(t=>l.jsx(Jje,{notification:t},t.id))})},Zje=()=>{const{user:e}=tf(),{addNotification:t}=bi(),[r,n]=A.useState([]),[i,a]=A.useState(!0),[s,o]=A.useState(!1),[c,u]=A.useState(null),[d,h]=A.useState({username:"",email:"",password:"",role:po.ADMIN,permissions:[]});A.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:S,error:E}=await jt.from("user_profiles").select("*").order("created_at",{ascending:!1});if(E)throw E;n(S||[])}catch(S){console.error("Error fetching users:",S),t("Failed to fetch users","error")}finally{a(!1)}},g=async S=>{S.preventDefault();try{if(c){const{error:E}=await jt.from("user_profiles").update({username:d.username,role:d.role,permissions:d.permissions.length>0?d.permissions:x(d.role),updated_at:new Date().toISOString()}).eq("id",c.id);if(E)throw E;t("User updated successfully","success")}else{const{data:E,error:T}=await jt.auth.signUp({email:d.email,password:d.password});if(T)throw T;const{error:D}=await jt.from("user_profiles").insert({user_id:E.user?.id,username:d.username,role:d.role,permissions:d.permissions.length>0?d.permissions:x(d.role),id:E.user?.id});if(D)throw D;t("User created successfully","success")}o(!1),u(null),w(),m()}catch(E){console.error("Error saving user:",E),t(E.message||"Failed to save user","error")}},x=S=>{switch(S){case po.ADMIN:return["view_dashboard","manage_users","view_patients","edit_patients","view_scheduler","edit_scheduler","view_reports","view_finance","edit_finance"];case po.DOCTOR:return["view_dashboard","view_patients","edit_patients","view_scheduler","edit_scheduler","view_reports"];case po.ASSISTANT:return["view_dashboard","view_patients","edit_patients","view_scheduler","edit_scheduler"];case po.RECEPTIONIST:return["view_dashboard","view_patients","view_scheduler","edit_scheduler","view_reports"];default:return[]}},v=S=>{u(S),h({username:S.username,email:"",password:"",role:S.role,permissions:S.permissions||[]}),o(!0)},y=async S=>{if(confirm("Are you sure you want to delete this user?"))try{const{error:E}=await jt.from("user_profiles").delete().eq("id",S);if(E)throw E;t("User deleted successfully","success"),m()}catch(E){console.error("Error deleting user:",E),t("Failed to delete user","error")}},w=()=>{h({username:"",email:"",password:"",role:po.ADMIN,permissions:[]})},_=()=>{u(null),w(),o(!0)};return i?l.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"User Management"}),l.jsx("button",{onClick:_,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Add New User"})]}),l.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(S=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.username}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.role}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(S.created_at).toLocaleDateString()}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[l.jsx("button",{onClick:()=>v(S),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Edit"}),l.jsx("button",{onClick:()=>y(S.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},S.id))})]})}),s&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:l.jsxs("div",{className:"mt-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:c?"Edit User":"Add New User"}),l.jsxs("form",{onSubmit:g,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Username"}),l.jsx("input",{type:"text",value:d.username,onChange:S=>h({...d,username:S.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),!c&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),l.jsx("input",{type:"email",value:d.email,onChange:S=>h({...d,email:S.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),l.jsx("input",{type:"password",value:d.password,onChange:S=>h({...d,password:S.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Role"}),l.jsxs("select",{value:d.role,onChange:S=>{const E=S.target.value;h({...d,role:E,permissions:x(E)})},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[l.jsx("option",{value:po.ADMIN,children:"Admin"}),l.jsx("option",{value:po.DOCTOR,children:"Doctor"}),l.jsx("option",{value:po.ASSISTANT,children:"Assistant"}),l.jsx("option",{value:po.RECEPTIONIST,children:"Receptionist"})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Permissions"}),l.jsx("div",{className:"max-h-40 overflow-y-auto border rounded p-2",children:[{id:"view_dashboard",label:"View Dashboard"},{id:"manage_users",label:"Manage Users"},{id:"view_patients",label:"View Patients"},{id:"edit_patients",label:"Edit Patients"},{id:"view_scheduler",label:"View Scheduler"},{id:"edit_scheduler",label:"Edit Scheduler"},{id:"view_reports",label:"View Reports"},{id:"view_finance",label:"View Finance"},{id:"edit_finance",label:"Edit Finance"}].map(S=>l.jsxs("label",{className:"flex items-center mb-2",children:[l.jsx("input",{type:"checkbox",checked:d.permissions.includes(S.id),onChange:E=>{const T=E.target.checked;h(D=>({...D,permissions:T?[...D.permissions,S.id]:D.permissions.filter(C=>C!==S.id)}))},className:"mr-2"}),l.jsx("span",{className:"text-sm",children:S.label})]},S.id))}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select specific permissions or leave empty to use role defaults"})]}),l.jsxs("div",{className:"flex justify-end",children:[l.jsx("button",{type:"button",onClick:()=>o(!1),className:"mr-4 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:c?"Update":"Create"})]})]})]})})}),l.jsx(Jz,{})]})},Qje=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),eAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.124-1.282-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.124-1.282.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),tAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),rAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h8a2 2 0 002-2v-3a2 2 0 00-2-2H9.5m3.5-6.5a2 2 0 11-4 0 2 2 0 014 0z"})}),nAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 1a3 3 0 00-3 3v1h10V4a3 3 0 00-3-3H8zM5 6v10a2 2 0 002 2h10a2 2 0 002-2V6H5z"})}),iAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),aAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),sAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),oAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),lAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),cAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),uAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),dAe=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),fAe=({currentView:e,setCurrentView:t})=>{const{t:r}=sr(),n=[{id:"dashboard",label:r("sidebar.dashboard"),icon:l.jsx(Qje,{})},{id:"patients",label:r("sidebar.patients"),icon:l.jsx(eAe,{})},{id:"scheduler",label:r("sidebar.scheduler"),icon:l.jsx(tAe,{})},{id:"doctors",label:r("sidebar.doctors"),icon:l.jsx(rAe,{})},{id:"suppliers",label:r("sidebar.suppliers"),icon:l.jsx(nAe,{})},{id:"inventory",label:r("sidebar.inventory"),icon:l.jsx(iAe,{})},{id:"labCases",label:r("sidebar.labCases"),icon:l.jsx(aAe,{})},{id:"expenses",label:r("sidebar.expenses"),icon:l.jsx(sAe,{})},{id:"treatmentDefinitions",label:r("sidebar.treatmentDefinitions"),icon:l.jsx(oAe,{})},{id:"doctorAccounts",label:r("sidebar.doctorAccounts"),icon:l.jsx(lAe,{})},{id:"financialAccounts",label:r("sidebar.financialAccounts"),icon:l.jsx(cAe,{})},{id:"reports",label:r("sidebar.reports"),icon:l.jsx(uAe,{})},{id:"settings",label:r("sidebar.settings"),icon:l.jsx(dAe,{})}];return l.jsx("nav",{className:"fixed bottom-0 start-0 end-0 h-20 bg-white border-t border-slate-200 flex z-20 md:hidden print:hidden",children:l.jsx("div",{className:"flex items-stretch w-full h-full overflow-x-auto",children:n.map(i=>l.jsxs("button",{onClick:()=>t(i.id),className:`flex flex-col items-center justify-center flex-shrink-0 w-24 h-full transition-colors duration-200 text-sm focus:outline-none focus:ring-2 focus:ring-primary-light ${e===i.id?"text-primary bg-primary/10":"text-slate-500 hover:text-primary hover:bg-slate-50"}`,"aria-current":e===i.id?"page":void 0,children:[i.icon,l.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:i.label})]},i.id))})})};var Mx={exports:{}},Fx={exports:{}};var ES,fR;function hAe(){if(fR)return ES;fR=1;function e(Z,ne){return function(){return Z.apply(ne,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:r}=Object,{iterator:n,toStringTag:i}=Symbol,a=(Z=>ne=>{const xe=t.call(ne);return Z[xe]||(Z[xe]=xe.slice(8,-1).toLowerCase())})(Object.create(null)),s=Z=>(Z=Z.toLowerCase(),ne=>a(ne)===Z),o=Z=>ne=>typeof ne===Z,{isArray:c}=Array,u=o("undefined");function d(Z){return Z!==null&&!u(Z)&&Z.constructor!==null&&!u(Z.constructor)&&x(Z.constructor.isBuffer)&&Z.constructor.isBuffer(Z)}const h=s("ArrayBuffer");function m(Z){let ne;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ne=ArrayBuffer.isView(Z):ne=Z&&Z.buffer&&h(Z.buffer),ne}const g=o("string"),x=o("function"),v=o("number"),y=Z=>Z!==null&&typeof Z=="object",w=Z=>Z===!0||Z===!1,_=Z=>{if(a(Z)!=="object")return!1;const ne=r(Z);return(ne===null||ne===Object.prototype||Object.getPrototypeOf(ne)===null)&&!(i in Z)&&!(n in Z)},S=Z=>{if(!y(Z)||d(Z))return!1;try{return Object.keys(Z).length===0&&Object.getPrototypeOf(Z)===Object.prototype}catch{return!1}},E=s("Date"),T=s("File"),D=s("Blob"),C=s("FileList"),O=Z=>y(Z)&&x(Z.pipe),R=Z=>{let ne;return Z&&(typeof FormData=="function"&&Z instanceof FormData||x(Z.append)&&((ne=a(Z))==="formdata"||ne==="object"&&x(Z.toString)&&Z.toString()==="[object FormData]"))},H=s("URLSearchParams"),[F,U,M,q]=["ReadableStream","Request","Response","Headers"].map(s),ee=Z=>Z.trim?Z.trim():Z.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ve(Z,ne,{allOwnKeys:xe=!1}={}){if(Z===null||typeof Z>"u")return;let Se,De;if(typeof Z!="object"&&(Z=[Z]),c(Z))for(Se=0,De=Z.length;Se<De;Se++)ne.call(null,Z[Se],Se,Z);else{if(d(Z))return;const Ge=xe?Object.getOwnPropertyNames(Z):Object.keys(Z),Ke=Ge.length;let k;for(Se=0;Se<Ke;Se++)k=Ge[Se],ne.call(null,Z[k],k,Z)}}function he(Z,ne){if(d(Z))return null;ne=ne.toLowerCase();const xe=Object.keys(Z);let Se=xe.length,De;for(;Se-- >0;)if(De=xe[Se],ne===De.toLowerCase())return De;return null}const ce=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:zW,be=Z=>!u(Z)&&Z!==ce;function Oe(){const{caseless:Z,skipUndefined:ne}=be(this)&&this||{},xe={},Se=(De,Ge)=>{const Ke=Z&&he(xe,Ge)||Ge;_(xe[Ke])&&_(De)?xe[Ke]=Oe(xe[Ke],De):_(De)?xe[Ke]=Oe({},De):c(De)?xe[Ke]=De.slice():(!ne||!u(De))&&(xe[Ke]=De)};for(let De=0,Ge=arguments.length;De<Ge;De++)arguments[De]&&ve(arguments[De],Se);return xe}const ae=(Z,ne,xe,{allOwnKeys:Se}={})=>(ve(ne,(De,Ge)=>{xe&&x(De)?Z[Ge]=e(De,xe):Z[Ge]=De},{allOwnKeys:Se}),Z),L=Z=>(Z.charCodeAt(0)===65279&&(Z=Z.slice(1)),Z),Y=(Z,ne,xe,Se)=>{Z.prototype=Object.create(ne.prototype,Se),Z.prototype.constructor=Z,Object.defineProperty(Z,"super",{value:ne.prototype}),xe&&Object.assign(Z.prototype,xe)},K=(Z,ne,xe,Se)=>{let De,Ge,Ke;const k={};if(ne=ne||{},Z==null)return ne;do{for(De=Object.getOwnPropertyNames(Z),Ge=De.length;Ge-- >0;)Ke=De[Ge],(!Se||Se(Ke,Z,ne))&&!k[Ke]&&(ne[Ke]=Z[Ke],k[Ke]=!0);Z=xe!==!1&&r(Z)}while(Z&&(!xe||xe(Z,ne))&&Z!==Object.prototype);return ne},J=(Z,ne,xe)=>{Z=String(Z),(xe===void 0||xe>Z.length)&&(xe=Z.length),xe-=ne.length;const Se=Z.indexOf(ne,xe);return Se!==-1&&Se===xe},pe=Z=>{if(!Z)return null;if(c(Z))return Z;let ne=Z.length;if(!v(ne))return null;const xe=new Array(ne);for(;ne-- >0;)xe[ne]=Z[ne];return xe},Ae=(Z=>ne=>Z&&ne instanceof Z)(typeof Uint8Array<"u"&&r(Uint8Array)),Ne=(Z,ne)=>{const Se=(Z&&Z[n]).call(Z);let De;for(;(De=Se.next())&&!De.done;){const Ge=De.value;ne.call(Z,Ge[0],Ge[1])}},fe=(Z,ne)=>{let xe;const Se=[];for(;(xe=Z.exec(ne))!==null;)Se.push(xe);return Se},ke=s("HTMLFormElement"),Te=Z=>Z.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(xe,Se,De){return Se.toUpperCase()+De}),je=(({hasOwnProperty:Z})=>(ne,xe)=>Z.call(ne,xe))(Object.prototype),Le=s("RegExp"),$e=(Z,ne)=>{const xe=Object.getOwnPropertyDescriptors(Z),Se={};ve(xe,(De,Ge)=>{let Ke;(Ke=ne(De,Ge,Z))!==!1&&(Se[Ge]=Ke||De)}),Object.defineProperties(Z,Se)},oe=Z=>{$e(Z,(ne,xe)=>{if(x(Z)&&["arguments","caller","callee"].indexOf(xe)!==-1)return!1;const Se=Z[xe];if(x(Se)){if(ne.enumerable=!1,"writable"in ne){ne.writable=!1;return}ne.set||(ne.set=()=>{throw Error("Can not rewrite read-only method '"+xe+"'")})}})},at=(Z,ne)=>{const xe={},Se=De=>{De.forEach(Ge=>{xe[Ge]=!0})};return c(Z)?Se(Z):Se(String(Z).split(ne)),xe},lt=()=>{},Pt=(Z,ne)=>Z!=null&&Number.isFinite(Z=+Z)?Z:ne;function ct(Z){return!!(Z&&x(Z.append)&&Z[i]==="FormData"&&Z[n])}const $t=Z=>{const ne=new Array(10),xe=(Se,De)=>{if(y(Se)){if(ne.indexOf(Se)>=0)return;if(d(Se))return Se;if(!("toJSON"in Se)){ne[De]=Se;const Ge=c(Se)?[]:{};return ve(Se,(Ke,k)=>{const G=xe(Ke,De+1);!u(G)&&(Ge[k]=G)}),ne[De]=void 0,Ge}}return Se};return xe(Z,0)},Dt=s("AsyncFunction"),Xt=Z=>Z&&(y(Z)||x(Z))&&x(Z.then)&&x(Z.catch),Ht=((Z,ne)=>Z?setImmediate:ne?((xe,Se)=>(ce.addEventListener("message",({source:De,data:Ge})=>{De===ce&&Ge===xe&&Se.length&&Se.shift()()},!1),De=>{Se.push(De),ce.postMessage(xe,"*")}))(`axios@${Math.random()}`,[]):xe=>setTimeout(xe))(typeof setImmediate=="function",x(ce.postMessage)),xr=typeof queueMicrotask<"u"?queueMicrotask.bind(ce):typeof process<"u"&&process.nextTick||Ht;var ze={isArray:c,isArrayBuffer:h,isBuffer:d,isFormData:R,isArrayBufferView:m,isString:g,isNumber:v,isBoolean:w,isObject:y,isPlainObject:_,isEmptyObject:S,isReadableStream:F,isRequest:U,isResponse:M,isHeaders:q,isUndefined:u,isDate:E,isFile:T,isBlob:D,isRegExp:Le,isFunction:x,isStream:O,isURLSearchParams:H,isTypedArray:Ae,isFileList:C,forEach:ve,merge:Oe,extend:ae,trim:ee,stripBOM:L,inherits:Y,toFlatObject:K,kindOf:a,kindOfTest:s,endsWith:J,toArray:pe,forEachEntry:Ne,matchAll:fe,isHTMLForm:ke,hasOwnProperty:je,hasOwnProp:je,reduceDescriptors:$e,freezeMethods:oe,toObjectSet:at,toCamelCase:Te,noop:lt,toFiniteNumber:Pt,findKey:he,global:ce,isContextDefined:be,isSpecCompliantForm:ct,toJSONObject:$t,isAsyncFn:Dt,isThenable:Xt,setImmediate:Ht,asap:xr,isIterable:Z=>Z!=null&&x(Z[n])};function kt(Z,ne,xe,Se,De){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=Z,this.name="AxiosError",ne&&(this.code=ne),xe&&(this.config=xe),Se&&(this.request=Se),De&&(this.response=De,this.status=De.status?De.status:null)}ze.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const fr=kt.prototype,zt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(Z=>{zt[Z]={value:Z}}),Object.defineProperties(kt,zt),Object.defineProperty(fr,"isAxiosError",{value:!0}),kt.from=(Z,ne,xe,Se,De,Ge)=>{const Ke=Object.create(fr);ze.toFlatObject(Z,Ke,function(we){return we!==Error.prototype},ue=>ue!=="isAxiosError");const k=Z&&Z.message?Z.message:"Error",G=ne==null&&Z?Z.code:ne;return kt.call(Ke,k,G,xe,Se,De),Z&&Ke.cause==null&&Object.defineProperty(Ke,"cause",{value:Z,configurable:!0}),Ke.name=Z&&Z.name||"Error",Ge&&Object.assign(Ke,Ge),Ke};var dr=null;function Bt(Z){return ze.isPlainObject(Z)||ze.isArray(Z)}function Jr(Z){return ze.endsWith(Z,"[]")?Z.slice(0,-2):Z}function Tr(Z,ne,xe){return Z?Z.concat(ne).map(function(De,Ge){return De=Jr(De),!xe&&Ge?"["+De+"]":De}).join(xe?".":""):ne}function mr(Z){return ze.isArray(Z)&&!Z.some(Bt)}const yr=ze.toFlatObject(ze,{},null,function(ne){return/^is[A-Z]/.test(ne)});function Fr(Z,ne,xe){if(!ze.isObject(Z))throw new TypeError("target must be an object");ne=ne||new FormData,xe=ze.toFlatObject(xe,{metaTokens:!0,dots:!1,indexes:!1},!1,function(wt,_t){return!ze.isUndefined(_t[wt])});const Se=xe.metaTokens,De=xe.visitor||we,Ge=xe.dots,Ke=xe.indexes,G=(xe.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(ne);if(!ze.isFunction(De))throw new TypeError("visitor must be a function");function ue(st){if(st===null)return"";if(ze.isDate(st))return st.toISOString();if(ze.isBoolean(st))return st.toString();if(!G&&ze.isBlob(st))throw new kt("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(st)||ze.isTypedArray(st)?G&&typeof Blob=="function"?new Blob([st]):Buffer.from(st):st}function we(st,wt,_t){let Jt=st;if(st&&!_t&&typeof st=="object"){if(ze.endsWith(wt,"{}"))wt=Se?wt:wt.slice(0,-2),st=JSON.stringify(st);else if(ze.isArray(st)&&mr(st)||(ze.isFileList(st)||ze.endsWith(wt,"[]"))&&(Jt=ze.toArray(st)))return wt=Jr(wt),Jt.forEach(function(Dr,zr){!(ze.isUndefined(Dr)||Dr===null)&&ne.append(Ke===!0?Tr([wt],zr,Ge):Ke===null?wt:wt+"[]",ue(Dr))}),!1}return Bt(st)?!0:(ne.append(Tr(_t,wt,Ge),ue(st)),!1)}const Re=[],nt=Object.assign(yr,{defaultVisitor:we,convertValue:ue,isVisitable:Bt});function pt(st,wt){if(!ze.isUndefined(st)){if(Re.indexOf(st)!==-1)throw Error("Circular reference detected in "+wt.join("."));Re.push(st),ze.forEach(st,function(Jt,Ar){(!(ze.isUndefined(Jt)||Jt===null)&&De.call(ne,Jt,ze.isString(Ar)?Ar.trim():Ar,wt,nt))===!0&&pt(Jt,wt?wt.concat(Ar):[Ar])}),Re.pop()}}if(!ze.isObject(Z))throw new TypeError("data must be an object");return pt(Z),ne}function it(Z){const ne={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(Z).replace(/[!'()~]|%20|%00/g,function(Se){return ne[Se]})}function Ut(Z,ne){this._pairs=[],Z&&Fr(Z,this,ne)}const Mt=Ut.prototype;Mt.append=function(ne,xe){this._pairs.push([ne,xe])},Mt.toString=function(ne){const xe=ne?function(Se){return ne.call(this,Se,it)}:it;return this._pairs.map(function(De){return xe(De[0])+"="+xe(De[1])},"").join("&")};function Ft(Z){return encodeURIComponent(Z).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function br(Z,ne,xe){if(!ne)return Z;const Se=xe&&xe.encode||Ft;ze.isFunction(xe)&&(xe={serialize:xe});const De=xe&&xe.serialize;let Ge;if(De?Ge=De(ne,xe):Ge=ze.isURLSearchParams(ne)?ne.toString():new Ut(ne,xe).toString(Se),Ge){const Ke=Z.indexOf("#");Ke!==-1&&(Z=Z.slice(0,Ke)),Z+=(Z.indexOf("?")===-1?"?":"&")+Ge}return Z}class hr{constructor(){this.handlers=[]}use(ne,xe,Se){return this.handlers.push({fulfilled:ne,rejected:xe,synchronous:Se?Se.synchronous:!1,runWhen:Se?Se.runWhen:null}),this.handlers.length-1}eject(ne){this.handlers[ne]&&(this.handlers[ne]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(ne){ze.forEach(this.handlers,function(Se){Se!==null&&ne(Se)})}}var Gt=hr,Cr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xa=typeof URLSearchParams<"u"?URLSearchParams:Ut,on=typeof FormData<"u"?FormData:null,aa=typeof Blob<"u"?Blob:null,Si={isBrowser:!0,classes:{URLSearchParams:xa,FormData:on,Blob:aa},protocols:["http","https","file","blob","url","data"]};const nr=typeof window<"u"&&typeof document<"u",_i=typeof navigator=="object"&&navigator||void 0,ya=nr&&(!_i||["ReactNative","NativeScript","NS"].indexOf(_i.product)<0),Wn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sa=nr&&window.location.href||"http://localhost";var Zr=Object.freeze({__proto__:null,hasBrowserEnv:nr,hasStandardBrowserWebWorkerEnv:Wn,hasStandardBrowserEnv:ya,navigator:_i,origin:sa}),Pe={...Zr,...Si};function V(Z,ne){return Fr(Z,new Pe.classes.URLSearchParams,{visitor:function(xe,Se,De,Ge){return Pe.isNode&&ze.isBuffer(xe)?(this.append(Se,xe.toString("base64")),!1):Ge.defaultVisitor.apply(this,arguments)},...ne})}function Q(Z){return ze.matchAll(/\w+|\[(\w*)]/g,Z).map(ne=>ne[0]==="[]"?"":ne[1]||ne[0])}function X(Z){const ne={},xe=Object.keys(Z);let Se;const De=xe.length;let Ge;for(Se=0;Se<De;Se++)Ge=xe[Se],ne[Ge]=Z[Ge];return ne}function se(Z){function ne(xe,Se,De,Ge){let Ke=xe[Ge++];if(Ke==="__proto__")return!0;const k=Number.isFinite(+Ke),G=Ge>=xe.length;return Ke=!Ke&&ze.isArray(De)?De.length:Ke,G?(ze.hasOwnProp(De,Ke)?De[Ke]=[De[Ke],Se]:De[Ke]=Se,!k):((!De[Ke]||!ze.isObject(De[Ke]))&&(De[Ke]=[]),ne(xe,Se,De[Ke],Ge)&&ze.isArray(De[Ke])&&(De[Ke]=X(De[Ke])),!k)}if(ze.isFormData(Z)&&ze.isFunction(Z.entries)){const xe={};return ze.forEachEntry(Z,(Se,De)=>{ne(Q(Se),De,xe,0)}),xe}return null}function te(Z,ne,xe){if(ze.isString(Z))try{return(ne||JSON.parse)(Z),ze.trim(Z)}catch(Se){if(Se.name!=="SyntaxError")throw Se}return(xe||JSON.stringify)(Z)}const me={transitional:Cr,adapter:["xhr","http","fetch"],transformRequest:[function(ne,xe){const Se=xe.getContentType()||"",De=Se.indexOf("application/json")>-1,Ge=ze.isObject(ne);if(Ge&&ze.isHTMLForm(ne)&&(ne=new FormData(ne)),ze.isFormData(ne))return De?JSON.stringify(se(ne)):ne;if(ze.isArrayBuffer(ne)||ze.isBuffer(ne)||ze.isStream(ne)||ze.isFile(ne)||ze.isBlob(ne)||ze.isReadableStream(ne))return ne;if(ze.isArrayBufferView(ne))return ne.buffer;if(ze.isURLSearchParams(ne))return xe.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),ne.toString();let k;if(Ge){if(Se.indexOf("application/x-www-form-urlencoded")>-1)return V(ne,this.formSerializer).toString();if((k=ze.isFileList(ne))||Se.indexOf("multipart/form-data")>-1){const G=this.env&&this.env.FormData;return Fr(k?{"files[]":ne}:ne,G&&new G,this.formSerializer)}}return Ge||De?(xe.setContentType("application/json",!1),te(ne)):ne}],transformResponse:[function(ne){const xe=this.transitional||me.transitional,Se=xe&&xe.forcedJSONParsing,De=this.responseType==="json";if(ze.isResponse(ne)||ze.isReadableStream(ne))return ne;if(ne&&ze.isString(ne)&&(Se&&!this.responseType||De)){const Ke=!(xe&&xe.silentJSONParsing)&&De;try{return JSON.parse(ne,this.parseReviver)}catch(k){if(Ke)throw k.name==="SyntaxError"?kt.from(k,kt.ERR_BAD_RESPONSE,this,null,this.response):k}}return ne}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pe.classes.FormData,Blob:Pe.classes.Blob},validateStatus:function(ne){return ne>=200&&ne<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],Z=>{me.headers[Z]={}});var Ce=me;const qe=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Ue=Z=>{const ne={};let xe,Se,De;return Z&&Z.split(`
`).forEach(function(Ke){De=Ke.indexOf(":"),xe=Ke.substring(0,De).trim().toLowerCase(),Se=Ke.substring(De+1).trim(),!(!xe||ne[xe]&&qe[xe])&&(xe==="set-cookie"?ne[xe]?ne[xe].push(Se):ne[xe]=[Se]:ne[xe]=ne[xe]?ne[xe]+", "+Se:Se)}),ne};const Me=Symbol("internals");function Ve(Z){return Z&&String(Z).trim().toLowerCase()}function rt(Z){return Z===!1||Z==null?Z:ze.isArray(Z)?Z.map(rt):String(Z)}function xt(Z){const ne=Object.create(null),xe=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Se;for(;Se=xe.exec(Z);)ne[Se[1]]=Se[2];return ne}const yt=Z=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Z.trim());function bt(Z,ne,xe,Se,De){if(ze.isFunction(Se))return Se.call(this,ne,xe);if(De&&(ne=xe),!!ze.isString(ne)){if(ze.isString(Se))return ne.indexOf(Se)!==-1;if(ze.isRegExp(Se))return Se.test(ne)}}function St(Z){return Z.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(ne,xe,Se)=>xe.toUpperCase()+Se)}function or(Z,ne){const xe=ze.toCamelCase(" "+ne);["get","set","has"].forEach(Se=>{Object.defineProperty(Z,Se+xe,{value:function(De,Ge,Ke){return this[Se].call(this,ne,De,Ge,Ke)},configurable:!0})})}class Rr{constructor(ne){ne&&this.set(ne)}set(ne,xe,Se){const De=this;function Ge(k,G,ue){const we=Ve(G);if(!we)throw new Error("header name must be a non-empty string");const Re=ze.findKey(De,we);(!Re||De[Re]===void 0||ue===!0||ue===void 0&&De[Re]!==!1)&&(De[Re||G]=rt(k))}const Ke=(k,G)=>ze.forEach(k,(ue,we)=>Ge(ue,we,G));if(ze.isPlainObject(ne)||ne instanceof this.constructor)Ke(ne,xe);else if(ze.isString(ne)&&(ne=ne.trim())&&!yt(ne))Ke(Ue(ne),xe);else if(ze.isObject(ne)&&ze.isIterable(ne)){let k={},G,ue;for(const we of ne){if(!ze.isArray(we))throw TypeError("Object iterator must return a key-value pair");k[ue=we[0]]=(G=k[ue])?ze.isArray(G)?[...G,we[1]]:[G,we[1]]:we[1]}Ke(k,xe)}else ne!=null&&Ge(xe,ne,Se);return this}get(ne,xe){if(ne=Ve(ne),ne){const Se=ze.findKey(this,ne);if(Se){const De=this[Se];if(!xe)return De;if(xe===!0)return xt(De);if(ze.isFunction(xe))return xe.call(this,De,Se);if(ze.isRegExp(xe))return xe.exec(De);throw new TypeError("parser must be boolean|regexp|function")}}}has(ne,xe){if(ne=Ve(ne),ne){const Se=ze.findKey(this,ne);return!!(Se&&this[Se]!==void 0&&(!xe||bt(this,this[Se],Se,xe)))}return!1}delete(ne,xe){const Se=this;let De=!1;function Ge(Ke){if(Ke=Ve(Ke),Ke){const k=ze.findKey(Se,Ke);k&&(!xe||bt(Se,Se[k],k,xe))&&(delete Se[k],De=!0)}}return ze.isArray(ne)?ne.forEach(Ge):Ge(ne),De}clear(ne){const xe=Object.keys(this);let Se=xe.length,De=!1;for(;Se--;){const Ge=xe[Se];(!ne||bt(this,this[Ge],Ge,ne,!0))&&(delete this[Ge],De=!0)}return De}normalize(ne){const xe=this,Se={};return ze.forEach(this,(De,Ge)=>{const Ke=ze.findKey(Se,Ge);if(Ke){xe[Ke]=rt(De),delete xe[Ge];return}const k=ne?St(Ge):String(Ge).trim();k!==Ge&&delete xe[Ge],xe[k]=rt(De),Se[k]=!0}),this}concat(...ne){return this.constructor.concat(this,...ne)}toJSON(ne){const xe=Object.create(null);return ze.forEach(this,(Se,De)=>{Se!=null&&Se!==!1&&(xe[De]=ne&&ze.isArray(Se)?Se.join(", "):Se)}),xe}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([ne,xe])=>ne+": "+xe).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(ne){return ne instanceof this?ne:new this(ne)}static concat(ne,...xe){const Se=new this(ne);return xe.forEach(De=>Se.set(De)),Se}static accessor(ne){const Se=(this[Me]=this[Me]={accessors:{}}).accessors,De=this.prototype;function Ge(Ke){const k=Ve(Ke);Se[k]||(or(De,Ke),Se[k]=!0)}return ze.isArray(ne)?ne.forEach(Ge):Ge(ne),this}}Rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ze.reduceDescriptors(Rr.prototype,({value:Z},ne)=>{let xe=ne[0].toUpperCase()+ne.slice(1);return{get:()=>Z,set(Se){this[xe]=Se}}}),ze.freezeMethods(Rr);var It=Rr;function Ye(Z,ne){const xe=this||Ce,Se=ne||xe,De=It.from(Se.headers);let Ge=Se.data;return ze.forEach(Z,function(k){Ge=k.call(xe,Ge,De.normalize(),ne?ne.status:void 0)}),De.normalize(),Ge}function Ua(Z){return!!(Z&&Z.__CANCEL__)}function Zn(Z,ne,xe){kt.call(this,Z??"canceled",kt.ERR_CANCELED,ne,xe),this.name="CanceledError"}ze.inherits(Zn,kt,{__CANCEL__:!0});function ba(Z,ne,xe){const Se=xe.config.validateStatus;!xe.status||!Se||Se(xe.status)?Z(xe):ne(new kt("Request failed with status code "+xe.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(xe.status/100)-4],xe.config,xe.request,xe))}function qn(Z){const ne=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Z);return ne&&ne[1]||""}function Qo(Z,ne){Z=Z||10;const xe=new Array(Z),Se=new Array(Z);let De=0,Ge=0,Ke;return ne=ne!==void 0?ne:1e3,function(G){const ue=Date.now(),we=Se[Ge];Ke||(Ke=ue),xe[De]=G,Se[De]=ue;let Re=Ge,nt=0;for(;Re!==De;)nt+=xe[Re++],Re=Re%Z;if(De=(De+1)%Z,De===Ge&&(Ge=(Ge+1)%Z),ue-Ke<ne)return;const pt=we&&ue-we;return pt?Math.round(nt*1e3/pt):void 0}}function Kr(Z,ne){let xe=0,Se=1e3/ne,De,Ge;const Ke=(ue,we=Date.now())=>{xe=we,De=null,Ge&&(clearTimeout(Ge),Ge=null),Z(...ue)};return[(...ue)=>{const we=Date.now(),Re=we-xe;Re>=Se?Ke(ue,we):(De=ue,Ge||(Ge=setTimeout(()=>{Ge=null,Ke(De)},Se-Re)))},()=>De&&Ke(De)]}const So=(Z,ne,xe=3)=>{let Se=0;const De=Qo(50,250);return Kr(Ge=>{const Ke=Ge.loaded,k=Ge.lengthComputable?Ge.total:void 0,G=Ke-Se,ue=De(G),we=Ke<=k;Se=Ke;const Re={loaded:Ke,total:k,progress:k?Ke/k:void 0,bytes:G,rate:ue||void 0,estimated:ue&&k&&we?(k-Ke)/ue:void 0,event:Ge,lengthComputable:k!=null,[ne?"download":"upload"]:!0};Z(Re)},xe)},fd=(Z,ne)=>{const xe=Z!=null;return[Se=>ne[0]({lengthComputable:xe,total:Z,loaded:Se}),ne[1]]},Hn=Z=>(...ne)=>ze.asap(()=>Z(...ne));var Ol=Pe.hasStandardBrowserEnv?((Z,ne)=>xe=>(xe=new URL(xe,Pe.origin),Z.protocol===xe.protocol&&Z.host===xe.host&&(ne||Z.port===xe.port)))(new URL(Pe.origin),Pe.navigator&&/(msie|trident)/i.test(Pe.navigator.userAgent)):()=>!0,$a=Pe.hasStandardBrowserEnv?{write(Z,ne,xe,Se,De,Ge,Ke){if(typeof document>"u")return;const k=[`${Z}=${encodeURIComponent(ne)}`];ze.isNumber(xe)&&k.push(`expires=${new Date(xe).toUTCString()}`),ze.isString(Se)&&k.push(`path=${Se}`),ze.isString(De)&&k.push(`domain=${De}`),Ge===!0&&k.push("secure"),ze.isString(Ke)&&k.push(`SameSite=${Ke}`),document.cookie=k.join("; ")},read(Z){if(typeof document>"u")return null;const ne=document.cookie.match(new RegExp("(?:^|; )"+Z+"=([^;]*)"));return ne?decodeURIComponent(ne[1]):null},remove(Z){this.write(Z,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Js(Z){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Z)}function Il(Z,ne){return ne?Z.replace(/\/?\/$/,"")+"/"+ne.replace(/^\/+/,""):Z}function za(Z,ne,xe){let Se=!Js(ne);return Z&&(Se||xe==!1)?Il(Z,ne):ne}const Qn=Z=>Z instanceof It?{...Z}:Z;function Li(Z,ne){ne=ne||{};const xe={};function Se(ue,we,Re,nt){return ze.isPlainObject(ue)&&ze.isPlainObject(we)?ze.merge.call({caseless:nt},ue,we):ze.isPlainObject(we)?ze.merge({},we):ze.isArray(we)?we.slice():we}function De(ue,we,Re,nt){if(ze.isUndefined(we)){if(!ze.isUndefined(ue))return Se(void 0,ue,Re,nt)}else return Se(ue,we,Re,nt)}function Ge(ue,we){if(!ze.isUndefined(we))return Se(void 0,we)}function Ke(ue,we){if(ze.isUndefined(we)){if(!ze.isUndefined(ue))return Se(void 0,ue)}else return Se(void 0,we)}function k(ue,we,Re){if(Re in ne)return Se(ue,we);if(Re in Z)return Se(void 0,ue)}const G={url:Ge,method:Ge,data:Ge,baseURL:Ke,transformRequest:Ke,transformResponse:Ke,paramsSerializer:Ke,timeout:Ke,timeoutMessage:Ke,withCredentials:Ke,withXSRFToken:Ke,adapter:Ke,responseType:Ke,xsrfCookieName:Ke,xsrfHeaderName:Ke,onUploadProgress:Ke,onDownloadProgress:Ke,decompress:Ke,maxContentLength:Ke,maxBodyLength:Ke,beforeRedirect:Ke,transport:Ke,httpAgent:Ke,httpsAgent:Ke,cancelToken:Ke,socketPath:Ke,responseEncoding:Ke,validateStatus:k,headers:(ue,we,Re)=>De(Qn(ue),Qn(we),Re,!0)};return ze.forEach(Object.keys({...Z,...ne}),function(we){const Re=G[we]||De,nt=Re(Z[we],ne[we],we);ze.isUndefined(nt)&&Re!==k||(xe[we]=nt)}),xe}var jc=Z=>{const ne=Li({},Z);let{data:xe,withXSRFToken:Se,xsrfHeaderName:De,xsrfCookieName:Ge,headers:Ke,auth:k}=ne;if(ne.headers=Ke=It.from(Ke),ne.url=br(za(ne.baseURL,ne.url,ne.allowAbsoluteUrls),Z.params,Z.paramsSerializer),k&&Ke.set("Authorization","Basic "+btoa((k.username||"")+":"+(k.password?unescape(encodeURIComponent(k.password)):""))),ze.isFormData(xe)){if(Pe.hasStandardBrowserEnv||Pe.hasStandardBrowserWebWorkerEnv)Ke.setContentType(void 0);else if(ze.isFunction(xe.getHeaders)){const G=xe.getHeaders(),ue=["content-type","content-length"];Object.entries(G).forEach(([we,Re])=>{ue.includes(we.toLowerCase())&&Ke.set(we,Re)})}}if(Pe.hasStandardBrowserEnv&&(Se&&ze.isFunction(Se)&&(Se=Se(ne)),Se||Se!==!1&&Ol(ne.url))){const G=De&&Ge&&$a.read(Ge);G&&Ke.set(De,G)}return ne},Rl=typeof XMLHttpRequest<"u"&&function(Z){return new Promise(function(xe,Se){const De=jc(Z);let Ge=De.data;const Ke=It.from(De.headers).normalize();let{responseType:k,onUploadProgress:G,onDownloadProgress:ue}=De,we,Re,nt,pt,st;function wt(){pt&&pt(),st&&st(),De.cancelToken&&De.cancelToken.unsubscribe(we),De.signal&&De.signal.removeEventListener("abort",we)}let _t=new XMLHttpRequest;_t.open(De.method.toUpperCase(),De.url,!0),_t.timeout=De.timeout;function Jt(){if(!_t)return;const Dr=It.from("getAllResponseHeaders"in _t&&_t.getAllResponseHeaders()),Lr={data:!k||k==="text"||k==="json"?_t.responseText:_t.response,status:_t.status,statusText:_t.statusText,headers:Dr,config:Z,request:_t};ba(function(Vr){xe(Vr),wt()},function(Vr){Se(Vr),wt()},Lr),_t=null}"onloadend"in _t?_t.onloadend=Jt:_t.onreadystatechange=function(){!_t||_t.readyState!==4||_t.status===0&&!(_t.responseURL&&_t.responseURL.indexOf("file:")===0)||setTimeout(Jt)},_t.onabort=function(){_t&&(Se(new kt("Request aborted",kt.ECONNABORTED,Z,_t)),_t=null)},_t.onerror=function(zr){const Lr=zr&&zr.message?zr.message:"Network Error",mn=new kt(Lr,kt.ERR_NETWORK,Z,_t);mn.event=zr||null,Se(mn),_t=null},_t.ontimeout=function(){let zr=De.timeout?"timeout of "+De.timeout+"ms exceeded":"timeout exceeded";const Lr=De.transitional||Cr;De.timeoutErrorMessage&&(zr=De.timeoutErrorMessage),Se(new kt(zr,Lr.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,Z,_t)),_t=null},Ge===void 0&&Ke.setContentType(null),"setRequestHeader"in _t&&ze.forEach(Ke.toJSON(),function(zr,Lr){_t.setRequestHeader(Lr,zr)}),ze.isUndefined(De.withCredentials)||(_t.withCredentials=!!De.withCredentials),k&&k!=="json"&&(_t.responseType=De.responseType),ue&&([nt,st]=So(ue,!0),_t.addEventListener("progress",nt)),G&&_t.upload&&([Re,pt]=So(G),_t.upload.addEventListener("progress",Re),_t.upload.addEventListener("loadend",pt)),(De.cancelToken||De.signal)&&(we=Dr=>{_t&&(Se(!Dr||Dr.type?new Zn(null,Z,_t):Dr),_t.abort(),_t=null)},De.cancelToken&&De.cancelToken.subscribe(we),De.signal&&(De.signal.aborted?we():De.signal.addEventListener("abort",we)));const Ar=qn(De.url);if(Ar&&Pe.protocols.indexOf(Ar)===-1){Se(new kt("Unsupported protocol "+Ar+":",kt.ERR_BAD_REQUEST,Z));return}_t.send(Ge||null)})},Ac=(Z,ne)=>{const{length:xe}=Z=Z?Z.filter(Boolean):[];if(ne||xe){let Se=new AbortController,De;const Ge=function(ue){if(!De){De=!0,k();const we=ue instanceof Error?ue:this.reason;Se.abort(we instanceof kt?we:new Zn(we instanceof Error?we.message:we))}};let Ke=ne&&setTimeout(()=>{Ke=null,Ge(new kt(`timeout ${ne} of ms exceeded`,kt.ETIMEDOUT))},ne);const k=()=>{Z&&(Ke&&clearTimeout(Ke),Ke=null,Z.forEach(ue=>{ue.unsubscribe?ue.unsubscribe(Ge):ue.removeEventListener("abort",Ge)}),Z=null)};Z.forEach(ue=>ue.addEventListener("abort",Ge));const{signal:G}=Se;return G.unsubscribe=()=>ze.asap(k),G}};const Hr=function*(Z,ne){let xe=Z.byteLength;if(xe<ne){yield Z;return}let Se=0,De;for(;Se<xe;)De=Se+ne,yield Z.slice(Se,De),Se=De},Ll=async function*(Z,ne){for await(const xe of el(Z))yield*Hr(xe,ne)},el=async function*(Z){if(Z[Symbol.asyncIterator]){yield*Z;return}const ne=Z.getReader();try{for(;;){const{done:xe,value:Se}=await ne.read();if(xe)break;yield Se}}finally{await ne.cancel()}},Ec=(Z,ne,xe,Se)=>{const De=Ll(Z,ne);let Ge=0,Ke,k=G=>{Ke||(Ke=!0,Se&&Se(G))};return new ReadableStream({async pull(G){try{const{done:ue,value:we}=await De.next();if(ue){k(),G.close();return}let Re=we.byteLength;if(xe){let nt=Ge+=Re;xe(nt)}G.enqueue(new Uint8Array(we))}catch(ue){throw k(ue),ue}},cancel(G){return k(G),De.return()}},{highWaterMark:2})},lu=64*1024,{isFunction:Ml}=ze,Pc=(({Request:Z,Response:ne})=>({Request:Z,Response:ne}))(ze.global),{ReadableStream:Fl,TextEncoder:oa}=ze.global,Ds=(Z,...ne)=>{try{return!!Z(...ne)}catch{return!1}},wa=Z=>{Z=ze.merge.call({skipUndefined:!0},Pc,Z);const{fetch:ne,Request:xe,Response:Se}=Z,De=ne?Ml(ne):typeof fetch=="function",Ge=Ml(xe),Ke=Ml(Se);if(!De)return!1;const k=De&&Ml(Fl),G=De&&(typeof oa=="function"?(st=>wt=>st.encode(wt))(new oa):async st=>new Uint8Array(await new xe(st).arrayBuffer())),ue=Ge&&k&&Ds(()=>{let st=!1;const wt=new xe(Pe.origin,{body:new Fl,method:"POST",get duplex(){return st=!0,"half"}}).headers.has("Content-Type");return st&&!wt}),we=Ke&&k&&Ds(()=>ze.isReadableStream(new Se("").body)),Re={stream:we&&(st=>st.body)};De&&["text","arrayBuffer","blob","formData","stream"].forEach(st=>{!Re[st]&&(Re[st]=(wt,_t)=>{let Jt=wt&&wt[st];if(Jt)return Jt.call(wt);throw new kt(`Response type '${st}' is not supported`,kt.ERR_NOT_SUPPORT,_t)})});const nt=async st=>{if(st==null)return 0;if(ze.isBlob(st))return st.size;if(ze.isSpecCompliantForm(st))return(await new xe(Pe.origin,{method:"POST",body:st}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(st)||ze.isArrayBuffer(st))return st.byteLength;if(ze.isURLSearchParams(st)&&(st=st+""),ze.isString(st))return(await G(st)).byteLength},pt=async(st,wt)=>{const _t=ze.toFiniteNumber(st.getContentLength());return _t??nt(wt)};return async st=>{let{url:wt,method:_t,data:Jt,signal:Ar,cancelToken:Dr,timeout:zr,onDownloadProgress:Lr,onUploadProgress:mn,responseType:Vr,headers:ci,withCredentials:cs="same-origin",fetchOptions:us}=jc(st),to=ne||fetch;Vr=Vr?(Vr+"").toLowerCase():"text";let ro=Ac([Ar,Dr&&Dr.toAbortSignal()],zr),no=null;const _a=ro&&ro.unsubscribe&&(()=>{ro.unsubscribe()});let nl;try{if(mn&&ue&&_t!=="get"&&_t!=="head"&&(nl=await pt(ci,Jt))!==0){let ds=new xe(wt,{method:"POST",body:Jt,duplex:"half"}),io;if(ze.isFormData(Jt)&&(io=ds.headers.get("content-type"))&&ci.setContentType(io),ds.body){const[Fi,Na]=fd(nl,So(Hn(mn)));Jt=Ec(ds.body,lu,Fi,Na)}}ze.isString(cs)||(cs=cs?"include":"omit");const Mi=Ge&&"credentials"in xe.prototype,Ao={...us,signal:ro,method:_t.toUpperCase(),headers:ci.normalize().toJSON(),body:Jt,duplex:"half",credentials:Mi?cs:void 0};no=Ge&&new xe(wt,Ao);let An=await(Ge?to(no,us):to(wt,Ao));const il=we&&(Vr==="stream"||Vr==="response");if(we&&(Lr||il&&_a)){const ds={};["status","statusText","headers"].forEach(Ls=>{ds[Ls]=An[Ls]});const io=ze.toFiniteNumber(An.headers.get("content-length")),[Fi,Na]=Lr&&fd(io,So(Hn(Lr),!0))||[];An=new Se(Ec(An.body,lu,Fi,()=>{Na&&Na(),_a&&_a()}),ds)}Vr=Vr||"text";let zl=await Re[ze.findKey(Re,Vr)||"text"](An,st);return!il&&_a&&_a(),await new Promise((ds,io)=>{ba(ds,io,{data:zl,headers:It.from(An.headers),status:An.status,statusText:An.statusText,config:st,request:no})})}catch(Mi){throw _a&&_a(),Mi&&Mi.name==="TypeError"&&/Load failed|fetch/i.test(Mi.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,st,no),{cause:Mi.cause||Mi}):kt.from(Mi,Mi&&Mi.code,st,no)}}},ss=new Map,tl=Z=>{let ne=Z&&Z.env||{};const{fetch:xe,Request:Se,Response:De}=ne,Ge=[Se,De,xe];let Ke=Ge.length,k=Ke,G,ue,we=ss;for(;k--;)G=Ge[k],ue=we.get(G),ue===void 0&&we.set(G,ue=k?new Map:wa(ne)),we=ue;return ue};tl();const pr={http:dr,xhr:Rl,fetch:{get:tl}};ze.forEach(pr,(Z,ne)=>{if(Z){try{Object.defineProperty(Z,"name",{value:ne})}catch{}Object.defineProperty(Z,"adapterName",{value:ne})}});const Os=Z=>`- ${Z}`,xf=Z=>ze.isFunction(Z)||Z===null||Z===!1;function pd(Z,ne){Z=ze.isArray(Z)?Z:[Z];const{length:xe}=Z;let Se,De;const Ge={};for(let Ke=0;Ke<xe;Ke++){Se=Z[Ke];let k;if(De=Se,!xf(Se)&&(De=pr[(k=String(Se)).toLowerCase()],De===void 0))throw new kt(`Unknown adapter '${k}'`);if(De&&(ze.isFunction(De)||(De=De.get(ne))))break;Ge[k||"#"+Ke]=De}if(!De){const Ke=Object.entries(Ge).map(([G,ue])=>`adapter ${G} `+(ue===!1?"is not supported by the environment":"is not available in the build"));let k=xe?Ke.length>1?`since :
`+Ke.map(Os).join(`
`):" "+Os(Ke[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+k,"ERR_NOT_SUPPORT")}return De}var Sa={getAdapter:pd,adapters:pr};function Is(Z){if(Z.cancelToken&&Z.cancelToken.throwIfRequested(),Z.signal&&Z.signal.aborted)throw new Zn(null,Z)}function cu(Z){return Is(Z),Z.headers=It.from(Z.headers),Z.data=Ye.call(Z,Z.transformRequest),["post","put","patch"].indexOf(Z.method)!==-1&&Z.headers.setContentType("application/x-www-form-urlencoded",!1),Sa.getAdapter(Z.adapter||Ce.adapter,Z)(Z).then(function(Se){return Is(Z),Se.data=Ye.call(Z,Z.transformResponse,Se),Se.headers=It.from(Se.headers),Se},function(Se){return Ua(Se)||(Is(Z),Se&&Se.response&&(Se.response.data=Ye.call(Z,Z.transformResponse,Se.response),Se.response.headers=It.from(Se.response.headers))),Promise.reject(Se)})}const Bl="1.13.2",Zs={};["object","boolean","number","function","string","symbol"].forEach((Z,ne)=>{Zs[Z]=function(Se){return typeof Se===Z||"a"+(ne<1?"n ":" ")+Z}});const Tc={};Zs.transitional=function(ne,xe,Se){function De(Ge,Ke){return"[Axios v"+Bl+"] Transitional option '"+Ge+"'"+Ke+(Se?". "+Se:"")}return(Ge,Ke,k)=>{if(ne===!1)throw new kt(De(Ke," has been removed"+(xe?" in "+xe:"")),kt.ERR_DEPRECATED);return xe&&!Tc[Ke]&&(Tc[Ke]=!0,console.warn(De(Ke," has been deprecated since v"+xe+" and will be removed in the near future"))),ne?ne(Ge,Ke,k):!0}},Zs.spelling=function(ne){return(xe,Se)=>(console.warn(`${Se} is likely a misspelling of ${ne}`),!0)};function Rs(Z,ne,xe){if(typeof Z!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const Se=Object.keys(Z);let De=Se.length;for(;De-- >0;){const Ge=Se[De],Ke=ne[Ge];if(Ke){const k=Z[Ge],G=k===void 0||Ke(k,Ge,Z);if(G!==!0)throw new kt("option "+Ge+" must be "+G,kt.ERR_BAD_OPTION_VALUE);continue}if(xe!==!0)throw new kt("Unknown option "+Ge,kt.ERR_BAD_OPTION)}}var Qs={assertOptions:Rs,validators:Zs};const Cn=Qs.validators;class No{constructor(ne){this.defaults=ne||{},this.interceptors={request:new Gt,response:new Gt}}async request(ne,xe){try{return await this._request(ne,xe)}catch(Se){if(Se instanceof Error){let De={};Error.captureStackTrace?Error.captureStackTrace(De):De=new Error;const Ge=De.stack?De.stack.replace(/^.+\n/,""):"";try{Se.stack?Ge&&!String(Se.stack).endsWith(Ge.replace(/^.+\n.+\n/,""))&&(Se.stack+=`
`+Ge):Se.stack=Ge}catch{}}throw Se}}_request(ne,xe){typeof ne=="string"?(xe=xe||{},xe.url=ne):xe=ne||{},xe=Li(this.defaults,xe);const{transitional:Se,paramsSerializer:De,headers:Ge}=xe;Se!==void 0&&Qs.assertOptions(Se,{silentJSONParsing:Cn.transitional(Cn.boolean),forcedJSONParsing:Cn.transitional(Cn.boolean),clarifyTimeoutError:Cn.transitional(Cn.boolean)},!1),De!=null&&(ze.isFunction(De)?xe.paramsSerializer={serialize:De}:Qs.assertOptions(De,{encode:Cn.function,serialize:Cn.function},!0)),xe.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?xe.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:xe.allowAbsoluteUrls=!0),Qs.assertOptions(xe,{baseUrl:Cn.spelling("baseURL"),withXsrfToken:Cn.spelling("withXSRFToken")},!0),xe.method=(xe.method||this.defaults.method||"get").toLowerCase();let Ke=Ge&&ze.merge(Ge.common,Ge[xe.method]);Ge&&ze.forEach(["delete","get","head","post","put","patch","common"],st=>{delete Ge[st]}),xe.headers=It.concat(Ke,Ge);const k=[];let G=!0;this.interceptors.request.forEach(function(wt){typeof wt.runWhen=="function"&&wt.runWhen(xe)===!1||(G=G&&wt.synchronous,k.unshift(wt.fulfilled,wt.rejected))});const ue=[];this.interceptors.response.forEach(function(wt){ue.push(wt.fulfilled,wt.rejected)});let we,Re=0,nt;if(!G){const st=[cu.bind(this),void 0];for(st.unshift(...k),st.push(...ue),nt=st.length,we=Promise.resolve(xe);Re<nt;)we=we.then(st[Re++],st[Re++]);return we}nt=k.length;let pt=xe;for(;Re<nt;){const st=k[Re++],wt=k[Re++];try{pt=st(pt)}catch(_t){wt.call(this,_t);break}}try{we=cu.call(this,pt)}catch(st){return Promise.reject(st)}for(Re=0,nt=ue.length;Re<nt;)we=we.then(ue[Re++],ue[Re++]);return we}getUri(ne){ne=Li(this.defaults,ne);const xe=za(ne.baseURL,ne.url,ne.allowAbsoluteUrls);return br(xe,ne.params,ne.paramsSerializer)}}ze.forEach(["delete","get","head","options"],function(ne){No.prototype[ne]=function(xe,Se){return this.request(Li(Se||{},{method:ne,url:xe,data:(Se||{}).data}))}}),ze.forEach(["post","put","patch"],function(ne){function xe(Se){return function(Ge,Ke,k){return this.request(Li(k||{},{method:ne,headers:Se?{"Content-Type":"multipart/form-data"}:{},url:Ge,data:Ke}))}}No.prototype[ne]=xe(),No.prototype[ne+"Form"]=xe(!0)});var rl=No;class Ul{constructor(ne){if(typeof ne!="function")throw new TypeError("executor must be a function.");let xe;this.promise=new Promise(function(Ge){xe=Ge});const Se=this;this.promise.then(De=>{if(!Se._listeners)return;let Ge=Se._listeners.length;for(;Ge-- >0;)Se._listeners[Ge](De);Se._listeners=null}),this.promise.then=De=>{let Ge;const Ke=new Promise(k=>{Se.subscribe(k),Ge=k}).then(De);return Ke.cancel=function(){Se.unsubscribe(Ge)},Ke},ne(function(Ge,Ke,k){Se.reason||(Se.reason=new Zn(Ge,Ke,k),xe(Se.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(ne){if(this.reason){ne(this.reason);return}this._listeners?this._listeners.push(ne):this._listeners=[ne]}unsubscribe(ne){if(!this._listeners)return;const xe=this._listeners.indexOf(ne);xe!==-1&&this._listeners.splice(xe,1)}toAbortSignal(){const ne=new AbortController,xe=Se=>{ne.abort(Se)};return this.subscribe(xe),ne.signal.unsubscribe=()=>this.unsubscribe(xe),ne.signal}static source(){let ne;return{token:new Ul(function(De){ne=De}),cancel:ne}}}var kc=Ul;function os(Z){return function(xe){return Z.apply(null,xe)}}function $l(Z){return ze.isObject(Z)&&Z.isAxiosError===!0}const jo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jo).forEach(([Z,ne])=>{jo[ne]=Z});var ls=jo;function eo(Z){const ne=new rl(Z),xe=e(rl.prototype.request,ne);return ze.extend(xe,rl.prototype,ne,{allOwnKeys:!0}),ze.extend(xe,ne,null,{allOwnKeys:!0}),xe.create=function(De){return eo(Li(Z,De))},xe}const ln=eo(Ce);return ln.Axios=rl,ln.CanceledError=Zn,ln.CancelToken=kc,ln.isCancel=Ua,ln.VERSION=Bl,ln.toFormData=Fr,ln.AxiosError=kt,ln.Cancel=ln.CanceledError,ln.all=function(ne){return Promise.all(ne)},ln.spread=os,ln.isAxiosError=$l,ln.mergeConfig=Li,ln.AxiosHeaders=It,ln.formToJSON=Z=>se(ze.isHTMLForm(Z)?new FormData(Z):Z),ln.getAdapter=Sa.getAdapter,ln.HttpStatusCode=ls,ln.default=ln,ES=ln,ES}const pAe="8.1.6",mAe={version:pAe};var PS,hR;function r3(){return hR||(hR=1,PS=function e(t,r,n){if(typeof t!="object"||t===null)throw new Error("Non object passed to convertKeys: "+t);if(Array.isArray(t))return t;Array.isArray(n)||(n=[]);for(const i in t)if(t.hasOwnProperty(i)){const a=r(i);typeof t[i]=="object"&&t[i]!==null&&!n.includes(i)&&!n.includes(a)&&(t[i]=e(t[i],r,n)),a!==i&&(t[a]=t[i],delete t[i])}return t}),PS}var TS,pR;function gAe(){return pR||(pR=1,TS=function(t){if(typeof t!="string")throw new Error("String expected for conversion to snake case");return t.trim().replace(/_+|\-+/g," ").replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(r,n){return Number(r)===0?"":n===0?r.toLowerCase():r.toUpperCase()})}),TS}var kS,mR;function dv(){if(mR)return kS;mR=1;const e=r3(),t=gAe();return kS=function(n,i){return e(n,t,i)},kS}var CS,gR;function vAe(){return gR||(gR=1,CS=function(t){if(typeof t!="string")throw new Error("String expected for conversion to snake case");return t.trim().replace(/(\s*\-*\b\w|[A-Z])/g,function(r){return r=r.trim().toLowerCase().replace("-",""),(r[0]==="_"?"":"_")+r}).slice(1)}),CS}var DS,vR;function Jb(){if(vR)return DS;vR=1;const e=r3(),t=vAe();return DS=function(n,i){return e(n,t,i)},DS}var OS,xR;function fv(){return xR||(xR=1,OS=function(t){return JSON.parse(JSON.stringify(t))}),OS}const xAe={},yAe=Object.freeze(Object.defineProperty({__proto__:null,default:xAe},Symbol.toStringTag,{value:"Module"})),yR=WW(yAe);var IS,bR;function bAe(){if(bR)return IS;bR=1;const e=dv(),t=Jb(),r=fv(),n=yR,i=yR;class a{constructor(o){o&&this.fromData(o)}fromData(o){if(typeof o!="object")throw new Error("Expecting object for Mail data");o=r(o),o=e(o);const{content:c,filename:u,type:d,disposition:h,contentId:m,filePath:g}=o;if(typeof c<"u"&&typeof g<"u")throw new Error("The props 'content' and 'filePath' cannot be used together.");this.setFilename(u),this.setType(d),this.setDisposition(h),this.setContentId(m),this.setContent(g?this.readFile(g):c)}readFile(o){return n.readFileSync(i.resolve(o))}setContent(o){if(typeof o=="string"){this.content=o;return}else if(o instanceof Buffer&&o.toString!==void 0){this.content=o.toString(),this.disposition==="attachment"&&(this.content=o.toString("base64"));return}throw new Error("`content` expected to be either Buffer or string")}setFileContent(o){if(o instanceof Buffer&&o.toString!==void 0){this.content=o.toString("base64");return}throw new Error("`content` expected to be Buffer")}setFilename(o){if(!(typeof o>"u")){if(o&&typeof o!="string")throw new Error("String expected for `filename`");this.filename=o}}setType(o){if(!(typeof o>"u")){if(typeof o!="string")throw new Error("String expected for `type`");this.type=o}}setDisposition(o){if(!(typeof o>"u")){if(typeof o!="string")throw new Error("String expected for `disposition`");this.disposition=o}}setContentId(o){if(!(typeof o>"u")){if(typeof o!="string")throw new Error("String expected for `contentId`");this.contentId=o}}toJSON(){const{content:o,filename:c,type:u,disposition:d,contentId:h}=this,m={content:o,filename:c};return typeof u<"u"&&(m.type=u),typeof d<"u"&&(m.disposition=d),typeof h<"u"&&(m.contentId=h),t(m)}}return IS=a,IS}var RS,wR;function Zz(){return wR||(wR=1,RS=function(t){if(t.indexOf("<")===-1)return["",t];let[r,n]=t.split("<");return r=r.trim(),n=n.replace(">","").trim(),[r,n]}),RS}var LS,SR;function n3(){if(SR)return LS;SR=1;const e=Zz();class t{constructor(n){n&&this.fromData(n)}fromData(n){if(typeof n=="string"){const[s,o]=e(n);n={name:s,email:o}}if(typeof n!="object")throw new Error("Expecting object or string for EmailAddress data");const{name:i,email:a}=n;this.setEmail(a),this.setName(i)}setName(n){if(!(typeof n>"u")){if(typeof n!="string")throw new Error("String expected for `name`");this.name=n}}setEmail(n){if(typeof n>"u")throw new Error("Must provide `email`");if(typeof n!="string")throw new Error("String expected for `email`");this.email=n}toJSON(){const{email:n,name:i}=this,a={email:n};return i!==""&&(a.name=i),a}static create(n){return Array.isArray(n)?n.filter(i=>!!i).map(i=>this.create(i)):n instanceof t?n:new t(n)}}return LS=t,LS}var MS,_R;function wAe(){if(_R)return MS;_R=1;var e=function(_){return t(_)&&!r(_)};function t(w){return!!w&&typeof w=="object"}function r(w){var _=Object.prototype.toString.call(w);return _==="[object RegExp]"||_==="[object Date]"||a(w)}var n=typeof Symbol=="function"&&Symbol.for,i=n?Symbol.for("react.element"):60103;function a(w){return w.$$typeof===i}function s(w){return Array.isArray(w)?[]:{}}function o(w,_){return _.clone!==!1&&_.isMergeableObject(w)?v(s(w),w,_):w}function c(w,_,S){return w.concat(_).map(function(E){return o(E,S)})}function u(w,_){if(!_.customMerge)return v;var S=_.customMerge(w);return typeof S=="function"?S:v}function d(w){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(w).filter(function(_){return Object.propertyIsEnumerable.call(w,_)}):[]}function h(w){return Object.keys(w).concat(d(w))}function m(w,_){try{return _ in w}catch{return!1}}function g(w,_){return m(w,_)&&!(Object.hasOwnProperty.call(w,_)&&Object.propertyIsEnumerable.call(w,_))}function x(w,_,S){var E={};return S.isMergeableObject(w)&&h(w).forEach(function(T){E[T]=o(w[T],S)}),h(_).forEach(function(T){g(w,T)||(m(w,T)&&S.isMergeableObject(_[T])?E[T]=u(T,S)(w[T],_[T],S):E[T]=o(_[T],S))}),E}function v(w,_,S){S=S||{},S.arrayMerge=S.arrayMerge||c,S.isMergeableObject=S.isMergeableObject||e,S.cloneUnlessOtherwiseSpecified=o;var E=Array.isArray(_),T=Array.isArray(w),D=E===T;return D?E?S.arrayMerge(w,_,S):x(w,_,S):o(_,S)}v.all=function(_,S){if(!Array.isArray(_))throw new Error("first argument should be an array");return _.reduce(function(E,T){return v(E,T,S)},{})};var y=v;return MS=y,MS}var FS,NR;function Qz(){return NR||(NR=1,FS=function e(t,r="{{",n="}}"){if(Array.isArray(t))return t.map(a=>e(a,r,n));const i={};for(const a in t)t.hasOwnProperty(a)&&(i[r+a+n]=String(t[a]));return i}),FS}var BS,jR;function eW(){if(jR)return BS;jR=1;const e=n3(),t=dv(),r=Jb(),n=fv(),i=wAe(),a=Qz();class s{constructor(c){this.to=[],this.cc=[],this.bcc=[],this.headers={},this.customArgs={},this.substitutions={},this.substitutionWrappers=["{{","}}"],this.dynamicTemplateData={},c&&this.fromData(c)}fromData(c){if(typeof c!="object")throw new Error("Expecting object for Mail data");c=n(c),c=t(c,["substitutions","dynamicTemplateData","customArgs","headers"]);const{to:u,from:d,cc:h,bcc:m,subject:g,headers:x,customArgs:v,sendAt:y,substitutions:w,substitutionWrappers:_,dynamicTemplateData:S}=c;this.setTo(u),this.setFrom(d),this.setCc(h),this.setBcc(m),this.setSubject(g),this.setHeaders(x),this.setSubstitutions(w),this.setSubstitutionWrappers(_),this.setCustomArgs(v),this.setDynamicTemplateData(S),this.setSendAt(y)}setSubject(c){if(!(typeof c>"u")){if(typeof c!="string")throw new Error("String expected for `subject`");this.subject=c}}setSendAt(c){if(!(typeof c>"u")){if(!Number.isInteger(c))throw new Error("Integer expected for `sendAt`");this.sendAt=c}}setTo(c){typeof c>"u"||(Array.isArray(c)||(c=[c]),this.to=e.create(c))}setFrom(c){typeof c>"u"||(this.from=e.create(c))}addTo(c){typeof c>"u"||this.to.push(e.create(c))}setCc(c){typeof c>"u"||(Array.isArray(c)||(c=[c]),this.cc=e.create(c))}addCc(c){typeof c>"u"||this.cc.push(e.create(c))}setBcc(c){typeof c>"u"||(Array.isArray(c)||(c=[c]),this.bcc=e.create(c))}addBcc(c){typeof c>"u"||this.bcc.push(e.create(c))}setHeaders(c){if(!(typeof c>"u")){if(typeof c!="object"||c===null)throw new Error("Object expected for `headers`");this.headers=c}}addHeader(c,u){if(typeof c!="string")throw new Error("String expected for header key");if(typeof u!="string")throw new Error("String expected for header value");this.headers[c]=u}setCustomArgs(c){if(!(typeof c>"u")){if(typeof c!="object"||c===null)throw new Error("Object expected for `customArgs`");this.customArgs=c}}addCustomArg(c,u){if(typeof c!="string")throw new Error("String expected for custom arg key");if(typeof u!="string")throw new Error("String expected for custom arg value");this.customArgs[c]=u}setSubstitutions(c){if(!(typeof c>"u")){if(typeof c!="object")throw new Error("Object expected for `substitutions`");this.substitutions=c}}addSubstitution(c,u){if(typeof c!="string")throw new Error("String expected for substitution key");if(typeof u!="string"&&typeof u!="number")throw new Error("String or Number expected for substitution value");this.substitutions[c]=u}reverseMergeSubstitutions(c){if(!(typeof c>"u"||c===null)){if(typeof c!="object")throw new Error("Object expected for `substitutions` in reverseMergeSubstitutions");this.substitutions=Object.assign({},c,this.substitutions)}}setSubstitutionWrappers(c){if(!(typeof c>"u"||c===null)){if(!Array.isArray(c)||c.length!==2)throw new Error("Array expected with two elements for `substitutionWrappers`");this.substitutionWrappers=c}}deepMergeDynamicTemplateData(c){if(!(typeof c>"u"||c===null)){if(typeof c!="object")throw new Error("Object expected for `dynamicTemplateData` in deepMergeDynamicTemplateData");this.dynamicTemplateData=i(c,this.dynamicTemplateData)}}setDynamicTemplateData(c){if(!(typeof c>"u")){if(typeof c!="object")throw new Error("Object expected for `dynamicTemplateData`");this.dynamicTemplateData=c}}toJSON(){const{to:c,from:u,cc:d,bcc:h,subject:m,headers:g,customArgs:x,sendAt:v,substitutions:y,substitutionWrappers:w,dynamicTemplateData:_}=this,S={to:c};if(Array.isArray(d)&&d.length>0&&(S.cc=d),Array.isArray(h)&&h.length>0&&(S.bcc=h),Object.keys(g).length>0&&(S.headers=g),y&&Object.keys(y).length>0){const[E,T]=w;S.substitutions=a(y,E,T)}return Object.keys(x).length>0&&(S.customArgs=x),_&&Object.keys(_).length>0&&(S.dynamicTemplateData=_),typeof m<"u"&&(S.subject=m),typeof v<"u"&&(S.sendAt=v),typeof u<"u"&&(S.from=u),r(S,["substitutions","dynamicTemplateData","customArgs","headers"])}}return BS=s,BS}var US,AR;function tW(){return AR||(AR=1,US=function(t){return t.map(r=>typeof r=="object"&&r!==null&&typeof r.toJSON=="function"?r.toJSON():r)}),US}var $S,ER;function SAe(){return ER||(ER=1,$S={DYNAMIC_TEMPLATE_CHAR_WARNING:`
Content with characters ', " or & may need to be escaped with three brackets
{{{ content }}}
See https://sendgrid.com/docs/for-developers/sending-email/using-handlebars/ for more information.`}),$S}var zS,PR;function _Ae(){if(PR)return zS;PR=1;const e=(t,r,n,i)=>{if(!(typeof t>"u"||typeof t[n]>"u")&&typeof t[n]!==i)throw new Error(`${i} expected for \`${r}.${n}\``)};return zS={validateMailSettings(t){if(typeof t!="object")throw new Error("Object expected for `mailSettings`");const{bcc:r,bypassListManagement:n,bypassSpamManagement:i,bypassBounceManagement:a,bypassUnsubscribeManagement:s,footer:o,sandboxMode:c,spamCheck:u}=t;e(r,"bcc","enable","boolean"),e(r,"bcc","email","string"),e(n,"bypassListManagement","enable","boolean"),e(i,"bypassSpamManagement","enable","boolean"),e(a,"bypassBounceManagement","enable","boolean"),e(s,"bypassUnsubscribeManagement","enable","boolean"),e(o,"footer","enable","boolean"),e(o,"footer","text","string"),e(o,"footer","html","string"),e(c,"sandboxMode","enable","boolean"),e(u,"spamCheck","enable","boolean"),e(u,"spamCheck","threshold","number"),e(u,"spamCheck","postToUrl","string")},validateTrackingSettings(t){if(typeof t!="object")throw new Error("Object expected for `trackingSettings`");const{clickTracking:r,openTracking:n,subscriptionTracking:i,ganalytics:a}=t;e(r,"clickTracking","enable","boolean"),e(r,"clickTracking","enableText","boolean"),e(n,"openTracking","enable","boolean"),e(n,"openTracking","substitutionTag","string"),e(i,"subscriptionTracking","enable","boolean"),e(i,"subscriptionTracking","text","string"),e(i,"subscriptionTracking","html","string"),e(i,"subscriptionTracking","substitutionTag","string"),e(a,"ganalytics","enable","boolean"),e(a,"ganalytics","utm_source","string"),e(a,"ganalytics","utm_medium","string"),e(a,"ganalytics","utm_term","string"),e(a,"ganalytics","utm_content","string"),e(a,"ganalytics","utm_campaign","string")}},zS}var WS,TR;function NAe(){if(TR)return WS;TR=1;const e=n3(),t=eW(),r=dv(),n=Jb(),i=fv(),a=tW(),{DYNAMIC_TEMPLATE_CHAR_WARNING:s}=SAe(),{validateMailSettings:o,validateTrackingSettings:c}=_Ae();class u{constructor(h){this.isDynamic=!1,this.hideWarnings=!1,this.personalizations=[],this.attachments=[],this.content=[],this.categories=[],this.headers={},this.sections={},this.customArgs={},this.trackingSettings={},this.mailSettings={},this.asm={},this.substitutions=null,this.substitutionWrappers=null,this.dynamicTemplateData=null,h&&this.fromData(h)}fromData(h){if(typeof h!="object")throw new Error("Expecting object for Mail data");h=i(h),h=r(h,["substitutions","dynamicTemplateData","customArgs","headers","sections"]);const{to:m,from:g,replyTo:x,cc:v,bcc:y,sendAt:w,subject:_,text:S,html:E,content:T,templateId:D,personalizations:C,attachments:O,ipPoolName:R,batchId:H,sections:F,headers:U,categories:M,category:q,customArgs:ee,asm:ve,mailSettings:he,trackingSettings:ce,substitutions:be,substitutionWrappers:Oe,dynamicTemplateData:ae,isMultiple:L,hideWarnings:Y,replyToList:K}=h;this.setFrom(g),this.setReplyTo(x),this.setSubject(_),this.setSendAt(w),this.setTemplateId(D),this.setBatchId(H),this.setIpPoolName(R),this.setAttachments(O),this.setContent(T),this.setSections(F),this.setHeaders(U),this.setCategories(q),this.setCategories(M),this.setCustomArgs(ee),this.setAsm(ve),this.setMailSettings(he),this.setTrackingSettings(ce),this.setHideWarnings(Y),this.setReplyToList(K),this.isDynamic?this.setDynamicTemplateData(ae):(this.setSubstitutions(be),this.setSubstitutionWrappers(Oe)),this.addTextContent(S),this.addHtmlContent(E),C?this.setPersonalizations(C):L&&Array.isArray(m)?m.forEach(J=>this.addTo(J,v,y)):this.addTo(m,v,y)}setFrom(h){if(this._checkProperty("from",h,[this._checkUndefined])){if(typeof h!="string"&&typeof h.email!="string")throw new Error("String or address object expected for `from`");this.from=e.create(h)}}setReplyTo(h){if(this._checkProperty("replyTo",h,[this._checkUndefined])){if(typeof h!="string"&&typeof h.email!="string")throw new Error("String or address object expected for `replyTo`");this.replyTo=e.create(h)}}setSubject(h){this._setProperty("subject",h,"string")}setSendAt(h){this._checkProperty("sendAt",h,[this._checkUndefined,this._createCheckThatThrows(Number.isInteger,"Integer expected for `sendAt`")])&&(this.sendAt=h)}setTemplateId(h){this._setProperty("templateId",h,"string")&&h.indexOf("d-")===0&&(this.isDynamic=!0)}setBatchId(h){this._setProperty("batchId",h,"string")}setIpPoolName(h){this._setProperty("ipPoolName",h,"string")}setAsm(h){if(this._checkProperty("asm",h,[this._checkUndefined,this._createTypeCheck("object")])){if(typeof h.groupId!="number")throw new Error("Expected `asm` to include an integer in its `groupId` field");if(h.groupsToDisplay&&(!Array.isArray(h.groupsToDisplay)||!h.groupsToDisplay.every(m=>typeof m=="number")))throw new Error("Array of integers expected for `asm.groupsToDisplay`");this.asm=h}}setPersonalizations(h){if(this._doArrayCheck("personalizations",h)){if(!h.every(m=>typeof m=="object"))throw new Error("Array of objects expected for `personalizations`");this.personalizations=[],h.forEach(m=>this.addPersonalization(m))}}addPersonalization(h){this.isDynamic&&h.substitutions?delete h.substitutions:!this.isDynamic&&h.dynamicTemplateData&&delete h.dynamicTemplateData,h instanceof t||(h=new t(h)),this.isDynamic?this.applyDynamicTemplateData(h):this.applySubstitutions(h),this.personalizations.push(h)}addTo(h,m,g){if(typeof h>"u"&&typeof m>"u"&&typeof g>"u")throw new Error("Provide at least one of to, cc or bcc");this.addPersonalization(new t({to:h,cc:m,bcc:g}))}setSubstitutions(h){this._setProperty("substitutions",h,"object")}setSubstitutionWrappers(h){let m=(g,x)=>{if(!Array.isArray(x)||x.length!==2)throw new Error("Array expected with two elements for `"+g+"`")};this._checkProperty("substitutionWrappers",h,[this._checkUndefined,m])&&(this.substitutionWrappers=h)}applySubstitutions(h){h instanceof t&&(h.reverseMergeSubstitutions(this.substitutions),h.setSubstitutionWrappers(this.substitutionWrappers))}applyDynamicTemplateData(h){h instanceof t&&h.deepMergeDynamicTemplateData(this.dynamicTemplateData)}setDynamicTemplateData(h){if(!(typeof h>"u")){if(typeof h!="object")throw new Error("Object expected for `dynamicTemplateData`");this.hideWarnings||Object.values(h).forEach(m=>{/['"&]/.test(m)&&console.warn(s)}),this.dynamicTemplateData=h}}setContent(h){if(this._doArrayCheck("content",h)){if(!h.every(m=>typeof m=="object"))throw new Error("Expected each entry in `content` to be an object");if(!h.every(m=>typeof m.type=="string"))throw new Error("Expected each `content` entry to contain a `type` string");if(!h.every(m=>typeof m.value=="string"))throw new Error("Expected each `content` entry to contain a `value` string");this.content=h}}addContent(h){this._checkProperty("content",h,[this._createTypeCheck("object")])&&this.content.push(h)}addTextContent(h){this._checkProperty("text",h,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:h,type:"text/plain"})}addHtmlContent(h){this._checkProperty("html",h,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:h,type:"text/html"})}setAttachments(h){if(this._doArrayCheck("attachments",h)){if(!h.every(m=>typeof m.content=="string"))throw new Error("Expected each attachment to contain a `content` string");if(!h.every(m=>typeof m.filename=="string"))throw new Error("Expected each attachment to contain a `filename` string");if(!h.every(m=>!m.type||typeof m.type=="string"))throw new Error("Expected the attachment's `type` field to be a string");if(!h.every(m=>!m.disposition||typeof m.disposition=="string"))throw new Error("Expected the attachment's `disposition` field to be a string");this.attachments=h}}addAttachment(h){this._checkProperty("attachment",h,[this._checkUndefined,this._createTypeCheck("object")])&&this.attachments.push(h)}setCategories(h){let m=(g,x)=>{if(!Array.isArray(x)||!x.every(v=>typeof v=="string"))throw new Error("Array of strings expected for `"+g+"`")};typeof h=="string"&&(h=[h]),this._checkProperty("categories",h,[this._checkUndefined,m])&&(this.categories=h)}addCategory(h){this._checkProperty("category",h,[this._createTypeCheck("string")])&&this.categories.push(h)}setHeaders(h){this._setProperty("headers",h,"object")}addHeader(h,m){this._checkProperty("key",h,[this._createTypeCheck("string")])&&this._checkProperty("value",m,[this._createTypeCheck("string")])&&(this.headers[h]=m)}setSections(h){this._setProperty("sections",h,"object")}setCustomArgs(h){this._setProperty("customArgs",h,"object")}setTrackingSettings(h){typeof h>"u"||(c(h),this.trackingSettings=h)}setMailSettings(h){typeof h>"u"||(o(h),this.mailSettings=h)}setHideWarnings(h){if(!(typeof h>"u")){if(typeof h!="boolean")throw new Error("Boolean expected for `hideWarnings`");this.hideWarnings=h}}toJSON(){const{from:h,replyTo:m,sendAt:g,subject:x,content:v,templateId:y,personalizations:w,attachments:_,ipPoolName:S,batchId:E,asm:T,sections:D,headers:C,categories:O,customArgs:R,mailSettings:H,trackingSettings:F,replyToList:U}=this,M={from:h,subject:x,personalizations:a(w)};return Array.isArray(_)&&_.length>0&&(M.attachments=a(_)),Array.isArray(O)&&O.length>0&&(M.categories=O.filter(q=>q!=="")),Array.isArray(v)&&v.length>0&&(M.content=a(v)),Object.keys(C).length>0&&(M.headers=C),Object.keys(H).length>0&&(M.mailSettings=H),Object.keys(F).length>0&&(M.trackingSettings=F),Object.keys(R).length>0&&(M.customArgs=R),Object.keys(D).length>0&&(M.sections=D),Object.keys(T).length>0&&(M.asm=T),typeof m<"u"&&(M.replyTo=m),typeof g<"u"&&(M.sendAt=g),typeof E<"u"&&(M.batchId=E),typeof y<"u"&&(M.templateId=y),typeof S<"u"&&(M.ipPoolName=S),typeof U<"u"&&(M.replyToList=U),n(M,["substitutions","dynamicTemplateData","customArgs","headers","sections"])}static create(h){return Array.isArray(h)?h.filter(m=>!!m).map(m=>this.create(m)):h instanceof u?h:new u(h)}_checkProperty(h,m,g){return!g.some(x=>x(h,m))}_setProperty(h,m,g){let x=this._checkProperty(h,m,[this._checkUndefined,this._createTypeCheck(g)]);return x&&(this[h]=m),x}_checkUndefined(h,m){return typeof m>"u"}_createTypeCheck(h){return(m,g)=>{if(typeof g!==h)throw new Error(h+" expected for `"+m+"`")}}_createCheckThatThrows(h,m){return(g,x)=>{if(!h(x))throw new Error(m)}}_setArrayProperty(h,m){this._doArrayCheck(h,m)&&(this[h]=m)}_doArrayCheck(h,m){return this._checkProperty(h,m,[this._checkUndefined,this._createCheckThatThrows(Array.isArray,"Array expected for`"+h+"`")])}setReplyToList(h){if(this._doArrayCheck("replyToList",h)&&h.length){if(!h.every(m=>m&&typeof m.email=="string"))throw new Error("Expected each replyTo to contain an `email` string");this.replyToList=h}}}return WS=u,WS}var qS,kR;function jAe(){if(kR)return qS;kR=1;class e{constructor(r,n,i){this.statusCode=r,this.body=n,this.headers=i}toString(){return"HTTP "+this.statusCode+" "+this.body}}return qS=e,qS}var HS,CR;function AAe(){if(CR)return HS;CR=1;class e extends Error{constructor(r){super();const{headers:n,status:i,statusText:a,data:s}=r;this.code=i,this.message=a,this.response={headers:n,body:s},this.stack||Error.captureStackTrace(this,this.constructor);const o=new RegExp(process.cwd()+"/","gi");this.stack=this.stack.replace(o,"")}toString(){const{body:r}=this.response;let n=`${this.message} (${this.code})`;return r&&Array.isArray(r.errors)&&r.errors.forEach(i=>{const a=i.message,s=i.field,o=i.help;n+=`
  ${a}
    ${s}
    ${o}`}),n}toJSON(){const{message:r,code:n,response:i}=this;return{message:r,code:n,response:i}}}return HS=e,HS}var VS,DR;function EAe(){if(DR)return VS;DR=1;const e=dv(),t=fv(),r=["day","week","month"],n=["us","ca"],i=["desc","asc"];class a{constructor(o){this.startDate=null,this.endDate=null,this.aggregatedBy=null,o&&this.fromData(o)}fromData(o){if(typeof o!="object")throw new Error("Expecting object for Statistics data");o=t(o),o=e(o,["substitutions","customArgs"]);const{startDate:c,endDate:u,aggregatedBy:d}=o;this.setStartDate(c),this.setEndDate(u),this.setAggregatedBy(d)}setStartDate(o){if(typeof o>"u")throw new Error("Date expected for `startDate`");if(new Date(o)==="Invalid Date"||isNaN(new Date(o)))throw new Error("Date expected for `startDate`");console.log(o),this.startDate=new Date(o).toISOString().slice(0,10)}setEndDate(o){if(typeof o>"u"){this.endDate=new Date().toISOString().slice(0,10);return}if(new Date(o)==="Invalid Date"||isNaN(new Date(o)))throw new Error("Date expected for `endDate`");this.endDate=new Date(o).toISOString().slice(0,10)}setAggregatedBy(o){if(!(typeof o>"u"))if(typeof o=="string"&&r.includes(o.toLowerCase()))this.aggregatedBy=o;else throw new Error("Incorrect value for `aggregatedBy`")}getGlobal(){const{startDate:o,endDate:c,aggregatedBy:u}=this;return{startDate:o,endDate:c,aggregatedBy:u}}getAdvanced(o){const c=this.getGlobal();return typeof o>"u"||typeof o=="string"&&n.includes(o.toLowerCase())&&(c.country=o),c}getAdvancedMailboxProviders(o){const c=this.getGlobal();if(typeof o>"u")return c;if(Array.isArray(o)&&o.some(u=>typeof u!="string"))throw new Error("Array of strings expected for `mailboxProviders`");return c.mailBoxProviders=o,c}getAdvancedBrowsers(o){const c=this.getGlobal();if(typeof o>"u")return c;if(Array.isArray(o)&&o.some(u=>typeof u!="string"))throw new Error("Array of strings expected for `browsers`");return c.browsers=o,c}getCategories(o){if(typeof o>"u")throw new Error("Array of strings expected for `categories`");if(!this._isValidArrayOfStrings(o))throw new Error("Array of strings expected for `categories`");const c=this.getGlobal();return c.categories=o,c}getSubuser(o){if(typeof o>"u")throw new Error("Array of strings expected for `subusers`");if(!this._isValidArrayOfStrings(o))throw new Error("Array of strings expected for `subusers`");const c=this.getGlobal();return c.subusers=o,c}getSubuserSum(o="delivered",c=i[0],u=5,d=0){if(typeof o!="string")throw new Error("string expected for `sortByMetric`");if(!i.includes(c.toLowerCase()))throw new Error("desc or asc expected for `sortByDirection`");if(typeof u!="number")throw new Error("number expected for `limit`");if(typeof d!="number")throw new Error("number expected for `offset`");const h=this.getGlobal();return h.sortByMetric=o,h.sortByDirection=c,h.limit=u,h.offset=d,h}getSubuserMonthly(o="delivered",c=i[0],u=5,d=0){if(typeof o!="string")throw new Error("string expected for `sortByMetric`");if(!i.includes(c.toLowerCase()))throw new Error("desc or asc expected for `sortByDirection`");if(typeof u!="number")throw new Error("number expected for `limit`");if(typeof d!="number")throw new Error("number expected for `offset`");const h=this.getGlobal();return h.sortByMetric=o,h.sortByDirection=c,h.limit=u,h.offset=d,h}_isValidArrayOfStrings(o){return!(!Array.isArray(o)||o.length<1||o.some(c=>typeof c!="string"))}}return VS=a,VS}var KS,OR;function PAe(){if(OR)return KS;OR=1;const e=bAe(),t=n3(),r=NAe(),n=eW(),i=jAe(),a=AAe(),s=EAe();return KS={Attachment:e,EmailAddress:t,Mail:r,Personalization:n,Response:i,ResponseError:a,Statistics:s},KS}var GS,IR;function TAe(){return IR||(IR=1,GS=function(t,r){if(typeof t!="object"||t===null)throw new Error("Not an object provided for base");if(typeof r!="object"||r===null)throw new Error("Not an object provided for data");const n=Object.assign({},t);for(const i in r)r.hasOwnProperty(i)&&(r[i]&&Array.isArray(r[i])?n[i]=r[i]:r[i]&&typeof r[i]=="object"?n[i]=Object.assign({},r[i]):r[i]&&(n[i]=r[i]));return n}),GS}var YS,RR;function kAe(){if(RR)return YS;RR=1;const e=tW(),t=r3(),r=fv(),n=TAe(),i=Zz(),a=dv(),s=Jb(),o=Qz();return YS={arrayToJSON:e,convertKeys:t,deepClone:r,mergeData:n,splitNameEmail:i,toCamelCase:a,toSnakeCase:s,wrapSubstitutions:o},YS}var XS,LR;function rW(){if(LR)return XS;LR=1;const e=PAe(),t=kAe();return XS={classes:e,helpers:t},XS}var JS,MR;function nW(){if(MR)return JS;MR=1;const e=hAe(),t=mAe,{helpers:{mergeData:r},classes:{Response:n,ResponseError:i}}=rW(),a="SG.",s="https://api.sendgrid.com/",o="https://email.twilio.com/",c="global",u={eu:"https://api.eu.sendgrid.com/",global:"https://api.sendgrid.com/"};class d{constructor(){this.auth="",this.impersonateSubuser="",this.sendgrid_region=c,this.defaultHeaders={Accept:"application/json","Content-Type":"application/json","User-Agent":"sendgrid/"+t.version+";nodejs"},this.defaultRequest={baseUrl:s,url:"",method:"GET",headers:{},maxContentLength:1/0,maxBodyLength:1/0}}setApiKey(m){this.auth="Bearer "+m,this.setDefaultRequest("baseUrl",u[this.sendgrid_region]),this.isValidApiKey(m)||console.warn(`API key does not start with "${a}".`)}setTwilioEmailAuth(m,g){const x=Buffer.from(m+":"+g).toString("base64");this.auth="Basic "+x,this.setDefaultRequest("baseUrl",o),this.isValidTwilioAuth(m,g)||console.warn("Twilio Email credentials must be non-empty strings.")}isValidApiKey(m){return this.isString(m)&&m.trim().startsWith(a)}isValidTwilioAuth(m,g){return this.isString(m)&&m&&this.isString(g)&&g}isString(m){return typeof m=="string"||m instanceof String}setImpersonateSubuser(m){this.impersonateSubuser=m}setDefaultHeader(m,g){return m!==null&&typeof m=="object"?(Object.assign(this.defaultHeaders,m),this):(this.defaultHeaders[m]=g,this)}setDefaultRequest(m,g){return m!==null&&typeof m=="object"?(Object.assign(this.defaultRequest,m),this):(this.defaultRequest[m]=g,this)}setDataResidency(m){return u.hasOwnProperty(m)?(this.sendgrid_region=m,this.setDefaultRequest("baseUrl",u[m])):console.warn('Region can only be "global" or "eu".'),this}createHeaders(m){const g=r(this.defaultHeaders,m);return typeof g.Authorization>"u"&&this.auth&&(g.Authorization=this.auth),this.impersonateSubuser&&(g["On-Behalf-Of"]=this.impersonateSubuser),g}createRequest(m){let g={url:m.uri||m.url,baseUrl:m.baseUrl,method:m.method,data:m.body,params:m.qs,headers:m.headers};return g=r(this.defaultRequest,g),g.headers=this.createHeaders(g.headers),g.baseURL=g.baseUrl,delete g.baseUrl,g}request(m,g){m=this.createRequest(m);const x=new Promise((v,y)=>{e(m).then(w=>v([new n(w.status,w.data,w.headers),w.data])).catch(w=>w.response&&w.response.status>=400?y(new i(w.response)):y(w))});if(g&&typeof g!="function")throw new Error("Callback passed is not a function.");return g?x.then(v=>g(null,v)).catch(v=>g(v,null)):x}}return JS=d,JS}var ZS,FR;function CAe(){if(FR)return ZS;FR=1;const e=nW();return ZS=new e,ZS}var BR;function DAe(){if(BR)return Fx.exports;BR=1;const e=CAe(),t=nW();return Fx.exports=e,Fx.exports.Client=t,Fx.exports}var QS,UR;function iW(){if(UR)return QS;UR=1;const{Client:e}=DAe(),{classes:{Mail:t}}=rW();class r{constructor(){this.setClient(new e),this.setSubstitutionWrappers("{{","}}"),this.secretRules=[]}setClient(i){return this.client=i,this}setApiKey(i){return this.client.setApiKey(i),this}setTwilioEmailAuth(i,a){this.client.setTwilioEmailAuth(i,a)}setTimeout(i){typeof i>"u"||this.client.setDefaultRequest("timeout",i)}setSubstitutionWrappers(i,a){if(typeof i>"u"||typeof a>"u")throw new Error("Must provide both left and right side wrappers");return Array.isArray(this.substitutionWrappers)||(this.substitutionWrappers=[]),this.substitutionWrappers[0]=i,this.substitutionWrappers[1]=a,this}setSecretRules(i){i instanceof Array||(i=[i]);const a=i.map(function(s){const o=typeof s;if(o==="string")return{pattern:new RegExp(s)};if(o==="object"){s instanceof RegExp?s={pattern:s}:s.hasOwnProperty("pattern")&&typeof s.pattern=="string"&&(s.pattern=new RegExp(s.pattern));try{return s.pattern.test(""),s}catch{}}});this.secretRules=a.filter(function(s){return s})}filterSecrets(i){if(typeof i=="object"&&!i.hasOwnProperty("content"))return;const a=this;i.content.forEach(function(s){a.secretRules.forEach(function(o){if(o.hasOwnProperty("pattern")&&!o.pattern.test(s.value))return;let c=`The pattern '${o.pattern}'`;throw o.name&&(c+=`identified by '${o.name}'`),c+=" was found in the Mail content!",new Error(c)})})}send(i,a=!1,s){if(typeof a=="function"&&(s=a,a=!1),Array.isArray(i)){const o=Promise.all(i.map(c=>this.send(c,a)));return s&&o.then(c=>s(null,c)).catch(c=>s(c,null)),o}try{typeof i.isMultiple>"u"&&(i.isMultiple=a),typeof i.substitutionWrappers>"u"&&(i.substitutionWrappers=this.substitutionWrappers);const o=t.create(i),c=o.toJSON();this.filterSecrets(c);const u={method:"POST",url:"/v3/mail/send",headers:o.headers,body:c};return this.client.request(u,s)}catch(o){return s&&s(o,null),Promise.reject(o)}}sendMultiple(i,a){return this.send(i,!0,a)}}return QS=r,QS}var e_,$R;function OAe(){if($R)return e_;$R=1;const e=iW();return e_=new e,e_}var zR;function IAe(){if(zR)return Mx.exports;zR=1;const e=OAe(),t=iW();return Mx.exports=e,Mx.exports.MailService=t,Mx.exports}var RAe=IAe();const WR=wc(RAe),LAe=({supplier:e,clinicData:t})=>{const{t:r,locale:n}=sr(),{clinicInfo:i,supplierInvoices:a,expenses:s}=t,o=new Intl.DateTimeFormat(n,{year:"numeric",month:"long",day:"numeric"}),c=new Intl.NumberFormat(n,{style:"currency",currency:"EGP"}),u=A.useMemo(()=>a.filter(m=>m.supplierId===e.id).sort((m,g)=>new Date(m.invoiceDate).getTime()-new Date(g.invoiceDate).getTime()),[a,e.id]),d=A.useMemo(()=>{const m=u.reduce((v,y)=>v+y.amount,0),g=u.reduce((v,y)=>v+y.payments.reduce((w,_)=>w+_.amount,0),0),x=m-g;return{totalBilled:m,totalPaid:g,outstandingBalance:x}},[u]),h=A.useMemo(()=>s.filter(m=>m.supplierId===e.id).sort((m,g)=>new Date(m.date).getTime()-new Date(g.date).getTime()),[s,e.id]);return l.jsxs("div",{className:"p-8 bg-white text-slate-900 min-h-screen",dir:n==="ar"?"rtl":"ltr",style:{width:"210mm",minHeight:"297mm",margin:"0 auto",fontSize:"12px",lineHeight:"1.4"},children:[l.jsxs("header",{className:"text-center mb-10 break-inside-avoid",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-1",children:i.name||r("appName")}),l.jsx("p",{className:"text-sm text-slate-600",children:i.address}),l.jsxs("p",{className:"text-sm text-slate-600",children:[i.phone," | ",i.email]})]}),l.jsx("h2",{className:"text-xl font-bold text-primary-dark mt-6 mb-2",children:r("supplierStatement.financialTitle")}),l.jsx("p",{className:"text-sm text-slate-700",children:r("patientReport.generatedOn",{date:o.format(new Date)})})]}),l.jsxs("section",{className:"mb-10 p-6 border rounded-lg bg-neutral-light shadow-sm",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:r("supplierStatement.statementDetails")}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 text-md text-slate-700",children:[l.jsxs("div",{children:[l.jsxs("strong",{children:[r("suppliers.supplierName"),":"]})," ",e.name]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("suppliers.contactPerson"),":"]})," ",e.contactPerson||"-"]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("suppliers.phone"),":"]})," ",e.phone||"-"]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("suppliers.email"),":"]})," ",e.email||"-"]})]})]}),l.jsxs("section",{className:"mb-10 break-inside-avoid",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 border-b pb-2",children:r("invoices.title")}),u.length>0?l.jsxs("table",{className:"w-full text-md border-collapse border border-slate-400",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("invoices.date")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("invoices.invoiceNumber")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("invoices.billed")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("invoices.paidAmount")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("invoices.remaining")})]})}),l.jsx("tbody",{children:u.map(m=>{const g=m.payments.reduce((v,y)=>v+y.amount,0),x=m.amount-g;return l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("td",{className:"p-3 border border-slate-300",children:o.format(new Date(m.invoiceDate))}),l.jsx("td",{className:"p-3 border border-slate-300",children:m.invoiceNumber||m.id.slice(-6)}),l.jsx("td",{className:"p-3 border border-slate-300",children:c.format(m.amount)}),l.jsx("td",{className:"p-3 border border-slate-300",children:c.format(g)}),l.jsx("td",{className:"p-3 border border-slate-300",children:c.format(x)})]},m.id)})})]}):l.jsx("p",{className:"text-center text-slate-500 py-4",children:r("invoices.noInvoices")})]}),l.jsxs("section",{className:"mb-10 break-inside-avoid",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 border-b pb-2",children:r("financials.payments")}),h.length>0?l.jsxs("table",{className:"w-full text-md border-collapse border border-slate-400",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("expenses.date")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("expenses.description")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("expenses.category")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("expenses.amount")})]})}),l.jsx("tbody",{children:h.map(m=>l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("td",{className:"p-3 border border-slate-300",children:o.format(new Date(m.date))}),l.jsx("td",{className:"p-3 border border-slate-300",children:m.description}),l.jsx("td",{className:"p-3 border border-slate-300",children:r(`expenseCategory.${m.category}`)}),l.jsx("td",{className:"p-3 border border-slate-300",children:c.format(m.amount)})]},m.id))})]}):l.jsx("p",{className:"text-center text-slate-500 py-4",children:r("supplierStatement.noPaymentsRecorded")})]}),l.jsx("section",{className:"flex justify-end mt-12 mb-10",children:l.jsxs("div",{className:"w-full max-w-sm p-6 bg-blue-50 rounded-lg shadow-md border-primary-light",children:[l.jsx("h3",{className:"text-xl font-bold text-primary-dark mb-4",children:r("invoices.outstandingBalance")}),l.jsx("p",{className:"text-4xl font-extrabold text-primary-dark",children:c.format(d.outstandingBalance)})]})}),l.jsx("footer",{className:"text-center mt-12 text-slate-600 text-sm",children:l.jsx("p",{children:r("patientReport.footer")})})]})},MAe=({supplier:e,clinicData:t})=>{const{t:r,locale:n}=sr(),{clinicInfo:i,labCases:a,patients:s}=t,o=new Intl.DateTimeFormat(n,{year:"numeric",month:"long",day:"numeric"}),c=new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"}),u=new Intl.NumberFormat(n,{style:"currency",currency:"EGP"}),d=A.useMemo(()=>a.filter(m=>m.labId===e.id).sort((m,g)=>new Date(m.sentDate).getTime()-new Date(g.sentDate).getTime()),[a,e.id]),h=A.useMemo(()=>{const m=d.length,g=d.reduce((x,v)=>x+v.labCost,0);return{totalCases:m,totalCost:g}},[d]);return e.type!=="Dental Lab"?l.jsxs("div",{className:"p-8 bg-white text-slate-900 min-h-screen text-center",dir:n==="ar"?"rtl":"ltr",children:[l.jsx("h1",{className:"text-3xl font-bold text-red-600 mb-4",children:r("supplierStatement.notDentalLab")}),l.jsx("p",{className:"text-md text-slate-700",children:r("supplierStatement.selectDentalLab")})]}):l.jsxs("div",{className:"p-8 bg-white text-slate-900 min-h-screen",dir:n==="ar"?"rtl":"ltr",style:{width:"210mm",minHeight:"297mm",margin:"0 auto",fontSize:"12px",lineHeight:"1.4"},children:[l.jsxs("header",{className:"text-center mb-10 break-inside-avoid",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-1",children:i.name||r("appName")}),l.jsx("p",{className:"text-sm text-slate-600",children:i.address}),l.jsxs("p",{className:"text-sm text-slate-600",children:[i.phone," | ",i.email]})]}),l.jsx("h2",{className:"text-xl font-bold text-primary-dark mt-6 mb-2",children:r("supplierStatement.caseTitle")}),l.jsx("p",{className:"text-sm text-slate-700",children:r("patientReport.generatedOn",{date:o.format(new Date)})})]}),l.jsxs("section",{className:"mb-10 p-6 border rounded-lg bg-neutral-light shadow-sm",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:r("supplierStatement.caseDetails")}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 text-md text-slate-700",children:[l.jsxs("div",{children:[l.jsxs("strong",{children:[r("suppliers.supplierName"),":"]})," ",e.name]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("suppliers.contactPerson"),":"]})," ",e.contactPerson||"-"]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("suppliers.phone"),":"]})," ",e.phone||"-"]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("suppliers.email"),":"]})," ",e.email||"-"]})]}),l.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-200",children:[l.jsxs("p",{className:"text-lg text-slate-700",children:[l.jsxs("strong",{children:[r("supplierStatement.totalCases"),":"]})," ",h.totalCases]}),l.jsxs("p",{className:"text-lg text-slate-700",children:[l.jsxs("strong",{children:[r("supplierStatement.totalCost"),":"]})," ",u.format(h.totalCost)]})]})]}),l.jsxs("section",{className:"mb-10 break-inside-avoid",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 border-b pb-2",children:r("labCases.labCaseTracker")}),d.length>0?l.jsxs("table",{className:"w-full text-md border-collapse border border-slate-400",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("labCases.patient")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("labCases.caseType")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("labCases.sentDate")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("labCases.dueDate")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("labCases.status")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("labCases.cost")})]})}),l.jsxs("tbody",{children:[d.map(m=>{const g=s.find(x=>x.id===m.patientId);return l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("td",{className:"p-3 border border-slate-300",children:g?.name||r("common.unknownPatient")}),l.jsx("td",{className:"p-3 border border-slate-300",children:m.caseType}),l.jsx("td",{className:"p-3 border border-slate-300",children:c.format(new Date(m.sentDate))}),l.jsx("td",{className:"p-3 border border-slate-300",children:c.format(new Date(m.dueDate))}),l.jsx("td",{className:"p-3 border border-slate-300",children:r(`labCaseStatus.${m.status}`)}),l.jsx("td",{className:"p-3 border border-slate-300",children:u.format(m.labCost)})]},m.id)}),l.jsxs("tr",{className:"bg-slate-50 font-bold",children:[l.jsxs("td",{colSpan:5,className:"p-3 text-right border border-slate-300",children:[r("supplierStatement.totalCost"),":"]}),l.jsx("td",{className:"p-3 border border-slate-300",children:u.format(h.totalCost)})]})]})]}):l.jsx("p",{className:"text-center text-slate-500 py-4",children:r("labCases.noCasesRecorded")})]}),l.jsx("footer",{className:"text-center mt-12 text-slate-600 text-sm",children:l.jsx("p",{children:r("patientReport.footer")})})]})},aW=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),sW=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),FAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),i3=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),BAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),UAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),$Ae=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 me-1 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),qR=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m0 0v1a2 2 0 002 2h6a2 2 0 002-2v-1M8 12h8m-8 4h.01M5 12h.01M19 12h.01M5 16h.01M19 16h.01"})}),zAe=({supplier:e,onClose:t,onSave:r})=>{const{t:n}=sr(),[i,a]=A.useState(e||{name:"",contactPerson:"",phone:"",email:"",type:"Material Supplier"}),s=c=>{a({...i,[c.target.name]:c.target.value})},o=c=>{c.preventDefault(),r(i),t()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:n(e?"suppliers.editSupplier":"suppliers.addNewSupplier")}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":n("common.closeForm"),children:l.jsx(i3,{})})]}),l.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[l.jsx("label",{htmlFor:"supplier-name",className:"sr-only",children:n("suppliers.supplierName")}),l.jsx("input",{id:"supplier-name",name:"name",value:i.name,onChange:s,placeholder:n("suppliers.supplierName"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0}),l.jsx("label",{htmlFor:"contact-person",className:"sr-only",children:n("suppliers.contactPerson")}),l.jsx("input",{id:"contact-person",name:"contactPerson",value:i.contactPerson,onChange:s,placeholder:n("suppliers.contactPerson"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"}),l.jsx("label",{htmlFor:"supplier-phone",className:"sr-only",children:n("suppliers.phone")}),l.jsx("input",{id:"supplier-phone",name:"phone",value:i.phone,onChange:s,placeholder:n("suppliers.phone"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"}),l.jsx("label",{htmlFor:"supplier-email",className:"sr-only",children:n("suppliers.email")}),l.jsx("input",{id:"supplier-email",name:"email",type:"email",value:i.email,onChange:s,placeholder:n("suppliers.email"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-600 mb-1",children:n("suppliers.supplierType")}),l.jsxs("select",{id:"type",name:"type",value:i.type,onChange:s,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"Material Supplier",children:n("supplierType.materialSupplier")}),l.jsx("option",{value:"Dental Lab",children:n("supplierType.dentalLab")})]})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:n("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:n("common.save")})]})]})]})})},WAe=({invoice:e,supplierId:t,clinicData:r,onClose:n,onSave:i})=>{const{t:a}=sr(),[s,o]=A.useState(e||{supplierId:t,invoiceNumber:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",amount:0,status:D1.UNPAID,items:[{description:"",amount:0}],invoiceImageUrl:"",payments:[]}),c=r.suppliers.find(w=>w.id===t),u=c?.type==="Dental Lab"?r.labCases.filter(w=>w.labId===t):[],d=s.labCaseId?u.find(w=>w.id===s.labCaseId):null;A.useMemo(()=>{d&&!e&&o(w=>({...w,invoiceNumber:`LC-${d.caseType}-${Date.now()}`,amount:d.labCost,items:[{description:`Lab case: ${d.caseType}`,amount:d.labCost}],dueDate:d.dueDate}))},[d,e]);const h=w=>{const{name:_,value:S}=w.target;o({...s,[_]:_==="amount"?parseFloat(S):S})},m=(w,_,S)=>{const E=[...s.items];E[w]={...E[w],[_]:_==="amount"?parseFloat(S)||0:S},o({...s,items:E})},g=()=>{o({...s,items:[...s.items,{description:"",amount:0}]})},x=w=>{s.items.length>1&&o({...s,items:s.items.filter((_,S)=>S!==w)})},v=w=>{const _=w.target.files?.[0];if(_){const S=new FileReader;S.onloadend=()=>{o(E=>({...E,invoiceImageUrl:S.result}))},S.readAsDataURL(_)}},y=w=>{w.preventDefault();const _=s.items.reduce((E,T)=>E+(T.amount||0),0),S={...s,amount:_};i(S),n()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[60] p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:a(e?"invoices.editInvoice":"invoices.addInvoice")}),l.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-slate-200","aria-label":a("common.closeForm"),children:l.jsx(i3,{})})]}),l.jsxs("form",{onSubmit:y,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[l.jsx("input",{name:"invoiceNumber",value:s.invoiceNumber,onChange:h,placeholder:a("invoices.invoiceNumber"),className:"p-2 border border-slate-300 rounded-lg w-full"}),c?.type==="Dental Lab"&&u.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 block mb-2",children:"  "}),l.jsxs("select",{name:"labCaseId",value:s.labCaseId||"",onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full",children:[l.jsx("option",{value:"",children:"   ()"}),u.map(w=>l.jsxs("option",{value:w.id,children:[w.caseType," - ",r.patients.find(_=>_.id===w.patientId)?.name||"Unknown Patient"," (",w.status,")"]},w.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",htmlFor:"invoiceDate",children:a("invoices.invoiceDate")}),l.jsx("input",{id:"invoiceDate",name:"invoiceDate",type:"date",value:s.invoiceDate,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",htmlFor:"dueDate",children:a("invoices.dueDate")}),l.jsx("input",{id:"dueDate",name:"dueDate",type:"date",value:s.dueDate||"",onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 block mb-2",children:" "}),s.items.map((w,_)=>l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",placeholder:"",value:w.description,onChange:S=>m(_,"description",S.target.value),className:"flex-1 p-2 border border-slate-300 rounded-lg"}),l.jsx("input",{type:"number",step:"0.01",placeholder:"",value:w.amount,onChange:S=>m(_,"amount",S.target.value),className:"w-24 p-2 border border-slate-300 rounded-lg"}),s.items.length>1&&l.jsx("button",{type:"button",onClick:()=>x(_),className:"px-2 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200",children:""})]},_)),l.jsx("button",{type:"button",onClick:g,className:"text-sm text-primary hover:text-primary-dark",children:"+  "})]}),l.jsx("div",{className:"bg-slate-50 p-3 rounded-lg",children:l.jsxs("p",{className:"text-sm font-medium text-slate-600",children:[" : ",new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}).format(s.items.reduce((w,_)=>w+(_.amount||0),0))]})}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 block mb-2",children:a("invoices.attachInvoice")}),l.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:v,className:"text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),s.invoiceImageUrl&&l.jsx("img",{src:s.invoiceImageUrl,alt:"Invoice preview",className:"mt-2 max-h-32 rounded-lg"})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4",children:[l.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300",children:a("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:a("common.save")})]})]})]})})},qAe=({supplier:e,onClose:t,clinicData:r})=>{const{t:n,locale:i}=sr(),{supplierInvoices:a,addSupplierInvoice:s,updateSupplierInvoice:o,paySupplierInvoice:c,expenses:u}=r,{addNotification:d}=bi(),[h,m]=A.useState({type:null}),g=new Intl.NumberFormat(i,{style:"currency",currency:"EGP"}),x=new Intl.DateTimeFormat(i,{year:"numeric",month:"short",day:"numeric"}),v=A.useMemo(()=>a.filter(D=>D.supplierId===e.id).sort((D,C)=>new Date(C.invoiceDate).getTime()-new Date(D.invoiceDate).getTime()),[a,e.id]),y=A.useMemo(()=>u.filter(D=>D.supplierId===e.id||v.some(C=>C.payments.some(O=>O.expenseId===D.id))).sort((D,C)=>new Date(C.date).getTime()-new Date(D.date).getTime()),[u,e.id,v]),w=A.useMemo(()=>{console.log("Debug: Supplier ID:",e.id),console.log("Debug: Related Invoices:",v),console.log("Debug: Related Expenses:",y);const D=v.reduce((R,H)=>(console.log("Debug: Invoice amount:",H.amount,"for invoice:",H.id),R+H.amount),0),C=y.reduce((R,H)=>(console.log("Debug: Expense amount:",H.amount,"for expense:",H.id),R+H.amount),0),O=D-C;return console.log("Debug: Financial Summary - Total Billed:",D,"Total Paid:",C,"Outstanding:",O),{totalBilled:D,totalPaid:C,outstandingBalance:O}},[v,y]),_=D=>{"id"in D&&D.id?(o(D),d(n("notifications.invoiceUpdated"),gt.SUCCESS)):(s(D),d(n("notifications.invoiceAdded"),gt.SUCCESS)),m({type:null})},S=D=>{const C=D.payments.reduce((R,H)=>R+H.amount,0),O=D.amount-C;O>0&&window.confirm(n("invoices.confirmPayRemaining",{amount:g.format(O)}))&&(c(D),d(n("notifications.paymentRecorded"),gt.SUCCESS))},E=()=>{Nl(n("supplierStatement.financialTitle"),l.jsx(LAe,{supplier:e,clinicData:r}))},T=()=>{Nl(n("supplierStatement.caseTitle"),l.jsx(MAe,{supplier:e,clinicData:r}))};return l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:e.name}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:E,className:"flex items-center px-3 py-1 bg-slate-100 rounded-lg hover:bg-slate-200 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-slate-300",children:[l.jsx(qR,{})," ",n("supplierStatement.financialTitle")]}),e.type==="Dental Lab"&&l.jsxs("button",{onClick:T,className:"flex items-center px-3 py-1 bg-slate-100 rounded-lg hover:bg-slate-200 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-slate-300",children:[l.jsx(qR,{})," ",n("supplierStatement.caseTitle")]}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200","aria-label":n("common.closeForm"),children:l.jsx(i3,{})})]})]}),l.jsxs("main",{className:"p-6 overflow-y-auto space-y-6 bg-slate-50",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"font-semibold text-slate-600 mb-2",children:" "}),l.jsxs("p",{children:[l.jsx("strong",{children:" :"})," ",e.contactPerson||"-"]}),l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",e.phone||"-"]}),l.jsxs("p",{children:[l.jsx("strong",{children:" :"})," ",e.email||"-"]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"font-semibold text-slate-600 mb-2",children:" "}),l.jsxs("p",{children:[l.jsx("strong",{children:" :"})," ",g.format(w.totalBilled)]}),l.jsxs("p",{children:[l.jsx("strong",{children:" :"})," ",g.format(w.totalPaid)]}),l.jsxs("p",{className:"font-bold",children:[l.jsx("strong",{children:" :"})," ",g.format(w.outstandingBalance)]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700",children:""}),l.jsxs("button",{onClick:()=>m({type:"add_invoice"}),className:"flex items-center bg-primary text-white px-3 py-1 rounded-lg hover:bg-primary-dark text-sm",children:[l.jsx(aW,{}),"  "]})]}),l.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm space-y-3",children:v.length>0?v.map(D=>{const C=D.payments.reduce((R,H)=>R+H.amount,0),O=D.amount-C;return l.jsxs("div",{className:"border p-3 rounded-lg",children:[l.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800",children:[n("invoices.invoice")," #",D.invoiceNumber||D.id.slice(-6)]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[n("invoices.date"),": ",x.format(new Date(D.invoiceDate))]}),D.dueDate&&l.jsxs("p",{className:"text-xs text-slate-500",children:[n("invoices.due"),": ",x.format(new Date(D.dueDate))]})]}),l.jsxs("div",{className:"text-end",children:[l.jsx("p",{className:"text-lg font-bold",children:g.format(D.amount)}),l.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${O<=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:O<=0?n("invoices.paid"):`${n("invoices.remaining")}: ${g.format(O)}`})]})]}),D.items&&D.items.length>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t text-xs text-slate-600 space-y-1",children:[l.jsx("p",{className:"font-semibold text-xs text-slate-500",children:" :"}),D.items.map((R,H)=>l.jsxs("div",{className:"flex items-center justify-between ps-2",children:[l.jsx("span",{children:R.description||"  "}),l.jsx("span",{children:g.format(R.amount||0)})]},H))]}),D.payments.length>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t text-xs text-slate-600 space-y-1",children:[l.jsx("p",{className:"font-semibold text-xs text-slate-500",children:":"}),D.payments.map(R=>{const H=u.find(F=>F.id===R.expenseId);return l.jsxs("div",{className:"flex items-center justify-between ps-2",children:[l.jsxs("span",{children:[l.jsx($Ae,{}),x.format(new Date(R.date))," - ",H?.description||""]}),l.jsx("span",{children:g.format(R.amount)})]},R.expenseId)})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[D.invoiceImageUrl&&l.jsxs("a",{href:D.invoiceImageUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-primary hover:underline",children:[l.jsx(BAe,{}),n("invoices.viewAttachment")]}),O>0&&l.jsxs("button",{onClick:()=>S(D),className:"flex items-center gap-1 text-sm bg-green-100 text-green-700 px-2 py-1 rounded-lg hover:bg-green-200",children:[l.jsx(UAe,{}),n("invoices.payRemaining")]}),l.jsxs("button",{onClick:()=>m({type:"edit_invoice",data:D}),className:"flex items-center gap-1 text-sm bg-slate-100 text-slate-700 px-2 py-1 rounded-lg hover:bg-slate-200",children:[l.jsx(sW,{}),n("common.edit")]})]})]},D.id)}):l.jsx("p",{className:"text-slate-500 text-center py-4",children:"    ."})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-2",children:"  "}),l.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm space-y-3",children:y.length>0?y.map(D=>{const C=v.some(R=>R.payments.some(H=>H.expenseId===D.id)),O=v.find(R=>R.payments.some(H=>H.expenseId===D.id));return l.jsx("div",{className:"border p-3 rounded-lg",children:l.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800",children:C?`  ${O?.invoiceNumber||O?.id.slice(-6)}`:D.description}),l.jsxs("p",{className:"text-sm text-slate-600",children:[": ",x.format(new Date(D.date))]}),l.jsxs("p",{className:"text-xs text-slate-500",children:[": ",D.category==="SUPPLIES"?"":D.category==="RENT"?"":D.category==="SALARIES"?"":D.category==="UTILITIES"?"":D.category==="MARKETING"?"":D.category==="LAB_FEES"?" ":""]})]}),l.jsxs("div",{className:"text-end",children:[l.jsxs("p",{className:"text-lg font-bold text-red-600",children:["-",g.format(D.amount)]}),C&&l.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:" "})]})]})},D.id)}):l.jsx("p",{className:"text-slate-500 text-center py-4",children:"    ."})})]})]})]}),(h.type==="add_invoice"||h.type==="edit_invoice")&&l.jsx(WAe,{supplierId:e.id,invoice:h.data,clinicData:r,onClose:()=>m({type:null}),onSave:_})]})},HAe=({clinicData:e})=>{const{suppliers:t,addSupplier:r,updateSupplier:n,deleteSupplier:i}=e,{t:a}=sr(),[s,o]=A.useState(!1),[c,u]=A.useState(void 0),[d,h]=A.useState(void 0),m=x=>{"id"in x&&x.id?n(x):r(x),u(void 0)},g=x=>{window.confirm(a("suppliers.confirmDelete",{name:x.name}))&&i(x.id)};return l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:a("suppliers.suppliersList")}),l.jsxs("button",{onClick:()=>o(!0),className:"bg-primary text-white px-3 py-1 rounded-lg hover:bg-primary-dark flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-primary-light",children:[l.jsx(aW,{})," ",a("suppliers.addSupplier")]})]}),l.jsx("div",{className:"bg-neutral p-4 rounded-lg shadow-inner",children:t.length===0?l.jsx("p",{className:"text-center text-slate-500 py-4",children:a("suppliers.noSuppliersAdded")}):l.jsx("ul",{className:"space-y-2",children:t.map(x=>{const v=e.supplierInvoices.filter(S=>S.supplierId===x.id),y=v.reduce((S,E)=>S+E.amount,0),w=e.expenses.filter(S=>S.supplierId===x.id||v.some(E=>E.payments.some(T=>T.expenseId===S.id))).reduce((S,E)=>S+E.amount,0),_=y-w;return l.jsxs("li",{className:"flex flex-col sm:flex-row justify-between sm:items-center bg-white p-3 rounded-md shadow-sm gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800",children:x.name}),l.jsxs("p",{className:"text-sm text-slate-600",children:[x.contactPerson," - ",x.phone]}),l.jsx("p",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-0.5 rounded-full inline-block mt-1",children:x.type==="Material Supplier"?a("supplierType.materialSupplier"):a("supplierType.dentalLab")}),_>0&&l.jsxs("p",{className:"text-xs font-semibold text-orange-600 mt-1",children:[" : ",new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}).format(_)]})]}),l.jsxs("div",{className:"flex items-center gap-2 self-end sm:self-center",children:[l.jsx("button",{onClick:()=>h(x),className:"text-secondary hover:text-green-700 font-semibold px-3 py-1 rounded-lg bg-secondary/10 hover:bg-secondary/20 text-sm focus:outline-none focus:ring-2 focus:ring-secondary/50",children:a("suppliers.viewDetails")}),l.jsx("button",{onClick:()=>{u(x),o(!0)},className:"text-primary hover:text-primary-dark p-2 rounded-lg hover:bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary-light","aria-label":a("suppliers.editSupplierAriaLabel",{name:x.name}),children:l.jsx(sW,{})}),l.jsx("button",{onClick:()=>g(x),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-300","aria-label":a("suppliers.deleteSupplierAriaLabel",{name:x.name}),children:l.jsx(FAe,{})})]})]},x.id)})})})]}),s&&l.jsx(zAe,{supplier:c,onClose:()=>{o(!1),u(void 0)},onSave:m}),d&&l.jsx(qAe,{supplier:d,onClose:()=>h(void 0),clinicData:e})]})},VAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),KAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),GAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),YAe=({item:e,onClose:t,onSave:r,suppliers:n})=>{const{t:i}=sr(),[a,s]=A.useState(e||{name:"",description:"",supplierId:"",currentStock:0,unitCost:0,minStockLevel:5}),o=u=>{const{name:d,value:h}=u.target;if(d==="currentStock"||d==="unitCost"||d==="minStockLevel"){const m=parseFloat(h);s({...a,[d]:isNaN(m)?0:m})}else s({...a,[d]:h})},c=u=>{if(u.preventDefault(),!a.name||!a.supplierId){alert("Name and supplier are required");return}if(a.currentStock<0||a.unitCost<0||a.minStockLevel<0){alert("Stock levels and costs cannot be negative");return}r(a),t()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:i(e?"inventory.editItem":"inventory.addNewItem")}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":i("common.closeForm"),children:l.jsx(GAe,{})})]}),l.jsxs("form",{onSubmit:c,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[l.jsx("label",{htmlFor:"item-name",className:"sr-only",children:i("inventory.itemName")}),l.jsx("input",{id:"item-name",name:"name",value:a.name,onChange:o,placeholder:i("inventory.itemName"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0}),l.jsx("label",{htmlFor:"item-description",className:"sr-only",children:i("inventory.description")}),l.jsx("textarea",{id:"item-description",name:"description",value:a.description,onChange:o,placeholder:i("inventory.descriptionPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-20 focus:ring-primary focus:border-primary"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"item-supplier",className:"block text-sm font-medium text-slate-600 mb-1",children:i("inventory.supplier")}),l.jsxs("select",{id:"item-supplier",name:"supplierId",value:a.supplierId,onChange:o,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"",children:i("inventory.selectSupplier")}),n.filter(u=>u.type==="Material Supplier").map(u=>l.jsx("option",{value:u.id,children:u.name},u.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"currentStock",className:"block text-sm font-medium text-slate-600 mb-1",children:i("inventory.currentStock")}),l.jsx("input",{id:"currentStock",name:"currentStock",type:"number",value:a.currentStock,onChange:o,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"unitCost",className:"block text-sm font-medium text-slate-600 mb-1",children:i("inventory.unitCost")}),l.jsx("input",{id:"unitCost",name:"unitCost",type:"number",step:"0.01",value:a.unitCost,onChange:o,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"minStockLevel",className:"block text-sm font-medium text-slate-600 mb-1",children:i("inventory.minStockLevel")}),l.jsx("input",{id:"minStockLevel",name:"minStockLevel",type:"number",value:a.minStockLevel,onChange:o,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expiryDate",className:"block text-sm font-medium text-slate-600 mb-1",children:i("inventory.expiryDate")}),l.jsx("input",{id:"expiryDate",name:"expiryDate",type:"date",value:a.expiryDate||"",onChange:o,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:i("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:i("common.save")})]})]})]})})},XAe=({clinicData:e})=>{const{inventoryItems:t,addInventoryItem:r,updateInventoryItem:n,suppliers:i}=e,{t:a,locale:s}=sr(),{addNotification:o}=bi(),[c,u]=A.useState(!1),[d,h]=A.useState(void 0),m=new Intl.NumberFormat(s,{style:"currency",currency:"EGP"}),g=new Intl.DateTimeFormat(s,{year:"numeric",month:"short",day:"numeric"}),x=y=>{"id"in y&&y.id?(n(y),o(a("notifications.inventoryItemUpdated"),gt.SUCCESS)):(r(y),o(a("notifications.inventoryItemAdded"),gt.SUCCESS)),h(void 0),u(!1)},v=y=>{if(y.currentStock<=0)return{label:a("inventoryStatus.outOfStock"),class:"bg-red-100 text-red-700"};if(y.currentStock<=y.minStockLevel)return{label:a("inventoryStatus.lowStock"),class:"bg-amber-100 text-amber-700"};if(y.expiryDate){const w=new Date(y.expiryDate),_=new Date,S=2160*60*60*1e3;if(w.getTime()<_.getTime())return{label:a("inventoryStatus.expired"),class:"bg-red-100 text-red-700"};if(w.getTime()-_.getTime()<S)return{label:a("inventoryStatus.expiresSoon"),class:"bg-orange-100 text-orange-700"}}return{label:a("inventoryStatus.ok"),class:"bg-green-100 text-green-700"}};return l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:a("inventory.inventoryItems")}),l.jsxs("button",{onClick:()=>{h(void 0),u(!0)},className:"bg-primary text-white px-3 py-1 rounded-lg hover:bg-primary-dark flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-primary-light",children:[l.jsx(VAe,{})," ",a("inventory.addItem")]})]}),l.jsx("div",{className:"bg-neutral p-4 rounded-lg shadow-inner",children:t.length===0?l.jsx("p",{className:"text-center text-slate-500 py-4",children:a("inventory.noItemsAdded")}):l.jsx("ul",{className:"space-y-3",children:t.map(y=>{const w=i.find(S=>S.id===y.supplierId),_=v(y);return l.jsxs("li",{className:"flex flex-col sm:flex-row justify-between sm:items-center bg-white p-3 rounded-md shadow-sm gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-bold text-slate-800",children:y.name}),l.jsx("p",{className:"text-sm text-slate-600 truncate",children:y.description||a("common.na")}),l.jsxs("p",{className:"text-xs text-slate-500",children:[a("inventory.supplier"),": ",w?.name||a("inventory.supplierNotAvailable")," | ",a("inventory.currentStock"),": ",y.currentStock||0]}),y.expiryDate&&l.jsxs("p",{className:"text-xs text-slate-500",children:[a("inventory.expiryDate"),": ",g.format(new Date(y.expiryDate))]})]}),l.jsxs("div",{className:"flex flex-col items-end sm:items-center gap-2 flex-shrink-0",children:[l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${_.class}`,children:_.label}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-slate-700",children:!isNaN(y.unitCost)&&y.unitCost>0?m.format(y.unitCost):m.format(0)}),l.jsx("button",{onClick:()=>{h(y),u(!0)},className:"text-primary hover:text-primary-dark p-2 rounded-lg hover:bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary-light","aria-label":a("inventory.editItemAriaLabel",{name:y.name}),children:l.jsx(KAe,{})})]})]})]},y.id)})})}),c&&l.jsx(YAe,{item:d,onClose:()=>{u(!1),h(void 0)},onSave:x,suppliers:i})]})},JAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),ZAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),QAe=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),e4e=({labCase:e,onClose:t,onSave:r,clinicData:n})=>{const{t:i}=sr(),{addNotification:a}=bi(),{patients:s,suppliers:o}=n,[c,u]=A.useState(e||{patientId:"",labId:"",caseType:"",sentDate:new Date().toISOString().split("T")[0],dueDate:"",returnDate:"",status:Ks.DRAFT,labCost:0,notes:""}),d=A.useMemo(()=>o.filter(g=>g.type==="Dental Lab"),[o]),h=g=>{const{name:x,value:v}=g.target;u({...c,[x]:x==="labCost"?parseFloat(v):v})},m=g=>{if(g.preventDefault(),!c.patientId||!c.labId||!c.caseType||!c.sentDate||!c.dueDate){a(i("labCases.alertFillAllFields"),gt.ERROR);return}if(c.status!==Ks.DRAFT&&c.status!==Ks.SENT_TO_LAB&&c.labCost>0&&n.suppliers.find(v=>v.id===c.labId)){const v={supplierId:c.labId,invoiceNumber:`LC-${c.caseType}-${Date.now()}`,invoiceDate:new Date().toISOString().split("T")[0],dueDate:c.dueDate,amount:c.labCost,status:D1.UNPAID,items:[{description:`Lab case: ${c.caseType}`,amount:c.labCost}],payments:[]};n.addSupplierInvoice(v),a(i("notifications.invoiceAddedForLabCase"),gt.SUCCESS)}r(c),t()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:i(e?"labCases.editCase":"labCases.addNewCase")}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":i("common.closeForm"),children:l.jsx(QAe,{})})]}),l.jsxs("form",{onSubmit:m,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"patientId",className:"block text-sm font-medium text-slate-600 mb-1",children:i("labCases.patient")}),l.jsxs("select",{id:"patientId",name:"patientId",value:c.patientId,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"",children:i("labCases.selectPatient")}),s.map(g=>l.jsx("option",{value:g.id,children:g.name},g.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"labId",className:"block text-sm font-medium text-slate-600 mb-1",children:i("labCases.dentalLab")}),l.jsxs("select",{id:"labId",name:"labId",value:c.labId,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"",children:i("labCases.selectDentalLab")}),d.map(g=>l.jsx("option",{value:g.id,children:g.name},g.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"caseType",className:"block text-sm font-medium text-slate-600 mb-1",children:i("labCases.caseType")}),l.jsx("input",{id:"caseType",name:"caseType",value:c.caseType,onChange:h,placeholder:i("labCases.caseTypePlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"sentDate",className:"block text-sm font-medium text-slate-600 mb-1",children:i("labCases.sentDate")}),l.jsx("input",{id:"sentDate",name:"sentDate",type:"date",value:c.sentDate,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-slate-600 mb-1",children:i("labCases.dueDate")}),l.jsx("input",{id:"dueDate",name:"dueDate",type:"date",value:c.dueDate,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"returnDate",className:"block text-sm font-medium text-slate-600 mb-1",children:i("labCases.returnDate")}),l.jsx("input",{id:"returnDate",name:"returnDate",type:"date",value:c.returnDate||"",onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"labCost",className:"block text-sm font-medium text-slate-600 mb-1",children:i("labCases.labCost")}),l.jsx("input",{id:"labCost",name:"labCost",type:"number",step:"0.01",value:c.labCost||"",onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-600 mb-1",children:i("labCases.status")}),l.jsx("select",{id:"status",name:"status",value:c.status,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:Object.values(Ks).map(g=>l.jsx("option",{value:g,children:i(`labCaseStatus.${g}`)},g))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-slate-600 mb-1",children:i("labCases.notes")}),l.jsx("textarea",{id:"notes",name:"notes",value:c.notes,onChange:h,placeholder:i("labCases.notesPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-20 focus:ring-primary focus:border-primary"})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:i("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:i("common.save")})]})]})]})})},t4e=({clinicData:e})=>{const{labCases:t,addLabCase:r,updateLabCase:n,patients:i,suppliers:a}=e,{t:s,locale:o}=sr(),{addNotification:c}=bi(),[u,d]=A.useState(!1),[h,m]=A.useState(void 0),g=new Intl.NumberFormat(o,{style:"currency",currency:"EGP"}),x=new Intl.DateTimeFormat(o,{year:"numeric",month:"short",day:"numeric"}),v=w=>{"id"in w&&w.id?(n(w),c(s("notifications.labCaseUpdated"),gt.SUCCESS)):(r(w),c(s("notifications.labCaseAdded"),gt.SUCCESS)),m(void 0),d(!1)},y=w=>{switch(w){case Ks.DRAFT:return"bg-slate-100 text-slate-700";case Ks.SENT_TO_LAB:return"bg-blue-100 text-blue-700";case Ks.RECEIVED_FROM_LAB:return"bg-green-100 text-green-700";case Ks.FITTED_TO_PATIENT:return"bg-emerald-100 text-emerald-700";case Ks.CANCELLED:return"bg-red-100 text-red-700";default:return"bg-slate-100 text-slate-700"}};return l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:s("labCases.labCaseTracker")}),l.jsxs("button",{onClick:()=>{m(void 0),d(!0)},className:"bg-primary text-white px-3 py-1 rounded-lg hover:bg-primary-dark flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-primary-light",children:[l.jsx(JAe,{})," ",s("labCases.addCase")]})]}),l.jsx("div",{className:"bg-neutral p-4 rounded-lg shadow-inner",children:t.length===0?l.jsx("p",{className:"text-center text-slate-500 py-4",children:s("labCases.noCasesRecorded")}):l.jsx("ul",{className:"space-y-3",children:t.map(w=>{const _=i.find(T=>T.id===w.patientId),S=a.find(T=>T.id===w.labId),E=y(w.status);return l.jsxs("li",{className:"flex flex-col sm:flex-row justify-between sm:items-center bg-white p-3 rounded-md shadow-sm gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-bold text-slate-800",children:[w.caseType," - ",_?.name||s("common.unknownPatient")]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[": ",S?.name||s("common.na"),l.jsxs("span",{className:"ms-2 ps-2 border-s border-slate-300",children:[" : ",w.sentDate?x.format(new Date(w.sentDate)):s("common.na")," |  : ",w.dueDate?x.format(new Date(w.dueDate)):s("common.na")]}),w.returnDate&&l.jsxs("span",{className:"ms-2 ps-2 border-s border-slate-300",children:[s("labCases.returnDate"),": ",w.returnDate?x.format(new Date(w.returnDate)):"Not returned"]})]}),w.notes&&l.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[s("labCases.notes"),": ",w.notes]})]}),l.jsxs("div",{className:"flex flex-col items-end sm:items-center gap-2 flex-shrink-0",children:[l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${E}`,children:w.status==="DRAFT"?"":s(`labCaseStatus.${w.status}`)}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"font-semibold text-slate-700",children:[isNaN(w.labCost)||w.labCost===null||w.labCost===void 0?s("common.na"):g.format(w.labCost)," .."]}),l.jsx("button",{onClick:()=>{m(w),d(!0)},className:"text-primary hover:text-primary-dark p-2 rounded-lg hover:bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary-light","aria-label":s("labCases.editCaseAriaLabel",{caseType:w.caseType,patientName:_?.name||s("common.unknownPatient")}),children:l.jsx(ZAe,{})})]})]})]},w.id)})})}),u&&l.jsx(e4e,{labCase:h,onClose:()=>{d(!1),m(void 0)},onSave:v,clinicData:e})]})},r4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),n4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),i4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),s4e=({expense:e,onClose:t,onSave:r,clinicData:n})=>{const{suppliers:i,supplierInvoices:a}=n,{t:s,locale:o}=sr(),c=new Intl.NumberFormat(o,{style:"currency",currency:"EGP"}),[u,d]=A.useState(e||{date:new Date().toISOString().split("T")[0],description:"",amount:0,category:dc.MISC,supplierId:void 0,supplierInvoiceId:void 0}),h=v=>{const{name:y,value:w}=v.target;if(y==="amount"){const _=parseFloat(w);d({...u,[y]:isNaN(_)?0:_})}else d({...u,[y]:w})},m=v=>{if(v.preventDefault(),u.amount<=0){alert("Amount must be greater than 0");return}const y={...u};y.supplierId===""&&delete y.supplierId,y.supplierInvoiceId===""&&delete y.supplierInvoiceId,r(y),t()},g=A.useMemo(()=>u.supplierId?a.filter(v=>v.supplierId===u.supplierId&&v.status===D1.UNPAID):[],[u.supplierId,a]),x=v=>{const y=v.payments.reduce((w,_)=>w+_.amount,0);return v.amount-y};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:s(e?"expenses.editExpense":"expenses.addNewExpense")}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":s("common.closeForm"),children:l.jsx(a4e,{})})]}),l.jsxs("form",{onSubmit:m,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expense-date",className:"block text-sm font-medium text-slate-600 mb-1",children:s("expenses.date")}),l.jsx("input",{id:"expense-date",name:"date",type:"date",value:u.date,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expense-description",className:"block text-sm font-medium text-slate-600 mb-1",children:s("expenses.description")}),l.jsx("textarea",{id:"expense-description",name:"description",value:u.description,onChange:h,placeholder:s("expenses.descriptionPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-20 focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expense-amount",className:"block text-sm font-medium text-slate-600 mb-1",children:s("expenses.amount")}),l.jsx("input",{id:"expense-amount",name:"amount",type:"number",step:"0.01",value:u.amount,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expense-category",className:"block text-sm font-medium text-slate-600 mb-1",children:s("expenses.category")}),l.jsx("select",{id:"expense-category",name:"category",value:u.category,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:Object.values(dc).map(v=>l.jsx("option",{value:v,children:s(`expenseCategory.${v}`)},v))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expense-supplier",className:"block text-sm font-medium text-slate-600 mb-1",children:s("expenses.selectSupplier")}),l.jsxs("select",{id:"expense-supplier",name:"supplierId",value:u.supplierId||"",onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",children:[l.jsx("option",{value:"",children:s("expenses.noSupplier")}),i.map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))]})]}),u.supplierId&&g.length>0&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expense-invoice",className:"block text-sm font-medium text-slate-600 mb-1",children:s("expenses.applyToInvoice")}),l.jsxs("select",{id:"expense-invoice",name:"supplierInvoiceId",value:u.supplierInvoiceId||"",onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",children:[l.jsx("option",{value:"",children:s("expenses.paymentOnAccount")}),g.map(v=>l.jsxs("option",{value:v.id,children:[s("invoices.invoice")," #",v.invoiceNumber||v.id.slice(-4)," - ",s("invoices.remaining"),": ",c.format(x(v))]},v.id))]})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:s("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:s("common.save")})]})]})]})})},o4e=({clinicData:e})=>{const{expenses:t,addExpense:r,updateExpense:n,deleteExpense:i,suppliers:a,supplierInvoices:s}=e,{t:o,locale:c}=sr(),[u,d]=A.useState(!1),[h,m]=A.useState(void 0),g=new Intl.NumberFormat(c,{style:"currency",currency:"EGP"}),x=new Intl.DateTimeFormat(c,{year:"numeric",month:"short",day:"numeric"}),v=w=>{"id"in w&&w.id?n(w):r(w),m(void 0)},y=w=>{window.confirm(o("expenses.confirmDelete",{description:w.description}))&&i(w.id)};return l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:o("expenses.clinicExpenses")}),l.jsxs("button",{onClick:()=>d(!0),className:"bg-primary text-white px-3 py-1 rounded-lg hover:bg-primary-dark flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-primary-light",children:[l.jsx(r4e,{})," ",o("expenses.addExpense")]})]}),l.jsx("div",{className:"bg-neutral p-4 rounded-lg shadow-inner",children:t.length===0?l.jsx("p",{className:"text-center text-slate-500 py-4",children:o("expenses.noExpensesRecorded")}):l.jsx("ul",{className:"space-y-2",children:t.map(w=>{const _=w.supplierId?a.find(E=>E.id===w.supplierId):null,S=w.supplierInvoiceId?s.find(E=>E.id===w.supplierInvoiceId):null;return l.jsxs("li",{className:"flex justify-between items-center bg-white p-3 rounded-md shadow-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800",children:w.description}),l.jsxs("p",{className:"text-sm text-slate-600",children:[o(`expenseCategory.${w.category}`)," - ",x.format(new Date(w.date)),_&&l.jsxs("span",{className:"ms-2 ps-2 border-s border-slate-300",children:[o("expenses.supplier"),": ",_.name,S&&` (#${S.invoiceNumber||S.id.slice(-4)})`]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-slate-700",children:g.format(w.amount)}),l.jsx("button",{onClick:()=>{m(w),d(!0)},className:"text-primary hover:text-primary-dark text-sm p-2 rounded-lg hover:bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary-light","aria-label":o("expenses.editExpenseAriaLabel",{description:w.description}),children:l.jsx(n4e,{})}),l.jsx("button",{onClick:()=>y(w),className:"text-red-600 hover:text-red-800 text-sm p-2 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-300","aria-label":o("expenses.deleteExpenseAriaLabel",{description:w.description}),children:l.jsx(i4e,{})})]})]},w.id)})})}),u&&l.jsx(s4e,{expense:h,onClose:()=>{d(!1),m(void 0)},onSave:v,clinicData:e})]})},l4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),c4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),u4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),d4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),f4e=({definition:e,onClose:t,onSave:r})=>{const{t:n}=sr(),[i,a]=A.useState(e||{name:"",description:"",basePrice:0,doctorPercentage:.5,clinicPercentage:.5}),s=u=>{const{name:d,value:h}=u.target;if(d==="basePrice"){const m=parseFloat(h);a({...i,[d]:isNaN(m)?0:m})}else if(d==="doctorPercentage"||d==="clinicPercentage"){const m=parseFloat(h);!isNaN(m)&&m>=0&&m<=1&&(a(g=>({...g,[d]:m})),a(d==="doctorPercentage"?g=>({...g,clinicPercentage:1-m}):g=>({...g,doctorPercentage:1-m})))}else a({...i,[d]:h})},o=u=>{if(u.preventDefault(),i.basePrice<=0){alert("Base price must be greater than 0");return}if(i.doctorPercentage<0||i.doctorPercentage>1){alert("Doctor percentage must be between 0 and 1");return}if(i.clinicPercentage<0||i.clinicPercentage>1){alert("Clinic percentage must be between 0 and 1");return}if(Math.abs(i.doctorPercentage+i.clinicPercentage-1)>.01){alert("Doctor and clinic percentages must add up to 100%");return}r(i),t()},c=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:n(e?"treatments.editTreatment":"treatments.addNewTreatment")}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":n("common.closeForm"),children:l.jsx(d4e,{})})]}),l.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[l.jsx("label",{htmlFor:"treatment-name",className:"sr-only",children:n("treatments.treatmentName")}),l.jsx("input",{id:"treatment-name",name:"name",value:i.name,onChange:s,placeholder:n("treatments.treatmentName"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0}),l.jsx("label",{htmlFor:"treatment-description",className:"sr-only",children:n("treatments.description")}),l.jsx("textarea",{id:"treatment-description",name:"description",value:i.description,onChange:s,placeholder:n("treatments.descriptionPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-20 focus:ring-primary focus:border-primary"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"basePrice",className:"block text-sm font-medium text-slate-600 mb-1",children:n("treatments.basePrice")}),l.jsx("input",{id:"basePrice",name:"basePrice",type:"number",step:"0.01",value:i.basePrice,onChange:s,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"doctorPercentage",className:"block text-sm font-medium text-slate-600 mb-1",children:n("treatments.doctorPercentage")}),l.jsx("input",{id:"doctorPercentage",name:"doctorPercentage",type:"number",step:"0.01",min:"0",max:"1",value:i.doctorPercentage,onChange:s,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:c.format(i.doctorPercentage)})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clinicPercentage",className:"block text-sm font-medium text-slate-600 mb-1",children:n("treatments.clinicPercentage")}),l.jsx("input",{id:"clinicPercentage",name:"clinicPercentage",type:"number",step:"0.01",min:"0",max:"1",value:i.clinicPercentage,onChange:s,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,disabled:!0}),l.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[c.format(i.clinicPercentage)," (",n("treatments.auto"),")"]})]})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:n("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:n("common.save")})]})]})]})})},h4e=({clinicData:e})=>{const{treatmentDefinitions:t,addTreatmentDefinition:r,updateTreatmentDefinition:n,deleteTreatmentDefinition:i}=e,{t:a,locale:s}=sr(),[o,c]=A.useState(!1),[u,d]=A.useState(void 0),h=new Intl.NumberFormat(s,{style:"currency",currency:"EGP"}),m=new Intl.NumberFormat(s,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0}),g=v=>{"id"in v&&v.id?n(v):r(v),d(void 0)},x=v=>{window.confirm(a("treatments.confirmDelete",{name:v.name}))&&i(v.id)};return l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:a("treatments.manageTreatments")}),l.jsxs("button",{onClick:()=>c(!0),className:"bg-primary text-white px-3 py-1 rounded-lg hover:bg-primary-dark flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-primary-light",children:[l.jsx(l4e,{})," ",a("treatments.addTreatment")]})]}),l.jsx("div",{className:"bg-neutral p-4 rounded-lg shadow-inner",children:t.length===0?l.jsx("p",{className:"text-center text-slate-500 py-4",children:a("treatments.noTreatmentsAdded")}):l.jsx("ul",{className:"space-y-2",children:t.map(v=>l.jsxs("li",{className:"flex justify-between items-center bg-white p-3 rounded-md shadow-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800",children:v.name}),l.jsxs("p",{className:"text-sm text-slate-600",children:[" : ",isNaN(v.basePrice)?" ":h.format(v.basePrice)]}),l.jsxs("p",{className:"text-xs text-slate-500",children:[": ",isNaN(v.doctorPercentage)?" ":m.format(v.doctorPercentage)," | : ",isNaN(v.clinicPercentage)?" ":m.format(v.clinicPercentage)]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{d(v),c(!0)},className:"text-primary hover:text-primary-dark text-sm p-2 rounded-lg hover:bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary-light","aria-label":a("treatments.editTreatmentAriaLabel",{name:v.name}),children:l.jsx(c4e,{})}),l.jsx("button",{onClick:()=>x(v),className:"text-red-600 hover:text-red-800 text-sm p-2 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-300","aria-label":a("treatments.deleteTreatmentAriaLabel",{name:v.name}),children:l.jsx(u4e,{})})]})]},v.id))})}),o&&l.jsx(f4e,{definition:u,onClose:()=>{c(!1),d(void 0)},onSave:g})]})},p4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),HR=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"})}),m4e=({clinicData:e})=>{const{t}=sr(),{addNotification:r}=bi(),n=A.useRef(null),{restoreData:i,...a}=e,[s,o]=A.useState(e.clinicInfo),[c,u]=A.useState(e.whatsappMessageTemplate),[d,h]=A.useState(e.reminderMessageTemplate),m=()=>{try{const E=JSON.stringify(a,null,2),T=new Blob([E],{type:"application/json"}),D=URL.createObjectURL(T),C=document.createElement("a");C.href=D;const O=new Date().toISOString().split("T")[0];C.download=`curasoft-backup-${O}.json`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(D),r(t("notifications.backupSuccess"),gt.SUCCESS)}catch(E){console.error("Backup failed:",E),r(t("notifications.backupError"),gt.ERROR)}},g=()=>{n.current?.click()},x=async E=>{const T=E.target.files?.[0];if(T){if(window.confirm(t("settings.restore.confirm"))){const D=new FileReader;D.onload=async C=>{try{const O=C.target?.result;if(typeof O=="string"){const R=JSON.parse(O);await i(R),r(t("notifications.restoreSuccess"),gt.SUCCESS),setTimeout(()=>window.location.reload(),1e3)}}catch(O){console.error("Restore failed:",O),r(t("notifications.restoreError"),gt.ERROR)}},D.readAsText(T)}n.current&&(n.current.value="")}},v=async()=>{if(window.confirm(t("settings.sampleData.confirm")))try{const E=await fetch("/sample-data.json");if(!E.ok)throw new Error("Failed to load sample data file");const T=await E.json();for(const D of T.patients)await e.addPatient(D);for(const D of T.dentists)await e.addDoctor(D);for(const D of T.suppliers)await e.addSupplier(D);for(const D of T.inventoryItems)await e.addInventoryItem(D);for(const D of T.expenses)await e.addExpense(D);for(const D of T.treatmentDefinitions)await e.addTreatmentDefinition(D);for(const D of T.treatmentRecords)await e.addTreatmentRecord(D.patientId,D);for(const D of T.labCases)await e.addLabCase(D);for(const D of T.payments)await e.addPayment(D);for(const D of T.supplierInvoices)await e.addSupplierInvoice(D);for(const D of T.appointments)await e.addAppointment(D);r(t("settings.sampleData.success"),gt.SUCCESS)}catch(E){console.error("Failed to load sample data:",E),r(t("settings.sampleData.error"),gt.ERROR)}},y=()=>{if(window.confirm(t("settings.clear.confirm")))try{Object.keys(localStorage).forEach(E=>{E.startsWith("curasoft_")&&localStorage.removeItem(E)}),r(t("settings.clear.success"),gt.SUCCESS),setTimeout(()=>window.location.reload(),1e3)}catch(E){console.error("Failed to clear data:",E),r(t("settings.clear.error"),gt.ERROR)}},w=()=>{if(window.confirm("       "))try{localStorage.removeItem("curasoft_clinic_info"),localStorage.removeItem("curasoft_whatsapp_template"),localStorage.removeItem("curasoft_reminder_template"),r("    ",gt.SUCCESS),setTimeout(()=>window.location.reload(),1e3)}catch(E){console.error("Failed to clear settings:",E),r("   ",gt.ERROR)}},_=()=>{if(window.confirm("                ."))try{const E=["curasoft_clinic_info","curasoft_whatsapp_template","curasoft_reminder_template"];Object.keys(localStorage).forEach(T=>{T.startsWith("curasoft_")&&!E.includes(T)&&localStorage.removeItem(T)}),r("    ",gt.SUCCESS),setTimeout(()=>window.location.reload(),1e3)}catch(E){console.error("Failed to reset data:",E),r("    ",gt.ERROR)}},S=()=>{e.updateClinicInfo(s)};return l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-md space-y-8 max-w-4xl mx-auto",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700",children:" "}),l.jsx("p",{className:"text-sm text-slate-500 mt-1 mb-4",children:"   "}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:" "}),l.jsx("input",{type:"text",value:s.name,onChange:E=>o({...s,name:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"  "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:""}),l.jsx("input",{type:"text",value:s.address,onChange:E=>o({...s,address:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"  "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:" "}),l.jsx("input",{type:"tel",value:s.phone,onChange:E=>o({...s,phone:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"  "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:" "}),l.jsx("input",{type:"email",value:s.email,onChange:E=>o({...s,email:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"  "})]})]}),l.jsx("button",{onClick:S,className:"mt-4 bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:"  "})]}),l.jsxs("div",{className:"border-t pt-8",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"   "}),l.jsx("p",{className:"text-sm text-slate-500 mt-1 mb-4",children:"      "}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" :"}),l.jsxs("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:[l.jsx("code",{children:"{patientName}"})," -  ",l.jsx("br",{}),l.jsx("code",{children:"{clinicName}"})," -  ",l.jsx("br",{}),l.jsx("code",{children:"{clinicAddress}"})," -  ",l.jsx("br",{}),l.jsx("code",{children:"{clinicPhone}"})," -   "]})]}),l.jsx("textarea",{value:e.whatsappMessageTemplate,onChange:E=>e.updateWhatsappMessageTemplate(E.target.value),rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"   ..."}),l.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"             "})]}),l.jsxs("div",{className:"border-t pt-8",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"   "}),l.jsx("p",{className:"text-sm text-slate-500 mt-1 mb-4",children:"      "}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" :"}),l.jsxs("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:[l.jsx("code",{children:"{patientName}"})," -  ",l.jsx("br",{}),l.jsx("code",{children:"{doctorName}"})," -  ",l.jsx("br",{}),l.jsx("code",{children:"{clinicName}"})," -  ",l.jsx("br",{}),l.jsx("code",{children:"{appointmentDate}"})," -  ",l.jsx("br",{}),l.jsx("code",{children:"{appointmentTime}"})," -  ",l.jsx("br",{}),l.jsx("code",{children:"{clinicAddress}"})," -  ",l.jsx("br",{}),l.jsx("code",{children:"{clinicPhone}"})," -   "]})]}),l.jsx("textarea",{value:e.reminderMessageTemplate,onChange:E=>e.updateReminderMessageTemplate(E.target.value),rows:6,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"    ..."}),l.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"        "})]}),l.jsxs("div",{className:"border-t pt-8",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700",children:t("settings.backup.title")}),l.jsx("p",{className:"text-sm text-slate-500 mt-1 mb-4",children:t("settings.backup.description")}),l.jsxs("button",{onClick:m,className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-primary-light",children:[l.jsx(p4e,{})," ",t("settings.backup.button")]})]}),l.jsxs("div",{className:"border-t pt-8",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700",children:t("settings.restore.title")}),l.jsx("p",{className:"text-sm text-slate-500 mt-1 mb-2",children:t("settings.restore.description")}),l.jsx("p",{className:"text-sm text-red-600 font-semibold mb-4",children:t("settings.restore.warning")}),l.jsxs("button",{onClick:g,className:"bg-slate-600 text-white px-4 py-2 rounded-lg hover:bg-slate-700 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-slate-500",children:[l.jsx(HR,{})," ",t("settings.restore.button")]}),l.jsx("input",{type:"file",ref:n,onChange:x,accept:".json",className:"hidden"})]}),l.jsxs("div",{className:"border-t pt-8",children:[l.jsx("h3",{className:"text-lg font-bold text-green-600",children:t("settings.sampleData.title")}),l.jsx("p",{className:"text-sm text-slate-500 mt-1 mb-4",children:t("settings.sampleData.description")}),l.jsxs("button",{onClick:v,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-600 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-green-500",children:[l.jsx(HR,{})," ",t("settings.sampleData.button")]})]}),l.jsxs("div",{className:"border-t pt-8",children:[l.jsx("h3",{className:"text-lg font-bold text-red-600",children:t("settings.dangerZone.title")}),l.jsx("p",{className:"text-sm text-slate-500 mb-4",children:t("settings.dangerZone.description")}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-red-800",children:"  "}),l.jsx("p",{className:"text-sm text-red-700",children:"   (   )    "})]}),l.jsx("button",{onClick:_,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 flex-shrink-0",children:"  "})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-red-800",children:"  "}),l.jsx("p",{className:"text-sm text-red-700",children:"       "})]}),l.jsx("button",{onClick:w,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 flex-shrink-0",children:" "})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-red-800",children:t("settings.clear.title")}),l.jsx("p",{className:"text-sm text-red-700",children:t("settings.clear.description")})]}),l.jsx("button",{onClick:y,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 flex-shrink-0",children:t("settings.clear.button")})]})]})]})]})},oW={[kn.HEALTHY]:{bg:"bg-white",text:"text-slate-700",border:"border-slate-300"},[kn.FILLING]:{bg:"bg-blue-500",text:"text-white",border:"border-blue-600"},[kn.CROWN]:{bg:"bg-yellow-400",text:"text-white",border:"border-yellow-500"},[kn.MISSING]:{bg:"bg-slate-400",text:"text-white",border:"border-slate-500"},[kn.IMPLANT]:{bg:"bg-purple-500",text:"text-white",border:"border-purple-600"},[kn.ROOT_CANAL]:{bg:"bg-pink-500",text:"text-white",border:"border-pink-600"},[kn.CAVITY]:{bg:"bg-red-500",text:"text-white",border:"border-red-600"}},g4e={status:kn.HEALTHY,notes:""},v4e=[...Array.from({length:8},(e,t)=>`UR${8-t}`),...Array.from({length:8},(e,t)=>`UL${t+1}`),...Array.from({length:8},(e,t)=>`LL${t+1}`),...Array.from({length:8},(e,t)=>`LR${8-t}`)],VR=v4e.reduce((e,t)=>(e[t]=g4e,e),{}),Bx=({toothId:e,tooth:t,onClick:r,isSelected:n=!1})=>{const{t:i}=sr(),a=e.replace(/[A-Z]/g,""),{bg:s,border:o,text:c}=oW[t.status];return l.jsx("div",{className:"flex flex-col items-center",children:l.jsx("button",{onClick:r,className:`w-9 h-11 flex items-center justify-center rounded-t-lg rounded-b-sm border-2 transition-transform hover:scale-105 active:scale-95 shadow-sm ${s} ${o} ${c} focus:outline-none focus:ring-2 focus:ring-primary-light ${n?"ring-2 ring-blue-500 ring-offset-1":""}`,"aria-label":i("dentalChart.toothAriaLabel",{toothId:e,status:i(`toothStatus.${t.status}`)}),children:l.jsx("span",{className:"font-bold text-sm select-none",children:a})})})},x4e=({tooth:e,toothId:t,onSave:r,onClose:n})=>{const{t:i}=sr(),[a,s]=A.useState(e.status),[o,c]=A.useState(e.notes),u=()=>{r({status:a,notes:o}),n()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700",children:i("editToothModal.title",{toothId:t})}),l.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":i("common.closeForm"),children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("main",{className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"toothStatus",className:"block text-sm font-medium text-slate-600",children:i("editToothModal.status")}),l.jsx("select",{id:"toothStatus",value:a,onChange:d=>s(d.target.value),className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",children:Object.values(kn).map(d=>l.jsx("option",{value:d,children:i(`toothStatus.${d}`)},d))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"toothNotes",className:"block text-sm font-medium text-slate-600",children:i("editToothModal.notes")}),l.jsx("textarea",{id:"toothNotes",value:o,onChange:d=>c(d.target.value),className:"mt-1 p-2 border border-slate-300 rounded-lg w-full h-24 focus:ring-primary focus:border-primary",placeholder:i("editToothModal.addNotesPlaceholder")})]})]}),l.jsxs("footer",{className:"p-4 bg-slate-50 flex justify-end space-x-2",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:i("common.cancel")}),l.jsx("button",{onClick:u,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:i("common.save")})]})]})})},y4e=({selectedTeeth:e,onSave:t,onClose:r})=>{const{t:n}=sr(),[i,a]=A.useState(kn.HEALTHY),[s,o]=A.useState(""),c=()=>{t(i,s),r()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700",children:n("bulkEditModal.title",{count:e.length})}),l.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":n("common.closeForm"),children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("main",{className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"bulkStatus",className:"block text-sm font-medium text-slate-600",children:n("bulkEditModal.status")}),l.jsx("select",{id:"bulkStatus",value:i,onChange:u=>a(u.target.value),className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",children:Object.values(kn).map(u=>l.jsx("option",{value:u,children:n(`toothStatus.${u}`)},u))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"bulkNotes",className:"block text-sm font-medium text-slate-600",children:n("bulkEditModal.notes")}),l.jsx("textarea",{id:"bulkNotes",value:s,onChange:u=>o(u.target.value),className:"mt-1 p-2 border border-slate-300 rounded-lg w-full h-24 focus:ring-primary focus:border-primary",placeholder:n("bulkEditModal.addNotesPlaceholder")})]})]}),l.jsxs("footer",{className:"p-4 bg-slate-50 flex justify-end space-x-2",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:n("common.cancel")}),l.jsx("button",{onClick:c,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:n("common.save")})]})]})})},Ux=({title:e,children:t,className:r})=>l.jsxs("div",{className:r,children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-500 mb-2 text-center",children:e}),l.jsx("div",{className:"flex justify-center gap-1 p-2 bg-slate-100 rounded-lg flex-wrap",children:t})]}),b4e=({chartData:e,onUpdate:t})=>{const{t:r}=sr(),[n,i]=A.useState(null),[a,s]=A.useState([]),[o,c]=A.useState(!1),[u,d]=A.useState(!1),h=jg.useMemo(()=>{if(!e)return VR;const T={...VR};return Object.keys(e).forEach(D=>{e[D]&&(T[D]=e[D])}),T},[e]),m=T=>{o?s(D=>D.includes(T)?D.filter(C=>C!==T):[...D,T]):i(T)},g=()=>{i(null)},x=T=>{if(n){const D={...h,[n]:T};console.log("DentalChart: handleSaveTooth called with toothId:",n,"newTooth:",T),console.log("DentalChart: newChartData:",D),t(D)}},v=(T,D)=>{const C={...h};a.forEach(O=>{C[O]={status:T,notes:D}}),t(C),s([]),c(!1)},y=n?h[n]:null,w=Array.from({length:8},(T,D)=>`UR${8-D}`),_=Array.from({length:8},(T,D)=>`UL${D+1}`),S=Array.from({length:8},(T,D)=>`LL${D+1}`),E=Array.from({length:8},(T,D)=>`LR${8-D}`);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 mb-6 justify-center bg-neutral p-3 rounded-lg shadow-sm",children:[l.jsx("button",{onClick:()=>{c(!o),s([]),i(null)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${o?"bg-blue-500 text-white hover:bg-blue-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:r(o?"dentalChart.exitMultiSelect":"dentalChart.multiSelect")}),o&&a.length>0&&l.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[r("dentalChart.bulkEdit")," (",a.length,")"]}),Object.entries(oW).map(([T,{bg:D,border:C}])=>l.jsxs("div",{className:"flex items-center text-xs text-slate-700",children:[l.jsx("span",{className:`w-4 h-4 rounded-full me-2 ${D} ${C} border`}),l.jsx("span",{children:r(`toothStatus.${T}`)})]},T))]}),l.jsxs("div",{className:"bg-neutral p-4 rounded-lg space-y-8 shadow-inner",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between gap-4",children:[l.jsx(Ux,{title:r("dentalChart.upperRight"),children:w.map(T=>l.jsx(Bx,{toothId:T,tooth:h[T],onClick:()=>m(T),isSelected:a.includes(T)},T))}),l.jsx(Ux,{title:r("dentalChart.upperLeft"),children:_.map(T=>l.jsx(Bx,{toothId:T,tooth:h[T],onClick:()=>m(T),isSelected:a.includes(T)},T))})]}),l.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between gap-4",children:[l.jsx(Ux,{title:r("dentalChart.lowerRight"),children:E.map(T=>l.jsx(Bx,{toothId:T,tooth:h[T],onClick:()=>m(T),isSelected:a.includes(T)},T))}),l.jsx(Ux,{title:r("dentalChart.lowerLeft"),children:S.map(T=>l.jsx(Bx,{toothId:T,tooth:h[T],onClick:()=>m(T),isSelected:a.includes(T)},T))})]})]}),y&&n&&l.jsx(x4e,{tooth:y,toothId:n,onSave:x,onClose:g}),u&&l.jsx(y4e,{selectedTeeth:a,onSave:v,onClose:()=>d(!1)})]})},w4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),S4e=({record:e,onClose:t,onUpdate:r,clinicData:n})=>{const{t:i,locale:a}=sr(),{addNotification:s}=bi(),{treatmentDefinitions:o}=n,[c,u]=A.useState(e.totalTreatmentCost||0),d=A.useMemo(()=>o.find(x=>x.id===e.treatmentDefinitionId),[e.treatmentDefinitionId,o]),h=A.useMemo(()=>{if(!d)return{doctorShare:0,clinicShare:0};const x=c,v=x*d.doctorPercentage,y=x*d.clinicPercentage;return{doctorShare:v,clinicShare:y}},[c,d]),m=x=>{if(x.preventDefault(),c<=0){s(i("editTreatmentRecord.priceMustBePositive"),gt.ERROR);return}const v={...e,doctorShare:h.doctorShare,clinicShare:h.clinicShare,totalTreatmentCost:h.doctorShare+h.clinicShare};r(v),s(i("editTreatmentRecord.priceUpdated"),gt.SUCCESS),t()},g=new Intl.NumberFormat(a,{style:"currency",currency:"EGP"});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:i("editTreatmentRecord.title")}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":i("common.closeForm"),children:l.jsx(w4e,{})})]}),l.jsxs("form",{onSubmit:m,className:"p-6 space-y-4 flex-1",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:i("editTreatmentRecord.treatmentName")}),l.jsx("p",{className:"text-lg font-semibold text-slate-800",children:d?.name||i("common.unknownTreatment")})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"customPrice",className:"block text-sm font-medium text-slate-600",children:i("editTreatmentRecord.customPrice")}),l.jsx("input",{id:"customPrice",type:"number",min:"0",step:"0.01",value:c,onChange:x=>u(parseFloat(x.target.value)||0),className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0}),l.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[i("editTreatmentRecord.originalPrice"),": ",g.format(d?.basePrice||0)]})]}),l.jsxs("div",{className:"bg-neutral p-4 rounded-lg space-y-2",children:[l.jsx("h3",{className:"text-md font-semibold text-slate-700",children:i("editTreatmentRecord.updatedShares")}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[i("addTreatmentRecord.doctorShare"),":"]})," ",g.format(h.doctorShare)]}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[i("addTreatmentRecord.clinicShare"),":"]})," ",g.format(h.clinicShare)]})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4 flex-shrink-0",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:i("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:i("editTreatmentRecord.saveChanges")})]})]})]})})},_4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),N4e=({record:e,onConfirm:t,onCancel:r})=>{const{t:n}=sr(),{treatmentDefinitions:i}=Ob(),a=i.find(o=>o.id===e.treatmentDefinitionId),s=new Intl.DateTimeFormat("ar-EG",{year:"numeric",month:"long",day:"numeric"});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:n("treatmentDelete.confirmTitle")}),l.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":n("common.closeForm"),children:l.jsx(_4e,{})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("p",{className:"text-slate-700",children:n("treatmentDelete.confirmMessage")}),l.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[l.jsx("p",{className:"text-sm text-red-800 font-medium",children:a?.name||n("common.unknownTreatment")}),l.jsx("p",{className:"text-sm text-red-800",children:s.format(new Date(e.treatmentDate))}),l.jsx("p",{className:"text-sm text-red-800 font-medium mt-2",children:n("treatmentDelete.financialImpact")}),l.jsx("p",{className:"text-sm text-red-800",children:n("treatmentDelete.doctorShareImpact").replace("{amount}",e.doctorShare.toFixed(2))}),l.jsx("p",{className:"text-sm text-red-800",children:n("treatmentDelete.clinicShareImpact").replace("{amount}",e.clinicShare.toFixed(2))})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:n("common.cancel")}),l.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:n("common.delete")})]})]})]})})},j4e=({patient:e,clinicData:t,onUpdateTreatmentRecord:r,onDeleteTreatmentRecord:n})=>{const{t:i,locale:a}=sr(),{addNotification:s}=bi(),{dentists:o,treatmentDefinitions:c,inventoryItems:u}=t,[d,h]=A.useState(null),[m,g]=A.useState(null),x=new Intl.NumberFormat(a,{style:"currency",currency:"EGP"}),v=new Intl.DateTimeFormat(a,{year:"numeric",month:"long",day:"numeric"}),y=t.treatmentRecords.filter(w=>w.patientId===e.id).sort((w,_)=>new Date(_.treatmentDate).getTime()-new Date(w.treatmentDate).getTime());return y.length===0?l.jsx("p",{className:"text-center text-slate-500 py-10",children:i("treatmentRecordList.noRecords")}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-4",children:y.map(w=>{const _=o.find(E=>E.id===w.dentistId),S=c.find(E=>E.id===w.treatmentDefinitionId);return l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md border border-slate-200",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:S?.name||i("common.unknownTreatment")}),l.jsxs("p",{className:"text-sm text-slate-600",children:[_?.name||i("common.unknownDentist")," - ",v.format(new Date(w.treatmentDate))]})]}),l.jsx("span",{className:"font-bold text-xl text-primary",children:x.format(w.doctorShare+w.clinicShare)})]}),l.jsx("p",{className:"text-sm text-slate-700 mb-3 whitespace-pre-wrap",children:w.notes||i("treatmentRecordList.noNotes")}),w.inventoryItemsUsed.length>0&&l.jsxs("div",{className:"mt-3 p-3 bg-neutral rounded-lg",children:[l.jsxs("p",{className:"font-semibold text-sm text-slate-700 mb-1",children:[i("treatmentRecordList.materialsUsed"),":"]}),l.jsx("ul",{className:"list-disc list-inside text-xs text-slate-600 space-y-1",children:w.inventoryItemsUsed.map((E,T)=>{const D=u.find(C=>C.id===E.inventoryItemId);return l.jsxs("li",{children:[D?.name||i("common.unknownMaterial")," x ",E.quantity," (",x.format(E.cost),")"]},T)})})]}),l.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm font-medium",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>h(w),className:"bg-amber-500 text-white px-3 py-1 rounded-lg hover:bg-amber-600 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400",children:i("common.edit")}),l.jsx("button",{onClick:()=>g(w),className:"bg-red-500 text-white px-3 py-1 rounded-lg hover:bg-red-600 text-xs focus:outline-none focus:ring-2 focus:ring-red-400",children:i("common.delete")})]}),l.jsxs("div",{className:"flex",children:[l.jsxs("p",{className:"text-blue-700 me-4",children:[i("addTreatmentRecord.doctorShare"),": ",l.jsx("strong",{className:"text-base",children:x.format(w.doctorShare)})]}),l.jsxs("p",{className:"text-green-700",children:[i("addTreatmentRecord.clinicShare"),": ",l.jsx("strong",{className:"text-base",children:x.format(w.clinicShare)})]})]})]})]},w.id)})}),d&&l.jsx(S4e,{record:d,onClose:()=>h(null),onUpdate:w=>{r(e.id,w),h(null)},clinicData:t}),m&&l.jsx(N4e,{record:m,onConfirm:()=>{n(m.id),g(null),s(i("treatmentDelete.deletedSuccessfully"),gt.SUCCESS)},onCancel:()=>g(null)})]})},KR=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),A4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 12H4"})}),E4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),P4e=({patientId:e,onClose:t,onAdd:r,clinicData:n})=>{const{t:i,locale:a}=sr(),{addNotification:s}=bi(),{dentists:o,treatmentDefinitions:c,inventoryItems:u,updateInventoryItem:d}=n,[h,m]=A.useState({dentistId:"",treatmentDate:new Date().toISOString().split("T")[0],treatmentDefinitionId:"",notes:"",selectedInventoryItems:[],affectedTeeth:[],labId:""}),g=A.useMemo(()=>c.find(T=>T.id===h.treatmentDefinitionId),[h.treatmentDefinitionId,c]),x=A.useMemo(()=>{let T=0;const D=[];h.selectedInventoryItems.forEach(H=>{const F=u.find(U=>U.id===H.inventoryItemId);if(F&&H.quantity>0){const U=F.unitCost*H.quantity;T+=U,D.push({inventoryItemId:H.inventoryItemId,quantity:H.quantity,cost:U})}});const C=g?.basePrice||0,O=C*(g?.doctorPercentage||0),R=C*(g?.clinicPercentage||0)-T;return{doctorShare:O,clinicShare:R,itemsUsedForRecord:D}},[h.selectedInventoryItems,u,g]),v=T=>{const{name:D,value:C}=T.target;m(O=>({...O,[D]:C}))},y=T=>{m(D=>D.selectedInventoryItems.some(C=>C.inventoryItemId===T)?D:{...D,selectedInventoryItems:[...D.selectedInventoryItems,{inventoryItemId:T,quantity:1}]})},w=(T,D)=>{m(C=>({...C,selectedInventoryItems:C.selectedInventoryItems.map(O=>O.inventoryItemId===T?{...O,quantity:Math.max(0,D)}:O)}))},_=T=>{m(D=>({...D,selectedInventoryItems:D.selectedInventoryItems.filter(C=>C.inventoryItemId!==T)}))},S=T=>{if(T.preventDefault(),!h.dentistId||!h.treatmentDefinitionId){s(i("addTreatmentRecord.alertFillFields"),gt.ERROR);return}if(h.selectedInventoryItems.forEach(D=>{const C=u.find(O=>O.id===D.inventoryItemId);C&&d({...C,currentStock:C.currentStock-D.quantity})}),h.labId){const D={patientId:e,labId:h.labId,caseType:g?.name||"Treatment Case",sentDate:h.treatmentDate,dueDate:new Date(new Date(h.treatmentDate).getTime()+6048e5).toISOString().split("T")[0],returnDate:"",status:Ks.DRAFT,labCost:0,notes:h.notes||""};n.addLabCase(D)}r({dentistId:h.dentistId,treatmentDate:h.treatmentDate,treatmentDefinitionId:h.treatmentDefinitionId,notes:h.notes,inventoryItemsUsed:x.itemsUsedForRecord,doctorShare:x.doctorShare,clinicShare:x.clinicShare,totalTreatmentCost:x.doctorShare+x.clinicShare,affectedTeeth:h.affectedTeeth})},E=new Intl.NumberFormat(a,{style:"currency",currency:"EGP"});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:i("addTreatmentRecord.title")}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":i("common.closeForm"),children:l.jsx(KR,{})})]}),l.jsxs("form",{onSubmit:S,className:"p-6 overflow-y-auto flex-1 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"treatmentDate",className:"block text-sm font-medium text-slate-600",children:i("addTreatmentRecord.date")}),l.jsx("input",{id:"treatmentDate",name:"treatmentDate",type:"date",value:h.treatmentDate,onChange:v,className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dentistId",className:"block text-sm font-medium text-slate-600",children:i("addTreatmentRecord.dentist")}),l.jsxs("select",{id:"dentistId",name:"dentistId",value:h.dentistId,onChange:v,className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"",children:i("addTreatmentRecord.selectDentist")}),o.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"treatmentDefinitionId",className:"block text-sm font-medium text-slate-600",children:i("addTreatmentRecord.treatment")}),l.jsxs("select",{id:"treatmentDefinitionId",name:"treatmentDefinitionId",value:h.treatmentDefinitionId,onChange:v,className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"",children:i("addTreatmentRecord.selectTreatment")}),c.map(T=>l.jsxs("option",{value:T.id,children:[T.name," (",E.format(T.basePrice),")"]},T.id))]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"labId",className:"block text-sm font-medium text-slate-600",children:[i("labCases.dentalLab")," (",i("common.optional"),")"]}),l.jsxs("select",{id:"labId",name:"labId",value:h.labId,onChange:v,className:"mt-1 p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",children:[l.jsx("option",{value:"",children:i("labCases.selectDentalLab")}),n.suppliers.filter(T=>T.type==="Dental Lab").map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-slate-600",children:i("addTreatmentRecord.notes")}),l.jsx("textarea",{id:"notes",name:"notes",value:h.notes,onChange:v,placeholder:i("addTreatmentRecord.notesPlaceholder"),className:"mt-1 p-2 border border-slate-300 rounded-lg w-full h-24 focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"affectedTeeth",className:"block text-sm font-medium text-slate-600",children:i("addTreatmentRecord.affectedTeeth")}),l.jsx("select",{id:"affectedTeeth",multiple:!0,value:h.affectedTeeth,onChange:T=>{const D=Array.from(T.target.selectedOptions,C=>C.value);m(C=>({...C,affectedTeeth:D}))},className:"mt-1 p-2 border border-slate-300 rounded-lg w-full h-32 focus:ring-primary focus:border-primary",children:[...Array.from({length:8},(T,D)=>`UR${D+1}`),...Array.from({length:8},(T,D)=>`UL${D+1}`),...Array.from({length:8},(T,D)=>`LL${D+1}`),...Array.from({length:8},(T,D)=>`LR${D+1}`)].map(T=>l.jsx("option",{value:T,children:T},T))}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:i("addTreatmentRecord.affectedTeethHelp")})]}),l.jsxs("div",{className:"bg-neutral p-4 rounded-lg shadow-inner",children:[l.jsx("h3",{className:"text-md font-semibold text-slate-700 mb-2",children:i("addTreatmentRecord.inventoryItemsUsed")}),l.jsx("div",{className:"space-y-2 mb-4",children:h.selectedInventoryItems.map(T=>{const D=u.find(C=>C.id===T.inventoryItemId);return D?l.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2 rounded-lg shadow-sm",children:[l.jsx("p",{className:"flex-1 text-sm text-slate-700",children:D.name}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{type:"button",onClick:()=>w(T.inventoryItemId,T.quantity-1),className:"p-1 rounded-full bg-slate-200 hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":i("addTreatmentRecord.decreaseQuantityAria",{itemName:D.name}),children:l.jsx(A4e,{})}),l.jsx("input",{type:"number",min:"0",value:T.quantity,onChange:C=>w(T.inventoryItemId,parseFloat(C.target.value)),className:"w-16 text-center border border-slate-300 rounded-lg p-1 text-sm focus:ring-primary focus:border-primary","aria-label":i("addTreatmentRecord.quantityAria",{itemName:D.name})}),l.jsx("button",{type:"button",onClick:()=>w(T.inventoryItemId,T.quantity+1),className:"p-1 rounded-full bg-slate-200 hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":i("addTreatmentRecord.increaseQuantityAria",{itemName:D.name}),children:l.jsx(E4e,{})})]}),l.jsx("button",{type:"button",onClick:()=>_(T.inventoryItemId),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-300","aria-label":i("addTreatmentRecord.removeItemAria",{itemName:D.name}),children:l.jsx(KR,{})})]},T.inventoryItemId):null})}),l.jsx("label",{htmlFor:"add-inventory-item",className:"sr-only",children:i("addTreatmentRecord.addItem")}),l.jsxs("select",{id:"add-inventory-item",onChange:T=>y(T.target.value),value:"",className:"p-2 border border-slate-300 rounded-lg w-full text-slate-600 focus:ring-primary focus:border-primary",children:[l.jsx("option",{value:"",children:i("addTreatmentRecord.addItemPlaceholder")}),u.filter(T=>!h.selectedInventoryItems.some(D=>D.inventoryItemId===T.id)).map(T=>l.jsxs("option",{value:T.id,children:[T.name," (",i("addTreatmentRecord.stock"),": ",T.currentStock,")"]},T.id))]})]}),l.jsxs("div",{className:"bg-neutral p-4 rounded-lg space-y-2 shadow-inner",children:[l.jsx("h3",{className:"text-md font-semibold text-slate-700",children:i("addTreatmentRecord.costSummary")}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[i("addTreatmentRecord.baseTreatmentPrice"),":"]})," ",E.format(g?.basePrice||0)]}),l.jsxs("p",{className:"text-sm text-blue-700",children:[i("addTreatmentRecord.doctorShare"),": ",l.jsx("strong",{className:"text-base",children:E.format(x.doctorShare)})]}),l.jsxs("p",{className:"text-sm text-green-700",children:[i("addTreatmentRecord.clinicShare"),": ",l.jsx("strong",{className:"text-base",children:E.format(x.clinicShare)})]})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4 flex-shrink-0",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:i("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:i("addTreatmentRecord.saveRecord")})]})]})]})})},T4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),k4e=({patientId:e,clinicData:t,onClose:r,onAdd:n})=>{const{t:i}=sr(),{addNotification:a}=bi(),[s,o]=A.useState({patientId:e,date:new Date().toISOString().split("T")[0],amount:0,method:"Cash",notes:"",treatmentRecordId:"",clinicShare:0,doctorShare:0}),c=h=>{const{name:m,value:g}=h.target;o(x=>({...x,[m]:m==="amount"?parseFloat(g):g}))},u=h=>{if(h.preventDefault(),s.amount<=0){a(i("addPaymentModal.alertPositiveAmount"),gt.ERROR);return}if(!s.treatmentRecordId){a("Please select a treatment record",gt.ERROR);return}const g=t.treatmentRecords.filter(w=>w.patientId===e).reduce((w,_)=>{const S=t.treatmentDefinitions.find(E=>E.id===_.treatmentDefinitionId);return w+(S?S.basePrice:0)},0),x=t.payments.filter(w=>w.patientId===e).reduce((w,_)=>w+_.amount,0),v=g-x;if(v<=0){a("     ",gt.ERROR);return}if(s.amount>v){a(`    : ${v.toFixed(2)}`,gt.ERROR);return}const y=t.treatmentRecords.find(w=>w.id===s.treatmentRecordId);if(y){const w=t.treatmentDefinitions.find(_=>_.id===y.treatmentDefinitionId);if(w){const _=s.amount*w.doctorPercentage,S=s.amount-_;s.clinicShare=S,s.doctorShare=_}}n(s),r()},d=["Cash","Credit Card","Bank Transfer","Other","Discount"];return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:i("addPaymentModal.title")}),l.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":i("common.closeForm"),children:l.jsx(T4e,{})})]}),l.jsxs("form",{onSubmit:u,className:"p-6 overflow-y-auto flex-1 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"paymentDate",className:"block text-sm font-medium text-slate-600 mb-1",children:i("addPaymentModal.paymentDate")}),l.jsx("input",{id:"paymentDate",name:"date",type:"date",value:s.date,onChange:c,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 mb-1",children:i("addPaymentModal.amount")}),l.jsx("input",{id:"amount",name:"amount",type:"number",step:"0.01",value:s.amount,onChange:c,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,min:"0.01"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"treatmentRecord",className:"block text-sm font-medium text-slate-600 mb-1",children:"Treatment Record"}),l.jsxs("select",{id:"treatmentRecord",name:"treatmentRecordId",value:s.treatmentRecordId,onChange:c,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"",children:"Select a treatment record"}),t.treatmentRecords.filter(h=>h.patientId===e).map(h=>{const m=t.treatmentDefinitions.find(g=>g.id===h.treatmentDefinitionId);return l.jsxs("option",{value:h.id,children:[m?.name||"Unknown Treatment"," - ",new Date(h.treatmentDate).toLocaleDateString()]},h.id)})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-slate-600 mb-1",children:i("addPaymentModal.paymentMethod")}),l.jsx("select",{id:"paymentMethod",name:"method",value:s.method,onChange:c,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:d.filter(h=>h!=="Discount").map(h=>l.jsx("option",{value:h,children:i(`paymentMethod.${h}`)},h))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-slate-600 mb-1",children:i("addPaymentModal.notes")}),l.jsx("textarea",{id:"notes",name:"notes",value:s.notes||"",onChange:c,placeholder:i("addPaymentModal.notesPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-20 focus:ring-primary focus:border-primary"})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4 flex-shrink-0",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:i("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:i("addPaymentModal.savePayment")})]})]})]})})},C4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),D4e=({patientId:e,clinicData:t,onClose:r,onAdd:n})=>{const{t:i}=sr(),{addNotification:a}=bi(),[s,o]=A.useState({patientId:e,date:new Date().toISOString().split("T")[0],amount:0,method:"Discount",notes:"",treatmentRecordId:"",clinicShare:0,doctorShare:0}),[c,u]=A.useState(""),d=m=>{const{name:g,value:x}=m.target;g==="amount"?o(v=>({...v,[g]:parseFloat(x)})):g==="approvalPassword"?u(x):o(v=>({...v,[g]:x}))},h=m=>{if(m.preventDefault(),s.amount<=0){a(i("addPaymentModal.alertPositiveAmount"),gt.WARNING);return}const x=t.treatmentRecords.filter(w=>w.patientId===e).reduce((w,_)=>{const S=t.treatmentDefinitions.find(E=>E.id===_.treatmentDefinitionId);return w+(S?S.basePrice:0)},0),v=t.payments.filter(w=>w.patientId===e).reduce((w,_)=>w+_.amount,0),y=x-v;if(y<=0){a("     ",gt.ERROR);return}if(s.amount>y){a(`    : ${y.toFixed(2)}`,gt.ERROR);return}if(c!=="123"){a(i("addDiscountModal.passwordIncorrect"),gt.ERROR);return}n(s),r(),a(i("notifications.discountAdded"),gt.SUCCESS)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:i("addDiscountModal.title")}),l.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":i("common.closeForm"),children:l.jsx(C4e,{})})]}),l.jsxs("form",{onSubmit:h,className:"p-6 overflow-y-auto flex-1 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"discountAmount",className:"block text-sm font-medium text-slate-600 mb-1",children:i("addDiscountModal.amount")}),l.jsx("input",{id:"discountAmount",name:"amount",type:"number",step:"0.01",value:s.amount,onChange:d,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,min:"0.01"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"discountNotes",className:"block text-sm font-medium text-slate-600 mb-1",children:i("addDiscountModal.notes")}),l.jsx("textarea",{id:"discountNotes",name:"notes",value:s.notes||"",onChange:d,placeholder:i("addDiscountModal.notes"),className:"p-2 border border-slate-300 rounded-lg w-full h-20 focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"approvalPassword",className:"block text-sm font-medium text-slate-600 mb-1",children:i("addDiscountModal.password")}),l.jsx("input",{id:"approvalPassword",name:"approvalPassword",type:"password",value:c,onChange:d,placeholder:i("addDiscountModal.passwordPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4 flex-shrink-0",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:i("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:i("addDiscountModal.saveDiscount")})]})]})]})})},O4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),I4e=({patientId:e,payment:t,clinicData:r,onClose:n,onUpdate:i})=>{const{t:a}=sr(),{addNotification:s}=bi(),[o,c]=A.useState(t),[u,d]=A.useState(t.amount);A.useEffect(()=>{c(t),d(t.amount)},[t]);const h=x=>{const{name:v,value:y}=x.target,w=v==="amount"?parseFloat(y):y;if(c(_=>({..._,[v]:w})),v==="amount"&&parseFloat(w)!==u){const _=r.treatmentRecords.find(S=>S.id===t.treatmentRecordId);if(_){const S=r.treatmentDefinitions.find(E=>E.id===_.treatmentDefinitionId);if(S){const E=parseFloat(w),T=E*S.doctorPercentage,D=E-T;c(C=>({...C,clinicShare:D,doctorShare:T}))}}}},m=x=>{if(x.preventDefault(),o.amount<=0){s(a("addPaymentModal.alertPositiveAmount"),gt.ERROR);return}const y=r.treatmentRecords.filter(S=>S.patientId===e).reduce((S,E)=>{const T=r.treatmentDefinitions.find(D=>D.id===E.treatmentDefinitionId);return S+(T?T.basePrice:0)},0),w=r.payments.filter(S=>S.patientId===e&&S.id!==t.id).reduce((S,E)=>S+E.amount,0),_=y-w;if(_<=0){s("     ",gt.ERROR);return}if(o.amount>_){s(`    : ${_.toFixed(2)}`,gt.ERROR);return}i(o),n()},g=["Cash","Credit Card","Bank Transfer","Other","Discount"];return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:a("paymentEdit.title")}),l.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":a("common.closeForm"),children:l.jsx(O4e,{})})]}),l.jsxs("form",{onSubmit:m,className:"p-6 overflow-y-auto flex-1 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"paymentDate",className:"block text-sm font-medium text-slate-600 mb-1",children:a("addPaymentModal.paymentDate")}),l.jsx("input",{id:"paymentDate",name:"date",type:"date",value:o.date,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 mb-1",children:a("addPaymentModal.amount")}),l.jsx("input",{id:"amount",name:"amount",type:"number",step:"0.01",value:o.amount,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,min:"0.01"}),o.amount!==u&&l.jsx("p",{className:"text-sm text-amber-600 mt-1",children:a("paymentEdit.amountChanged")})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"treatmentRecord",className:"block text-sm font-medium text-slate-600 mb-1",children:"Treatment Record"}),l.jsx("select",{id:"treatmentRecord",name:"treatmentRecordId",value:o.treatmentRecordId,disabled:!0,className:"p-2 border border-slate-300 rounded-lg w-full bg-slate-100 cursor-not-allowed",children:r.treatmentRecords.filter(x=>x.patientId===e).map(x=>{const v=r.treatmentDefinitions.find(y=>y.id===x.treatmentDefinitionId);return l.jsxs("option",{value:x.id,children:[v?.name||"Unknown Treatment"," - ",new Date(x.treatmentDate).toLocaleDateString()]},x.id)})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-slate-600 mb-1",children:a("addPaymentModal.paymentMethod")}),l.jsx("select",{id:"paymentMethod",name:"method",value:o.method,onChange:h,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:g.filter(x=>x!=="Discount").map(x=>l.jsx("option",{value:x,children:a(`paymentMethod.${x}`)},x))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-slate-600 mb-1",children:a("addPaymentModal.notes")}),l.jsx("textarea",{id:"notes",name:"notes",value:o.notes||"",onChange:h,placeholder:a("addPaymentModal.notesPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-20 focus:ring-primary focus:border-primary"})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4 flex-shrink-0",children:[l.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:a("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:a("paymentEdit.saveChanges")})]})]})]})})},R4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),L4e=({payment:e,onConfirm:t,onCancel:r})=>{const{t:n}=sr();return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:n("paymentDelete.confirmTitle")}),l.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":n("common.closeForm"),children:l.jsx(R4e,{})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("p",{className:"text-slate-700",children:n("paymentDelete.confirmMessage")}),l.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[l.jsx("p",{className:"text-sm text-red-800 font-medium",children:n("paymentDelete.balanceImpact").replace("{amount}",e.amount.toFixed(2))}),l.jsx("p",{className:"text-sm text-red-800",children:n("paymentDelete.shareImpact").replace("{doctorShare}",e.doctorShare.toFixed(2))})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:n("common.cancel")}),l.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:n("common.delete")})]})]})]})})},M4e=`
@media print {
  @page {
    size: A4;
    margin: 1cm;
  }
  body {
    font-size: 12pt;
    line-height: 1.4;
  }
  .text-4xl { font-size: 24pt; }
  .text-3xl { font-size: 20pt; }
  .text-2xl { font-size: 16pt; }
  .text-xl { font-size: 14pt; }
  .text-md { font-size: 12pt; }
  .text-sm { font-size: 10pt; }
  .p-8 { padding: 20pt; }
  .p-6 { padding: 15pt; }
  .p-4 { padding: 10pt; }
  .p-3 { padding: 8pt; }
  .p-2 { padding: 5pt; }
  .mb-10 { margin-bottom: 25pt; }
  .mb-4 { margin-bottom: 10pt; }
  .mb-2 { margin-bottom: 5pt; }
  .mt-12 { margin-top: 30pt; }
  .mt-6 { margin-top: 15pt; }
  .mt-4 { margin-top: 10pt; }
  .mt-2 { margin-top: 5pt; }
  .border { border-width: 1pt; }
  .border-b { border-bottom-width: 1pt; }
  .border-collapse { border-collapse: collapse; }
  .break-inside-avoid { break-inside: avoid; }
}
`,F4e=({patient:e,clinicData:t})=>{const{t:r,locale:n}=sr(),{treatmentRecords:i,payments:a,treatmentDefinitions:s,dentists:o,clinicInfo:c}=t,u=new Intl.DateTimeFormat(n,{year:"numeric",month:"long",day:"numeric"}),d=new Intl.NumberFormat(n,{style:"currency",currency:"EGP"}),h=A.useMemo(()=>i.filter(x=>x.patientId===e.id).sort((x,v)=>new Date(x.treatmentDate).getTime()-new Date(v.treatmentDate).getTime()),[i,e.id]),m=A.useMemo(()=>a.filter(x=>x.patientId===e.id).sort((x,v)=>new Date(x.date).getTime()-new Date(v.date).getTime()),[a,e.id]),g=A.useMemo(()=>{const x=h.reduce((w,_)=>w+(_.doctorShare+_.clinicShare),0),v=m.reduce((w,_)=>w+_.amount,0),y=x-v;return{totalCharges:x,totalPaid:v,outstandingBalance:y}},[h,m]);return l.jsxs("div",{className:"p-8 bg-white text-slate-900 min-h-screen",dir:"rtl",children:[l.jsx("style",{children:M4e}),l.jsxs("header",{className:"flex justify-between items-start mb-10",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:c.name||r("appName")}),l.jsx("p",{className:"text-md text-slate-600",children:c.address||r("patientReport.clinicAddress")}),l.jsx("p",{className:"text-sm text-slate-600",children:c.phone&&`Phone: ${c.phone}`}),l.jsx("p",{className:"text-sm text-slate-600",children:c.email&&`Email: ${c.email}`})]}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-3xl font-bold text-primary-dark mb-2",children:r("patientInvoice.title")}),l.jsxs("p",{className:"text-md text-slate-700",children:[l.jsxs("strong",{children:[r("patientInvoice.invoiceNumber"),":"]})," ",e.id,"-INV-",new Date().getFullYear()]}),l.jsxs("p",{className:"text-md text-slate-700",children:[l.jsxs("strong",{children:[r("patientInvoice.date"),":"]})," ",u.format(new Date)]})]})]}),l.jsxs("section",{className:"mb-10 p-6 border rounded-lg bg-neutral-light shadow-sm",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:r("patientInvoice.billTo")}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 text-md text-slate-700",children:[l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.demographics.name"),":"]})," ",e.name]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.demographics.phone"),":"]})," ",e.phone]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.demographics.dob"),":"]})," ",u.format(new Date(e.dob))]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.demographics.email"),":"]})," ",e.email||"-"]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("strong",{children:[r("patientReport.demographics.address"),":"]})," ",e.address||"-"]})]})]}),l.jsxs("section",{className:"mb-10 break-inside-avoid",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4",children:r("patientInvoice.treatmentDetails")}),h.length>0?l.jsxs("table",{className:"w-full text-md border-collapse border border-slate-400",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.treatmentHistory.date")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.treatmentHistory.treatment")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.treatmentHistory.dentist")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.treatmentHistory.cost")})]})}),l.jsxs("tbody",{children:[h.map(x=>{const v=s.find(w=>w.id===x.treatmentDefinitionId),y=o.find(w=>w.id===x.dentistId);return l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("td",{className:"p-3 border border-slate-300",children:u.format(new Date(x.treatmentDate))}),l.jsx("td",{className:"p-3 border border-slate-300",children:v?.name||r("common.unknownTreatment")}),l.jsx("td",{className:"p-3 border border-slate-300",children:y?.name||r("common.unknownDentist")}),l.jsx("td",{className:"p-3 border border-slate-300",children:d.format(x.doctorShare+x.clinicShare)})]},x.id)}),l.jsxs("tr",{className:"bg-slate-50 font-bold",children:[l.jsxs("td",{colSpan:3,className:"p-3 text-right border border-slate-300",children:[r("financials.totalCharges"),":"]}),l.jsx("td",{className:"p-3 border border-slate-300",children:d.format(g.totalCharges)})]})]})]}):l.jsx("p",{className:"text-center text-slate-500 py-4",children:r("patientReport.treatmentHistory.noRecords")})]}),l.jsxs("section",{className:"mb-10 break-inside-avoid",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4",children:r("patientInvoice.paymentDetails")}),m.length>0?l.jsxs("table",{className:"w-full text-md border-collapse border border-slate-400",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.financials.paymentDate")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.financials.paymentMethod")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.financials.notes")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.financials.amount")})]})}),l.jsxs("tbody",{children:[m.map(x=>l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("td",{className:"p-3 border border-slate-300",children:u.format(new Date(x.date))}),l.jsx("td",{className:"p-3 border border-slate-300",children:r(`paymentMethod.${x.method}`)}),l.jsx("td",{className:"p-3 border border-slate-300",children:x.notes||"-"}),l.jsx("td",{className:"p-3 border border-slate-300",children:d.format(x.amount)})]},x.id)),l.jsxs("tr",{className:"bg-slate-50 font-bold",children:[l.jsxs("td",{colSpan:3,className:"p-3 text-right border border-slate-300",children:[r("financials.totalPaid"),":"]}),l.jsx("td",{className:"p-3 border border-slate-300",children:d.format(g.totalPaid)})]})]})]}):l.jsx("p",{className:"text-center text-slate-500 py-4",children:r("patientReport.financials.noPayments")})]}),l.jsx("section",{className:"flex justify-end mt-12 mb-10",children:l.jsxs("div",{className:"w-full max-w-sm p-6 bg-blue-50 rounded-lg shadow-md border-primary-light",children:[l.jsx("h3",{className:"text-xl font-bold text-primary-dark mb-4",children:r("patientInvoice.balanceDue")}),l.jsx("p",{className:"text-4xl font-extrabold text-primary-dark",children:d.format(g.outstandingBalance)})]})}),l.jsxs("footer",{className:"text-center mt-12 text-slate-600 text-sm",children:[l.jsx("p",{className:"mb-2",children:r("patientInvoice.thankYou")}),l.jsx("p",{children:r("patientReport.footer")})]})]})},B4e=`
@media print {
  @page {
    size: A4;
    margin: 1cm;
  }
  body {
    font-size: 12pt;
    line-height: 1.4;
  }
  .text-4xl { font-size: 24pt; }
  .text-3xl { font-size: 20pt; }
  .text-2xl { font-size: 16pt; }
  .text-xl { font-size: 14pt; }
  .text-md { font-size: 12pt; }
  .text-sm { font-size: 10pt; }
  .p-8 { padding: 20pt; }
  .p-6 { padding: 15pt; }
  .p-4 { padding: 10pt; }
  .p-3 { padding: 8pt; }
  .p-2 { padding: 5pt; }
  .mb-10 { margin-bottom: 25pt; }
  .mb-4 { margin-bottom: 10pt; }
  .mb-2 { margin-bottom: 5pt; }
  .mt-12 { margin-top: 30pt; }
  .mt-6 { margin-top: 15pt; }
  .mt-4 { margin-top: 10pt; }
  .mt-2 { margin-top: 5pt; }
  .border { border-width: 1pt; }
  .border-b { border-bottom-width: 1pt; }
  .border-collapse { border-collapse: collapse; }
  .break-inside-avoid { break-inside: avoid; }
}
`,U4e=({patient:e,clinicData:t})=>{const{t:r,locale:n}=sr(),{treatmentRecords:i,payments:a,treatmentDefinitions:s,dentists:o,clinicInfo:c}=t,u=new Intl.DateTimeFormat(n,{year:"numeric",month:"long",day:"numeric"}),d=new Intl.NumberFormat(n,{style:"currency",currency:"EGP"}),h=A.useMemo(()=>i.filter(y=>y.patientId===e.id).sort((y,w)=>new Date(y.treatmentDate).getTime()-new Date(w.treatmentDate).getTime()),[i,e.id]),m=A.useMemo(()=>a.filter(y=>y.patientId===e.id).sort((y,w)=>new Date(y.date).getTime()-new Date(w.date).getTime()),[a,e.id]),g=A.useMemo(()=>{const y=h.reduce((S,E)=>S+(E.doctorShare+E.clinicShare),0),w=m.reduce((S,E)=>S+E.amount,0),_=y-w;return{totalCharges:y,totalPaid:w,outstandingBalance:_}},[h,m]),x={[kn.HEALTHY]:0,[kn.FILLING]:0,[kn.CROWN]:0,[kn.MISSING]:0,[kn.IMPLANT]:0,[kn.ROOT_CANAL]:0,[kn.CAVITY]:0};for(const y in e.dentalChart){const w=e.dentalChart[y].status;x.hasOwnProperty(w)&&x[w]++}const v=A.useMemo(()=>{const y=[],w=Object.entries(x).filter(([,_])=>_>0);return w.length>0?w.forEach(([_,S])=>{S>0&&y.push(`${r(`toothStatus.${_}`)}: ${S}`)}):y.push(r("patientReport.dentalChart.allHealthy")),y},[x,r]);return l.jsxs("div",{className:"p-8 bg-white text-slate-900 min-h-screen",dir:"rtl",children:[l.jsx("style",{children:B4e}),l.jsxs("header",{className:"text-center mb-10",children:[l.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:c.name||r("appName")}),l.jsx("p",{className:"text-md text-slate-600",children:c.address||r("patientReport.clinicAddress")}),l.jsx("p",{className:"text-sm text-slate-600",children:c.phone&&`Phone: ${c.phone}`}),l.jsx("p",{className:"text-sm text-slate-600",children:c.email&&`Email: ${c.email}`}),l.jsx("h2",{className:"text-3xl font-bold text-primary-dark mt-6 mb-2",children:r("patientReport.title")}),l.jsx("p",{className:"text-md text-slate-700",children:r("patientReport.generatedOn",{date:u.format(new Date)})})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 border-b pb-2",children:r("patientReport.demographics.title")}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 text-md text-slate-700",children:[l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.demographics.name"),":"]})," ",e.name]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.demographics.phone"),":"]})," ",e.phone]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.demographics.dob"),":"]})," ",u.format(new Date(e.dob))]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.demographics.email"),":"]})," ",e.email||"-"]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.demographics.gender"),":"]})," ",r(e.gender.toLowerCase())]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("strong",{children:[r("patientReport.demographics.address"),":"]})," ",e.address||"-"]})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 border-b pb-2",children:r("patientReport.emergencyAndInsurance.title")}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 text-md text-slate-700",children:[l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.emergencyContactName"),":"]})," ",e.emergencyContactName||"-"]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.emergencyContactPhone"),":"]})," ",e.emergencyContactPhone||"-"]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.emergencyAndInsurance.insuranceProvider"),":"]})," ",e.insuranceProvider||"-"]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.emergencyAndInsurance.policyNumber"),":"]})," ",e.insurancePolicyNumber||"-"]})]})]}),l.jsxs("section",{className:"mb-10",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 border-b pb-2",children:r("patientReport.medicalInfo.title")}),l.jsxs("div",{className:"space-y-3 text-md text-slate-700",children:[l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.medicalInfo.allergies"),":"]})," ",l.jsx("span",{className:"whitespace-pre-wrap",children:e.allergies||r("common.na")})]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.medicalInfo.medications"),":"]})," ",l.jsx("span",{className:"whitespace-pre-wrap",children:e.medications||r("common.na")})]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientReport.medicalInfo.medicalHistory"),":"]})," ",l.jsx("span",{className:"whitespace-pre-wrap",children:e.medicalHistory||r("common.na")})]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[r("patientDetails.unstructuredNotes"),":"]})," ",l.jsx("span",{className:"whitespace-pre-wrap",children:e.treatmentNotes||r("common.na")})]})]})]}),l.jsxs("section",{className:"mb-10 break-inside-avoid",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 border-b pb-2",children:r("patientReport.dentalChart.title")}),l.jsxs("div",{className:"space-y-2 text-md text-slate-700",children:[v.map((y,w)=>l.jsx("p",{children:y},w)),l.jsxs("table",{className:"w-full text-sm border-collapse border border-slate-400 mt-4",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:r("patientReport.dentalChart.tooth")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:r("patientReport.dentalChart.status")}),l.jsx("th",{className:"p-2 text-right font-semibold border border-slate-300",children:r("patientReport.dentalChart.notes")})]})}),l.jsxs("tbody",{children:[Object.entries(e.dentalChart).filter(([,y])=>y.status!==kn.HEALTHY||y.notes).map(([y,w])=>l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("td",{className:"p-2 border border-slate-300",children:y}),l.jsx("td",{className:"p-2 border border-slate-300",children:r(`toothStatus.${w.status}`)}),l.jsx("td",{className:"p-2 border border-slate-300",children:w.notes||"-"})]},y)),Object.entries(e.dentalChart).filter(([,y])=>y.status===kn.HEALTHY&&!y.notes).length===Object.keys(e.dentalChart).length&&l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"p-2 text-center text-slate-500 border border-slate-300",children:r("patientReport.dentalChart.allHealthy")})})]})]})]})]}),l.jsxs("section",{className:"mb-10 break-inside-avoid",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 border-b pb-2",children:r("patientReport.treatmentHistory.title")}),h.length>0?l.jsxs("table",{className:"w-full text-md border-collapse border border-slate-400",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.treatmentHistory.date")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.treatmentHistory.treatment")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.treatmentHistory.dentist")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.treatmentHistory.cost")})]})}),l.jsx("tbody",{children:h.map(y=>{const w=s.find(S=>S.id===y.treatmentDefinitionId),_=o.find(S=>S.id===y.dentistId);return l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("td",{className:"p-3 border border-slate-300",children:u.format(new Date(y.treatmentDate))}),l.jsx("td",{className:"p-3 border border-slate-300",children:w?.name||r("common.unknownTreatment")}),l.jsx("td",{className:"p-3 border border-slate-300",children:_?.name||r("common.unknownDentist")}),l.jsx("td",{className:"p-3 border border-slate-300",children:d.format(y.doctorShare+y.clinicShare)})]},y.id)})})]}):l.jsx("p",{className:"text-center text-slate-500 py-4",children:r("patientReport.treatmentHistory.noRecords")})]}),l.jsxs("section",{className:"mb-10 break-inside-avoid",children:[l.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 border-b pb-2",children:r("patientReport.financials.title")}),m.length>0?l.jsxs("table",{className:"w-full text-md border-collapse border border-slate-400",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.financials.paymentDate")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.financials.paymentMethod")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.financials.notes")}),l.jsx("th",{className:"p-3 text-right font-semibold border border-slate-300",children:r("patientReport.financials.amount")})]})}),l.jsx("tbody",{children:m.map(y=>l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("td",{className:"p-3 border border-slate-300",children:u.format(new Date(y.date))}),l.jsx("td",{className:"p-3 border border-slate-300",children:r(`paymentMethod.${y.method}`)}),l.jsx("td",{className:"p-3 border border-slate-300",children:y.notes||"-"}),l.jsx("td",{className:"p-3 border border-slate-300",children:d.format(y.amount)})]},y.id))})]}):l.jsx("p",{className:"text-center text-slate-500 py-4",children:r("patientReport.financials.noPayments")}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsxs("div",{className:"w-full max-w-sm p-4 bg-neutral-light rounded-lg shadow-sm border border-slate-200",children:[l.jsxs("p",{className:"text-md text-slate-700",children:[l.jsxs("strong",{children:[r("financials.totalCharges"),":"]})," ",d.format(g.totalCharges)]}),l.jsxs("p",{className:"text-md text-slate-700",children:[l.jsxs("strong",{children:[r("financials.totalPaid"),":"]})," ",d.format(g.totalPaid)]}),l.jsxs("p",{className:"text-xl font-bold text-primary-dark mt-2",children:[l.jsxs("strong",{children:[r("financials.outstandingBalance"),":"]})," ",d.format(g.outstandingBalance)]})]})})]}),l.jsx("footer",{className:"text-center mt-12 text-slate-600 text-sm",children:l.jsx("p",{children:r("patientReport.footer")})})]})},$4e=()=>l.jsx("style",{children:`
    @media print {
      @page {
        size: A4;
        margin: 1cm;
      }
      body {
        font-size: 12px;
        line-height: 1.4;
      }
      .print-header {
        margin-bottom: 1.5rem;
        page-break-after: avoid;
      }
      .print-section {
        margin-bottom: 1rem;
        page-break-inside: avoid;
      }
      table {
        font-size: 10px;
      }
      h1 {
        font-size: 18px;
      }
      h2, h3, h4 {
        font-size: 14px;
      }
    }
  `}),z4e=({prescription:e,patient:t,prescriptionItems:r,dentist:n,clinicInfo:i})=>{const{t:a,locale:s}=sr(),o=new Intl.DateTimeFormat(s,{year:"numeric",month:"long",day:"numeric"});return l.jsxs(l.Fragment,{children:[l.jsx($4e,{}),l.jsxs("div",{className:"p-4 bg-white text-slate-900",dir:"rtl",children:[l.jsxs("header",{className:"print-header text-center mb-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-1",children:i.name||a("appName")}),l.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[i.address&&l.jsx("p",{children:i.address}),l.jsxs("div",{className:"flex justify-center gap-4",children:[i.phone&&l.jsxs("span",{children:[a("common.phone"),": ",i.phone]}),i.email&&l.jsxs("span",{children:[a("common.email"),": ",i.email]})]})]})]}),l.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-2",children:a("prescriptionDetails.title")}),l.jsxs("p",{className:"text-md text-slate-600",children:[a("prescriptionDetails.prescriptionId"),": ",e.id.slice(-8)]})]}),l.jsx("main",{children:l.jsxs("div",{className:"print-section space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:a("prescriptionDetails.patientInfo")}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[a("prescriptionDetails.patientName"),":"]})," ",t.name]}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[a("prescriptionDetails.patientId"),":"]})," ",t.id.slice(-8)]}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[a("prescriptionDetails.patientPhone"),":"]})," ",t.phone]})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:a("prescriptionDetails.prescriptionInfo")}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[a("prescriptionDetails.dentist"),":"]})," ",n?.name||a("common.unknownDentist")]}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[a("prescriptionDetails.date"),":"]})," ",o.format(new Date(e.prescriptionDate))]})]})]}),e.notes&&l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:a("prescriptionDetails.notes")}),l.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:e.notes})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-4",children:a("prescriptionDetails.medications")}),r.length===0?l.jsx("p",{className:"text-center text-slate-500 py-8",children:a("prescriptionDetails.noMedications")}):l.jsx("div",{className:"space-y-4",children:r.map((c,u)=>l.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:c.medicationName}),l.jsxs("span",{className:"text-sm text-slate-500",children:["#",u+1]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[c.dosage&&l.jsxs("div",{children:[l.jsxs("strong",{className:"text-slate-600",children:[a("prescriptionDetails.dosage"),":"]}),l.jsx("p",{className:"text-slate-800",children:c.dosage})]}),l.jsxs("div",{children:[l.jsxs("strong",{className:"text-slate-600",children:[a("prescriptionDetails.quantity"),":"]}),l.jsx("p",{className:"text-slate-800",children:c.quantity})]}),c.instructions&&l.jsxs("div",{className:"md:col-span-3",children:[l.jsxs("strong",{className:"text-slate-600",children:[a("prescriptionDetails.instructions"),":"]}),l.jsx("p",{className:"text-slate-800",children:c.instructions})]})]})]},c.id))})]}),l.jsx("div",{className:"mt-8 pt-4 border-t border-slate-200 text-center",children:l.jsx("p",{className:"text-sm text-slate-600",children:a("prescriptionDetails.footerNote")})})]})})]})]})},W4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),q4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),H4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),V4e=({prescription:e,patient:t,prescriptions:r,prescriptionItems:n,dentists:i,clinicInfo:a,onClose:s,onUpdate:o})=>{const{t:c,locale:u}=sr(),d=new Intl.DateTimeFormat(u,{year:"numeric",month:"long",day:"numeric"}),h=i.find(x=>x.id===e.dentistId),m=n.filter(x=>x.prescriptionId===e.id),g=()=>{if(!h)return;const x=`${c("prescriptionDetails.title")} - ${t.name}`;Nl(x,l.jsx(z4e,{prescription:e,patient:t,prescriptionItems:m,dentist:h,clinicInfo:a}))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[l.jsxs("h2",{className:"text-xl font-bold text-slate-700",children:[c("prescriptionDetails.title")," #",e.id.slice(-8)]}),l.jsxs("div",{className:"flex items-center gap-2",children:[o&&l.jsxs("button",{onClick:()=>o(e),className:"flex items-center px-3 py-1 bg-slate-100 rounded-lg hover:bg-slate-200 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-slate-300",children:[l.jsx(q4e,{})," ",c("common.edit")]}),l.jsxs("button",{onClick:g,className:"flex items-center px-3 py-1 bg-slate-100 rounded-lg hover:bg-slate-200 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-slate-300",children:[l.jsx(H4e,{})," ",c("common.print")]}),l.jsx("button",{onClick:s,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":c("prescriptionDetails.closeAriaLabel"),children:l.jsx(W4e,{})})]})]}),l.jsxs("main",{className:"p-6 overflow-y-auto flex-1",children:[l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg mb-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:c("prescriptionDetails.patientInfo")}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[c("prescriptionDetails.patientName"),":"]})," ",t.name]}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[c("prescriptionDetails.patientId"),":"]})," ",t.id.slice(-8)]}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[c("prescriptionDetails.patientPhone"),":"]})," ",t.phone]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:c("prescriptionDetails.prescriptionInfo")}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[c("prescriptionDetails.dentist"),":"]})," ",h?.name||c("common.unknownDentist")]}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[c("prescriptionDetails.date"),":"]})," ",d.format(new Date(e.prescriptionDate))]}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[c("prescriptionDetails.prescriptionId"),":"]})," ",e.id.slice(-8)]})]})]}),e.notes&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:c("prescriptionDetails.notes")}),l.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:e.notes})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-4",children:c("prescriptionDetails.medications")}),m.length===0?l.jsx("p",{className:"text-center text-slate-500 py-8",children:c("prescriptionDetails.noMedications")}):l.jsx("div",{className:"space-y-4",children:m.map((x,v)=>l.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:x.medicationName}),l.jsxs("span",{className:"text-sm text-slate-500",children:["#",v+1]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[x.dosage&&l.jsxs("div",{children:[l.jsxs("strong",{className:"text-slate-600",children:[c("prescriptionDetails.dosage"),":"]}),l.jsx("p",{className:"text-slate-800",children:x.dosage})]}),l.jsxs("div",{children:[l.jsxs("strong",{className:"text-slate-600",children:[c("prescriptionDetails.quantity"),":"]}),l.jsx("p",{className:"text-slate-800",children:x.quantity})]}),x.instructions&&l.jsxs("div",{className:"md:col-span-3",children:[l.jsxs("strong",{className:"text-slate-600",children:[c("prescriptionDetails.instructions"),":"]}),l.jsx("p",{className:"text-slate-800",children:x.instructions})]})]})]},x.id))})]}),l.jsx("div",{className:"mt-8 pt-4 border-t border-slate-200 flex justify-end",children:l.jsx("button",{onClick:s,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:c("common.close")})})]})]})})},K4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute start-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),G4e=({patients:e,prescriptions:t,prescriptionItems:r,dentists:n,onUpdatePrescription:i})=>{const{t:a,locale:s}=sr(),{clinicInfo:o}=Ob(),[c,u]=A.useState(null),[d,h]=A.useState(""),[m,g]=A.useState({startDate:"",endDate:"",dentistId:""}),x=new Intl.DateTimeFormat(s,{year:"numeric",month:"long",day:"numeric"}),v=A.useMemo(()=>{let _=t.filter(S=>e.some(E=>E.id===S.patientId));if(d.trim()){const S=d.toLowerCase().trim();_=_.filter(E=>{const T=e.find(O=>O.id===E.patientId),D=n.find(O=>O.id===E.dentistId),C=r.filter(O=>O.prescriptionId===E.id);return T?.name.toLowerCase().includes(S)||D?.name.toLowerCase().includes(S)||C.some(O=>O.medicationName.toLowerCase().includes(S))||E.notes?.toLowerCase().includes(S)})}return m.startDate&&(_=_.filter(S=>new Date(S.prescriptionDate)>=new Date(m.startDate))),m.endDate&&(_=_.filter(S=>new Date(S.prescriptionDate)<=new Date(m.endDate))),m.dentistId&&(_=_.filter(S=>S.dentistId===m.dentistId)),_.sort((S,E)=>new Date(E.prescriptionDate).getTime()-new Date(S.prescriptionDate).getTime())},[t,e,n,r,d,m]),y=(_,S)=>{g(E=>({...E,[_]:S}))},w=()=>{g({startDate:"",endDate:"",dentistId:""}),h("")};return v.length===0&&t.length===0?l.jsx("p",{className:"text-center text-slate-500 py-10",children:a("prescriptionList.noPrescriptions")}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:a("prescriptionList.searchAndFilters")}),l.jsx("button",{onClick:w,className:"text-sm text-slate-600 hover:text-slate-800 underline",children:a("financialFilters.clearAll")})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(K4e,{}),l.jsx("input",{type:"text",placeholder:a("prescriptionList.searchPlaceholder"),value:d,onChange:_=>h(_.target.value),className:"w-full p-3 ps-10 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-slate-700 mb-2",children:a("financialFilters.startDate")}),l.jsx("input",{type:"date",id:"start-date",value:m.startDate,onChange:_=>y("startDate",_.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-slate-700 mb-2",children:a("financialFilters.endDate")}),l.jsx("input",{type:"date",id:"end-date",value:m.endDate,onChange:_=>y("endDate",_.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dentist-filter",className:"block text-sm font-medium text-slate-700 mb-2",children:a("prescriptionList.doctor")}),l.jsxs("select",{id:"dentist-filter",value:m.dentistId,onChange:_=>y("dentistId",_.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors",children:[l.jsx("option",{value:"",children:a("prescriptionList.allDoctors")}),n.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]})]})]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[d&&l.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[a("prescriptionList.search"),": ",d,l.jsx("button",{onClick:()=>h(""),className:"ml-2 text-blue-600 hover:text-blue-800",children:""})]}),m.startDate&&l.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:[a("financialFilters.startDate"),": ",new Date(m.startDate).toLocaleDateString(),l.jsx("button",{onClick:()=>y("startDate",""),className:"ml-2 text-green-600 hover:text-green-800",children:""})]}),m.endDate&&l.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:[a("financialFilters.endDate"),": ",new Date(m.endDate).toLocaleDateString(),l.jsx("button",{onClick:()=>y("endDate",""),className:"ml-2 text-green-600 hover:text-green-800",children:""})]}),m.dentistId&&l.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:[a("prescriptionList.doctor"),": ",n.find(_=>_.id===m.dentistId)?.name,l.jsx("button",{onClick:()=>y("dentistId",""),className:"ml-2 text-purple-600 hover:text-purple-800",children:""})]})]})]}),l.jsx("div",{className:"space-y-4",children:v.length>0?v.map(_=>{const S=e.find(D=>D.id===_.patientId),E=n.find(D=>D.id===_.dentistId),T=r.filter(D=>D.prescriptionId===_.id);return l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md border border-slate-200",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-slate-800 text-lg",children:[a("prescriptionList.prescription")," #",_.id.slice(-8)]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[a("prescriptionList.patient"),": ",S?.name||a("common.unknownPatient")," |",E?.name||a("common.unknownDentist")," |",x.format(new Date(_.prescriptionDate))]})]}),l.jsxs("span",{className:"text-sm text-slate-500",children:[T.length," ",a("prescriptionList.items")]})]}),l.jsx("p",{className:"text-sm text-slate-700 mb-3 whitespace-pre-wrap",children:_.notes||a("prescriptionList.noNotes")}),T.length>0&&l.jsxs("div",{className:"mt-3 p-3 bg-neutral rounded-lg",children:[l.jsxs("p",{className:"font-semibold text-sm text-slate-700 mb-1",children:[a("prescriptionList.medications"),":"]}),l.jsx("ul",{className:"list-disc list-inside text-xs text-slate-600 space-y-1",children:T.map((D,C)=>l.jsxs("li",{children:[D.medicationName," - ",a("prescriptionList.quantity"),": ",D.quantity,D.dosage&&` (${a("prescriptionList.dosage")}: ${D.dosage})`,D.instructions&&` - ${D.instructions}`]},C))})]}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsx("button",{onClick:()=>u(_),className:"bg-primary text-white px-3 py-1 rounded-lg hover:bg-primary-dark text-xs focus:outline-none focus:ring-2 focus:ring-primary-light",children:a("common.viewDetails")})})]},_.id)}):l.jsx("p",{className:"text-center text-slate-500 py-10",children:t.length===0?a("prescriptionList.noPrescriptions"):a("prescriptionList.noPrescriptionsFound")})}),c&&(()=>{const _=e.find(S=>S.id===c.patientId);return _?l.jsx(V4e,{prescription:c,patient:_,prescriptions:t,prescriptionItems:r,dentists:n,clinicInfo:o,onClose:()=>u(null),onUpdate:i?S=>{i(c.patientId,S),u(null)}:void 0}):null})()]})},Y4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),X4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),J4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Z4e=({prescription:e,prescriptionItems:t=[],patient:r,dentists:n,onClose:i,onSave:a})=>{const{t:s}=sr(),{addNotification:o}=bi(),[c,u]=A.useState({dentistId:e?.dentistId||n[0]?.id||"",prescriptionDate:e?.prescriptionDate||new Date().toISOString().split("T")[0],notes:e?.notes||"",totalCost:e?.totalCost||0}),[d,h]=A.useState(t);A.useEffect(()=>{if(e&&t.length===0){const w=[{id:"mock-1",prescriptionId:e.id,medicationName:"Amoxicillin",dosage:"500mg",quantity:20,unitCost:.5,instructions:"Take 3 times daily after meals",userId:"",createdAt:"",updatedAt:""},{id:"mock-2",prescriptionId:e.id,medicationName:"Ibuprofen",dosage:"200mg",quantity:30,unitCost:.3,instructions:"Take as needed for pain",userId:"",createdAt:"",updatedAt:""}];h(w)}},[e,t]);const m=w=>{const{name:_,value:S}=w.target;u(E=>({...E,[_]:S}))},g=()=>{const w={id:`temp-${Date.now()}`,prescriptionId:e?.id||"",medicationName:"",dosage:"",quantity:1,unitCost:0,instructions:"",userId:"",createdAt:"",updatedAt:""};h(_=>[..._,w])},x=(w,_,S)=>{h(E=>E.map((T,D)=>D===w?{...T,[_]:S}:T))},v=w=>{h(_=>_.filter((S,E)=>E!==w))},y=w=>{if(w.preventDefault(),!c.dentistId||!c.prescriptionDate){o(s("prescriptionModal.alertFillRequired"),gt.ERROR);return}const _=d.filter(S=>S.medicationName.trim()&&S.quantity>0);if(_.length===0){o(s("prescriptionModal.alertAtLeastOneItem"),gt.ERROR);return}a(c,_)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:s(e?"prescriptionModal.editTitle":"prescriptionModal.title")}),l.jsx("button",{onClick:i,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":s("prescriptionModal.closeAriaLabel"),children:l.jsx(Y4e,{})})]}),l.jsxs("form",{onSubmit:y,className:"p-6 overflow-y-auto flex-1 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dentistId",className:"block text-sm font-medium text-slate-600 mb-1",children:s("prescriptionModal.dentist")}),l.jsxs("select",{id:"dentistId",name:"dentistId",value:c.dentistId,onChange:m,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"",children:s("prescriptionModal.selectDentist")}),n.map(w=>l.jsx("option",{value:w.id,children:w.name},w.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"prescriptionDate",className:"block text-sm font-medium text-slate-600 mb-1",children:s("prescriptionModal.prescriptionDate")}),l.jsx("input",{id:"prescriptionDate",name:"prescriptionDate",type:"date",value:c.prescriptionDate,onChange:m,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-slate-600 mb-1",children:s("prescriptionModal.notes")}),l.jsx("textarea",{id:"notes",name:"notes",value:c.notes,onChange:m,placeholder:s("prescriptionModal.notesPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-24 focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700",children:s("prescriptionModal.medications")}),l.jsxs("button",{type:"button",onClick:g,className:"bg-primary text-white px-3 py-1 rounded-lg hover:bg-primary-dark flex items-center gap-2 text-sm",children:[l.jsx(X4e,{}),s("prescriptionModal.addMedication")]})]}),l.jsx("div",{className:"space-y-4",children:d.map((w,_)=>l.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:s("prescriptionModal.medicationName")}),l.jsx("input",{type:"text",value:w.medicationName,onChange:S=>x(_,"medicationName",S.target.value),placeholder:s("prescriptionModal.medicationNamePlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:s("prescriptionModal.dosage")}),l.jsx("input",{type:"text",value:w.dosage||"",onChange:S=>x(_,"dosage",S.target.value),placeholder:s("prescriptionModal.dosagePlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:s("prescriptionModal.quantity")}),l.jsx("input",{type:"number",min:"1",value:w.quantity,onChange:S=>x(_,"quantity",parseInt(S.target.value)||1),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{className:"md:col-span-2 lg:col-span-4",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:s("prescriptionModal.instructions")}),l.jsx("input",{type:"text",value:w.instructions||"",onChange:S=>x(_,"instructions",S.target.value),placeholder:s("prescriptionModal.instructionsPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]})]}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsxs("button",{type:"button",onClick:()=>v(_),className:"bg-red-500 text-white px-3 py-1 rounded-lg hover:bg-red-600 flex items-center gap-2 text-sm",children:[l.jsx(J4e,{}),s("common.remove")]})})]},w.id))}),d.length===0&&l.jsx("p",{className:"text-center text-slate-500 py-8",children:s("prescriptionModal.noMedications")})]}),l.jsxs("footer",{className:"pt-4 flex justify-end space-x-4 flex-shrink-0",children:[l.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:s("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:s(e?"prescriptionModal.savePrescription":"prescriptionModal.createPrescription")})]})]})]})})},Q4e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),e3e=({patient:e,onClose:t,onSave:r})=>{const{t:n}=sr(),{addNotification:i}=bi(),[a,s]=A.useState(e||{name:"",dob:"",gender:"Male",phone:"",email:"",address:"",medicalHistory:"",treatmentNotes:"",lastVisit:new Date().toISOString().split("T")[0],allergies:"",medications:"",insuranceProvider:"",insurancePolicyNumber:"",emergencyContactName:"",emergencyContactPhone:"",images:[]});A.useEffect(()=>{e&&!e.lastVisit&&s(h=>({...h,lastVisit:new Date().toISOString().split("T")[0]}))},[e]);const o=h=>{const{name:m,value:g}=h.target;s(x=>({...x,[m]:g}))},c=h=>{const m=h.target.files;m&&Array.from(m).forEach(g=>{const x=new FileReader;x.onload=v=>{v.target?.result&&s(y=>({...y,images:[...y.images||[],v.target.result]}))},x.readAsDataURL(g)})},u=h=>{s(m=>({...m,images:m.images?.filter((g,x)=>x!==h)||[]}))},d=h=>{if(h.preventDefault(),!a.name||!a.dob||!a.phone){i(n("addPatientModal.alertFillRequired"),gt.ERROR);return}r(a)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("header",{className:"p-4 border-b flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-700",children:n(e?"addPatientModal.editTitle":"addPatientModal.title")}),l.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300","aria-label":n("addPatientModal.closeAriaLabel"),children:l.jsx(Q4e,{})})]}),l.jsxs("form",{onSubmit:d,className:"p-6 overflow-y-auto flex-1 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.fullName")}),l.jsx("input",{id:"name",name:"name",value:a.name,onChange:o,placeholder:n("addPatientModal.fullName"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dob",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.dob")}),l.jsx("input",{id:"dob",name:"dob",type:"date",value:a.dob,onChange:o,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.gender")}),l.jsxs("select",{id:"gender",name:"gender",value:a.gender,onChange:o,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0,children:[l.jsx("option",{value:"Male",children:n("male")}),l.jsx("option",{value:"Female",children:n("female")}),l.jsx("option",{value:"Other",children:n("other")})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.phone")}),l.jsx("input",{id:"phone",name:"phone",type:"tel",value:a.phone,onChange:o,placeholder:n("addPatientModal.phone"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary",required:!0})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.email")}),l.jsx("input",{id:"email",name:"email",type:"email",value:a.email,onChange:o,placeholder:n("addPatientModal.email"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.address")}),l.jsx("textarea",{id:"address",name:"address",value:a.address,onChange:o,placeholder:n("addPatientModal.address"),className:"p-2 border border-slate-300 rounded-lg w-full h-20 focus:ring-primary focus:border-primary"})]})]}),l.jsx("h3",{className:"text-md font-bold text-slate-700 mt-6 mb-2",children:n("patientReport.medicalInfo.title")}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"medicalHistory",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.medicalHistory")}),l.jsx("textarea",{id:"medicalHistory",name:"medicalHistory",value:a.medicalHistory,onChange:o,placeholder:n("addPatientModal.medicalHistoryPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-24 focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"allergies",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.allergies")}),l.jsx("input",{id:"allergies",name:"allergies",value:a.allergies,onChange:o,placeholder:n("addPatientModal.allergiesPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"medications",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.currentMedications")}),l.jsx("input",{id:"medications",name:"medications",value:a.medications,onChange:o,placeholder:n("addPatientModal.currentMedicationsPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]})]}),l.jsx("h3",{className:"text-md font-bold text-slate-700 mt-6 mb-2",children:n("patientReport.emergencyAndInsurance.title")}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emergencyContactName",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.emergencyContactName")}),l.jsx("input",{id:"emergencyContactName",name:"emergencyContactName",value:a.emergencyContactName,onChange:o,placeholder:n("addPatientModal.emergencyContactName"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emergencyContactPhone",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.emergencyContactPhone")}),l.jsx("input",{id:"emergencyContactPhone",name:"emergencyContactPhone",type:"tel",value:a.emergencyContactPhone,onChange:o,placeholder:n("addPatientModal.emergencyContactPhone"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"insuranceProvider",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.insuranceProvider")}),l.jsx("input",{id:"insuranceProvider",name:"insuranceProvider",value:a.insuranceProvider,onChange:o,placeholder:n("addPatientModal.insuranceProvider"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"insurancePolicyNumber",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.policyNumber")}),l.jsx("input",{id:"insurancePolicyNumber",name:"insurancePolicyNumber",value:a.insurancePolicyNumber,onChange:o,placeholder:n("addPatientModal.policyNumber"),className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"treatmentNotes",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.initialTreatmentNotes")}),l.jsx("textarea",{id:"treatmentNotes",name:"treatmentNotes",value:a.treatmentNotes,onChange:o,placeholder:n("addPatientModal.initialTreatmentNotesPlaceholder"),className:"p-2 border border-slate-300 rounded-lg w-full h-24 focus:ring-primary focus:border-primary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"images",className:"block text-sm font-medium text-slate-600 mb-1",children:n("addPatientModal.patientImages")}),l.jsx("input",{id:"images",name:"images",type:"file",multiple:!0,accept:"image/*",onChange:c,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-primary focus:border-primary"}),a.images&&a.images.length>0&&l.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-2",children:a.images.map((h,m)=>l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:h,alt:`Patient image ${m+1}`,className:"w-full h-20 object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>u(m),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",children:""})]},m))})]}),l.jsxs("footer",{className:"pt-2 flex justify-end space-x-4 flex-shrink-0",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-neutral-dark rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300",children:n("common.cancel")}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light",children:n("addPatientModal.savePatient")})]})]})]})})},t3e=({className:e="h-6 w-6"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),r3e=({className:e="h-6 w-6"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),n3e=({className:e="h-6 w-6"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),i3e=({className:e="h-5 w-5"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a3e=({attachments:e,currentIndex:t,isOpen:r,onClose:n,onNavigate:i})=>{const{t:a}=sr(),[s,o]=A.useState(!0);if(A.useEffect(()=>{if(r){o(!0);const x=new Image;x.onload=()=>o(!1),x.onerror=()=>o(!1),x.src=e[t]?.fileUrl||""}},[t,e,r]),A.useEffect(()=>{const x=v=>{if(r)switch(v.key){case"Escape":n();break;case"ArrowLeft":t>0&&i(t-1);break;case"ArrowRight":t<e.length-1&&i(t+1);break}};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r,t,e.length,n,i]),!r||!e.length)return null;const c=e[t],u=t===0,d=t===e.length-1,h=()=>{u||i(t-1)},m=()=>{d||i(t+1)},g=()=>{const x=document.createElement("a");x.href=c.fileUrl,x.download=c.originalFilename,document.body.appendChild(x),x.click(),document.body.removeChild(x)};return l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:[l.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-10",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("h3",{className:"text-white font-medium truncate max-w-md",children:c.originalFilename}),l.jsxs("span",{className:"text-slate-300 text-sm",children:[t+1," / ",e.length]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:g,className:"p-2 text-white hover:bg-white/20 rounded-lg transition-colors",title:a("common.download"),children:l.jsx(i3e,{})}),l.jsx("button",{onClick:n,className:"p-2 text-white hover:bg-white/20 rounded-lg transition-colors",title:a("common.close"),children:l.jsx(n3e,{})})]})]}),!u&&l.jsx("button",{onClick:h,className:"absolute left-4 top-1/2 transform -translate-y-1/2 p-3 text-white hover:bg-white/20 rounded-full transition-colors z-10",title:a("common.previous"),children:l.jsx(t3e,{})}),!d&&l.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-3 text-white hover:bg-white/20 rounded-full transition-colors z-10",title:a("common.next"),children:l.jsx(r3e,{})}),l.jsx("div",{className:"flex items-center justify-center w-full h-full p-16",children:s?l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):l.jsx("img",{src:c.fileUrl,alt:c.originalFilename,className:"max-w-full max-h-full object-contain",onError:()=>o(!1)})}),c.description&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("p",{className:"text-white text-sm",children:c.description}),l.jsx("p",{className:"text-slate-300 text-xs mt-1",children:new Date(c.createdAt).toLocaleString()})]})}),e.length>1&&l.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 bg-black/50 p-2 rounded-lg max-w-md overflow-x-auto",children:e.map((x,v)=>l.jsx("button",{onClick:()=>i(v),className:`flex-shrink-0 w-12 h-12 rounded overflow-hidden border-2 transition-colors ${v===t?"border-primary":"border-transparent hover:border-white/50"}`,children:l.jsx("img",{src:x.thumbnailUrl||x.fileUrl,alt:`Thumbnail ${v+1}`,className:"w-full h-full object-cover"})},x.id))}),l.jsx("div",{className:"absolute inset-0 -z-10",onClick:n})]})},s3e=e=>{const t=e.toLowerCase();return t.includes("filling")?kn.FILLING:t.includes("crown")?kn.CROWN:t.includes("implant")?kn.IMPLANT:t.includes("root canal")||t.includes("endodontic")?kn.ROOT_CANAL:t.includes("extraction")||t.includes("removal")?kn.MISSING:t.includes("cavity")?kn.CAVITY:null},o3e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19l7-7-7-7"})}),GR=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),YR=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),l3e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V4m0 8v4m-4.003-4l-2.003 2.003m7.007-1.414L14.003 10m-3.414-1.414L9 5.586m4.003 2.828l3.004 3.004M9.879 16.121A3 3 0 1012.004 15H12v2.003V20m0-8c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c3e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m-10.5 2.25a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm10.5 10.5a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),u3e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d3e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 me-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f3e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),h3e=({patient:e,onBack:t,onEdit:r,clinicData:n})=>{const{user:i}=tf(),{t:a,locale:s}=sr(),{addNotification:o}=bi(),{updatePatient:c,addTreatmentRecord:u,addPayment:d,updatePayment:h,deletePayment:m,payments:g,treatmentRecords:x,prescriptions:v,prescriptionItems:y,addPrescription:w,updatePrescription:_,deletePrescription:S,addPrescriptionItem:E,updatePrescriptionItem:T,deletePrescriptionItem:D,attachments:C,addAttachment:O,updateAttachment:R,deleteAttachment:H}=n,[F,U]=A.useState("details"),[M,q]=A.useState(!1),[ee,ve]=A.useState(!1),[he,ce]=A.useState(!1),[be,Oe]=A.useState(!1),[ae,L]=A.useState(!1),[Y,K]=A.useState(!1),[J,pe]=A.useState(!1),[Ae,Ne]=A.useState(null),[fe,ke]=A.useState([]),[Te,je]=A.useState(!1),[Le,$e]=A.useState(0);A.useEffect(()=>{ke(n.dentists)},[n.dentists]);const oe=new Intl.DateTimeFormat(s,{year:"numeric",month:"long",day:"numeric"}),at=new Intl.NumberFormat(s,{style:"currency",currency:"EGP"}),lt=A.useMemo(()=>g.filter(it=>it.patientId===e.id).sort((it,Ut)=>new Date(Ut.date).getTime()-new Date(it.date).getTime()),[g,e.id]),Pt=A.useMemo(()=>x.filter(it=>it.patientId===e.id).sort((it,Ut)=>new Date(Ut.treatmentDate).getTime()-new Date(it.treatmentDate).getTime()),[x,e.id]),ct=A.useMemo(()=>{const it=Pt.reduce((Ft,br)=>Ft+(br.doctorShare+br.clinicShare),0),Ut=lt.reduce((Ft,br)=>Ft+br.amount,0),Mt=it-Ut;return{totalCharges:it,totalPaid:Ut,outstandingBalance:Mt}},[Pt,lt]),$t=A.useCallback(it=>{console.log("PatientDetailsPanel: handleUpdateDentalChart called with:",it),console.log("PatientDetailsPanel: current patient dentalChart:",e.dentalChart);const Ut={...e,dentalChart:it};c(Ut),o(a("notifications.patientUpdated"),gt.SUCCESS)},[e,c,o,a]),Dt=A.useCallback(it=>{if(u(e.id,it),it.affectedTeeth&&it.affectedTeeth.length>0){const Ut=n.treatmentDefinitions.find(Mt=>Mt.id===it.treatmentDefinitionId);if(Ut){const Mt=s3e(Ut.name);if(Mt){const Ft={...e.dentalChart};it.affectedTeeth.forEach(br=>{Ft[br]&&(Ft[br]={...Ft[br],status:Mt})}),c({...e,dentalChart:Ft})}}}c({...e,lastVisit:it.treatmentDate}),q(!1),o(a("notifications.treatmentAdded"),gt.SUCCESS)},[u,e,c,o,a,n.treatmentDefinitions]),Xt=A.useCallback(it=>{d(it),ve(!1),o(a("notifications.paymentAdded"),gt.SUCCESS)},[d,o,a]),Ht=A.useCallback(it=>{Ne(it),K(!0)},[]),xr=A.useCallback(it=>{h(it),K(!1),Ne(null),o(a("notifications.paymentUpdated"),gt.SUCCESS)},[h,o,a]),Nr=A.useCallback(it=>{Ne(it),pe(!0)},[]),ze=A.useCallback(()=>{Ae&&(m(Ae.id),pe(!1),Ne(null),o(a("notifications.paymentDeleted"),gt.SUCCESS))},[Ae,m,o,a]),kt=A.useCallback(it=>{n.deleteTreatmentRecord(it),o(a("treatmentDelete.deletedSuccessfully"),gt.SUCCESS)},[n,o,a]),fr=()=>{Nl(a("patientInvoice.title"),l.jsx(F4e,{patient:e,clinicData:n}))},zt=()=>{Nl(a("patientReport.title"),l.jsx(U4e,{patient:e,clinicData:n}))},dr=A.useCallback(async(it,Ut)=>{const Mt=await w({...it,patientId:e.id});for(const Ft of Ut){const{id:br,prescriptionId:hr,userId:Gt,createdAt:Cr,updatedAt:xa,...on}=Ft;await E(Mt.id,on)}Oe(!1),o(a("notifications.prescriptionAdded"),gt.SUCCESS)},[e.id,w,E,o,a]),Bt=A.useMemo(()=>C.filter(it=>it.patientId===e.id),[C,e.id]),Jr=async(it,Ut)=>{if(console.log("Uploading attachments:",it,Ut),!jt){o("Supabase client not initialized",gt.ERROR);return}if(!i){o("User not authenticated",gt.ERROR);return}for(let Mt=0;Mt<it.length;Mt++){const Ft=it[Mt],br=Ut[Mt]||"";try{const hr=Ft.name.split(".").pop(),Gt=`${Date.now()}-${Math.random().toString(36).substring(2)}.${hr}`,Cr=`patient-attachments/${e.id}/${Gt}`,{data:xa,error:on}=await jt.storage.from("patient-attachments").upload(Cr,Ft);if(on){console.error("Error uploading file:",on),o(`Failed to upload ${Ft.name}: ${on.message}`,gt.ERROR);continue}const{data:{publicUrl:aa}}=jt.storage.from("patient-attachments").getPublicUrl(Cr),Si=new Date().toISOString(),nr={patientId:e.id,filename:Gt,originalFilename:Ft.name,fileType:Ft.type,fileSize:Ft.size,fileUrl:aa,description:br,uploadedBy:i.id,createdAt:Si,updatedAt:Si};await O(nr),o(`${Ft.name} uploaded successfully`,gt.SUCCESS)}catch(hr){console.error("Error processing file:",hr),o(`Failed to upload ${Ft.name}`,gt.ERROR)}}},Tr=async it=>{await H(it)},mr=it=>{if(it.fileType.startsWith("image/")){const Mt=Bt.filter(Ft=>Ft.fileType.startsWith("image/")).findIndex(Ft=>Ft.id===it.id);$e(Mt),je(!0)}},yr=it=>{$e(it)},Fr=A.useCallback(it=>{c(it),L(!1),o(a("notifications.patientUpdated"),gt.SUCCESS)},[c,o,a]);return l.jsxs("div",{className:"min-h-screen bg-neutral",children:[l.jsxs("header",{className:"bg-white shadow-sm border-b border-slate-200 p-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{onClick:t,className:"flex items-center px-3 py-1 bg-slate-100 rounded-lg hover:bg-slate-200 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-slate-300",children:[l.jsx(o3e,{})," ",a("common.back")]}),l.jsxs("h1",{className:"text-2xl font-bold text-slate-700",children:[a("patientDetails.title")," - ",e.name]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("button",{onClick:()=>L(!0),className:"flex items-center px-3 py-1 bg-slate-100 rounded-lg hover:bg-slate-200 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-slate-300",children:[l.jsx(GR,{})," ",a("common.edit")]})})]}),l.jsx("nav",{className:"border-b border-slate-200 bg-slate-50",children:l.jsx("ul",{className:"-mb-px flex space-x-4 rtl:space-x-reverse overflow-x-auto text-sm font-medium text-center text-slate-500 px-4",children:[{key:"details",label:"patientDetails.tabDetails"},{key:"chart",label:"patientDetails.tabDentalChart"},{key:"treatments",label:"patientDetails.tabTreatmentRecords"},{key:"prescriptions",label:"patientDetails.tabPrescriptions"},{key:"financials",label:"patientDetails.tabFinancials"},{key:"attachments",label:"patientDetails.tabAttachments"}].map(({key:it,label:Ut})=>l.jsx("li",{children:l.jsx("button",{onClick:()=>U(it),className:`inline-block p-4 border-b-2 ${F===it?"border-primary text-primary":"border-transparent hover:text-slate-700 hover:border-slate-300"}`,children:a(Ut)})},it))})}),l.jsxs("main",{className:"p-6 bg-neutral min-h-[calc(100vh-140px)]",children:[F==="details"&&l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("strong",{children:[a("patientDetails.dob"),":"]})," ",e.dob?oe.format(new Date(e.dob)):a("common.noDate")]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[a("patientDetails.gender"),":"]})," ",a(e.gender.toLowerCase())]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[a("patientDetails.phone"),":"]})," ",e.phone]}),l.jsxs("div",{children:[l.jsxs("strong",{children:[a("patientDetails.email"),":"]})," ",e.email||"-"]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("strong",{children:[a("patientDetails.address"),":"]})," ",e.address||"-"]})]}),l.jsx("hr",{className:"my-4 border-slate-200"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:a("patientDetails.medicalHistory")}),l.jsx("p",{className:"text-slate-700 text-sm whitespace-pre-wrap",children:e.medicalHistory||a("common.na")})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:a("patientDetails.allergies")}),l.jsx("p",{className:"text-slate-700 text-sm whitespace-pre-wrap",children:e.allergies||a("common.na")})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:a("patientDetails.currentMedications")}),l.jsx("p",{className:"text-slate-700 text-sm whitespace-pre-wrap",children:e.medications||a("common.na")})]}),l.jsx("hr",{className:"my-4 border-slate-200"}),l.jsx("div",{className:"flex justify-start",children:l.jsxs("button",{onClick:zt,className:"ms-3 bg-slate-500 text-white px-4 py-2 rounded-lg hover:bg-slate-600 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-slate-400",children:[l.jsx(d3e,{})," ",a("common.print")]})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:a("patientDetails.emergencyContact")}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[a("patientDetails.emergencyContactName"),":"]})," ",e.emergencyContactName||"-"]}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[a("patientDetails.emergencyContactPhone"),":"]})," ",e.emergencyContactPhone||"-"]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:a("patientDetails.insurance")}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[a("patientDetails.insuranceProvider"),":"]})," ",e.insuranceProvider||"-"]}),l.jsxs("p",{className:"text-sm",children:[l.jsxs("strong",{children:[a("patientDetails.policyNumber"),":"]})," ",e.insurancePolicyNumber||"-"]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:a("patientDetails.unstructuredNotes")}),l.jsx("p",{className:"text-slate-700 text-sm whitespace-pre-wrap",children:e.treatmentNotes||a("common.na")})]}),e.images&&e.images.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-700 mb-2",children:a("patientDetails.patientImages")}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.images.map((it,Ut)=>l.jsx("div",{className:"relative",children:l.jsx("img",{src:it,alt:`${a("patientDetails.patientImage")} ${Ut+1}`,className:"w-full h-32 object-cover rounded-lg shadow-sm"})},Ut))})]})]}),F==="chart"&&l.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:l.jsx(b4e,{chartData:e.dentalChart,onUpdate:$t})}),F==="treatments"&&l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs("button",{onClick:()=>q(!0),className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-primary-light",children:[l.jsx(YR,{})," ",a("patientDetails.addTreatmentRecord")]})}),l.jsx(j4e,{patient:e,clinicData:n,onUpdateTreatmentRecord:async(it,Ut)=>{await n.updateTreatmentRecord(it,Ut)},onDeleteTreatmentRecord:kt})]}),F==="prescriptions"&&l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs("button",{onClick:()=>Oe(!0),className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-primary-light",children:[l.jsx(YR,{})," ",a("patientDetails.addPrescription")]})}),l.jsx(G4e,{patients:[e],prescriptions:v,prescriptionItems:y,dentists:fe,onUpdatePrescription:async(it,Ut)=>{await _(Ut)}})]}),F==="financials"&&l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-4",children:a("financials.patientBalance")}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-neutral-light p-3 rounded-lg text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:a("financials.totalCharges")}),l.jsx("p",{className:"text-xl font-bold text-slate-800",children:at.format(ct.totalCharges)})]}),l.jsxs("div",{className:"bg-neutral-light p-3 rounded-lg text-center",children:[l.jsx("p",{className:"text-sm text-slate-600",children:a("financials.totalPaid")}),l.jsx("p",{className:"text-xl font-bold text-slate-800",children:at.format(ct.totalPaid)})]}),l.jsxs("div",{className:`p-3 rounded-lg text-center ${ct.outstandingBalance>0?"bg-red-100 text-red-800":ct.outstandingBalance<0?"bg-green-100 text-green-800":"bg-primary-100 text-primary-dark"}`,children:[l.jsx("p",{className:"text-sm font-semibold",children:a("financials.outstandingBalance")}),l.jsx("p",{className:"text-xl font-bold",children:at.format(ct.outstandingBalance)}),l.jsx("p",{className:"text-xs mt-1",children:ct.outstandingBalance>0?a("financials.amountDue"):ct.outstandingBalance<0?a("financials.overpaid"):a("financials.paidInFull")})]})]}),l.jsxs("div",{className:"flex justify-start gap-3 mb-6 flex-wrap",children:[l.jsxs("button",{onClick:()=>ve(!0),className:"bg-secondary text-white px-4 py-2 rounded-lg hover:bg-emerald-600 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-secondary/50",children:[l.jsx(l3e,{})," ",a("financials.addPayment")]}),l.jsxs("button",{onClick:()=>ce(!0),className:"bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-amber-400",children:[l.jsx(c3e,{})," ",a("financials.addDiscount")]}),l.jsxs("button",{onClick:fr,className:"bg-slate-500 text-white px-4 py-2 rounded-lg hover:bg-slate-600 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-slate-400",children:[l.jsx(u3e,{})," ",a("patientInvoice.title")]})]}),l.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-4",children:a("financials.transactions")}),l.jsx("div",{className:"bg-neutral p-4 rounded-lg shadow-inner max-h-96 overflow-y-auto",children:lt.length===0&&Pt.length===0?l.jsx("p",{className:"text-center text-slate-500 py-4",children:a("financials.noTransactions")}):l.jsxs("div",{className:"space-y-2",children:[lt.map(it=>l.jsxs("div",{className:"bg-white p-3 rounded-md shadow-sm flex justify-between items-center border-l-4 border-green-500",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800",children:[a("financials.payments")," (",a(`paymentMethod.${it.method}`),")"]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[oe.format(new Date(it.date)),it.notes&&l.jsx("span",{className:"ms-2 ps-2 border-s border-slate-300",children:it.notes})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-bold text-green-700",children:at.format(it.amount)}),l.jsx("button",{onClick:()=>Ht(it),className:"p-1 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded transition-colors",title:a("common.edit"),children:l.jsx(GR,{})}),l.jsx("button",{onClick:()=>Nr(it),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:a("common.delete"),children:l.jsx(f3e,{})})]})]},it.id)),Pt.map(it=>{const Ut=n.treatmentDefinitions.find(Mt=>Mt.id===it.treatmentDefinitionId);return l.jsxs("div",{className:"bg-white p-3 rounded-md shadow-sm flex justify-between items-center border-l-4 border-blue-500",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800",children:[a("financials.charges")," - ",Ut?.name||a("common.unknownTreatment")]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[oe.format(new Date(it.treatmentDate)),it.notes&&l.jsxs("span",{className:"ms-2 ps-2 border-s border-slate-300",children:[it.notes.slice(0,50),a("common.ellipsis")]})]})]}),l.jsx("span",{className:"font-bold text-blue-700",children:at.format(it.doctorShare+it.clinicShare)})]},it.id)})]})})]}),F==="attachments"&&l.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-gray-500",children:l.jsx("svg",{className:"mx-auto h-12 w-12",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:l.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("div",{children:l.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[a("patient_attachments.choose_file"),l.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*",multiple:!0,onChange:it=>{const Ut=it.target.files;Ut&&Jr(Array.from(Ut),[])}})]})}),l.jsx("p",{className:"text-xs text-gray-500",children:a("patient_attachments.upload_instructions")})]})}),Bt.length>0?l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:Bt.map((it,Ut)=>l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 border border-gray-200 hover:border-gray-300 transition-colors",children:[l.jsx("img",{src:it.fileUrl,alt:it.originalFilename,className:"w-full h-full object-cover cursor-pointer",onClick:()=>mr(it)}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center",children:l.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex space-x-2",children:[l.jsx("button",{onClick:()=>mr(it),className:"p-2 bg-white rounded-full text-gray-700 hover:text-blue-600 transition-colors",title:a("patient_attachments.view"),children:l.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),l.jsx("button",{onClick:()=>Tr(it.id),className:"p-2 bg-white rounded-full text-gray-700 hover:text-red-600 transition-colors",title:a("patient_attachments.delete"),children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]}),l.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[l.jsx("p",{className:"truncate font-medium",children:it.originalFilename}),l.jsxs("p",{className:"text-gray-400",children:[(it.fileSize/1024).toFixed(1)," KB"]})]})]},it.id))}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:l.jsx("path",{d:"M34 40h10v-4a6 6 0 00-10.712-3.714M34 40H14m20 0v-4a9.971 9.971 0 00-.712-3.714M14 40H4v-4a6 6 0 0110.713-3.714M14 40v-4c0-1.313.253-2.566.713-3.714m0 0A10.003 10.003 0 0124 26c4.21 0 7.813 2.602 9.288 6.286M30 14a6 6 0 11-12 0 6 6 0 0112 0zm12 6a4 4 0 11-8 0 4 4 0 018 0zm-28 0a4 4 0 11-8 0 4 4 0 018 0z",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),l.jsx("p",{className:"mt-2",children:a("patient_attachments.no_attachments")}),l.jsx("p",{className:"text-sm",children:a("patient_attachments.upload_first")})]})]})})]}),M&&l.jsx(P4e,{patientId:e.id,onClose:()=>q(!1),onAdd:Dt,clinicData:n}),ee&&l.jsx(k4e,{patientId:e.id,clinicData:n,onClose:()=>ve(!1),onAdd:Xt}),he&&l.jsx(D4e,{patientId:e.id,clinicData:n,onClose:()=>ce(!1),onAdd:Xt}),be&&l.jsx(Z4e,{patient:e,dentists:fe,onClose:()=>Oe(!1),onSave:dr}),l.jsx(a3e,{attachments:Bt.filter(it=>it.fileType.startsWith("image/")),currentIndex:Le,isOpen:Te,onClose:()=>je(!1),onNavigate:yr}),ae&&l.jsx(e3e,{patient:e,onClose:()=>L(!1),onSave:Fr}),Y&&Ae&&l.jsx(I4e,{patientId:e.id,payment:Ae,clinicData:n,onClose:()=>{K(!1),Ne(null)},onUpdate:xr}),J&&Ae&&l.jsx(L4e,{payment:Ae,onConfirm:ze,onCancel:()=>{pe(!1),Ne(null)}})]})};var p3e={};const m3e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 00-5-5.917V5a2 2 0 10-4 0v.083A6 6 0 004 11v3.159c0 .538-.214 1.055-.595 1.436L2 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),g3e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M12.062 17.498a9.423 9.423 0 0 1-4.71-1.392l-5.13.84 1.09-4.992a9.423 9.423 0 0 1-1.282-5.024C2.03 3.018 6.54-1.5 12 .002c5.46 1.5 8.97 7.018 7.47 12.478a9.423 9.423 0 0 1-7.408 5.02z"})}),v3e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),x3e=()=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),y3e=({clinicData:e,setCurrentView:t})=>{const{t:r,locale:n}=sr(),{patients:i,appointments:a,updateAppointment:s,inventoryItems:o,labCases:c,payments:u,treatmentRecords:d}=e,[h,m]=A.useState(!1),[g,x]=A.useState({sent:0,opened:0,responded:0}),v=A.useMemo(()=>{const _=[],S=new Date,E=10,T=3,D=30;return a.forEach(C=>{if(C.reminderSent||C.reminderTime==="none"||C.startTime<S)return;const O=C.startTime.getTime();let R=0;if(C.reminderTime==="1_hour_before"?R=3600*1e3:C.reminderTime==="2_hours_before"?R=7200*1e3:C.reminderTime==="1_day_before"&&(R=1440*60*1e3),O-S.getTime()<=R){const H=i.find(F=>F.id===C.patientId);_.push({id:`apt_${C.id}`,type:"appointment",title:H?.name||r("common.unknownPatient"),description:`${C.reason} at ${new Intl.DateTimeFormat(n,{hour:"2-digit",minute:"2-digit"}).format(C.startTime)}`,actionLabel:r("reminders.sendReminder"),action:()=>y(C),data:C,priority:"high"})}}),o.forEach(C=>{if(C.currentStock<=E){const O=C.currentStock<=5?2:C.currentStock<=8?1:0;_.push({id:`inv_${C.id}`,type:"low_stock",title:r("notifications.lowStockAlert"),description:r("notifications.lowStockMessage",{itemName:C.name,count:C.currentStock}),actionLabel:r("sidebar.inventory"),action:()=>{t("inventory"),m(!1)},data:C,priority:C.currentStock<=5?"high":"medium",escalationLevel:O})}}),c.forEach(C=>{if([Ks.FITTED_TO_PATIENT,Ks.CANCELLED].includes(C.status))return;const O=new Date(C.dueDate),R=(O.getTime()-S.getTime())/(1e3*3600*24);if(R<=T){const H=i.find(F=>F.id===C.patientId);_.push({id:`lab_${C.id}`,type:"lab",title:r("notifications.labCaseDueAlert"),description:r("notifications.labCaseDueMessage",{caseType:C.caseType,patientName:H?.name||"",date:new Intl.DateTimeFormat(n).format(O)}),actionLabel:r("sidebar.labCases"),action:()=>{t("labCases"),m(!1)},data:C,priority:R<=1?"high":"medium"})}}),d.forEach(C=>{const O=u.filter(R=>R.treatmentRecordId===C.id).reduce((R,H)=>R+H.amount,0);if(O<C.totalTreatmentCost){const R=new Date(C.treatmentDate),H=(S.getTime()-R.getTime())/(1e3*60*60*24);if(H>D){const F=i.find(M=>M.id===C.patientId),U=C.totalTreatmentCost-O;_.push({id:`overdue_${C.id}`,type:"overdue_payment",title:`Overdue Payment - ${F?.name||"Unknown Patient"}`,description:`Outstanding balance: EGP ${U.toFixed(2)} (${Math.floor(H)} days overdue)`,actionLabel:"View Patient",action:()=>{t("patients"),m(!1)},data:{treatmentRecord:C,patient:F,outstandingAmount:U},priority:H>60?"high":"medium",escalationLevel:Math.floor(H/30)})}}}),_.sort((C,O)=>{const R={high:3,medium:2,low:1},H=R[C.priority||"low"],F=R[O.priority||"low"];return H!==F?F-H:(O.escalationLevel||0)-(C.escalationLevel||0)})},[a,o,c,i,u,d,t,r,n]),y=async(_,S="whatsapp")=>{const E=i.find(R=>R.id===_.patientId),T=e.dentists.find(R=>R.id===_.dentistId);if(!E)return;const D=new Intl.DateTimeFormat(n,{year:"numeric",month:"long",day:"numeric"}),C=new Intl.DateTimeFormat(n,{hour:"2-digit",minute:"2-digit"}),O=e.reminderMessageTemplate.replace(/\{patientName\}/g,E.name).replace(/\{doctorName\}/g,T?.name||"").replace(/\{clinicName\}/g,e.clinicInfo.name||" ").replace(/\{appointmentDate\}/g,D.format(_.startTime)).replace(/\{appointmentTime\}/g,C.format(_.startTime)).replace(/\{clinicAddress\}/g,e.clinicInfo.address||"").replace(/\{clinicPhone\}/g,e.clinicInfo.phone||"");try{if(S==="whatsapp"){let R=E.phone.replace(/[^0-9]/g,"");R.startsWith("0")&&(R=R.substring(1));const F=`https://wa.me/${`20${R}`}?text=${encodeURIComponent(O)}`;window.open(F,"_blank")}else S==="email"&&E.email?(WR.setApiKey(p3e.SENDGRID_API_KEY||""),await WR.send({to:E.email,from:"noreply@curasof.com",subject:`Appointment Reminder - ${e.clinicInfo.name}`,text:O,html:`<p>${O.replace(/\n/g,"<br>")}</p>`})):S==="sms"&&E.phone&&(console.log("SMS functionality is currently disabled"),y(_,"whatsapp"));x(R=>({...R,sent:R.sent+1})),s({..._,reminderSent:!0}),v.length<=1&&m(!1)}catch(R){console.error("Failed to send reminder:",R),S!=="whatsapp"&&y(_,"whatsapp")}},w=_=>{const S={high:"bg-red-100 text-red-800 hover:bg-red-200 focus:ring-red-300",medium:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 focus:ring-yellow-300",low:"bg-blue-100 text-blue-800 hover:bg-blue-200 focus:ring-blue-300"};switch(_.type){case"appointment":return l.jsxs("div",{className:"mt-2 space-y-2",children:[l.jsxs("button",{onClick:()=>y(_.data,"whatsapp"),className:`w-full flex items-center justify-center gap-2 px-3 py-1 rounded-lg text-sm font-semibold focus:outline-none focus:ring-2 ${S[_.priority||"low"]}`,children:[l.jsx(g3e,{})," WhatsApp"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>y(_.data,"email"),className:"flex-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200",disabled:!_.data.patientId||!i.find(E=>E.id===_.data.patientId)?.email,children:"Email"}),l.jsx("button",{onClick:()=>y(_.data,"sms"),className:"flex-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200",disabled:!_.data.patientId||!i.find(E=>E.id===_.data.patientId)?.phone,children:"SMS"})]})]});case"inventory":case"lab":case"low_stock":case"overdue_payment":return l.jsxs("button",{onClick:_.action,className:`mt-2 w-full flex items-center justify-center gap-2 px-3 py-1 rounded-lg text-sm font-semibold focus:outline-none focus:ring-2 ${S[_.priority||"low"]}`,children:[_.type==="inventory"||_.type==="low_stock"?l.jsx(v3e,{}):_.type==="lab"?l.jsx(x3e,{}):""," ",_.actionLabel]});default:return null}};return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>m(_=>!_),className:"relative p-2 rounded-full hover:bg-slate-200","aria-label":r("reminders.toggleNotifications"),children:[l.jsx(m3e,{}),v.length>0&&l.jsx("span",{className:"absolute top-0 end-0 block h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center ring-2 ring-white",children:v.length})]}),h&&l.jsxs("div",{className:"absolute end-0 mt-2 w-96 bg-white rounded-xl shadow-lg border z-20 max-h-[80vh] overflow-hidden",children:[l.jsx("div",{className:"p-3 border-b bg-slate-50",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h4",{className:"font-semibold text-slate-800",children:r("reminders.pendingReminders")}),l.jsxs("div",{className:"text-xs text-slate-500",children:["Sent: ",g.sent," | Opened: ",g.opened]})]})}),v.length>0?l.jsx("ul",{className:"max-h-96 overflow-y-auto",children:v.map(_=>l.jsxs("li",{className:`p-3 hover:bg-slate-50 border-b last:border-b-0 ${_.priority==="high"?"border-l-4 border-l-red-400 bg-red-50/30":_.priority==="medium"?"border-l-4 border-l-yellow-400 bg-yellow-50/30":"border-l-4 border-l-blue-400 bg-blue-50/30"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("p",{className:"font-semibold text-sm",children:_.title}),_.escalationLevel&&_.escalationLevel>0&&l.jsxs("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:["Level ",_.escalationLevel]})]}),l.jsx("p",{className:"text-xs text-slate-600 mb-2",children:_.description}),w(_)]},_.id))}):l.jsx("p",{className:"p-4 text-center text-sm text-slate-500",children:r("reminders.noPendingReminders")})]})]})},b3e=()=>{const[e,t]=A.useState("dashboard"),[r,n]=A.useState(null),i=Ob(),{t:a,direction:s,locale:o}=sr(),{isAdmin:c,hasPermission:u,loading:d}=tf();console.log("App rendering - auth loading:",d),console.log("App rendering - clinic data available:",!!i),A.useEffect(()=>{document.documentElement.lang=o,document.documentElement.dir=s},[s,o]);const h=A.useCallback(()=>{const{userProfile:g}=tf();switch(e){case"dashboard":return g?.permissions?.includes("view_dashboard")?l.jsx(LD,{clinicData:i,setCurrentView:t}):l.jsx("div",{className:"text-center py-8",children:"Access denied."});case"patients":return g?.permissions?.includes("view_patients")?l.jsx(oK,{clinicData:i,setCurrentView:t,setSelectedPatientId:n}):l.jsx("div",{className:"text-center py-8",children:"Access denied."});case"scheduler":return g?.permissions?.includes("view_scheduler")?l.jsx(zhe,{clinicData:i}):l.jsx("div",{className:"text-center py-8",children:"Access denied."});case"doctors":return g?.permissions?.includes("view_patients")?l.jsx(Xhe,{clinicData:i}):l.jsx("div",{className:"text-center py-8",children:"Access denied."});case"suppliers":return g?.permissions?.includes("view_finance")?l.jsx(HAe,{clinicData:i}):l.jsx("div",{className:"text-center py-8",children:"Access denied."});case"inventory":return g?.permissions?.includes("view_finance")?l.jsx(XAe,{clinicData:i}):l.jsx("div",{className:"text-center py-8",children:"Access denied."});case"labCases":return g?.permissions?.includes("view_finance")?l.jsx(t4e,{clinicData:i}):l.jsx("div",{className:"text-center py-8",children:"Access denied."});case"expenses":return g?.permissions?.includes("view_finance")?l.jsx(o4e,{clinicData:i}):l.jsx("div",{className:"text-center py-8",children:"Access denied."});case"treatmentDefinitions":return g?.permissions?.includes("view_finance")?l.jsx(h4e,{clinicData:i}):l.jsx("div",{className:"text-center py-8",children:"Access denied."});case"reports":return g?.permissions?.includes("view_reports")?l.jsx(Yje,{clinicData:i,setCurrentView:t,initialTab:"daily"}):l.jsx("div",{className:"text-center py-8",children:"Access denied."});case"patient-details":const x=i.patients.find(v=>v.id===r);return x?g?.permissions?.includes("view_patients")?l.jsx(h3e,{patient:x,onBack:()=>t("patients"),onEdit:()=>t("patients"),clinicData:i}):l.jsx("div",{className:"text-center py-8",children:"Access denied."}):l.jsx("div",{className:"text-center py-8",children:"Patient not found."});case"settings":return g?.permissions?.includes("view_dashboard")?l.jsx(m4e,{clinicData:i}):l.jsx("div",{className:"text-center py-8",children:"Access denied."});case"userManagement":return c?l.jsx(Zje,{}):l.jsx("div",{className:"text-center py-8",children:"Access denied. Admin privileges required."});default:return g?.permissions?.includes("view_dashboard")?l.jsx(LD,{clinicData:i,setCurrentView:t}):l.jsx("div",{className:"text-center py-8",children:"Access denied."})}},[e,i,t]),m={dashboard:a("sidebar.dashboard"),patients:a("patientManagement.title"),scheduler:a("appointmentScheduler.title"),doctors:a("doctorManagement.title"),suppliers:a("suppliersManagement.title"),inventory:a("inventoryManagement.title"),labCases:a("labCasesManagement.title"),expenses:a("expensesManagement.title"),treatmentDefinitions:a("treatmentDefinitionsManagement.title"),reports:a("sidebar.reports"),settings:a("sidebar.settings"),userManagement:"User Management",accountSelection:"Account Selection","patient-details":a("patientDetails.title")};return d?(console.log("Showing loading state - auth still loading"),l.jsx("div",{className:"bg-neutral-light text-slate-800 min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Loading..."})]})})):(console.log("Rendering main app content"),l.jsxs("div",{className:"bg-neutral-light text-slate-800 min-h-screen",children:[l.jsxs("div",{className:"md:flex",children:[l.jsx(YV,{currentView:e,setCurrentView:t}),l.jsxs("div",{className:"flex-1 flex flex-col w-full print:block",children:[l.jsxs("header",{className:"bg-white shadow-sm p-4 z-10 sticky top-0 md:static print:hidden",children:[" ",l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("img",{src:"/vite.svg",alt:a("appName"),className:"h-8 w-8 me-3 md:hidden"}),l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-700",children:m[e]}),l.jsx(y3e,{clinicData:i,setCurrentView:t})]})]}),l.jsxs("main",{className:"flex-1 bg-neutral p-4 md:p-6 pb-24 md:pb-6 print:p-0 print:pb-0 print:block",children:[" ",h()]})]})]}),l.jsx(fAe,{currentView:e,setCurrentView:t})]}))},w3e=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21V10.5"})]}),S3e=()=>{const[e,t]=A.useState(""),[r,n]=A.useState(""),[i,a]=A.useState(null),[s,o]=A.useState(!1),{t:c}=sr(),u=async d=>{d.preventDefault(),a(null),o(!0);try{const{data:h,error:m}=await jt.from("user_profiles").select("*").eq("username",e);if(m||!h||h.length===0)throw new Error("Invalid username or password");const g=h[0];if(!r||r.length<1)throw new Error("Password is required");if(!(r==="123"||r.length>=3))throw new Error("Invalid password");sessionStorage.setItem("clinic_user",JSON.stringify({id:g.id,username:g.username,role:g.role,permissions:g.permissions,loginTime:new Date().toISOString()})),a(null),window.location.reload()}catch(h){console.error("Login error:",h),a(h.message||"Login failed. Please check your username and password.")}finally{o(!1)}};return l.jsx("div",{className:"min-h-screen bg-neutral-light flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(w3e,{}),l.jsx("h1",{className:"text-3xl font-bold text-slate-800 mt-4",children:"CuraSoft Clinic"}),l.jsx("p",{className:"text-slate-500",children:"Login to access your clinic management system"})]}),l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[i&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative",role:"alert",children:l.jsx("span",{className:"block sm:inline",children:i})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700",children:"Username"}),l.jsx("input",{id:"username",type:"text",value:e,onChange:d=>t(d.target.value),required:!0,className:`mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400\r
                         focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary`,placeholder:"Enter your username"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),l.jsx("input",{id:"password",type:"password",value:r,onChange:d=>n(d.target.value),required:!0,className:`mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400\r
                         focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary`,placeholder:""})]}),l.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:bg-primary/50",children:s?"Logging in...":"Login"})]})]})})},_3e=()=>{const{t:e}=sr();return l.jsx("div",{className:"min-h-screen bg-neutral-light flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600",children:e("auth.config.title")}),l.jsx("p",{className:"text-slate-600 mt-2",children:e("auth.config.message")})]}),l.jsxs("div",{className:"text-sm text-slate-700 bg-slate-100 p-4 rounded-lg",children:[l.jsx("p",{className:"font-semibold",children:e("auth.config.instructions")}),l.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[l.jsx("li",{children:"Open the `backend_setup.md` file."}),l.jsx("li",{children:"Follow the steps to create a free Supabase project."}),l.jsx("li",{children:"Copy your project's URL and anon key."}),l.jsx("li",{children:"Add them as secrets named `SUPABASE_URL` and `SUPABASE_ANON_KEY` in your environment."})]})]})]})})},N3e=()=>{const{user:e,loading:t}=tf(),[r,n]=A.useState(null);console.log("=== AuthApp RENDER ==="),console.log("AuthApp: user exists:",!!e),console.log("AuthApp: auth loading:",t),console.log("AuthApp: hasUsers in db:",r),console.log("AuthApp: supabase configured:",!!jt),A.useEffect(()=>{(async()=>{if(console.log("AuthApp: Checking for existing users in database..."),!jt){console.log("AuthApp: No supabase configured, forcing setup page"),n(!1);return}try{const{data:s,error:o}=await jt.from("user_profiles").select("id").limit(1);if(o)if(console.error("AuthApp: Error checking existing users:",o),console.log("AuthApp: Error details:",o.details,o.hint,o.code),o.code==="PGRST116"||o.message.includes("permission denied")||o.message.includes("does not exist"))console.log("AuthApp: Table issue detected, assuming no users exist"),n(!1);else throw o;else{const c=s&&s.length>0;console.log("AuthApp: Users exist in database:",c,"count:",s?.length||0),n(c)}}catch(s){console.error("AuthApp: Unexpected error checking users:",s),n(!1)}})()},[]);const i=()=>{const{t:a}=sr(),[s,o]=A.useState({username:"admin",password:"123",confirmPassword:"123"}),[c,u]=A.useState(!1),[d,h]=A.useState(null),[m,g]=A.useState(null),x=async v=>{if(v.preventDefault(),h(null),g(null),s.password!==s.confirmPassword){h("Passwords do not match");return}if(s.password.length<3){h("Password must be at least 3 characters long");return}u(!0);try{const y=crypto.randomUUID(),{error:w}=await jt.from("user_profiles").insert({id:y,user_id:null,username:s.username,role:po.ADMIN,permissions:["view_dashboard","manage_users","view_patients","edit_patients","view_scheduler","edit_scheduler","view_reports","view_finance","edit_finance"]});if(w)throw w;g("Admin user created successfully! You can now log in."),setTimeout(()=>{sessionStorage.setItem("clinic_user",JSON.stringify({id:y,username:s.username,role:po.ADMIN,permissions:["view_dashboard","manage_users","view_patients","edit_patients","view_scheduler","edit_scheduler","view_reports","view_finance","edit_finance"],loginTime:new Date().toISOString()})),window.location.reload()},2e3)}catch(y){h(y.message||"Failed to create admin user")}finally{u(!1)}};return l.jsx("div",{className:"min-h-screen bg-neutral-light flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"h-16 w-16 bg-primary rounded-full flex items-center justify-center mb-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),l.jsx("h1",{className:"text-3xl font-bold text-slate-800 mt-4",children:"Setup First Admin"}),l.jsx("p",{className:"text-slate-500 text-center",children:"Create the first administrator account for your clinic management system"}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-4 text-sm text-blue-800",children:[l.jsx("p",{className:"font-semibold",children:"Default Credentials:"}),l.jsx("p",{children:"Username: admin"}),l.jsx("p",{children:"Password: 123"}),l.jsx("p",{className:"text-xs mt-1",children:"You can change these later in User Management"})]})]}),l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[d&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative",role:"alert",children:l.jsx("span",{className:"block sm:inline",children:d})}),m&&l.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg relative",role:"alert",children:l.jsx("span",{className:"block sm:inline",children:m})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700",children:"Username"}),l.jsx("input",{id:"username",type:"text",value:s.username,onChange:v=>o({...s,username:v.target.value}),required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary",placeholder:"Enter admin username"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),l.jsx("input",{id:"password",type:"password",value:s.password,onChange:v=>o({...s,password:v.target.value}),required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary",placeholder:""})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700",children:"Confirm Password"}),l.jsx("input",{id:"confirmPassword",type:"password",value:s.confirmPassword,onChange:v=>o({...s,confirmPassword:v.target.value}),required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary",placeholder:""})]}),l.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light disabled:bg-primary/50",children:c?"Creating Admin User...":"Create Admin User"})]})]})})};return console.log("AuthApp: Evaluating render conditions..."),t?(console.log("AuthApp:  Showing AUTH loading state"),l.jsx("div",{className:"min-h-screen bg-neutral-light flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})})):jt?e?(console.log("AuthApp:  User authenticated, rendering main App"),l.jsx(b3e,{})):r===null?(console.log("AuthApp:  Checking for existing users in database..."),l.jsx("div",{className:"min-h-screen bg-neutral-light flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Checking system setup..."})]})})):r?(console.log("AuthApp:  Users exist in database, showing login page"),l.jsx(S3e,{})):(console.log("AuthApp:  No users in database, showing first user setup"),l.jsx(i,{})):(console.log("AuthApp:  No Supabase configured, showing config message"),l.jsx(_3e,{}))},lW=document.getElementById("root");if(!lW)throw new Error("Could not find root element to mount to");const j3e=JR.createRoot(lW);j3e.render(l.jsx(jg.StrictMode,{children:l.jsx(QR,{children:l.jsx(XV,{children:l.jsxs(xL,{children:[l.jsx(N3e,{}),l.jsx(Jz,{})]})})})}));export{_n as _,zW as c,wc as g};
